(()=>{var e,t,n={4300:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,i=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function f(e){return e.length}function p(e){return e.length}function h(e,t){return t.push(e),e}var m=1,v=1,g=0,y=0,b=0,w="";function x(e,t,n,r,o,i,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:m,column:v,length:a,return:""}}function S(e,t){return a(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(w,--y):0,v--,10===b&&(v=1,m--),b}function E(){return b=y<g?u(w,y++):0,v++,10===b&&(v=1,m++),b}function O(){return u(w,y)}function j(){return y}function _(e,t){return d(w,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(e){return m=v=1,g=f(w=e),y=0,[]}function P(e){return w="",e}function A(e){return s(_(y-1,I(91===e?e+2:40===e?e+1:e)))}function N(e){for(;(b=O())&&b<33;)E();return C(e)>2||C(b)>3?"":" "}function M(e,t){for(;--t&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return _(e,j()+(t<6&&32==O()&&32==E()))}function I(e){for(;E();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&I(b);break;case 40:41===e&&I(e);break;case 92:E()}return y}function R(e,t){for(;E()&&e+b!==57&&(e+b!==84||47!==O()););return"/*"+_(t,y-1)+"*"+i(47===e?e:E())}function L(e){for(;!C(O());)E();return _(e,y)}var D="-ms-",F="-moz-",z="-webkit-",B="comm",$="rule",U="decl",V="@keyframes";function H(e,t){for(var n="",r=p(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case U:return e.return=e.return||e.value;case B:return"";case V:return e.return=e.value+"{"+H(e.children,r)+"}";case $:e.value=e.props.join(",")}return f(n=H(e.children,r))?e.return=e.value+"{"+n+"}":""}function q(e){return P(G("",null,null,null,[""],e=T(e),0,[0],e))}function G(e,t,n,r,o,a,s,d,p){for(var m=0,v=0,g=s,y=0,b=0,w=0,x=1,S=1,_=1,C=0,T="",P=o,I=a,D=r,F=T;S;)switch(w=C,C=E()){case 40:if(108!=w&&58==u(F,g-1)){-1!=c(F+=l(A(C),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:F+=A(C);break;case 9:case 10:case 13:case 32:F+=N(w);break;case 92:F+=M(j()-1,7);continue;case 47:switch(O()){case 42:case 47:h(X(R(E(),j()),t,n),p);break;default:F+="/"}break;case 123*x:d[m++]=f(F)*_;case 125*x:case 59:case 0:switch(C){case 0:case 125:S=0;case 59+v:-1==_&&(F=l(F,/\f/g,"")),b>0&&f(F)-g&&h(b>32?Y(F+";",r,n,g-1):Y(l(F," ","")+";",r,n,g-2),p);break;case 59:F+=";";default:if(h(D=K(F,t,n,m,v,o,d,T,P=[],I=[],g),a),123===C)if(0===v)G(F,t,D,D,P,a,g,d,I);else switch(99===y&&110===u(F,3)?100:y){case 100:case 108:case 109:case 115:G(e,D,D,r&&h(K(e,D,D,0,0,o,d,T,o,P=[],g),I),o,I,g,d,r?P:I);break;default:G(F,D,D,D,[""],I,0,d,I)}}m=v=b=0,x=_=1,T=F="",g=s;break;case 58:g=1+f(F),b=w;default:if(x<1)if(123==C)--x;else if(125==C&&0==x++&&125==k())continue;switch(F+=i(C),C*x){case 38:_=v>0?1:(F+="\f",-1);break;case 44:d[m++]=(f(F)-1)*_,_=1;break;case 64:45===O()&&(F+=A(E())),y=O(),v=g=f(T=F+=L(j())),C++;break;case 45:45===w&&2==f(F)&&(x=0)}}return a}function K(e,t,n,r,i,a,c,u,f,h,m){for(var v=i-1,g=0===i?a:[""],y=p(g),b=0,w=0,S=0;b<r;++b)for(var k=0,E=d(e,v+1,v=o(w=c[b])),O=e;k<y;++k)(O=s(w>0?g[k]+" "+E:l(E,/&\f/g,g[k])))&&(f[S++]=O);return x(e,t,n,0===i?$:u,f,h,m)}function X(e,t,n){return x(e,t,n,B,i(b),d(e,2,-2),0)}function Y(e,t,n,r){return x(e,t,n,U,d(e,0,r),d(e,r+1,-1),r)}var Z=function(e,t,n){for(var r=0,o=0;r=o,o=O(),38===r&&12===o&&(t[n]=1),!C(o);)E();return _(e,y)},J=function(e,t){return P(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===O()&&(t[n]=1),e[n]+=Z(y-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===O()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=i(r)}}while(r=E());return e}(T(e),t))},Q=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(n))&&!r){Q.set(e,!0);for(var o=[],i=J(t,o),a=n.props,s=0,l=0;s<i.length;s++)for(var c=0;c<a.length;c++,l++)e.props[l]=o[s]?i[s].replace(/&\f/g,a[c]):a[c]+" "+i[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+F+e+D+e+e;case 6828:case 4268:return z+e+D+e+e;case 6165:return z+e+D+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return z+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+D+l(e,"shrink","negative")+e;case 5292:return z+e+D+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+D+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(f(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+F+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,f(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+D+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=ne(e.value,e.length);break;case V:return H([S(e,{value:l(e.value,"@","@"+z)})],r);case $:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return H([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return H([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],r)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o=e.stylisPlugins||re;var i,a,s={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var c,u,d,f,h=[W,(f=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&f(e)})],m=(u=[ee,te].concat(o,h),d=p(u),function(e,t,n,r){for(var o="",i=0;i<d;i++)o+=u[i](e,t,n,r)||"";return o});a=function(e,t,n,r){c=n,H(q(e?e+"{"+t.styles+"}":t.styles),m),r&&(v.inserted[t.name]=!0)};var v={key:t,sheet:new r({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return v.sheet.hydrate(l),v}},6289:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},85:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,T:()=>c,i:()=>i,w:()=>l});var r=n(6540),o=n(4300),i=(n(3451),n(1287),!0),a=r.createContext("undefined"!=typeof HTMLElement?(0,o.A)({key:"css"}):null);var s=a.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(a);return e(t,o,n)}))};i||(l=function(e){return function(t){var n=(0,r.useContext)(a);return null===n?(n=(0,o.A)({key:"css"}),r.createElement(a.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},7437:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(85),o=n(6540),i=n(41),a=n(1287),s=n(3451),l=(n(4300),n(4146),(0,r.w)((function(e,t){var n=e.styles,l=(0,s.J)([n],void 0,o.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,f=l.next;void 0!==f;)u+=" "+f.name,d+=f.styles,f=f.next;var p=!0===t.compat,h=t.insert("",{name:u,styles:d},t.sheet,p);return p?null:o.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:h},c.nonce=t.sheet.nonce,c))}var m=o.useRef();return(0,a.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),m.current=[n,r],function(){n.flush()}}),[t]),(0,a.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,i.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3451:(e,t,n)=>{"use strict";n.d(t,{J:()=>h});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(6289),i=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!=typeof e},c=(0,o.A)((function(e){return s(e)?e:e.replace(i,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(a,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===r[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=d(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":l(a)&&(r+=c(i)+":"+u(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(i){case"animation":case"animationName":r+=c(i)+":"+s+";";break;default:r+=i+"{"+s+"}"}}else for(var f=0;f<a.length;f++)l(a[f])&&(r+=c(i)+":"+u(i,a[f])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=f,i=n(e);return f=o,d(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var f,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var h=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";f=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=d(n,t,i)):o+=i[0];for(var a=1;a<e.length;a++)o+=d(n,t,e[a]),r&&(o+=i[a]);p.lastIndex=0;for(var s,l="";null!==(s=p.exec(o));)l+="-"+s[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:f}}},1287:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>s,s:()=>a});var o=n(6540),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,a=i||function(e){return e()},s=i||o.useLayoutEffect},41:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>o,sk:()=>i});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var o=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},i=function(e,t,n){o(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},3535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.regionAPIs=void 0,t.regionAPIs=new Map([["us","https://api-iam.intercom.io"],["eu","https://api-iam.eu.intercom.io"],["ap","https://api-iam.au.intercom.io"]])},990:function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.onUserEmailSupplied=t.showConversation=t.showTicket=t.startChecklist=t.startSurvey=t.showNews=t.showArticle=t.startTour=t.getVisitorId=t.trackEvent=t.onUnreadCountChange=t.onShow=t.onHide=t.showNewMessage=t.showMessages=t.showSpace=t.show=t.hide=t.update=t.shutdown=t.boot=t.Intercom=void 0;const o=n(3535),i=n(2037),a=(e,...t)=>{void 0!==typeof window&&window.Intercom?window.Intercom(e,...t):console.warn("Please ensure Intercom is setup and running on client-side!")};t.Intercom=e=>{if("object"!=typeof e)return void console.warn("Intercom initialiser called with invalid parameters.");const{region:t="us"}=e,n=r(e,["region"]);"undefined"==typeof window||i.ref||(window.intercomSettings=Object.assign(Object.assign({},n),{api_base:o.regionAPIs.get(t)}),(0,i.init)())},t.default=t.Intercom;t.boot=e=>a("boot",e);t.shutdown=()=>a("shutdown");t.update=e=>a("update",e);t.hide=()=>a("hide");t.show=()=>a("show");t.showSpace=e=>a("showSpace",e);t.showMessages=()=>a("showMessages");t.showNewMessage=e=>a("showNewMessage",e);t.onHide=e=>a("onHide",e);t.onShow=e=>a("onShow",e);t.onUnreadCountChange=e=>a("onUnreadCountChange",e);t.trackEvent=(...e)=>a("trackEvent",...e);t.getVisitorId=()=>a("getVisitorId");t.startTour=e=>a("startTour",e);t.showArticle=e=>a("showArticle",e);t.showNews=e=>a("showNews",e);t.startSurvey=e=>a("startSurvey",e);t.startChecklist=e=>a("startChecklist",e);t.showTicket=e=>a("showTicket",e);t.showConversation=e=>a("showConversation",e);t.onUserEmailSupplied=e=>a("onUserEmailSupplied",e)},2037:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ref=t.init=void 0;const r="_intercom_npm_loader",o=function(){o.loaderQueue(arguments)};o.q=[],o.loaderQueue=function(e){o.q.push(e)};const i=function(){var e,t,n=document;if(!n.getElementById(r)){var o=n.createElement("script");o.type="text/javascript",o.async=!0,o.id=r,o.src="https://widget.intercom.io/widget/"+(null===(e=window.intercomSettings)||void 0===e?void 0:e.app_id);var i=n.getElementsByTagName("script")[0];null===(t=i.parentNode)||void 0===t||t.insertBefore(o,i)}},a=()=>"complete"===document.readyState||"interactive"===document.readyState;t.init=()=>n(void 0,void 0,void 0,(function*(){var e=window,t=e.Intercom;e.intercomSettings&&(e.intercomSettings.installation_type="npm-package"),"function"==typeof t?(t("reattach_activator"),t("update",e.intercomSettings)):(e.Intercom=o,a()?i():(document.addEventListener("readystatechange",(function(){a()&&i()})),e.attachEvent?e.attachEvent("onload",i):e.addEventListener("load",i,!1)))})),t.ref=void 0},9940:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(6540);var r=n(7437),o=n(4848);function i(e){const{styles:t,defaultTheme:n={}}=e,i="function"==typeof t?e=>{return t(null==(r=e)||0===Object.keys(r).length?n:e);var r}:t;return(0,o.jsx)(r.mL,{styles:i})}},8750:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(6540);var r=n(85),o=n(4300),i=n(4848);let a;function s(e){const{injectFirst:t,children:n}=e;return t&&a?(0,i.jsx)(r.C,{value:a,children:n}):n}"object"==typeof document&&(a=(0,o.A)({key:"css",prepend:!0}))},9359:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>w.A,StyledEngineProvider:()=>b.A,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>x,internal_processStyles:()=>S,keyframes:()=>y.i7});var r=n(8168),o=n(6540),i=n(6289),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,i.A)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(85),c=n(41),u=n(3451),d=n(1287),f=s,p=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?f:p},m=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},v=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},g=function e(t,n){var i,a,s=t.__emotion_real===t,d=s&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var f=m(t,n,s),p=f||h(d),g=!p("as");return function(){var y=arguments,b=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&b.push("label:"+i+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,x=1;x<w;x++)b.push(y[x],y[0][x])}var S=(0,l.w)((function(e,t,n){var r=g&&e.as||d,i="",s=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=o.useContext(l.T)}"string"==typeof e.className?i=(0,c.Rk)(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var w=(0,u.J)(b.concat(s),t.registered,m);i+=t.key+"-"+w.name,void 0!==a&&(i+=" "+a);var x=g&&void 0===f?h(r):p,S={};for(var k in e)g&&"as"===k||x(k)&&(S[k]=e[k]);return S.className=i,S.ref=n,o.createElement(o.Fragment,null,o.createElement(v,{cache:t,serialized:w,isStringTag:"string"==typeof r}),o.createElement(r,S))}));return S.displayName=void 0!==i?i:"Styled("+("string"==typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=f,Object.defineProperty(S,"toString",{value:function(){return"."+a}}),S.withComponent=function(t,o){return e(t,(0,r.A)({},n,o,{shouldForwardProp:m(S,o,!0)})).apply(void 0,b)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){g[e]=g(e)}));var y=n(7437),b=n(8750),w=n(9940);function x(e,t){return g(e,t)}const S=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},771:(e,t,n)=>{"use strict";var r=n(4994);t.X4=p,t.e$=h,t.tL=v,t.eM=function(e,t){const n=f(e),r=f(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var o=r(n(2108)),i=r(n(4966));function a(e,t=0,n=1){return(0,i.default)(e,t,n)}function s(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,o.default)(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=(e,t=(e+n/30)%12)=>o-i*Math.max(Math.min(t-3,9-t,1),-1);let s="rgb";const c=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",c.push(t[3])),u({type:s,values:c})}function f(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,u(e)}function h(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function v(e,t=.15){return f(e)>.5?h(e,t):m(e,t)}},6461:(e,t,n)=>{"use strict";var r=n(4994);t.Ay=function(e={}){const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=h,slotShouldForwardProp:l=h}=e,u=e=>(0,c.default)((0,o.default)({},e,{theme:g((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,(e,c={})=>{(0,a.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:x=y(v(p))}=c,S=(0,i.default)(c,f),k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,E=w||!1;let O=h;"Root"===p||"root"===p?O=r:p?O=l:function(e){return"string"==typeof e&&e.charCodeAt(0)>96}(e)&&(O=void 0);const j=(0,a.default)(e,(0,o.default)({shouldForwardProp:O,label:undefined},S)),_=e=>"function"==typeof e&&e.__emotion_real!==e||(0,s.isPlainObject)(e)?r=>b(e,(0,o.default)({},r,{theme:g({theme:r.theme,defaultTheme:n,themeId:t})})):e,C=(r,...i)=>{let a=_(r);const s=i?i.map(_):[];d&&x&&s.push((e=>{const r=g((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const i=r.components[d].styleOverrides,a={};return Object.entries(i).forEach((([t,n])=>{a[t]=b(n,(0,o.default)({},e,{theme:r}))})),x(e,a)})),d&&!k&&s.push((e=>{var r;const i=g((0,o.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==i||null==(r=i.components)||null==(r=r[d])?void 0:r.variants},(0,o.default)({},e,{theme:i}))})),E||s.push(u);const l=s.length-i.length;if(Array.isArray(r)&&l>0){const e=new Array(l).fill("");a=[...r,...e],a.raw=[...r.raw,...e]}const c=j(a,...s);return e.muiName&&(c.muiName=e.muiName),c};return j.withConfig&&(C.withConfig=j.withConfig),C}};var o=r(n(4634)),i=r(n(4893)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(r,i,a):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}(n(9359)),s=n(819),l=(r(n(8217)),r(n(1172)),r(n(3142))),c=r(n(3857));const u=["ownerState"],d=["variants"],f=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),v=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function g({defaultTheme:e,theme:t,themeId:n}){return r=t,0===Object.keys(r).length?e:t[n]||t;var r}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,i.default)(t,u);const a="function"==typeof e?e((0,o.default)({ownerState:n},r)):e;if(Array.isArray(a))return a.flatMap((e=>b(e,(0,o.default)({ownerState:n},r))));if(a&&"object"==typeof a&&Array.isArray(a.variants)){const{variants:e=[]}=a;let t=(0,i.default)(a,d);return e.forEach((e=>{let i=!0;"function"==typeof e.props?i=e.props((0,o.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"==typeof e.style?e.style((0,o.default)({ownerState:n},r,n)):e.style))})),t}return a}},9452:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>i,vf:()=>s,zu:()=>r});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function i(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||o;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"==typeof t){const e=i.breakpoints||o;return Object.keys(t).reduce(((o,i)=>{if(-1!==Object.keys(e.values||r).indexOf(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function a(e={}){var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function s(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}},8336:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"==typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},8094:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(8587),o=n(8168);const i=["values","unit","step"],a=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function s(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:s=5}=e,l=(0,r.A)(e,i),c=a(t),u=Object.keys(c);function d(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n})`}function f(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-s/100}${n})`}function p(e,r){const o=u.indexOf(r);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"==typeof t[u[o]]?t[u[o]]:r)-s/100}${n})`}return(0,o.A)({keys:u,values:c,up:d,down:f,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?f(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},8749:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(8168),o=n(8587),i=n(4521),a=n(8094);const s={borderRadius:4};var l=n(8248);var c=n(3571),u=n(4188),d=n(8336);const f=["breakpoints","palette","spacing","shape"];const p=function(e={},...t){const{breakpoints:n={},palette:p={},spacing:h,shape:m={}}=e,v=(0,o.A)(e,f),g=(0,a.A)(n),y=function(e=8){if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let b=(0,i.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},p),spacing:y,shape:(0,r.A)({},s,m)},v);return b.applyStyles=d.A,b=t.reduce(((e,t)=>(0,i.A)(e,t)),b),b.unstable_sxConfig=(0,r.A)({},u.A,null==v?void 0:v.unstable_sxConfig),b.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},b}},3142:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>i.A});var r=n(8749),o=n(8094),i=n(8336)},4620:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(4521);const o=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},8248:(e,t,n)=>{"use strict";n.d(t,{LX:()=>h,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(9452),o=n(6481),i=n(4620);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=a[t],o=s[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[...u,...d];function p(e,t,n,r){var i;const a=null!=(i=(0,o.Yn)(e,t,!1))?i:n;return"number"==typeof a?e=>"string"==typeof e?e:a*e:Array.isArray(a)?e=>"string"==typeof e?e:a[e]:"function"==typeof a?a:()=>{}}function h(e){return p(e,"spacing",8)}function m(e,t){if("string"==typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function v(e,t,n,o){if(-1===t.indexOf(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),o),a=e[n];return(0,r.NI)(e,a,i)}function g(e,t){const n=h(e.theme);return Object.keys(e).map((r=>v(e,t,r,n))).reduce(i.A,{})}function y(e){return g(e,u)}function b(e){return g(e,d)}function w(e){return g(e,f)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=f},6481:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,BO:()=>a,Yn:()=>i});var r=n(8659),o=n(9452);function i(e,t,n=!0){if(!t||"string"!=typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n,r=n){let o;return o="function"==typeof e?e(n):Array.isArray(e)?e[n]||r:i(e,n)||r,t&&(o=t(o,r,e)),o}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=i(e.theme,s)||{};return(0,o.NI)(e,c,(e=>{let o=a(u,l,e);return e===o&&"string"==typeof e&&(o=a(u,l,`${t}${"default"===e?"":(0,r.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},4188:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(8248),o=n(6481),i=n(4620);const a=function(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),n=e=>Object.keys(e).reduce(((n,r)=>t[r]?(0,i.A)(n,t[r](e)):n),{});return n.propTypes={},n.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),n};var s=n(9452);function l(e){return"number"!=typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),f=c("borderRight",l),p=c("borderBottom",l),h=c("borderLeft",l),m=c("borderColor"),v=c("borderTopColor"),g=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),x=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,s.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];a(u,d,f,p,h,m,v,g,y,b,S,w,x);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,s.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const E=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.columnGap,n)}return null};E.propTypes={},E.filterProps=["columnGap"];const O=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,s.NI)(e,e.rowGap,n)}return null};O.propTypes={},O.filterProps=["rowGap"];a(k,E,O,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function j(e,t){return"grey"===t?t:e}a((0,o.Ay)({prop:"color",themeKey:"palette",transform:j}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:j}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:j}));function _(e){return e<=1&&0!==e?100*e+"%":e}const C=(0,o.Ay)({prop:"width",transform:_}),T=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.zu[t];return o?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:_(t)}};return(0,s.NI)(e,e.maxWidth,t)}return null};T.filterProps=["maxWidth"];const P=(0,o.Ay)({prop:"minWidth",transform:_}),A=(0,o.Ay)({prop:"height",transform:_}),N=(0,o.Ay)({prop:"maxHeight",transform:_}),M=(0,o.Ay)({prop:"minHeight",transform:_}),I=((0,o.Ay)({prop:"size",cssProperty:"width",transform:_}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:_}),a(C,T,P,A,N,M,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:j},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:j},backgroundColor:{themeKey:"palette",transform:j},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:O},columnGap:{style:E},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_},maxWidth:{style:T},minWidth:{transform:_},height:{transform:_},maxHeight:{transform:_},minHeight:{transform:_},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},9599:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(8168),o=n(8587),i=n(4521),a=n(4188);const s=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:a.A;return Object.keys(e).forEach((t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,o.A)(e,s),{systemProps:a,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[a,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,i.Q)(n)?(0,r.A)({},a,n):a}:(0,r.A)({},a,t),(0,r.A)({},c,{sx:u})}},3857:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>i.A});var r=n(3571),o=n(9599),i=n(4188)},3571:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(8659),o=n(4620),i=n(6481),a=n(9452),s=n(4188);function l(){function e(e,t,n,o){const s={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:f}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,i.Yn)(n,u)||{};if(f)return f(s);return(0,a.NI)(s,t,(t=>{let n=(0,i.BO)(p,d,t);return t===n&&"string"==typeof t&&(n=(0,i.BO)(p,d,`${e}${"default"===t?"":(0,r.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:i,theme:l={}}=n||{};if(!i)return null;const c=null!=(r=l.unstable_sxConfig)?r:s.A;function u(n){let r=n;if("function"==typeof n)r=n(l);else if("object"!=typeof n)return n;if(!r)return null;const i=(0,a.EU)(l.breakpoints),s=Object.keys(i);let u=i;return Object.keys(r).forEach((n=>{const i=(s=r[n],d=l,"function"==typeof s?s(d):s);var s,d;if(null!=i)if("object"==typeof i)if(c[n])u=(0,o.A)(u,e(n,i,l,c));else{const e=(0,a.NI)({theme:l},i,(e=>({[n]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),n=new Set(t);return e.every((e=>n.size===Object.keys(e).length))}(e,i)?u=(0,o.A)(u,e):u[n]=t({sx:i,theme:l})}else u=(0,o.A)(u,e(n,i,l,c))})),(0,a.vf)(s,u)}return Array.isArray(i)?i.map(u):u(i)}}const c=l();c.filterProps=["sx"];const u=c},8659:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(5697);function o(e){if("string"!=typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8217:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(8659)},6937:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}},4966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(6937)},4521:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>o});var r=n(8168);function o(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function i(e){if(!o(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=i(e[n])})),t}function a(e,t,n={clone:!0}){const s=n.clone?(0,r.A)({},e):e;return o(e)&&o(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(o(t[r])&&r in e&&o(e[r])?s[r]=a(e[r],t[r],n):n.clone?s[r]=o(t[r])?i(t[r]):t[r]:s[r]=t[r])})),s}},819:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(4521)},5697:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},2108:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(5697)},1172:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>i});var r=n(4363);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){const t=`${e}`.match(o);return t&&t[1]||""}function a(e,t=""){return e.displayName||e.name||i(e)||t}function s(e,t,n){const r=a(t);return e.displayName||(""!==r?`${n}(${r})`:n)}function l(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return a(e,"Component");if("object"==typeof e)switch(e.$$typeof){case r.ForwardRef:return s(e,e.render,"ForwardRef");case r.Memo:return s(e,e.type,"memo");default:return}}}},3262:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=".",r={input:'"',tag:"mtext",output:"mbox",tex:null,ttype:10},o=[{input:"alpha",tag:"mi",output:"α",tex:null,ttype:0},{input:"beta",tag:"mi",output:"β",tex:null,ttype:0},{input:"chi",tag:"mi",output:"χ",tex:null,ttype:0},{input:"delta",tag:"mi",output:"δ",tex:null,ttype:0},{input:"Delta",tag:"mo",output:"Δ",tex:null,ttype:0},{input:"epsi",tag:"mi",output:"ε",tex:"epsilon",ttype:0},{input:"varepsilon",tag:"mi",output:"ɛ",tex:null,ttype:0},{input:"eta",tag:"mi",output:"η",tex:null,ttype:0},{input:"gamma",tag:"mi",output:"γ",tex:null,ttype:0},{input:"Gamma",tag:"mo",output:"Γ",tex:null,ttype:0},{input:"iota",tag:"mi",output:"ι",tex:null,ttype:0},{input:"kappa",tag:"mi",output:"κ",tex:null,ttype:0},{input:"lambda",tag:"mi",output:"λ",tex:null,ttype:0},{input:"Lambda",tag:"mo",output:"Λ",tex:null,ttype:0},{input:"lamda",tag:"mi",output:"lambda",tex:null,ttype:8},{input:"Lamda",tag:"mi",output:"Lambda",tex:null,ttype:8},{input:"mu",tag:"mi",output:"μ",tex:null,ttype:0},{input:"nu",tag:"mi",output:"ν",tex:null,ttype:0},{input:"omega",tag:"mi",output:"ω",tex:null,ttype:0},{input:"Omega",tag:"mo",output:"Ω",tex:null,ttype:0},{input:"phi",tag:"mi",output:"φ",tex:null,ttype:0},{input:"varphi",tag:"mi",output:"ϕ",tex:null,ttype:0},{input:"Phi",tag:"mo",output:"Φ",tex:null,ttype:0},{input:"pi",tag:"mi",output:"π",tex:null,ttype:0},{input:"Pi",tag:"mo",output:"Π",tex:null,ttype:0},{input:"psi",tag:"mi",output:"ψ",tex:null,ttype:0},{input:"Psi",tag:"mi",output:"Ψ",tex:null,ttype:0},{input:"rho",tag:"mi",output:"ρ",tex:null,ttype:0},{input:"sigma",tag:"mi",output:"σ",tex:null,ttype:0},{input:"Sigma",tag:"mo",output:"Σ",tex:null,ttype:0},{input:"tau",tag:"mi",output:"τ",tex:null,ttype:0},{input:"theta",tag:"mi",output:"θ",tex:null,ttype:0},{input:"vartheta",tag:"mi",output:"ϑ",tex:null,ttype:0},{input:"Theta",tag:"mo",output:"Θ",tex:null,ttype:0},{input:"upsilon",tag:"mi",output:"υ",tex:null,ttype:0},{input:"xi",tag:"mi",output:"ξ",tex:null,ttype:0},{input:"Xi",tag:"mo",output:"Ξ",tex:null,ttype:0},{input:"zeta",tag:"mi",output:"ζ",tex:null,ttype:0},{input:"*",tag:"mo",output:"⋅",tex:"cdot",ttype:0},{input:"**",tag:"mo",output:"∗",tex:"ast",ttype:0},{input:"***",tag:"mo",output:"⋆",tex:"star",ttype:0},{input:"//",tag:"mo",output:"/",tex:"/",ttype:0,val:!0,notexcopy:!0},{input:"\\\\",tag:"mo",output:"\\",tex:"backslash",ttype:0},{input:"setminus",tag:"mo",output:"\\",tex:null,ttype:0},{input:"xx",tag:"mo",output:"×",tex:"times",ttype:0},{input:"|><",tag:"mo",output:"⋉",tex:"ltimes",ttype:0},{input:"><|",tag:"mo",output:"⋊",tex:"rtimes",ttype:0},{input:"|><|",tag:"mo",output:"⋈",tex:"bowtie",ttype:0},{input:"-:",tag:"mo",output:"÷",tex:"div",ttype:0},{input:"divide",tag:"mo",output:"-:",tex:null,ttype:8},{input:"@",tag:"mo",output:"∘",tex:"circ",ttype:0},{input:"o+",tag:"mo",output:"⊕",tex:"oplus",ttype:0},{input:"ox",tag:"mo",output:"⊗",tex:"otimes",ttype:0},{input:"o.",tag:"mo",output:"⊙",tex:"odot",ttype:0},{input:"sum",tag:"mo",output:"∑",tex:null,ttype:7},{input:"prod",tag:"mo",output:"∏",tex:null,ttype:7},{input:"^^",tag:"mo",output:"∧",tex:"wedge",ttype:0},{input:"^^^",tag:"mo",output:"⋀",tex:"bigwedge",ttype:7},{input:"vv",tag:"mo",output:"∨",tex:"vee",ttype:0},{input:"vvv",tag:"mo",output:"⋁",tex:"bigvee",ttype:7},{input:"nn",tag:"mo",output:"∩",tex:"cap",ttype:0},{input:"nnn",tag:"mo",output:"⋂",tex:"bigcap",ttype:7},{input:"uu",tag:"mo",output:"∪",tex:"cup",ttype:0},{input:"uuu",tag:"mo",output:"⋃",tex:"bigcup",ttype:7},{input:"overset",tag:"mover",output:"stackrel",tex:null,ttype:2},{input:"underset",tag:"munder",output:"stackrel",tex:null,ttype:2},{input:"!=",tag:"mo",output:"≠",tex:"ne",ttype:0},{input:":=",tag:"mo",output:":=",tex:null,ttype:0},{input:"lt",tag:"mo",output:"<",tex:null,ttype:0},{input:"gt",tag:"mo",output:">",tex:null,ttype:0},{input:"<=",tag:"mo",output:"≤",tex:"le",ttype:0},{input:"lt=",tag:"mo",output:"≤",tex:"leq",ttype:0},{input:"gt=",tag:"mo",output:"≥",tex:"geq",ttype:0},{input:">=",tag:"mo",output:"≥",tex:"ge",ttype:0},{input:"-<",tag:"mo",output:"≺",tex:"prec",ttype:0},{input:"-lt",tag:"mo",output:"≺",tex:null,ttype:0},{input:">-",tag:"mo",output:"≻",tex:"succ",ttype:0},{input:"-<=",tag:"mo",output:"⪯",tex:"preceq",ttype:0},{input:">-=",tag:"mo",output:"⪰",tex:"succeq",ttype:0},{input:"in",tag:"mo",output:"∈",tex:null,ttype:0},{input:"!in",tag:"mo",output:"∉",tex:"notin",ttype:0},{input:"sub",tag:"mo",output:"⊂",tex:"subset",ttype:0},{input:"sup",tag:"mo",output:"⊃",tex:"supset",ttype:0},{input:"sube",tag:"mo",output:"⊆",tex:"subseteq",ttype:0},{input:"supe",tag:"mo",output:"⊇",tex:"supseteq",ttype:0},{input:"-=",tag:"mo",output:"≡",tex:"equiv",ttype:0},{input:"~=",tag:"mo",output:"≅",tex:"stackrel{\\sim}{=}",ttype:0},{input:"cong",tag:"mo",output:"~=",tex:null,ttype:8},{input:"~~",tag:"mo",output:"≈",tex:"approx",ttype:0},{input:"prop",tag:"mo",output:"∝",tex:"propto",ttype:0},{input:"and",tag:"mtext",output:"and",tex:null,ttype:6},{input:"or",tag:"mtext",output:"or",tex:null,ttype:6},{input:"not",tag:"mo",output:"¬",tex:"neg",ttype:0},{input:"=>",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:0},{input:"implies",tag:"mo",output:"=>",tex:null,ttype:8},{input:"if",tag:"mo",output:"if",tex:null,ttype:6},{input:"<=>",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:0},{input:"iff",tag:"mo",output:"<=>",tex:null,ttype:8},{input:"AA",tag:"mo",output:"∀",tex:"forall",ttype:0},{input:"EE",tag:"mo",output:"∃",tex:"exists",ttype:0},{input:"_|_",tag:"mo",output:"⊥",tex:"bot",ttype:0},{input:"TT",tag:"mo",output:"⊤",tex:"top",ttype:0},{input:"|--",tag:"mo",output:"⊢",tex:"vdash",ttype:0},{input:"|==",tag:"mo",output:"⊨",tex:"models",ttype:0},{input:"(",tag:"mo",output:"(",tex:null,ttype:4,val:!0},{input:")",tag:"mo",output:")",tex:null,ttype:5,val:!0},{input:"[",tag:"mo",output:"[",tex:null,ttype:4,val:!0},{input:"]",tag:"mo",output:"]",tex:null,ttype:5,val:!0},{input:"{",tag:"mo",output:"{",tex:"lbrace",ttype:4},{input:"}",tag:"mo",output:"}",tex:"rbrace",ttype:5},{input:"|",tag:"mo",output:"|",tex:null,ttype:9,val:!0},{input:"(:",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:":)",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"<<",tag:"mo",output:"〈",tex:"langle",ttype:4},{input:">>",tag:"mo",output:"〉",tex:"rangle",ttype:5},{input:"{:",tag:"mo",output:"{:",tex:null,ttype:4,invisible:!0},{input:":}",tag:"mo",output:":}",tex:null,ttype:5,invisible:!0},{input:"int",tag:"mo",output:"∫",tex:null,ttype:0},{input:"dx",tag:"mi",output:"{:d x:}",tex:null,ttype:8},{input:"dy",tag:"mi",output:"{:d y:}",tex:null,ttype:8},{input:"dz",tag:"mi",output:"{:d z:}",tex:null,ttype:8},{input:"dt",tag:"mi",output:"{:d t:}",tex:null,ttype:8},{input:"oint",tag:"mo",output:"∮",tex:null,ttype:0},{input:"del",tag:"mo",output:"∂",tex:"partial",ttype:0},{input:"grad",tag:"mo",output:"∇",tex:"nabla",ttype:0},{input:"+-",tag:"mo",output:"±",tex:"pm",ttype:0},{input:"O/",tag:"mo",output:"∅",tex:"emptyset",ttype:0},{input:"oo",tag:"mo",output:"∞",tex:"infty",ttype:0},{input:"aleph",tag:"mo",output:"ℵ",tex:null,ttype:0},{input:"...",tag:"mo",output:"...",tex:"ldots",ttype:0},{input:":.",tag:"mo",output:"∴",tex:"therefore",ttype:0},{input:":'",tag:"mo",output:"∵",tex:"because",ttype:0},{input:"/_",tag:"mo",output:"∠",tex:"angle",ttype:0},{input:"/_\\",tag:"mo",output:"△",tex:"triangle",ttype:0},{input:"\\ ",tag:"mo",output:" ",tex:null,ttype:0,val:!0},{input:"frown",tag:"mo",output:"⌢",tex:null,ttype:0},{input:"%",tag:"mo",output:"%",tex:"%",ttype:0,notexcopy:!0},{input:"quad",tag:"mo",output:"  ",tex:null,ttype:0},{input:"qquad",tag:"mo",output:"    ",tex:null,ttype:0},{input:"cdots",tag:"mo",output:"⋯",tex:null,ttype:0},{input:"vdots",tag:"mo",output:"⋮",tex:null,ttype:0},{input:"ddots",tag:"mo",output:"⋱",tex:null,ttype:0},{input:"diamond",tag:"mo",output:"⋄",tex:null,ttype:0},{input:"square",tag:"mo",output:"□",tex:"boxempty",ttype:0},{input:"|__",tag:"mo",output:"⌊",tex:"lfloor",ttype:0},{input:"__|",tag:"mo",output:"⌋",tex:"rfloor",ttype:0},{input:"|~",tag:"mo",output:"⌈",tex:"lceil",ttype:0},{input:"lceiling",tag:"mo",output:"|~",tex:null,ttype:8},{input:"~|",tag:"mo",output:"⌉",tex:"rceil",ttype:0},{input:"rceiling",tag:"mo",output:"~|",tex:null,ttype:8},{input:"CC",tag:"mo",output:"ℂ",tex:"mathbb{C}",ttype:0,notexcopy:!0},{input:"NN",tag:"mo",output:"ℕ",tex:"mathbb{N}",ttype:0,notexcopy:!0},{input:"QQ",tag:"mo",output:"ℚ",tex:"mathbb{Q}",ttype:0,notexcopy:!0},{input:"RR",tag:"mo",output:"ℝ",tex:"mathbb{R}",ttype:0,notexcopy:!0},{input:"ZZ",tag:"mo",output:"ℤ",tex:"mathbb{Z}",ttype:0,notexcopy:!0},{input:"f",tag:"mi",output:"f",tex:null,ttype:1,func:!0,val:!0},{input:"g",tag:"mi",output:"g",tex:null,ttype:1,func:!0,val:!0},{input:"''",tag:"mo",output:"''",tex:null,val:!0},{input:"'''",tag:"mo",output:"'''",tex:null,val:!0},{input:"''''",tag:"mo",output:"''''",tex:null,val:!0},{input:"lim",tag:"mo",output:"lim",tex:null,ttype:7},{input:"Lim",tag:"mo",output:"Lim",tex:null,ttype:7},{input:"sin",tag:"mo",output:"sin",tex:null,ttype:1,func:!0},{input:"cos",tag:"mo",output:"cos",tex:null,ttype:1,func:!0},{input:"tan",tag:"mo",output:"tan",tex:null,ttype:1,func:!0},{input:"arcsin",tag:"mo",output:"arcsin",tex:null,ttype:1,func:!0},{input:"arccos",tag:"mo",output:"arccos",tex:null,ttype:1,func:!0},{input:"arctan",tag:"mo",output:"arctan",tex:null,ttype:1,func:!0},{input:"sinh",tag:"mo",output:"sinh",tex:null,ttype:1,func:!0},{input:"cosh",tag:"mo",output:"cosh",tex:null,ttype:1,func:!0},{input:"tanh",tag:"mo",output:"tanh",tex:null,ttype:1,func:!0},{input:"cot",tag:"mo",output:"cot",tex:null,ttype:1,func:!0},{input:"coth",tag:"mo",output:"coth",tex:null,ttype:1,func:!0},{input:"sech",tag:"mo",output:"sech",tex:null,ttype:1,func:!0},{input:"csch",tag:"mo",output:"csch",tex:null,ttype:1,func:!0},{input:"sec",tag:"mo",output:"sec",tex:null,ttype:1,func:!0},{input:"csc",tag:"mo",output:"csc",tex:null,ttype:1,func:!0},{input:"log",tag:"mo",output:"log",tex:null,ttype:1,func:!0},{input:"ln",tag:"mo",output:"ln",tex:null,ttype:1,func:!0},{input:"abs",tag:"mo",output:"abs",tex:null,ttype:1,notexcopy:!0,rewriteleftright:["|","|"]},{input:"norm",tag:"mo",output:"norm",tex:null,ttype:1,notexcopy:!0,rewriteleftright:["\\|","\\|"]},{input:"floor",tag:"mo",output:"floor",tex:null,ttype:1,notexcopy:!0,rewriteleftright:["\\lfloor","\\rfloor"]},{input:"ceil",tag:"mo",output:"ceil",tex:null,ttype:1,notexcopy:!0,rewriteleftright:["\\lceil","\\rceil"]},{input:"Sin",tag:"mo",output:"sin",tex:null,ttype:1,func:!0},{input:"Cos",tag:"mo",output:"cos",tex:null,ttype:1,func:!0},{input:"Tan",tag:"mo",output:"tan",tex:null,ttype:1,func:!0},{input:"Arcsin",tag:"mo",output:"arcsin",tex:null,ttype:1,func:!0},{input:"Arccos",tag:"mo",output:"arccos",tex:null,ttype:1,func:!0},{input:"Arctan",tag:"mo",output:"arctan",tex:null,ttype:1,func:!0},{input:"Sinh",tag:"mo",output:"sinh",tex:null,ttype:1,func:!0},{input:"Sosh",tag:"mo",output:"cosh",tex:null,ttype:1,func:!0},{input:"Tanh",tag:"mo",output:"tanh",tex:null,ttype:1,func:!0},{input:"Cot",tag:"mo",output:"cot",tex:null,ttype:1,func:!0},{input:"Sec",tag:"mo",output:"sec",tex:null,ttype:1,func:!0},{input:"Csc",tag:"mo",output:"csc",tex:null,ttype:1,func:!0},{input:"Log",tag:"mo",output:"log",tex:null,ttype:1,func:!0},{input:"Ln",tag:"mo",output:"ln",tex:null,ttype:1,func:!0},{input:"Abs",tag:"mo",output:"abs",tex:null,ttype:1,notexcopy:!0,rewriteleftright:["|","|"]},{input:"det",tag:"mo",output:"det",tex:null,ttype:1,func:!0},{input:"exp",tag:"mo",output:"exp",tex:null,ttype:1,func:!0},{input:"dim",tag:"mo",output:"dim",tex:null,ttype:0},{input:"mod",tag:"mo",output:"mod",tex:"text{mod}",ttype:0,notexcopy:!0},{input:"gcd",tag:"mo",output:"gcd",tex:null,ttype:1,func:!0},{input:"lcm",tag:"mo",output:"lcm",tex:"text{lcm}",ttype:1,func:!0,notexcopy:!0},{input:"lub",tag:"mo",output:"lub",tex:null,ttype:0},{input:"glb",tag:"mo",output:"glb",tex:null,ttype:0},{input:"min",tag:"mo",output:"min",tex:null,ttype:7},{input:"max",tag:"mo",output:"max",tex:null,ttype:7},{input:"uarr",tag:"mo",output:"↑",tex:"uparrow",ttype:0},{input:"darr",tag:"mo",output:"↓",tex:"downarrow",ttype:0},{input:"rarr",tag:"mo",output:"→",tex:"rightarrow",ttype:0},{input:"->",tag:"mo",output:"→",tex:"to",ttype:0},{input:">->",tag:"mo",output:"↣",tex:"rightarrowtail",ttype:0},{input:"->>",tag:"mo",output:"↠",tex:"twoheadrightarrow",ttype:0},{input:">->>",tag:"mo",output:"⤖",tex:"twoheadrightarrowtail",ttype:0},{input:"|->",tag:"mo",output:"↦",tex:"mapsto",ttype:0},{input:"larr",tag:"mo",output:"←",tex:"leftarrow",ttype:0},{input:"harr",tag:"mo",output:"↔",tex:"leftrightarrow",ttype:0},{input:"rArr",tag:"mo",output:"⇒",tex:"Rightarrow",ttype:0},{input:"lArr",tag:"mo",output:"⇐",tex:"Leftarrow",ttype:0},{input:"hArr",tag:"mo",output:"⇔",tex:"Leftrightarrow",ttype:0},{input:"sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:1},{input:"root",tag:"mroot",output:"root",tex:null,ttype:2},{input:"frac",tag:"mfrac",output:"/",tex:null,ttype:2},{input:"/",tag:"mfrac",output:"/",tex:null,ttype:3},{input:"stackrel",tag:"mover",output:"stackrel",tex:null,ttype:2},{input:"_",tag:"msub",output:"_",tex:null,ttype:3},{input:"^",tag:"msup",output:"^",tex:null,ttype:3},{input:"cancel",tag:"menclose",output:"cancel",tex:null,ttype:1},{input:"Sqrt",tag:"msqrt",output:"sqrt",tex:null,ttype:1},{input:"hat",tag:"mover",output:"^",tex:null,ttype:1,acc:!0},{input:"bar",tag:"mover",output:"¯",tex:"overline",ttype:1,acc:!0},{input:"vec",tag:"mover",output:"→",tex:null,ttype:1,acc:!0},{input:"tilde",tag:"mover",output:"~",tex:null,ttype:1,acc:!0},{input:"dot",tag:"mover",output:".",tex:null,ttype:1,acc:!0},{input:"ddot",tag:"mover",output:"..",tex:null,ttype:1,acc:!0},{input:"ul",tag:"munder",output:"̲",tex:"underline",ttype:1,acc:!0},{input:"ubrace",tag:"munder",output:"⏟",tex:"underbrace",ttype:1,acc:!0},{input:"obrace",tag:"mover",output:"⏞",tex:"overbrace",ttype:1,acc:!0},{input:"text",tag:"mtext",output:"text",tex:null,ttype:10},{input:"mbox",tag:"mtext",output:"mbox",tex:null,ttype:10},r,{input:"color",tag:"mstyle",ttype:2,tex:null},{input:"bb",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"bb",tex:"mathbf",ttype:1,notexcopy:!0},{input:"mathbf",tag:"mstyle",atname:"mathvariant",atval:"bold",output:"mathbf",tex:null,ttype:1},{input:"sf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"sf",tex:"mathsf",ttype:1,notexcopy:!0},{input:"mathsf",tag:"mstyle",atname:"mathvariant",atval:"sans-serif",output:"mathsf",tex:null,ttype:1},{input:"bbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"bbb",tex:"mathbb",ttype:1,notexcopy:!0},{input:"mathbb",tag:"mstyle",atname:"mathvariant",atval:"double-struck",output:"mathbb",tex:null,ttype:1},{input:"cc",tag:"mstyle",atname:"mathvariant",atval:"script",output:"cc",tex:"mathcal",ttype:1,notexcopy:!0},{input:"mathcal",tag:"mstyle",atname:"mathvariant",atval:"script",output:"mathcal",tex:null,ttype:1},{input:"tt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"tt",tex:"mathtt",ttype:1,notexcopy:!0},{input:"mathtt",tag:"mstyle",atname:"mathvariant",atval:"monospace",output:"mathtt",tex:null,ttype:1},{input:"fr",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"fr",tex:"mathfrak",ttype:1,notexcopy:!0},{input:"mathfrak",tag:"mstyle",atname:"mathvariant",atval:"fraktur",output:"mathfrak",tex:null,ttype:1}],i=[];function a(e,t){let n;n="\\"===e.charAt(t)&&"\\"!==e.charAt(t+1)&&" "!==e.charAt(t+1)?e.slice(t+1):e.slice(t);let r=0;for(r=0;r<n.length&&n.charCodeAt(r)<=32;r+=1);return n.slice(r)}function s(e,t,n){if(0===n){let r,o;for(n=-1,r=e.length;n+1<r;)o=n+r>>1,e[o]<t?n=o:r=o;return r}{let r=n;for(r=n;r<e.length&&e[r]<t;r++);return r}}function l(e){let t,r,a=0,l=0,c=0,u="",p=!0;for(let n=1;n<=e.length&&p;n++)t=e.slice(0,n),l=a,a=s(i,t,l),a<i.length&&e.slice(0,i[a].length)===i[a]&&(u=i[a],c=a,n=u.length),p=a<i.length&&e.slice(0,i[a].length)>=i[a];if(d=f,""!==u)return f=o[c].ttype,o[c];f=0,a=1,t=e.slice(0,1);let h=!0;for(;"0"<=t&&t<="9"&&a<=e.length;)t=e.slice(a,a+1),a++;if(t===n&&(t=e.slice(a,a+1),"0"<=t&&t<="9"))for(h=!1,a++;"0"<=t&&t<="9"&&a<=e.length;)t=e.slice(a,a+1),a++;return h&&a>1||a>2?(t=e.slice(0,a-1),r="mn"):(a=2,t=e.slice(0,1),r=("A">t||t>"Z")&&("a">t||t>"z")?"mo":"mi"),"-"===t&&3===d?(f=3,{input:t,tag:r,output:t,ttype:1,func:!0,val:!0,tex:null}):{input:t,tag:r,output:t,ttype:0,val:!0,tex:null}}function c(e){let t;if("{"===e.charAt(0)&&"}"===e.charAt(e.length-1)){let n=0;t=e.substr(1,5),"\\left"===t?(t=e.charAt(6),"("===t||"["===t||"{"===t?n=7:(t=e.substr(6,7),"\\lbrace"===t&&(n=13))):(t=e.charAt(1),"("!==t&&"["!==t||(n=2)),n>0&&(t=e.substr(e.length-8),"\\right)}"===t||"\\right]}"===t||"\\right.}"===t?e=(e="{"+e.substr(n)).substr(0,e.length-8)+"}":"\\rbrace}"===t&&(e=(e="{"+e.substr(n)).substr(0,e.length-14)+"}"))}return e}let u,d,f;function p(e){let t="";return t="boolean"==typeof e.val&&e.val?"":"\\",null===e.tex?t+e.input:t+e.tex}function h(e){let t,n,o,i,s,d="";if(t=l(e=a(e,0)),null===t||5===t.ttype&&u>0)return[null,e];switch(8===t.ttype&&(t=l(e=t.output+a(e,t.input.length))),t.ttype){case 7:case 0:{e=a(e,t.input.length);const n=p(t);return"\\"===n.charAt(0)||"mo"===t.tag?[n,e]:["{"+n+"}",e]}case 4:{u++,o=v(e=a(e,t.input.length),!0),u--;let r=0;return"\\right"===o[0].substr(0,6)&&(s=o[0].charAt(6),")"===s||"]"===s||"}"===s?r=6:"."===s?r=7:(s=o[0].substr(6,7),"\\rbrace"===s&&(r=13))),r>0?(o[0]=o[0].substr(r),n="boolean"==typeof t.invisible&&t.invisible?"{"+o[0]+"}":"{"+p(t)+o[0]+"}"):n="boolean"==typeof t.invisible&&t.invisible?"{\\left."+o[0]+"}":"{\\left"+p(t)+o[0]+"}",[n,o[1]]}case 10:return t!==r&&(e=a(e,t.input.length)),i="{"===e.charAt(0)?e.indexOf("}"):"("===e.charAt(0)?e.indexOf(")"):"["===e.charAt(0)?e.indexOf("]"):t===r?e.slice(1).indexOf('"')+1:0,-1===i&&(i=e.length),s=e.slice(1,i)," "===s.charAt(0)&&(d="\\ "),d+="\\text{"+s+"}"," "===s.charAt(s.length-1)&&(d+="\\ "),[d,e=a(e,i+1)];case 1:return o=h(e=a(e,t.input.length)),null===o[0]?["{"+p(t)+"}",e]:"boolean"==typeof t.func&&t.func?(s=e.charAt(0),"^"===s||"_"===s||"/"===s||"|"===s||","===s||1===t.input.length&&t.input.match(/\w/)&&"("!==s?["{"+p(t)+"}",e]:(n="{"+p(t)+"{"+o[0]+"}}",[n,o[1]])):(o[0]=c(o[0]),"sqrt"===t.input?["\\sqrt{"+o[0]+"}",o[1]]:"cancel"===t.input?["\\cancel{"+o[0]+"}",o[1]]:void 0!==t.rewriteleftright?["{\\left"+t.rewriteleftright[0]+o[0]+"\\right"+t.rewriteleftright[1]+"}",o[1]]:"boolean"==typeof t.acc&&t.acc?[p(t)+"{"+o[0]+"}",o[1]]:["{"+p(t)+"{"+o[0]+"}}",o[1]]);case 2:{if(o=h(e=a(e,t.input.length)),null===o[0])return["{"+p(t)+"}",e];o[0]=c(o[0]);const n=h(o[1]);return null===n[0]?["{"+p(t)+"}",e]:(n[0]=c(n[0]),d="color"===t.input?"{\\color{"+o[0].replace(/[{}]/g,"")+"}"+n[0]+"}":"root"===t.input?"{\\sqrt["+o[0]+"]{"+n[0]+"}}":"{"+p(t)+"{"+o[0]+"}{"+n[0]+"}}",[d,n[1]])}case 3:return e=a(e,t.input.length),[t.output,e];case 6:return e=a(e,t.input.length),["{\\quad\\text{"+t.input+"}\\quad}",e];case 9:return u++,o=v(e=a(e,t.input.length),!1),u--,s="",s=o[0].charAt(o[0].length-1),"|"===s?(n="{\\left|"+o[0]+"}",[n,o[1]]):(n="{\\mid}",[n,e]);default:return e=a(e,t.input.length),["{"+p(t)+"}",e]}}function m(e){let t,n,r;const o=l(e=a(e,0));r=h(e),n=r[0];const i=l(e=r[1]);if(3===i.ttype&&"/"!==i.input){if(r=h(e=a(e,i.input.length)),null===r[0]?r[0]="{}":r[0]=c(r[0]),e=r[1],"_"===i.input)if(t=l(e),"^"===t.input){const o=h(e=a(e,t.input.length));o[0]=c(o[0]),e=o[1],n="{"+n,n+="_{"+r[0]+"}",n+="^{"+o[0]+"}",n+="}"}else n+="_{"+r[0]+"}";else n=n+"^{"+r[0]+"}";void 0!==o.func&&o.func&&(t=l(e),3!==t.ttype&&5!==t.ttype&&(r=m(e),n="{"+n+r[0]+"}",e=r[1]))}return[n,e]}function v(e,t){let n,r,o,i,s="",d=!1;do{o=m(e=a(e,0)),r=o[0],n=l(e=o[1]),3===n.ttype&&"/"===n.input?(o=m(e=a(e,n.input.length)),null===o[0]?o[0]="{}":o[0]=c(o[0]),e=o[1],r=c(r),r="\\frac{"+r+"}",r+="{"+o[0]+"}",s+=r,n=l(e)):void 0!==r&&(s+=r)}while((5!==n.ttype&&(9!==n.ttype||t)||0===u)&&null!==n&&""!==n.output);if(5===n.ttype||9===n.ttype){const t=s.length;if(t>2&&"{"===s.charAt(0)&&s.indexOf(",")>0){const e=s.charAt(t-2);if(")"===e||"]"===e){const r=s.charAt(6);if("("===r&&")"===e&&"}"!==n.output||"["===r&&"]"===e){let n="\\begin{matrix}";const o=[];o.push(0);let a=!0,l=0;const c=[];c[0]=[0];let u=0,d=0;for(i=1;i<t-1;i++)s.charAt(i)===r&&l++,s.charAt(i)===e&&(l--,0===l&&","===s.charAt(i+2)&&"{"===s.charAt(i+3)&&(o.push(i+2),u=i+2,c[u]=[i+2])),"["!==s.charAt(i)&&"("!==s.charAt(i)&&"{"!==s.charAt(i)||d++,"]"!==s.charAt(i)&&")"!==s.charAt(i)&&"}"!==s.charAt(i)||d--,","===s.charAt(i)&&1===d&&c[u].push(i),d<0&&(u===i+1?i++:a=!1);o.push(t);let f=-1;if(0===l&&o.length>0&&a)for(i=0;i<o.length-1;i++){let e=[];if(i>0&&(n+="\\\\"),0===i)if(1===c[o[i]].length)e=[s.substr(o[i]+7,o[i+1]-o[i]-15)];else{e=[s.substring(o[i]+7,c[o[i]][1])];for(let t=2;t<c[o[i]].length;t++)e.push(s.substring(c[o[i]][t-1]+1,c[o[i]][t]));e.push(s.substring(c[o[i]][c[o[i]].length-1]+1,o[i+1]-8))}else if(1===c[o[i]].length)e=[s.substr(o[i]+8,o[i+1]-o[i]-16)];else{e=[s.substring(o[i]+8,c[o[i]][1])];for(let t=2;t<c[o[i]].length;t++)e.push(s.substring(c[o[i]][t-1]+1,c[o[i]][t]));e.push(s.substring(c[o[i]][c[o[i]].length-1]+1,o[i+1]-8))}f>0&&e.length!==f?a=!1:-1===f&&(f=e.length),n+=e.join("&")}n+="\\end{matrix}",a&&(s=n)}}}e=a(e,n.input.length),"boolean"==typeof n.invisible&&n.invisible?(s+="\\right.",d=!0):(r="\\right"+p(n),s+=r,d=!0)}return u>0&&!d&&(s+="\\right."),[s,e]}!function(){let e;const t=o.length;for(e=0;e<t;e++)!o[e].tex||"boolean"==typeof o[e].notexcopy&&o[e].notexcopy||o.push({input:o[e].tex,tag:o[e].tag,output:o[e].output,ttype:o[e].ttype,acc:o[e].acc||!1,tex:null});!function(){let e;for(o.sort(((e,t)=>{var n,r;return(null!==(n=e.input)&&void 0!==n?n:"")>(null!==(r=t.input)&&void 0!==r?r:"")?1:-1})),e=0;e<o.length;e++)i[e]=o[e].input}()}(),t.default=function(e){return u=0,null===(e=(e=(e=e.replace(/(&nbsp;|\u00a0|&#160;)/g,"")).replace(/&gt;/g,">")).replace(/&lt;/g,"<")).match(/\S/)?"":v(e.replace(/^\s+/g,""),!1)[0]}},9987:e=>{!function(){"use strict";var t=[],n=3988292384;function r(e){var t,r,o,i,a=-1;for(t=0,o=e.length;t<o;t+=1){for(i=255&(a^e[t]),r=0;r<8;r+=1)1&~i?i>>>=1:i=i>>>1^n;a=a>>>8^i}return~a}function o(e,n){var r,i,a;if(void 0!==o.crc&&n&&e||(o.crc=~0,e)){for(r=o.crc,i=0,a=e.length;i<a;i+=1)r=r>>>8^t[255&(r^e[i])];return o.crc=r,~r}}!function(){var e,r,o;for(r=0;r<256;r+=1){for(e=r,o=0;o<8;o+=1)1&e?e=n^e>>>1:e>>>=1;t[r]=e>>>0}}(),e.exports=function(e,t){var n;e="string"==typeof e?(n=e,Array.prototype.map.call(n,(function(e){return e.charCodeAt(0)}))):e;return((t?r(e):o(e))>>>0).toString(16)},e.exports.direct=r,e.exports.table=o}()},8351:function(e,t,n){var r;!function(){"use strict";var o,i=1e9,a={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,f=Math.pow,p=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,h=1e7,m=9007199254740991,v=d(1286742750677284.5),g={};function y(e,t){var n,r,o,i,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?C(t,f):t;if(c=e.d,u=t.d,a=e.e,o=t.e,c=c.slice(),i=a-o){for(i<0?(r=c,i=-i,l=u.length):(r=u,o=a,l=c.length),i>(l=(a=Math.ceil(f/7))>l?a+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=c.length)-(i=u.length)<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/h|0,c[i]%=h;for(n&&(c.unshift(n),++o),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=o,s?C(t,f):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function w(e){var t,n,r,o=e.length-1,i="",a=e[0];if(o>0){for(i+=a,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(i+=O(n)),i+=r;(n=7-(r=(a=e[t])+"").length)&&(i+=O(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return i+a}g.absoluteValue=g.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},g.comparedTo=g.cmp=function(e){var t,n,r,o,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(t=0,n=(r=i.d.length)<(o=e.d.length)?r:o;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===o?0:r>o^i.s<0?1:-1},g.decimalPlaces=g.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},g.dividedBy=g.div=function(e){return x(this,new this.constructor(e))},g.dividedToIntegerBy=g.idiv=function(e){var t=this.constructor;return C(x(this,new t(e),0,1),t.precision)},g.equals=g.eq=function(e){return!this.cmp(e)},g.exponent=function(){return k(this)},g.greaterThan=g.gt=function(e){return this.cmp(e)>0},g.greaterThanOrEqualTo=g.gte=function(e){return this.cmp(e)>=0},g.isInteger=g.isint=function(){return this.e>this.d.length-2},g.isNegative=g.isneg=function(){return this.s<0},g.isPositive=g.ispos=function(){return this.s>0},g.isZero=function(){return 0===this.s},g.lessThan=g.lt=function(e){return this.cmp(e)<0},g.lessThanOrEqualTo=g.lte=function(e){return this.cmp(e)<1},g.logarithm=g.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(s=!1,t=x(j(n,a),j(e,a),a),s=!0,C(t,i))},g.minus=g.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T(t,e):y(t,(e.s=-e.s,e))},g.modulo=g.mod=function(e){var t,n=this,r=n.constructor,o=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=x(n,e,0,1).times(e),s=!0,n.minus(t)):C(new r(n),o)},g.naturalExponential=g.exp=function(){return S(this)},g.naturalLogarithm=g.ln=function(){return j(this)},g.negated=g.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},g.plus=g.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):T(t,(e.s=-e.s,e))},g.precision=g.sd=function(e){var t,n,r,o=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=k(o)+1,n=7*(r=o.d.length-1)+1,r=o.d[r]){for(;r%10==0;r/=10)n--;for(r=o.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},g.squareRoot=g.sqrt=function(){var e,t,n,r,o,i,a,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=k(c),s=!1,0==(o=Math.sqrt(+c))||o==1/0?(((t=w(c.d)).length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=o==1/0?"5e"+e:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(o.toString()),o=a=(n=u.precision)+3;;)if(r=(i=r).plus(x(c,i,a+2)).times(.5),w(i.d).slice(0,a)===(t=w(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),o==a&&"4999"==t){if(C(i,n+1,0),i.times(i).eq(c)){r=i;break}}else if("9999"!=t)break;a+=4}return s=!0,C(r,n)},g.times=g.mul=function(e){var t,n,r,o,i,a,l,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,(c=p.length)<(u=m.length)&&(i=p,p=m,m=i,a=c,c=u,u=a),i=[],r=a=c+u;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,o=c+r;o>r;)l=i[o]+m[r]*p[o-r-1]+t,i[o--]=l%h|0,t=l/h|0;i[o]=(i[o]+t)%h|0}for(;!i[--a];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,s?C(e,f.precision):e},g.toDecimalPlaces=g.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,i),void 0===t?t=r.rounding:b(t,0,8),C(n,e+k(n)+1,t))},g.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=P(r,!0):(b(e,0,i),void 0===t?t=o.rounding:b(t,0,8),n=P(r=C(new o(r),e+1,t),!0,e+1)),n},g.toFixed=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?P(o):(b(e,0,i),void 0===t?t=a.rounding:b(t,0,8),n=P((r=C(new a(o),e+k(o)+1,t)).abs(),!1,e+k(r)+1),o.isneg()&&!o.isZero()?"-"+n:n)},g.toInteger=g.toint=function(){var e=this,t=e.constructor;return C(new t(e),k(e)+1,t.rounding)},g.toNumber=function(){return+this},g.toPower=g.pow=function(e){var t,n,r,i,a,c,u=this,f=u.constructor,p=+(e=new f(e));if(!e.s)return new f(o);if(!(u=new f(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(o))return u;if(r=f.precision,e.eq(o))return C(u,r);if(c=(t=e.e)>=(n=e.d.length-1),a=u.s,c){if((n=p<0?-p:p)<=m){for(i=new f(o),t=Math.ceil(r/7+4),s=!1;n%2&&A((i=i.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new f(o).div(i):C(i,r)}}else if(a<0)throw Error(l+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,i=e.times(j(u,r+12)),s=!0,(i=S(i)).s=a,i},g.toPrecision=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?r=P(o,(n=k(o))<=a.toExpNeg||n>=a.toExpPos):(b(e,1,i),void 0===t?t=a.rounding:b(t,0,8),r=P(o=C(new a(o),e,t),e<=(n=k(o))||n<=a.toExpNeg,e)),r},g.toSignificantDigits=g.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,i),void 0===t?t=n.rounding:b(t,0,8)),C(new n(this),e,t)},g.toString=g.valueOf=g.val=g.toJSON=function(){var e=this,t=k(e),n=e.constructor;return P(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+r,e[o]=n%h|0,r=n/h|0;return r&&e.unshift(r),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*h+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,o,i,a){var s,c,u,d,f,p,m,v,g,y,b,w,x,S,E,O,j,_,T=r.constructor,P=r.s==o.s?1:-1,A=r.d,N=o.d;if(!r.s)return new T(r);if(!o.s)throw Error(l+"Division by zero");for(c=r.e-o.e,j=N.length,E=A.length,v=(m=new T(P)).d=[],u=0;N[u]==(A[u]||0);)++u;if(N[u]>(A[u]||0)&&--c,(w=null==i?i=T.precision:a?i+(k(r)-k(o))+1:i)<0)return new T(0);if(w=w/7+2|0,u=0,1==j)for(d=0,N=N[0],w++;(u<E||d)&&w--;u++)x=d*h+(A[u]||0),v[u]=x/N|0,d=x%N|0;else{for((d=h/(N[0]+1)|0)>1&&(N=e(N,d),A=e(A,d),j=N.length,E=A.length),S=j,y=(g=A.slice(0,j)).length;y<j;)g[y++]=0;(_=N.slice()).unshift(0),O=N[0],N[1]>=h/2&&++O;do{d=0,(s=t(N,g,j,y))<0?(b=g[0],j!=y&&(b=b*h+(g[1]||0)),(d=b/O|0)>1?(d>=h&&(d=h-1),1==(s=t(f=e(N,d),g,p=f.length,y=g.length))&&(d--,n(f,j<p?_:N,p))):(0==d&&(s=d=1),f=N.slice()),(p=f.length)<y&&f.unshift(0),n(g,f,y),-1==s&&(s=t(N,g,j,y=g.length))<1&&(d++,n(g,j<y?_:N,y)),y=g.length):0===s&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[y++]=A[S]||0:(g=[A[S]],y=1)}while((S++<E||void 0!==g[0])&&w--)}return v[0]||v.shift(),m.e=c,C(m,a?i+k(m)+1:i)}}();function S(e,t){var n,r,i,a,l,c=0,d=0,p=e.constructor,h=p.precision;if(k(e)>16)throw Error(u+k(e));if(!e.s)return new p(o);for(null==t?(s=!1,l=h):l=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(l+=Math.log(f(2,d))/Math.LN10*2+5|0,n=r=i=new p(o),p.precision=l;;){if(r=C(r.times(e),l),n=n.times(++c),w((a=i.plus(x(r,n,l))).d).slice(0,l)===w(i.d).slice(0,l)){for(;d--;)i=C(i.times(i),l);return p.precision=h,null==t?(s=!0,C(i,h)):i}i=a}}function k(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function E(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return C(new e(e.LN10),t)}function O(e){for(var t="";e--;)t+="0";return t}function j(e,t){var n,r,i,a,c,u,d,f,p,h=1,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new g(0);if(null==t?(s=!1,f=y):f=t,m.eq(10))return null==t&&(s=!0),E(g,f);if(f+=10,g.precision=f,r=(n=w(v)).charAt(0),a=k(m),!(Math.abs(a)<15e14))return d=E(g,f+2,y).times(a+""),m=j(new g(r+"."+n.slice(1)),f-10).plus(d),g.precision=y,null==t?(s=!0,C(m,y)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=w((m=m.times(e)).d)).charAt(0),h++;for(a=k(m),r>1?(m=new g("0."+n),a++):m=new g(r+"."+n.slice(1)),u=c=m=x(m.minus(o),m.plus(o),f),p=C(m.times(m),f),i=3;;){if(c=C(c.times(p),f),w((d=u.plus(x(c,new g(i),f))).d).slice(0,f)===w(u.d).slice(0,f))return u=u.times(2),0!==a&&(u=u.plus(E(g,f+2,y).times(a+""))),u=x(u,new g(h),f),g.precision=y,null==t?(s=!0,C(u,y)):u;u=d,i+=2}}function _(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(o=t.length;48===t.charCodeAt(o-1);)--o;if(t=t.slice(r,o)){if(o-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>v||e.e<-v))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function C(e,t,n){var r,o,i,a,l,c,p,m,g=e.d;for(a=1,i=g[0];i>=10;i/=10)a++;if((r=t-a)<0)r+=7,o=t,p=g[m=0];else{if((m=Math.ceil((r+1)/7))>=(i=g.length))return e;for(p=i=g[m],a=1;i>=10;i/=10)a++;o=(r%=7)-7+a}if(void 0!==n&&(l=p/(i=f(10,a-o-1))%10|0,c=t<0||void 0!==g[m+1]||p%i,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?o>0?p/f(10,a-o):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return c?(i=k(e),g.length=1,t=t-i-1,g[0]=f(10,(7-t%7)%7),e.e=d(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=m,i=1,m--):(g.length=m+1,i=f(10,7-r),g[m]=o>0?(p/f(10,a-o)%f(10,o)|0)*i:0),c)for(;;){if(0==m){(g[0]+=i)==h&&(g[0]=1,++e.e);break}if(g[m]+=i,g[m]!=h)break;g[m--]=0,i=1}for(r=g.length;0===g[--r];)g.pop();if(s&&(e.e>v||e.e<-v))throw Error(u+k(e));return e}function T(e,t){var n,r,o,i,a,l,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),s?C(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),a=u-r){for((d=a<0)?(n=c,a=-a,l=f.length):(n=f,r=u,l=c.length),a>(o=Math.max(Math.ceil(m/7),l)+2)&&(a=o,n.length=1),n.reverse(),o=a;o--;)n.push(0);n.reverse()}else{for((d=(o=c.length)<(l=f.length))&&(l=o),o=0;o<l;o++)if(c[o]!=f[o]){d=c[o]<f[o];break}a=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,o=f.length-l;o>0;--o)c[l++]=0;for(o=f.length;o>a;){if(c[--o]<f[o]){for(i=o;i&&0===c[--i];)c[i]=h-1;--c[i],c[o]+=h}c[o]-=f[o]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?C(t,m):t):new p(0)}function P(e,t,n){var r,o=k(e),i=w(e.d),a=i.length;return t?(n&&(r=n-a)>0?i=i.charAt(0)+"."+i.slice(1)+O(r):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(o<0?"e":"e+")+o):o<0?(i="0."+O(-o-1)+i,n&&(r=n-a)>0&&(i+=O(r))):o>=a?(i+=O(o+1-a),n&&(r=n-o-1)>0&&(i=i+"."+O(r))):((r=o+1)<a&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-a)>0&&(o+1===a&&(i+="."),i+=O(r))),e.s<0?"-"+i:i}function A(e,t){if(e.length>t)return e.length=t,!0}function N(e){if(!e||"object"!=typeof e)throw Error(l+"Object expected");var t,n,r,o=["precision",1,i,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if(void 0!==(r=e[n=o[t]])){if(!(d(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}a=function e(t){var n,r,o;function i(e){var t=this;if(!(t instanceof i))return new i(e);if(t.constructor=i,e instanceof i)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):_(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!p.test(e))throw Error(c+e);_(t,e)}if(i.prototype=g,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=e,i.config=i.set=N,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<o.length;)t.hasOwnProperty(r=o[n++])||(t[r]=this[r]);return i.config(t),i}(a),a.default=a.Decimal=a,o=new a(1),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},5612:(e,t,n)=>{!function(){"use strict";e.exports={inflate:n(6967),deflate:n(3931)}}()},3931:e=>{!function(){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S,k,E,O,j,_,C,T,P,A,N,M,I,R,L,D,F,z,B,$,U,V,H,W,q,G,K,X,Y,Z,J,Q,ee,te,ne,re=32768,oe=258,ie=32768,ae=32767,se=262,le=32506,ce=15,ue=256,de=286,fe=30,pe=parseInt(17/3,10),he=null;function me(){this.fc=0,this.dl=0}function ve(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0}function ge(e,t,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r}function ye(){this.next=null,this.len=0,this.ptr=[],this.off=0}var be=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],we=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ke=[new ge(0,0,0,0),new ge(4,4,8,4),new ge(4,5,16,8),new ge(4,6,32,32),new ge(4,4,16,16),new ge(8,16,32,32),new ge(8,16,128,128),new ge(8,32,128,256),new ge(32,128,258,1024),new ge(32,258,258,4096)];function Ee(e){e.next=t,t=e}function Oe(e){return d[re+e]}function je(e,t){return d[re+e]=t}function _e(e){he[a+i++]=e,a+i===8192&&function(){var e,o;if(0!==i){for(null!==t?(s=t,t=t.next):s=new ye,s.next=null,s.len=s.off=0,e=s,null===n?n=r=e:r=r.next=e,e.len=i-a,o=0;o<e.len;o++)e.ptr[o]=he[a+o];i=a=0}var s}()}function Ce(e){e&=65535,a+i<8190?(he[a+i++]=255&e,he[a+i++]=e>>>8):(_e(255&e),_e(e>>>8))}function Te(){m=(m<<pe^255&l[x+3-1])&ae,v=Oe(m),d[32767&x]=v,je(m,x)}function Pe(e,t){Xe(t[e].fc,t[e].dl)}function Ae(e){return 255&(e<256?H[e]:H[256+(e>>7)])}function Ne(e,t,n){return e[t].fc<e[n].fc||e[t].fc===e[n].fc&&U[t]<=U[n]}function Me(e,t,n){var r;for(r=0;r<n&&ne<te.length;r++)e[t+r]=255&te[ne++];return r}function Ie(e){var t,n,r,o,i=O,a=x,s=w,c=x>le?x-le:0,u=x+oe,f=l[a+s-1],p=l[a+s];w>=C&&(i>>=2);do{if(l[(t=e)+s]===p&&l[t+s-1]===f&&l[t]===l[a]&&l[++t]===l[a+1]){for(a+=2,t++;a<u;){for(o=!1,r=0;r<8;r+=1)if(t+=1,l[a+=1]!==l[t]){o=!0;break}if(o)break}if(n=oe-(u-a),a=u-oe,n>s){if(S=e,s=n,n>=T)break;f=l[a+s-1],p=l[a+s]}}}while((e=d[32767&e])>c&&0!=--i);return s}function Re(){var e,t,n=65536-E-x;if(-1===n)n--;else if(x>=65274){for(e=0;e<re;e++)l[e]=l[e+re];for(S-=re,x-=re,h-=re,e=0;e<ie;e++)je(e,(t=Oe(e))>=re?t-re:0);for(e=0;e<re;e++)t=d[e],d[e]=t>=re?t-re:0;n+=re}k||((e=Me(l,x+E,n))<=0?k=!0:E+=e)}function Le(){k||(f=0,p=0,function(){var e,t,n,r,o;if(0!==M[0].dl)return;for(R.dyn_tree=P,R.static_tree=N,R.extra_bits=be,R.extra_base=257,R.elems=de,R.max_length=ce,R.max_code=0,L.dyn_tree=A,L.static_tree=M,L.extra_bits=we,L.extra_base=0,L.elems=fe,L.max_length=ce,L.max_code=0,D.dyn_tree=I,D.static_tree=null,D.extra_bits=xe,D.extra_base=0,D.elems=19,D.max_length=7,D.max_code=0,n=0,r=0;r<28;r++)for(W[r]=n,e=0;e<1<<be[r];e++)V[n++]=r;for(V[n-1]=r,o=0,r=0;r<16;r++)for(q[r]=o,e=0;e<1<<we[r];e++)H[o++]=r;for(o>>=7;r<fe;r++)for(q[r]=o<<7,e=0;e<1<<we[r]-7;e++)H[256+o++]=r;for(t=0;t<=ce;t++)F[t]=0;e=0;for(;e<=143;)N[e++].dl=8,F[8]++;for(;e<=255;)N[e++].dl=9,F[9]++;for(;e<=279;)N[e++].dl=7,F[7]++;for(;e<=287;)N[e++].dl=8,F[8]++;for($e(N,287),e=0;e<fe;e++)M[e].dl=5,M[e].fc=Ye(e,5);ze()}(),function(){var e;for(e=0;e<ie;e++)d[re+e]=0;if(j=ke[_].max_lazy,C=ke[_].good_length,T=ke[_].nice_length,O=ke[_].max_chain,x=0,h=0,(E=Me(l,0,65536))<=0)return k=!0,void(E=0);for(k=!1;E<se&&!k;)Re();for(m=0,e=0;e<2;e++)m=(m<<pe^255&l[e])&ae}(),n=null,i=0,a=0,_<=3?(w=2,b=0):(b=2,y=!1),s=!1)}function De(e,t,r){var i;return o||(Le(),o=!0,0!==E)?(i=Fe(e,t,r))===r?r:s?i:(_<=3?function(){for(;0!==E&&null===n;){var e;if(Te(),0!==v&&x-v<=le&&(b=Ie(v))>E&&(b=E),b>=3)if(e=qe(x-S,b-3),E-=b,b<=j){b--;do{x++,Te()}while(0!=--b);x++}else x+=b,b=0,m=((m=255&l[x])<<pe^255&l[x+1])&ae;else e=qe(0,255&l[x]),E--,x++;for(e&&(We(0),h=x);E<se&&!k;)Re()}}():function(){for(;0!==E&&null===n;){if(Te(),w=b,g=S,b=2,0!==v&&w<j&&x-v<=le&&((b=Ie(v))>E&&(b=E),3===b&&x-S>4096&&b--),w>=3&&b<=w){var e;e=qe(x-1-g,w-3),E-=w-1,w-=2;do{x++,Te()}while(0!=--w);y=!1,b=2,x++,e&&(We(0),h=x)}else y?(qe(0,255&l[x-1])&&(We(0),h=x),x++,E--):(y=!0,x++,E--);for(;E<se&&!k;)Re()}}(),0===E&&(y&&qe(0,255&l[x-1]),We(1),s=!0),i+Fe(e,i+t,r-i)):(s=!0,0)}function Fe(e,t,r){var o,s,l;for(o=0;null!==n&&o<r;){for((s=r-o)>n.len&&(s=n.len),l=0;l<s;l++)e[t+o+l]=n.ptr[n.off+l];var c;if(n.off+=s,n.len-=s,o+=s,0===n.len)c=n,n=n.next,Ee(c)}if(o===r)return o;if(a<i){for((s=r-o)>i-a&&(s=i-a),l=0;l<s;l++)e[t+o+l]=he[a+l];o+=s,i===(a+=s)&&(i=a=0)}return o}function ze(){var e;for(e=0;e<de;e++)P[e].fc=0;for(e=0;e<fe;e++)A[e].fc=0;for(e=0;e<19;e++)I[e].fc=0;P[256].fc=1,Q=ee=0,K=X=Y=0,Z=0,J=1}function Be(e,t){for(var n=z[t],r=t<<1;r<=B&&(r<B&&Ne(e,z[r+1],z[r])&&r++,!Ne(e,n,z[r]));)z[t]=z[r],t=r,r<<=1;z[t]=n}function $e(e,t){var n,r,o=[],i=0;for(n=1;n<=ce;n++)i=i+F[n-1]<<1,o[n]=i;for(r=0;r<=t;r++){var a=e[r].dl;0!==a&&(e[r].fc=Ye(o[a]++,a))}}function Ue(e){var t,n,r=e.dyn_tree,o=e.static_tree,i=e.elems,a=-1,s=i;for(B=0,$=573,t=0;t<i;t++)0!==r[t].fc?(z[++B]=a=t,U[t]=0):r[t].dl=0;for(;B<2;){var l=z[++B]=a<2?++a:0;r[l].fc=1,U[l]=0,Q--,null!==o&&(ee-=o[l].dl)}for(e.max_code=a,t=B>>1;t>=1;t--)Be(r,t);do{t=z[1],z[1]=z[B--],Be(r,1),n=z[1],z[--$]=t,z[--$]=n,r[s].fc=r[t].fc+r[n].fc,U[t]>U[n]+1?U[s]=U[t]:U[s]=U[n]+1,r[t].dl=r[n].dl=s,z[1]=s++,Be(r,1)}while(B>=2);z[--$]=z[1],function(e){var t,n,r,o,i,a,s=e.dyn_tree,l=e.extra_bits,c=e.extra_base,u=e.max_code,d=e.max_length,f=e.static_tree,p=0;for(o=0;o<=ce;o++)F[o]=0;for(s[z[$]].dl=0,t=$+1;t<573;t++)(o=s[s[n=z[t]].dl].dl+1)>d&&(o=d,p++),s[n].dl=o,n>u||(F[o]++,i=0,n>=c&&(i=l[n-c]),a=s[n].fc,Q+=a*(o+i),null!==f&&(ee+=a*(f[n].dl+i)));if(0!==p){do{for(o=d-1;0===F[o];)o--;F[o]--,F[o+1]+=2,F[d]--,p-=2}while(p>0);for(o=d;0!==o;o--)for(n=F[o];0!==n;)(r=z[--t])>u||(s[r].dl!==o&&(Q+=(o-s[r].dl)*s[r].fc,s[r].fc=o),n--)}}(e),$e(r,a)}function Ve(e,t){var n,r,o=-1,i=e[0].dl,a=0,s=7,l=4;for(0===i&&(s=138,l=3),e[t+1].dl=65535,n=0;n<=t;n++)r=i,i=e[n+1].dl,++a<s&&r===i||(a<l?I[r].fc+=a:0!==r?(r!==o&&I[r].fc++,I[16].fc++):a<=10?I[17].fc++:I[18].fc++,a=0,o=r,0===i?(s=138,l=3):r===i?(s=6,l=3):(s=7,l=4))}function He(e,t){var n,r,o=-1,i=e[0].dl,a=0,s=7,l=4;for(0===i&&(s=138,l=3),n=0;n<=t;n++)if(r=i,i=e[n+1].dl,!(++a<s&&r===i)){if(a<l)do{Pe(r,I)}while(0!=--a);else 0!==r?(r!==o&&(Pe(r,I),a--),Pe(16,I),Xe(a-3,2)):a<=10?(Pe(17,I),Xe(a-3,3)):(Pe(18,I),Xe(a-11,7));a=0,o=r,0===i?(s=138,l=3):r===i?(s=6,l=3):(s=7,l=4)}}function We(e){var t,n,r,o,i;if(o=x-h,G[Y]=Z,Ue(R),Ue(L),r=function(){var e;for(Ve(P,R.max_code),Ve(A,L.max_code),Ue(D),e=18;e>=3&&0===I[Se[e]].dl;e--);return Q+=3*(e+1)+5+5+4,e}(),(n=ee+3+7>>3)<=(t=Q+3+7>>3)&&(t=n),o+4<=t&&h>=0)for(Xe(0+e,3),Ze(),Ce(o),Ce(~o),i=0;i<o;i++)_e(l[h+i]);else n===t?(Xe(2+e,3),Ge(N,M)):(Xe(4+e,3),function(e,t,n){var r;for(Xe(e-257,5),Xe(t-1,5),Xe(n-4,4),r=0;r<n;r++)Xe(I[Se[r]].dl,3);He(P,e-1),He(A,t-1)}(R.max_code+1,L.max_code+1,r+1),Ge(P,A));ze(),0!==e&&Ze()}function qe(e,t){if(u[K++]=t,0===e?P[t].fc++:(e--,P[V[t]+ue+1].fc++,A[Ae(e)].fc++,c[X++]=e,Z|=J),J<<=1,7&K||(G[Y++]=Z,Z=0,J=1),_>2&&!(4095&K)){var n,r=8*K,o=x-h;for(n=0;n<fe;n++)r+=A[n].fc*(5+we[n]);if(r>>=3,X<parseInt(K/2,10)&&r<parseInt(o/2,10))return!0}return 8191===K||8192===X}function Ge(e,t){var n,r,o,i,a=0,s=0,l=0,d=0;if(0!==K)do{7&a||(d=G[l++]),r=255&u[a++],1&d?(Pe((o=V[r])+ue+1,e),0!==(i=be[o])&&Xe(r-=W[o],i),Pe(o=Ae(n=c[s++]),t),0!==(i=we[o])&&Xe(n-=q[o],i)):Pe(r,e),d>>=1}while(a<K);Pe(256,e)}var Ke=16;function Xe(e,t){p>Ke-t?(Ce(f|=e<<p),f=e>>Ke-p,p+=t-Ke):(f|=e<<p,p+=t)}function Ye(e,t){var n=0;do{n|=1&e,e>>=1,n<<=1}while(--t>0);return n>>1}function Ze(){p>8?Ce(f):p>0&&_e(f),f=0,p=0}e.exports=function(e,i){var a,s;te=e,ne=0,void 0===i&&(i=6),function(e){var i;if(e?e<1?e=1:e>9&&(e=9):e=6,_=e,o=!1,k=!1,null===he){for(t=n=r=null,he=[],l=[],c=[],u=[],d=[],P=[],i=0;i<573;i++)P[i]=new me;for(A=[],i=0;i<61;i++)A[i]=new me;for(N=[],i=0;i<288;i++)N[i]=new me;for(M=[],i=0;i<fe;i++)M[i]=new me;for(I=[],i=0;i<39;i++)I[i]=new me;R=new ve,L=new ve,D=new ve,F=[],z=[],U=[],V=[],H=[],W=[],q=[],G=[]}}(i),s=[];do{a=De(s,s.length,1024)}while(a>0);return te=null,s},e.exports.DEFAULT_LEVEL=6}()},6967:e=>{!function(){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y=null,b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],S=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function O(){this.next=null,this.list=null}function j(){this.e=0,this.b=0,this.n=0,this.t=null}function _(e,t,n,r,o,i){var a;this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;var s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S,k=[],E=[],_=new j,C=[],T=[],P=[];for(S=this.root=null,d=0;d<this.BMAX+1;d++)k[d]=0;for(d=0;d<this.BMAX+1;d++)E[d]=0;for(d=0;d<this.BMAX;d++)C[d]=null;for(d=0;d<this.N_MAX;d++)T[d]=0;for(d=0;d<this.BMAX+1;d++)P[d]=0;s=t>256?e[256]:this.BMAX,h=e,m=0,d=t;do{k[h[m]]++,m++}while(--d>0);if(k[0]===t)return this.root=null,this.m=0,void(this.status=0);for(f=1;f<=this.BMAX&&0===k[f];f++);for(p=f,i<f&&(i=f),d=this.BMAX;0!==d&&0===k[d];d--);for(c=d,i>d&&(i=d),b=1<<f;f<d;f++,b<<=1)if((b-=k[f])<0)return this.status=2,void(this.m=i);if((b-=k[d])<0)return this.status=2,void(this.m=i);for(k[d]+=b,P[1]=f=0,h=k,m=1,y=2;--d>0;)P[y++]=f+=h[m++];h=e,m=0,d=0;do{0!==(f=h[m++])&&(T[P[f]++]=d)}while(++d<t);for(t=P[c],P[0]=d=0,h=T,m=0,u=-1,g=E[0]=0,v=null,w=0;p<=c;p++)for(a=k[p];a-- >0;){for(;p>g+E[1+u];){if(g+=E[1+u],u++,w=(w=c-g)>i?i:w,(l=1<<(f=p-g))>a+1)for(l-=a+1,y=p;++f<w&&!((l<<=1)<=k[++y]);)l-=k[y];for(g+f>s&&g<s&&(f=s-g),w=1<<f,E[1+u]=f,v=[],x=0;x<w;x++)v[x]=new j;(S=S?S.next=new O:this.root=new O).next=null,S.list=v,C[u]=v,u>0&&(P[u]=d,_.b=E[u],_.e=16+f,_.t=v,f=(d&(1<<g)-1)>>g-E[u],C[u-1][f].e=_.e,C[u-1][f].b=_.b,C[u-1][f].n=_.n,C[u-1][f].t=_.t)}for(_.b=p-g,m>=t?_.e=99:h[m]<n?(_.e=h[m]<256?16:15,_.n=h[m++]):(_.e=o[h[m]-n],_.n=r[h[m++]-n]),l=1<<p-g,f=d>>g;f<w;f+=l)v[f].e=_.e,v[f].b=_.b,v[f].n=_.n,v[f].t=_.t;for(f=1<<p-1;d&f;f>>=1)d^=f;for(d^=f;(d&(1<<g)-1)!==P[u];)g-=E[u],u--}this.m=E[1],this.status=0!==b&&1!==c?1:0}function C(e){for(;s<e;)a|=(v.length===g?-1:255&v[g++])<<s,s+=8}function T(e){return a&b[e]}function P(e){a>>=e,s-=e}function A(e,r,o){var i,a,s;if(0===o)return 0;for(s=0;;){for(C(h),i=(a=f.list[T(h)]).e;i>16;){if(99===i)return-1;P(a.b),C(i-=16),i=(a=a.t[T(i)]).e}if(P(a.b),16!==i){if(15===i)break;for(C(i),u=a.n+T(i),P(i),C(m),i=(a=p.list[T(m)]).e;i>16;){if(99===i)return-1;P(a.b),C(i-=16),i=(a=a.t[T(i)]).e}for(P(a.b),C(i),d=n-a.n-T(i),P(i);u>0&&s<o;)u--,d&=32767,n&=32767,e[r+s++]=t[n++]=t[d++];if(s===o)return o}else if(n&=32767,e[r+s++]=t[n++]=a.n,s===o)return o}return l=-1,s}function N(e,r,o){var i;if(P(i=7&s),C(16),i=T(16),P(16),C(16),i!==(65535&~a))return-1;for(P(16),u=i,i=0;u>0&&i<o;)u--,n&=32767,C(8),e[r+i++]=t[n++]=T(8),P(8);return 0===u&&(l=-1),i}function M(e,t,n){if(!y){var a,s,l=[];for(a=0;a<144;a++)l[a]=8;for(;a<256;a++)l[a]=9;for(;a<280;a++)l[a]=7;for(;a<288;a++)l[a]=8;if(0!==(s=new _(l,288,257,w,x,o=7)).status)return console.error("HufBuild error: "+s.status),-1;for(y=s.root,o=s.m,a=0;a<30;a++)l[a]=5;if((s=new _(l,30,0,S,k,i=5)).status>1)return y=null,console.error("HufBuild error: "+s.status),-1;r=s.root,i=s.m}return f=y,p=r,h=o,m=i,A(e,t,n)}function I(e,t,n){var r,o,i,a,s,l,c,u,d,v=[];for(r=0;r<316;r++)v[r]=0;if(C(5),c=257+T(5),P(5),C(5),u=1+T(5),P(5),C(4),l=4+T(4),P(4),c>286||u>30)return-1;for(o=0;o<l;o++)C(3),v[E[o]]=T(3),P(3);for(;o<19;o++)v[E[o]]=0;if(0!==(d=new _(v,19,19,null,null,h=7)).status)return-1;for(f=d.root,h=d.m,a=c+u,r=i=0;r<a;)if(C(h),P(o=(s=f.list[T(h)]).b),(o=s.n)<16)v[r++]=i=o;else if(16===o){if(C(2),o=3+T(2),P(2),r+o>a)return-1;for(;o-- >0;)v[r++]=i}else if(17===o){if(C(3),o=3+T(3),P(3),r+o>a)return-1;for(;o-- >0;)v[r++]=0;i=0}else{if(C(7),o=11+T(7),P(7),r+o>a)return-1;for(;o-- >0;)v[r++]=0;i=0}if(d=new _(v,c,257,w,x,h=9),0===h&&(d.status=1),0!==d.status&&1!==d.status)return-1;for(f=d.root,h=d.m,r=0;r<u;r++)v[r]=v[r+c];return d=new _(v,u,0,S,k,m=6),p=d.root,0===(m=d.m)&&c>257||0!==d.status?-1:A(e,t,n)}function R(e,r,o){var i,a;for(i=0;i<o;){if(c&&-1===l)return i;if(u>0){if(0!==l)for(;u>0&&i<o;)u--,d&=32767,n&=32767,e[r+i++]=t[n++]=t[d++];else{for(;u>0&&i<o;)u--,n&=32767,C(8),e[r+i++]=t[n++]=T(8),P(8);0===u&&(l=-1)}if(i===o)return i}if(-1===l){if(c)break;C(1),0!==T(1)&&(c=!0),P(1),C(2),l=T(2),P(2),f=null,u=0}switch(l){case 0:a=N(e,r+i,o-i);break;case 1:a=f?A(e,r+i,o-i):M(e,r+i,o-i);break;case 2:a=f?A(e,r+i,o-i):I(e,r+i,o-i);break;default:a=-1}if(-1===a)return c?0:-1;i+=a}return i}e.exports=function(e){var r,o=[];t||(t=[]),n=0,a=0,s=0,l=-1,c=!1,u=d=0,f=null,v=e,g=0;do{r=R(o,o.length,1024)}while(r>0);return v=null,o}}()},228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,a=new Array(i);o<i;o++)a[o]=r[o].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,i,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||a(this,i);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},867:(e,t,n)=>{!function(){"use strict";var t=n(9987),r=n(5612),o={deflate:8},i=1,a=2,s=4,l=8,c=16,u={fat:0,amiga:1,vmz:2,unix:3,"vm/cms":4,atari:5,hpfs:6,macintosh:7,"z-system":8,cplm:9,"tops-20":10,ntfs:11,qdos:12,acorn:13,vfat:14,vms:15,beos:16,tandem:17,theos:18};function d(e,t){t.push(255&e)}function f(e,t){t.push(255&e),t.push(e>>>8)}function p(e,t){f(65535&e,t),f(e>>>16,t)}function h(e){return e.shift()}function m(e){return e.shift()|e.shift()<<8}function v(e){var t=m(e),n=m(e);return n>32768?((n-=32768)<<16|t)+32768*Math.pow(2,16):n<<16|t}function g(e){for(var t=[];0!==e[0];)t.push(String.fromCharCode(e.shift()));return e.shift(),t.join("")}e.exports={zip:function(e,n){var i,a=0,s=[];return n||(n={}),i=n.level||6,"string"==typeof e&&(e=Array.prototype.map.call(e,(function(e){return e.charCodeAt(0)}))),d(31,s),d(139,s),d(o.deflate,s),n.name&&(a|=l),d(a,s),p(n.timestamp||parseInt(Date.now()/1e3,10),s),d(1===i?4:9===i?2:0,s),d(u.unix,s),n.name&&(!function(e,t){var n,r=e.length;for(n=0;n<r;n+=1)d(e.charCodeAt(n),t)}(n.name.substring(n.name.lastIndexOf("/")+1),s),d(0,s)),r.deflate(e,i).forEach((function(e){d(e,s)})),p(parseInt(t(e),16),s),p(e.length,s),s},unzip:function(e,n){var d,f,p,y,b=Array.prototype.slice.call(e,0);if(31!==h(b)||139!==h(b))throw"Not a GZIP file";if(d=h(b),!(d=Object.keys(o).some((function(e){return f=e,o[e]===d}))))throw"Unsupported compression method";if(p=h(b),v(b),h(b),d=h(b),Object.keys(u).some((function(e){if(u[e]===d)return!0})),p&s&&function(e,t){var n,r=[];for(n=0;n<t;n+=1)r.push(e.shift())}(b,d=m(b)),p&l&&g(b),p&c&&g(b),p&a&&m(b),"deflate"===f&&(y=r.inflate(b.splice(0,b.length-8))),p&i&&(y=Array.prototype.map.call(y,(function(e){return String.fromCharCode(e)})).join("")),v(b)!==parseInt(t(y),16))throw"Checksum does not match";if(v(b)!==y.length)throw"Size of decompressed file not correct";return y},get DEFAULT_LEVEL(){return 6}}}()},4146:(e,t,n)=>{"use strict";var r=n(3404),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var g=a[v];if(!(i[g]||r&&r[g]||m&&m[g]||s&&s[g])){var y=f(n,g);try{c(t,g,y)}catch(e){}}}}return t}},3072:(e,t)=>{"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case f:case v:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===s||e===a||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},3404:(e,t,n)=>{"use strict";e.exports=n(3072)},5580:(e,t,n)=>{var r=n(6110)(n(9325),"DataView");e.exports=r},1549:(e,t,n)=>{var r=n(2032),o=n(3862),i=n(6721),a=n(2749),s=n(5749);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},79:(e,t,n)=>{var r=n(3702),o=n(80),i=n(4739),a=n(8655),s=n(1175);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8223:(e,t,n)=>{var r=n(6110)(n(9325),"Map");e.exports=r},3661:(e,t,n)=>{var r=n(3040),o=n(7670),i=n(289),a=n(4509),s=n(2949);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},2804:(e,t,n)=>{var r=n(6110)(n(9325),"Promise");e.exports=r},6545:(e,t,n)=>{var r=n(6110)(n(9325),"Set");e.exports=r},8859:(e,t,n)=>{var r=n(3661),o=n(1380),i=n(1459);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},7217:(e,t,n)=>{var r=n(79),o=n(1420),i=n(938),a=n(3605),s=n(9817),l=n(945);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},1873:(e,t,n)=>{var r=n(9325).Symbol;e.exports=r},7828:(e,t,n)=>{var r=n(9325).Uint8Array;e.exports=r},8303:(e,t,n)=>{var r=n(6110)(n(9325),"WeakMap");e.exports=r},1033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},3729:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},7277:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},9770:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},5325:(e,t,n)=>{var r=n(6131);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},9905:e=>{e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},695:(e,t,n)=>{var r=n(8096),o=n(2428),i=n(6449),a=n(3656),s=n(361),l=n(7167),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),f=!n&&!u&&!d&&l(e),p=n||u||d||f,h=p?r(e.length,String):[],m=h.length;for(var v in e)!t&&!c.call(e,v)||p&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},4932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},4528:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},4248:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},1074:e=>{e.exports=function(e){return e.split("")}},6547:(e,t,n)=>{var r=n(3360),o=n(5288),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},6025:(e,t,n)=>{var r=n(5288);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4733:(e,t,n)=>{var r=n(1791),o=n(5950);e.exports=function(e,t){return e&&r(t,o(t),e)}},3838:(e,t,n)=>{var r=n(1791),o=n(7241);e.exports=function(e,t){return e&&r(t,o(t),e)}},3360:(e,t,n)=>{var r=n(3243);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},9999:(e,t,n)=>{var r=n(7217),o=n(3729),i=n(6547),a=n(4733),s=n(3838),l=n(3290),c=n(3007),u=n(2271),d=n(8948),f=n(2),p=n(3349),h=n(5861),m=n(6189),v=n(7199),g=n(5529),y=n(6449),b=n(3656),w=n(7730),x=n(3805),S=n(8440),k=n(5950),E=n(7241),O="[object Arguments]",j="[object Function]",_="[object Object]",C={};C[O]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[_]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[j]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,T,P,A,N){var M,I=1&n,R=2&n,L=4&n;if(T&&(M=A?T(t,P,A,N):T(t)),void 0!==M)return M;if(!x(t))return t;var D=y(t);if(D){if(M=m(t),!I)return c(t,M)}else{var F=h(t),z=F==j||"[object GeneratorFunction]"==F;if(b(t))return l(t,I);if(F==_||F==O||z&&!A){if(M=R||z?{}:g(t),!I)return R?d(t,s(M,t)):u(t,a(M,t))}else{if(!C[F])return A?t:{};M=v(t,F,I)}}N||(N=new r);var B=N.get(t);if(B)return B;N.set(t,M),S(t)?t.forEach((function(r){M.add(e(r,n,T,r,t,N))})):w(t)&&t.forEach((function(r,o){M.set(o,e(r,n,T,o,t,N))}));var $=D?void 0:(L?R?p:f:R?E:k)(t);return o($||t,(function(r,o){$&&(r=t[o=r]),i(M,o,e(r,n,T,o,t,N))})),M}},9344:(e,t,n)=>{var r=n(3805),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},909:(e,t,n)=>{var r=n(641),o=n(8329)(r);e.exports=o},3777:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,o){return n=!!t(e,r,o)})),n}},3599:(e,t,n)=>{var r=n(4394);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=a}return c}},2523:e=>{e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},3120:(e,t,n)=>{var r=n(4528),o=n(5891);e.exports=function e(t,n,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var u=t[l];n>0&&i(u)?n>1?e(u,n-1,i,a,s):r(s,u):a||(s[s.length]=u)}return s}},6649:(e,t,n)=>{var r=n(3221)();e.exports=r},641:(e,t,n)=>{var r=n(6649),o=n(5950);e.exports=function(e,t){return e&&r(e,t,o)}},7422:(e,t,n)=>{var r=n(1769),o=n(7797);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},2199:(e,t,n)=>{var r=n(4528),o=n(6449);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},2552:(e,t,n)=>{var r=n(1873),o=n(659),i=n(9350),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},3335:e=>{e.exports=function(e,t){return e>t}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},6131:(e,t,n)=>{var r=n(2523),o=n(5463),i=n(6959);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},7534:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},270:(e,t,n)=>{var r=n(7068),o=n(346);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},7068:(e,t,n)=>{var r=n(7217),o=n(5911),i=n(1986),a=n(689),s=n(5861),l=n(6449),c=n(3656),u=n(7167),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,v,g){var y=l(e),b=l(t),w=y?f:s(e),x=b?f:s(t),S=(w=w==d?p:w)==p,k=(x=x==d?p:x)==p,E=w==x;if(E&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(E&&!S)return g||(g=new r),y||u(e)?o(e,t,n,m,v,g):i(e,t,w,n,m,v,g);if(!(1&n)){var O=S&&h.call(e,"__wrapped__"),j=k&&h.call(t,"__wrapped__");if(O||j){var _=O?e.value():e,C=j?t.value():t;return g||(g=new r),v(_,C,n,m,g)}}return!!E&&(g||(g=new r),a(e,t,n,m,v,g))}},9172:(e,t,n)=>{var r=n(5861),o=n(346);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},1799:(e,t,n)=>{var r=n(7217),o=n(270);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],f=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(i)var h=i(d,f,u,e,t,p);if(!(void 0===h?o(f,d,3,i,p):h))return!1}}return!0}},5463:e=>{e.exports=function(e){return e!=e}},5083:(e,t,n)=>{var r=n(1882),o=n(7296),i=n(3805),a=n(7473),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,f=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?f:s).test(a(e))}},6038:(e,t,n)=>{var r=n(5861),o=n(346);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},4901:(e,t,n)=>{var r=n(2552),o=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},5389:(e,t,n)=>{var r=n(3663),o=n(7978),i=n(3488),a=n(6449),s=n(583);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},8984:(e,t,n)=>{var r=n(5527),o=n(3650),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2903:(e,t,n)=>{var r=n(3805),o=n(5527),i=n(181),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},6176:e=>{e.exports=function(e,t){return e<t}},5128:(e,t,n)=>{var r=n(909),o=n(4894);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},3663:(e,t,n)=>{var r=n(1799),o=n(776),i=n(7197);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},7978:(e,t,n)=>{var r=n(270),o=n(8156),i=n(631),a=n(8586),s=n(756),l=n(7197),c=n(7797);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},6155:(e,t,n)=>{var r=n(4932),o=n(7422),i=n(5389),a=n(5128),s=n(3937),l=n(7301),c=n(3714),u=n(3488),d=n(6449);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var f=-1;t=r(t,l(i));var p=a(e,(function(e,n,o){return{criteria:r(t,(function(t){return t(e)})),index:++f,value:e}}));return s(p,(function(e,t){return c(e,t,n)}))}},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7255:(e,t,n)=>{var r=n(7422);e.exports=function(e){return function(t){return r(t,e)}}},6151:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,o,i){for(var a=-1,s=n(t((r-e)/(o||1)),0),l=Array(s);s--;)l[i?s:++a]=e,e+=o;return l}},9302:(e,t,n)=>{var r=n(3488),o=n(9138),i=n(2865);e.exports=function(e,t){return i(o(e,t,r),e+"")}},9570:(e,t,n)=>{var r=n(7334),o=n(3243),i=n(3488),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},5160:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},8535:(e,t,n)=>{var r=n(909);e.exports=function(e,t){var n;return r(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}},3937:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},8096:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},7556:(e,t,n)=>{var r=n(1873),o=n(4932),i=n(6449),a=n(4394),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},4128:(e,t,n)=>{var r=n(1800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},5765:(e,t,n)=>{var r=n(8859),o=n(5325),i=n(9905),a=n(9219),s=n(4517),l=n(4247);e.exports=function(e,t,n){var c=-1,u=o,d=e.length,f=!0,p=[],h=p;if(n)f=!1,u=i;else if(d>=200){var m=t?null:s(e);if(m)return l(m);f=!1,u=a,h=new r}else h=t?[]:p;e:for(;++c<d;){var v=e[c],g=t?t(v):v;if(v=n||0!==v?v:0,f&&g==g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),p.push(v)}else u(h,g,n)||(h!==p&&h.push(g),p.push(v))}return p}},9219:e=>{e.exports=function(e,t){return e.has(t)}},1769:(e,t,n)=>{var r=n(6449),o=n(8586),i=n(1802),a=n(3222);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},8754:(e,t,n)=>{var r=n(5160);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},9653:(e,t,n)=>{var r=n(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},3290:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},6169:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3201:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},3736:(e,t,n)=>{var r=n(1873),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},1961:(e,t,n)=>{var r=n(9653);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},3730:(e,t,n)=>{var r=n(4394);e.exports=function(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e==e,a=r(e),s=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||o&&s&&c||!n&&c||!i)return 1;if(!o&&!a&&!u&&e<t||u&&n&&i&&!o&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}},3714:(e,t,n)=>{var r=n(3730);e.exports=function(e,t,n){for(var o=-1,i=e.criteria,a=t.criteria,s=i.length,l=n.length;++o<s;){var c=r(i[o],a[o]);if(c)return o>=l?c:c*("desc"==n[o]?-1:1)}return e.index-t.index}},3007:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1791:(e,t,n)=>{var r=n(6547),o=n(3360);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=i?i(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?o(n,c,u):r(n,c,u)}return n}},2271:(e,t,n)=>{var r=n(1791),o=n(4664);e.exports=function(e,t){return r(e,o(e),t)}},8948:(e,t,n)=>{var r=n(1791),o=n(6375);e.exports=function(e,t){return r(e,o(e),t)}},5481:(e,t,n)=>{var r=n(9325)["__core-js_shared__"];e.exports=r},8329:(e,t,n)=>{var r=n(4894);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},3221:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},2507:(e,t,n)=>{var r=n(8754),o=n(9698),i=n(3912),a=n(3222);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},2006:(e,t,n)=>{var r=n(5389),o=n(4894),i=n(5950);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!o(t)){var l=r(n,3);t=i(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,a);return c>-1?s[l?t[c]:c]:void 0}}},5508:(e,t,n)=>{var r=n(6151),o=n(6800),i=n(7400);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}},4517:(e,t,n)=>{var r=n(6545),o=n(3950),i=n(4247),a=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=a},3243:(e,t,n)=>{var r=n(6110),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},5911:(e,t,n)=>{var r=n(8859),o=n(4248),i=n(9219);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var f=l.get(e),p=l.get(t);if(f&&p)return f==t&&p==e;var h=-1,m=!0,v=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++h<u;){var g=e[h],y=t[h];if(a)var b=c?a(y,g,h,t,e,l):a(g,y,h,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(g===e||s(g,e,n,a,l)))return v.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},1986:(e,t,n)=>{var r=n(1873),o=n(7828),i=n(5288),a=n(5911),s=n(317),l=n(4247),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var h=1&r;if(p||(p=l),e.size!=t.size&&!h)return!1;var m=f.get(e);if(m)return m==t;r|=2,f.set(e,t);var v=a(p(e),p(t),r,c,d,f);return f.delete(e),v;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},689:(e,t,n)=>{var r=n(2),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var f=c[d];if(!(l?f in t:o.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var m=!0;s.set(e,t),s.set(t,e);for(var v=l;++d<u;){var g=e[f=c[d]],y=t[f];if(i)var b=l?i(y,g,f,t,e,s):i(g,y,f,e,t,s);if(!(void 0===b?g===y||a(g,y,n,i,s):b)){m=!1;break}v||(v="constructor"==f)}if(m&&!v){var w=e.constructor,x=t.constructor;w==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},4840:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},2:(e,t,n)=>{var r=n(2199),o=n(4664),i=n(5950);e.exports=function(e){return r(e,i,o)}},3349:(e,t,n)=>{var r=n(2199),o=n(6375),i=n(7241);e.exports=function(e){return r(e,i,o)}},2651:(e,t,n)=>{var r=n(4218);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},776:(e,t,n)=>{var r=n(756),o=n(5950);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},6110:(e,t,n)=>{var r=n(5083),o=n(392);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},8879:(e,t,n)=>{var r=n(4335)(Object.getPrototypeOf,Object);e.exports=r},659:(e,t,n)=>{var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},4664:(e,t,n)=>{var r=n(9770),o=n(3345),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},6375:(e,t,n)=>{var r=n(4528),o=n(8879),i=n(4664),a=n(3345),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},5861:(e,t,n)=>{var r=n(5580),o=n(8223),i=n(2804),a=n(6545),s=n(8303),l=n(2552),c=n(7473),u="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",m=c(r),v=c(o),g=c(i),y=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=h||o&&w(new o)!=u||i&&w(i.resolve())!=d||a&&w(new a)!=f||s&&w(new s)!=p)&&(w=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return h;case v:return u;case g:return d;case y:return f;case b:return p}return t}),e.exports=w},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},9326:(e,t,n)=>{var r=n(1769),o=n(2428),i=n(6449),a=n(361),s=n(294),l=n(7797);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var f=l(t[c]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(f,u)&&(i(e)||o(e))}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},2032:(e,t,n)=>{var r=n(1042);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},2749:(e,t,n)=>{var r=n(1042),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},5749:(e,t,n)=>{var r=n(1042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},7199:(e,t,n)=>{var r=n(9653),o=n(6169),i=n(3201),a=n(3736),s=n(1961);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},5529:(e,t,n)=>{var r=n(9344),o=n(8879),i=n(5527);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},5891:(e,t,n)=>{var r=n(1873),o=n(2428),i=n(6449),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},6800:(e,t,n)=>{var r=n(5288),o=n(4894),i=n(361),a=n(3805);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},8586:(e,t,n)=>{var r=n(6449),o=n(4394),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,n)=>{var r,o=n(5481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},5527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},756:(e,t,n)=>{var r=n(3805);e.exports=function(e){return e==e&&!r(e)}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,n)=>{var r=n(6025),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},4739:(e,t,n)=>{var r=n(6025);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},8655:(e,t,n)=>{var r=n(6025);e.exports=function(e){return r(this.__data__,e)>-1}},1175:(e,t,n)=>{var r=n(6025);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},3040:(e,t,n)=>{var r=n(1549),o=n(79),i=n(8223);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},7670:(e,t,n)=>{var r=n(2651);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).get(e)}},4509:(e,t,n)=>{var r=n(2651);e.exports=function(e){return r(this,e).has(e)}},2949:(e,t,n)=>{var r=n(2651);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},317:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},7197:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},2224:(e,t,n)=>{var r=n(104);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1042:(e,t,n)=>{var r=n(6110)(Object,"create");e.exports=r},3650:(e,t,n)=>{var r=n(4335)(Object.keys,Object);e.exports=r},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},6009:(e,t,n)=>{e=n.nmd(e);var r=n(4840),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},4335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},9138:(e,t,n)=>{var r=n(1033),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),l=Array(s);++a<s;)l[a]=i[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=i[a];return c[t]=n(l),r(e,this,c)}}},9325:(e,t,n)=>{var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},4247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2865:(e,t,n)=>{var r=n(9570),o=n(1811)(r);e.exports=o},1811:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),i=16-(o-r);if(r=o,i>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},1420:(e,t,n)=>{var r=n(79);e.exports=function(){this.__data__=new r,this.size=0}},938:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},945:(e,t,n)=>{var r=n(79),o=n(8223),i=n(3661);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},6959:e=>{e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},3912:(e,t,n)=>{var r=n(1074),o=n(9698),i=n(2054);e.exports=function(e){return o(e)?i(e):r(e)}},1802:(e,t,n)=>{var r=n(2224),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},7797:(e,t,n)=>{var r=n(4394);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1800:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},2054:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+c+l+")*"),d="(?:"+[i+r+"?",r,a,s,n].join("|")+")",f=RegExp(o+"(?="+o+")|"+d+u,"g");e.exports=function(e){return e.match(f)||[]}},8055:(e,t,n)=>{var r=n(9999);e.exports=function(e){return r(e,5)}},7334:e=>{e.exports=function(e){return function(){return e}}},8221:(e,t,n)=>{var r=n(3805),o=n(124),i=n(9374),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,f,p,h=0,m=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-p;return void 0===p||n>=t||n<0||v&&e-h>=u}function w(){var e=o();if(b(e))return x(e);f=setTimeout(w,function(e){var n=t-(e-p);return v?s(n,u-(e-h)):n}(e))}function x(e){return f=void 0,g&&l?y(e):(l=c=void 0,d)}function S(){var e=o(),n=b(e);if(l=arguments,c=this,p=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(w,t),m?y(e):d}(p);if(v)return clearTimeout(f),f=setTimeout(w,t),y(p)}return void 0===f&&(f=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(v="maxWait"in n)?a(i(n.maxWait)||0,t):u,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==f&&clearTimeout(f),h=0,l=p=c=f=void 0},S.flush=function(){return void 0===f?d:x(o())},S}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},9747:(e,t,n)=>{var r=n(7277),o=n(3777),i=n(5389),a=n(6449),s=n(6800);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},7309:(e,t,n)=>{var r=n(2006)(n(4713));e.exports=r},4713:(e,t,n)=>{var r=n(2523),o=n(5389),i=n(1489),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:i(n);return l<0&&(l=a(s+l,0)),r(e,o(t,3),l)}},6170:(e,t,n)=>{e.exports=n(912)},7307:(e,t,n)=>{var r=n(3120),o=n(5378);e.exports=function(e,t){return r(o(e,t),1)}},8156:(e,t,n)=>{var r=n(7422);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},631:(e,t,n)=>{var r=n(8077),o=n(9326);e.exports=function(e,t){return null!=e&&o(e,t,r)}},912:e=>{e.exports=function(e){return e&&e.length?e[0]:void 0}},3488:e=>{e.exports=function(e){return e}},2428:(e,t,n)=>{var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},6449:e=>{var t=Array.isArray;e.exports=t},4894:(e,t,n)=>{var r=n(1882),o=n(294);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},3812:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return!0===e||!1===e||o(e)&&"[object Boolean]"==r(e)}},3656:(e,t,n)=>{e=n.nmd(e);var r=n(9325),o=n(9935),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},2404:(e,t,n)=>{var r=n(270);e.exports=function(e,t){return r(e,t)}},1882:(e,t,n)=>{var r=n(2552),o=n(3805);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7730:(e,t,n)=>{var r=n(9172),o=n(7301),i=n(6009),a=i&&i.isMap,s=a?o(a):r;e.exports=s},1741:(e,t,n)=>{var r=n(8023);e.exports=function(e){return r(e)&&e!=+e}},9843:e=>{e.exports=function(e){return null==e}},8023:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1331:(e,t,n)=>{var r=n(2552),o=n(8879),i=n(346),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},8440:(e,t,n)=>{var r=n(6038),o=n(7301),i=n(6009),a=i&&i.isSet,s=a?o(a):r;e.exports=s},5015:(e,t,n)=>{var r=n(2552),o=n(6449),i=n(346);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},4394:(e,t,n)=>{var r=n(2552),o=n(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},7167:(e,t,n)=>{var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},5950:(e,t,n)=>{var r=n(695),o=n(8984),i=n(4894);e.exports=function(e){return i(e)?r(e):o(e)}},7241:(e,t,n)=>{var r=n(695),o=n(2903),i=n(4894);e.exports=function(e){return i(e)?r(e,!0):o(e)}},8090:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},2543:function(e,t,n){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */e=n.nmd(e),function(){var o,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,f=256,p=1/0,h=9007199254740991,m=NaN,v=4294967295,g=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",f]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",S="[object Error]",k="[object Function]",E="[object GeneratorFunction]",O="[object Map]",j="[object Number]",_="[object Object]",C="[object Promise]",T="[object RegExp]",P="[object Set]",A="[object String]",N="[object Symbol]",M="[object WeakMap]",I="[object ArrayBuffer]",R="[object DataView]",L="[object Float32Array]",D="[object Float64Array]",F="[object Int8Array]",z="[object Int16Array]",B="[object Int32Array]",$="[object Uint8Array]",U="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,K=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Y=RegExp(K.source),Z=RegExp(X.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oe=/[\\^$.*+?()[\]{}|]/g,ie=RegExp(oe.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fe=/[()=,{}\[\]\/\s]/,pe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Ee="\\ud800-\\udfff",Oe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",je="\\u2700-\\u27bf",_e="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ae="['’]",Ne="["+Ee+"]",Me="["+Pe+"]",Ie="["+Oe+"]",Re="\\d+",Le="["+je+"]",De="["+_e+"]",Fe="[^"+Ee+Pe+Re+je+_e+Ce+"]",ze="\\ud83c[\\udffb-\\udfff]",Be="[^"+Ee+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ce+"]",He="\\u200d",We="(?:"+De+"|"+Fe+")",qe="(?:"+Ve+"|"+Fe+")",Ge="(?:['’](?:d|ll|m|re|s|t|ve))?",Ke="(?:['’](?:D|LL|M|RE|S|T|VE))?",Xe="(?:"+Ie+"|"+ze+")"+"?",Ye="["+Te+"]?",Ze=Ye+Xe+("(?:"+He+"(?:"+[Be,$e,Ue].join("|")+")"+Ye+Xe+")*"),Je="(?:"+[Le,$e,Ue].join("|")+")"+Ze,Qe="(?:"+[Be+Ie+"?",Ie,$e,Ue,Ne].join("|")+")",et=RegExp(Ae,"g"),tt=RegExp(Ie,"g"),nt=RegExp(ze+"(?="+ze+")|"+Qe+Ze,"g"),rt=RegExp([Ve+"?"+De+"+"+Ge+"(?="+[Me,Ve,"$"].join("|")+")",qe+"+"+Ke+"(?="+[Me,Ve+We,"$"].join("|")+")",Ve+"?"+We+"+"+Ge,Ve+"+"+Ke,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Je].join("|"),"g"),ot=RegExp("["+He+Ee+Oe+Te+"]"),it=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,lt={};lt[L]=lt[D]=lt[F]=lt[z]=lt[B]=lt[$]=lt[U]=lt[V]=lt[H]=!0,lt[y]=lt[b]=lt[I]=lt[w]=lt[R]=lt[x]=lt[S]=lt[k]=lt[O]=lt[j]=lt[_]=lt[T]=lt[P]=lt[A]=lt[M]=!1;var ct={};ct[y]=ct[b]=ct[I]=ct[R]=ct[w]=ct[x]=ct[L]=ct[D]=ct[F]=ct[z]=ct[B]=ct[O]=ct[j]=ct[_]=ct[T]=ct[P]=ct[A]=ct[N]=ct[$]=ct[U]=ct[V]=ct[H]=!0,ct[S]=ct[k]=ct[M]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},dt=parseFloat,ft=parseInt,pt="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,mt=pt||ht||Function("return this")(),vt=t&&!t.nodeType&&t,gt=vt&&e&&!e.nodeType&&e,yt=gt&&gt.exports===vt,bt=yt&&pt.process,wt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(e){}}(),xt=wt&&wt.isArrayBuffer,St=wt&&wt.isDate,kt=wt&&wt.isMap,Et=wt&&wt.isRegExp,Ot=wt&&wt.isSet,jt=wt&&wt.isTypedArray;function _t(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ct(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Pt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Mt(e,t){return!!(null==e?0:e.length)&&Vt(e,t,0)>-1}function It(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function Lt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Dt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Bt=Gt("length");function $t(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function Ut(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Vt(e,t,n){return t==t?function(e,t,n){var r=n-1,o=e.length;for(;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Wt,n)}function Ht(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Wt(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:m}function Gt(e){return function(t){return null==t?o:t[e]}}function Kt(e){return function(t){return null==e?o:e[t]}}function Xt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Yt(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);a!==o&&(n=n===o?a:n+a)}return n}function Zt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Jt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function en(e,t){return Rt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&Vt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&Vt(t,e[n],0)>-1;);return n}var on=Kt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sn(e){return"\\"+ut[e]}function ln(e){return ot.test(e)}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function un(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,i[o++]=n)}return i}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function hn(e){return ln(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Bt(e)}function mn(e){return ln(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yn=function e(t){var n,r=(t=null==t?mt:yn.defaults(mt.Object(),t,yn.pick(mt,at))).Array,se=t.Date,Ee=t.Error,Oe=t.Function,je=t.Math,_e=t.Object,Ce=t.RegExp,Te=t.String,Pe=t.TypeError,Ae=r.prototype,Ne=Oe.prototype,Me=_e.prototype,Ie=t["__core-js_shared__"],Re=Ne.toString,Le=Me.hasOwnProperty,De=0,Fe=(n=/[^.]+$/.exec(Ie&&Ie.keys&&Ie.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ze=Me.toString,Be=Re.call(_e),$e=mt._,Ue=Ce("^"+Re.call(Le).replace(oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=yt?t.Buffer:o,He=t.Symbol,We=t.Uint8Array,qe=Ve?Ve.allocUnsafe:o,Ge=un(_e.getPrototypeOf,_e),Ke=_e.create,Xe=Me.propertyIsEnumerable,Ye=Ae.splice,Ze=He?He.isConcatSpreadable:o,Je=He?He.iterator:o,Qe=He?He.toStringTag:o,nt=function(){try{var e=pi(_e,"defineProperty");return e({},"",{}),e}catch(e){}}(),ot=t.clearTimeout!==mt.clearTimeout&&t.clearTimeout,ut=se&&se.now!==mt.Date.now&&se.now,pt=t.setTimeout!==mt.setTimeout&&t.setTimeout,ht=je.ceil,vt=je.floor,gt=_e.getOwnPropertySymbols,bt=Ve?Ve.isBuffer:o,wt=t.isFinite,Bt=Ae.join,Kt=un(_e.keys,_e),bn=je.max,wn=je.min,xn=se.now,Sn=t.parseInt,kn=je.random,En=Ae.reverse,On=pi(t,"DataView"),jn=pi(t,"Map"),_n=pi(t,"Promise"),Cn=pi(t,"Set"),Tn=pi(t,"WeakMap"),Pn=pi(_e,"create"),An=Tn&&new Tn,Nn={},Mn=zi(On),In=zi(jn),Rn=zi(_n),Ln=zi(Cn),Dn=zi(Tn),Fn=He?He.prototype:o,zn=Fn?Fn.valueOf:o,Bn=Fn?Fn.toString:o;function $n(e){if(ns(e)&&!Wa(e)&&!(e instanceof Wn)){if(e instanceof Hn)return e;if(Le.call(e,"__wrapped__"))return Bi(e)}return new Hn(e)}var Un=function(){function e(){}return function(t){if(!ts(t))return{};if(Ke)return Ke(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function Vn(){}function Hn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new Gn(e);this.size=t.size}function Zn(e,t){var n=Wa(e),r=!n&&Ha(e),o=!n&&!r&&Xa(e),i=!n&&!r&&!o&&us(e),a=n||r||o||i,s=a?Zt(e.length,Te):[],l=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wi(c,l))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Xr(0,t-1)]:o}function Qn(e,t){return Li(Ao(e),lr(t,0,e.length))}function er(e){return Li(Ao(e))}function tr(e,t,n){(n!==o&&!$a(e[t],n)||n===o&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Le.call(e,t)&&$a(r,n)&&(n!==o||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function or(e,t,n,r){return pr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function ir(e,t){return e&&No(t,Ns(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var n=-1,i=t.length,a=r(i),s=null==e;++n<i;)a[n]=s?o:_s(e,t[n]);return a}function lr(e,t,n){return e==e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function cr(e,t,n,r,i,a){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=i?n(e,r,i,a):n(e)),s!==o)return s;if(!ts(e))return e;var d=Wa(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!l)return Ao(e,s)}else{var f=vi(e),p=f==k||f==E;if(Xa(e))return Oo(e,l);if(f==_||f==y||p&&!i){if(s=c||p?{}:yi(e),!l)return c?function(e,t){return No(e,mi(e),t)}(e,function(e,t){return e&&No(t,Ms(t),e)}(s,e)):function(e,t){return No(e,hi(e),t)}(e,ir(s,e))}else{if(!ct[f])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case I:return jo(e);case w:case x:return new r(+e);case R:return function(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case D:case F:case z:case B:case $:case U:case V:case H:return _o(e,n);case O:return new r;case j:case A:return new r(e);case T:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case N:return o=e,zn?_e(zn.call(o)):{}}var o}(e,f,l)}}a||(a=new Yn);var h=a.get(e);if(h)return h;a.set(e,s),ss(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):rs(e)&&e.forEach((function(r,o){s.set(o,cr(r,t,n,o,e,a))}));var m=d?o:(u?c?ai:ii:c?Ms:Ns)(e);return Tt(m||e,(function(r,o){m&&(r=e[o=r]),nr(s,o,cr(r,t,n,o,e,a))})),s}function ur(e,t,n){var r=n.length;if(null==e)return!r;for(e=_e(e);r--;){var i=n[r],a=t[i],s=e[i];if(s===o&&!(i in e)||!a(s))return!1}return!0}function dr(e,t,n){if("function"!=typeof e)throw new Pe(i);return Ni((function(){e.apply(o,n)}),t)}function fr(e,t,n,r){var o=-1,i=Mt,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Rt(t,Qt(n))),r?(i=It,a=!1):t.length>=200&&(i=tn,a=!1,t=new Xn(t));e:for(;++o<s;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;l.push(u)}else i(t,d,r)||l.push(u)}return l}$n.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:$n}},$n.prototype=Vn.prototype,$n.prototype.constructor=$n,Hn.prototype=Un(Vn.prototype),Hn.prototype.constructor=Hn,Wn.prototype=Un(Vn.prototype),Wn.prototype.constructor=Wn,qn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},qn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},qn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?o:n}return Le.call(t,e)?t[e]:o},qn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==o:Le.call(t,e)},qn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===o?a:t,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)},Gn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?o:t[n][1]},Gn.prototype.has=function(e){return rr(this.__data__,e)>-1},Gn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(jn||Gn),string:new qn}},Kn.prototype.delete=function(e){var t=di(this,e).delete(e);return this.size-=t?1:0,t},Kn.prototype.get=function(e){return di(this,e).get(e)},Kn.prototype.has=function(e){return di(this,e).has(e)},Kn.prototype.set=function(e,t){var n=di(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Xn.prototype.add=Xn.prototype.push=function(e){return this.__data__.set(e,a),this},Xn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Gn){var r=n.__data__;if(!jn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ro(xr),hr=Ro(Sr,!0);function mr(e,t){var n=!0;return pr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function vr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],s=t(a);if(null!=s&&(l===o?s==s&&!cs(s):n(s,l)))var l=s,c=a}return c}function gr(e,t){var n=[];return pr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function yr(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=bi),o||(o=[]);++i<a;){var s=e[i];t>0&&n(s)?t>1?yr(s,t-1,n,r,o):Lt(o,s):r||(o[o.length]=s)}return o}var br=Lo(),wr=Lo(!0);function xr(e,t){return e&&br(e,t,Ns)}function Sr(e,t){return e&&wr(e,t,Ns)}function kr(e,t){return Nt(t,(function(t){return Ja(e[t])}))}function Er(e,t){for(var n=0,r=(t=xo(t,e)).length;null!=e&&n<r;)e=e[Fi(t[n++])];return n&&n==r?e:o}function Or(e,t,n){var r=t(e);return Wa(e)?r:Lt(r,n(e))}function jr(e){return null==e?e===o?"[object Undefined]":"[object Null]":Qe&&Qe in _e(e)?function(e){var t=Le.call(e,Qe),n=e[Qe];try{e[Qe]=o;var r=!0}catch(e){}var i=ze.call(e);r&&(t?e[Qe]=n:delete e[Qe]);return i}(e):function(e){return ze.call(e)}(e)}function _r(e,t){return e>t}function Cr(e,t){return null!=e&&Le.call(e,t)}function Tr(e,t){return null!=e&&t in _e(e)}function Pr(e,t,n){for(var i=n?It:Mt,a=e[0].length,s=e.length,l=s,c=r(s),u=1/0,d=[];l--;){var f=e[l];l&&t&&(f=Rt(f,Qt(t))),u=wn(f.length,u),c[l]=!n&&(t||a>=120&&f.length>=120)?new Xn(l&&f):o}f=e[0];var p=-1,h=c[0];e:for(;++p<a&&d.length<u;){var m=f[p],v=t?t(m):m;if(m=n||0!==m?m:0,!(h?tn(h,v):i(d,v,n))){for(l=s;--l;){var g=c[l];if(!(g?tn(g,v):i(e[l],v,n)))continue e}h&&h.push(v),d.push(m)}}return d}function Ar(e,t,n){var r=null==(e=Ti(e,t=xo(t,e)))?e:e[Fi(Zi(t))];return null==r?o:_t(r,e,n)}function Nr(e){return ns(e)&&jr(e)==y}function Mr(e,t,n,r,i){return e===t||(null==e||null==t||!ns(e)&&!ns(t)?e!=e&&t!=t:function(e,t,n,r,i,a){var s=Wa(e),l=Wa(t),c=s?b:vi(e),u=l?b:vi(t),d=(c=c==y?_:c)==_,f=(u=u==y?_:u)==_,p=c==u;if(p&&Xa(e)){if(!Xa(t))return!1;s=!0,d=!1}if(p&&!d)return a||(a=new Yn),s||us(e)?ri(e,t,n,r,i,a):function(e,t,n,r,o,i,a){switch(n){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!i(new We(e),new We(t)));case w:case x:case j:return $a(+e,+t);case S:return e.name==t.name&&e.message==t.message;case T:case A:return e==t+"";case O:var s=cn;case P:var l=1&r;if(s||(s=fn),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=ri(s(e),s(t),r,o,i,a);return a.delete(e),u;case N:if(zn)return zn.call(e)==zn.call(t)}return!1}(e,t,c,n,r,i,a);if(!(1&n)){var h=d&&Le.call(e,"__wrapped__"),m=f&&Le.call(t,"__wrapped__");if(h||m){var v=h?e.value():e,g=m?t.value():t;return a||(a=new Yn),i(v,g,n,r,a)}}if(!p)return!1;return a||(a=new Yn),function(e,t,n,r,i,a){var s=1&n,l=ii(e),c=l.length,u=ii(t),d=u.length;if(c!=d&&!s)return!1;var f=c;for(;f--;){var p=l[f];if(!(s?p in t:Le.call(t,p)))return!1}var h=a.get(e),m=a.get(t);if(h&&m)return h==t&&m==e;var v=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<c;){var y=e[p=l[f]],b=t[p];if(r)var w=s?r(b,y,p,t,e,a):r(y,b,p,e,t,a);if(!(w===o?y===b||i(y,b,n,r,a):w)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var x=e.constructor,S=t.constructor;x==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof S&&S instanceof S||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,i,a)}(e,t,n,r,Mr,i))}function Ir(e,t,n,r){var i=n.length,a=i,s=!r;if(null==e)return!a;for(e=_e(e);i--;){var l=n[i];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){var c=(l=n[i])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===o&&!(c in e))return!1}else{var f=new Yn;if(r)var p=r(u,d,c,e,t,f);if(!(p===o?Mr(d,u,3,r,f):p))return!1}}return!0}function Rr(e){return!(!ts(e)||(t=e,Fe&&Fe in t))&&(Ja(e)?Ue:ye).test(zi(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ol:"object"==typeof e?Wa(e)?Ur(e[0],e[1]):$r(e):pl(e)}function Dr(e){if(!Oi(e))return Kt(e);var t=[];for(var n in _e(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ts(e))return function(e){var t=[];if(null!=e)for(var n in _e(e))t.push(n);return t}(e);var t=Oi(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function zr(e,t){return e<t}function Br(e,t){var n=-1,o=Ga(e)?r(e.length):[];return pr(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}function $r(e){var t=fi(e);return 1==t.length&&t[0][2]?_i(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Ur(e,t){return Si(e)&&ji(t)?_i(Fi(e),t):function(n){var r=_s(n,e);return r===o&&r===t?Cs(n,e):Mr(t,r,3)}}function Vr(e,t,n,r,i){e!==t&&br(t,(function(a,s){if(i||(i=new Yn),ts(a))!function(e,t,n,r,i,a,s){var l=Pi(e,n),c=Pi(t,n),u=s.get(c);if(u)return void tr(e,n,u);var d=a?a(l,c,n+"",e,t,s):o,f=d===o;if(f){var p=Wa(c),h=!p&&Xa(c),m=!p&&!h&&us(c);d=c,p||h||m?Wa(l)?d=l:Ka(l)?d=Ao(l):h?(f=!1,d=Oo(c,!0)):m?(f=!1,d=_o(c,!0)):d=[]:is(c)||Ha(c)?(d=l,Ha(l)?d=ys(l):ts(l)&&!Ja(l)||(d=yi(c))):f=!1}f&&(s.set(c,d),i(d,c,r,a,s),s.delete(c));tr(e,n,d)}(e,t,s,n,Vr,r,i);else{var l=r?r(Pi(e,s),a,s+"",e,t,i):o;l===o&&(l=a),tr(e,s,l)}}),Ms)}function Hr(e,t){var n=e.length;if(n)return wi(t+=t<0?n:0,n)?e[t]:o}function Wr(e,t,n){t=t.length?Rt(t,(function(e){return Wa(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[ol];var r=-1;t=Rt(t,Qt(ui()));var o=Br(e,(function(e,n,o){var i=Rt(t,(function(t){return t(e)}));return{criteria:i,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(o,(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var l=Co(o[r],i[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function qr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],s=Er(e,a);n(s,a)&&eo(i,xo(a,e),s)}return i}function Gr(e,t,n,r){var o=r?Ht:Vt,i=-1,a=t.length,s=e;for(e===t&&(t=Ao(t)),n&&(s=Rt(e,Qt(n)));++i<a;)for(var l=0,c=t[i],u=n?n(c):c;(l=o(s,u,l,r))>-1;)s!==e&&Ye.call(s,l,1),Ye.call(e,l,1);return e}function Kr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;wi(o)?Ye.call(e,o,1):po(e,o)}}return e}function Xr(e,t){return e+vt(kn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Zr(e,t){return Mi(Ci(e,t,ol),e+"")}function Jr(e){return Jn($s(e))}function Qr(e,t){var n=$s(e);return Li(n,lr(t,0,n.length))}function eo(e,t,n,r){if(!ts(e))return e;for(var i=-1,a=(t=xo(t,e)).length,s=a-1,l=e;null!=l&&++i<a;){var c=Fi(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var d=l[c];(u=r?r(d,c,l):o)===o&&(u=ts(d)?d:wi(t[i+1])?[]:{})}nr(l,c,u),l=l[c]}return e}var to=An?function(e,t){return An.set(e,t),e}:ol,no=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:tl(t),writable:!0})}:ol;function ro(e){return Li($s(e))}function oo(e,t,n){var o=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=r(i);++o<i;)a[o]=e[o+t];return a}function io(e,t){var n;return pr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function ao(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!cs(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return so(e,t,ol,n)}function so(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,l=null===t,c=cs(t),u=t===o;i<a;){var d=vt((i+a)/2),f=n(e[d]),p=f!==o,h=null===f,m=f==f,v=cs(f);if(s)var g=r||m;else g=u?m&&(r||p):l?m&&p&&(r||!h):c?m&&p&&!h&&(r||!v):!h&&!v&&(r?f<=t:f<t);g?i=d+1:a=d}return wn(a,4294967294)}function lo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!$a(s,l)){var l=s;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:cs(e)?m:+e}function uo(e){if("string"==typeof e)return e;if(Wa(e))return Rt(e,uo)+"";if(cs(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fo(e,t,n){var r=-1,o=Mt,i=e.length,a=!0,s=[],l=s;if(n)a=!1,o=It;else if(i>=200){var c=t?null:Zo(e);if(c)return fn(c);a=!1,o=tn,l=new Xn}else l=t?[]:s;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),s.push(u)}else o(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function po(e,t){return null==(e=Ti(e,t=xo(t,e)))||delete e[Fi(Zi(t))]}function ho(e,t,n,r){return eo(e,t,n(Er(e,t)),r)}function mo(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?oo(e,r?0:i,r?i+1:o):oo(e,r?i+1:0,r?o:i)}function vo(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,Lt([e],t.args))}),n)}function go(e,t,n){var o=e.length;if(o<2)return o?fo(e[0]):[];for(var i=-1,a=r(o);++i<o;)for(var s=e[i],l=-1;++l<o;)l!=i&&(a[i]=fr(a[i]||s,e[l],t,n));return fo(yr(a,1),t,n)}function yo(e,t,n){for(var r=-1,i=e.length,a=t.length,s={};++r<i;){var l=r<a?t[r]:o;n(s,e[r],l)}return s}function bo(e){return Ka(e)?e:[]}function wo(e){return"function"==typeof e?e:ol}function xo(e,t){return Wa(e)?e:Si(e,t)?[e]:Di(bs(e))}var So=Zr;function ko(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:oo(e,t,n)}var Eo=ot||function(e){return mt.clearTimeout(e)};function Oo(e,t){if(t)return e.slice();var n=e.length,r=qe?qe(n):new e.constructor(n);return e.copy(r),r}function jo(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function _o(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Co(e,t){if(e!==t){var n=e!==o,r=null===e,i=e==e,a=cs(e),s=t!==o,l=null===t,c=t==t,u=cs(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!s&&i||!c)return-1}return 0}function To(e,t,n,o){for(var i=-1,a=e.length,s=n.length,l=-1,c=t.length,u=bn(a-s,0),d=r(c+u),f=!o;++l<c;)d[l]=t[l];for(;++i<s;)(f||i<a)&&(d[n[i]]=e[i]);for(;u--;)d[l++]=e[i++];return d}function Po(e,t,n,o){for(var i=-1,a=e.length,s=-1,l=n.length,c=-1,u=t.length,d=bn(a-l,0),f=r(d+u),p=!o;++i<d;)f[i]=e[i];for(var h=i;++c<u;)f[h+c]=t[c];for(;++s<l;)(p||i<a)&&(f[h+n[s]]=e[i++]);return f}function Ao(e,t){var n=-1,o=e.length;for(t||(t=r(o));++n<o;)t[n]=e[n];return t}function No(e,t,n,r){var i=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):o;c===o&&(c=e[l]),i?ar(n,l,c):nr(n,l,c)}return n}function Mo(e,t){return function(n,r){var o=Wa(n)?Ct:or,i=t?t():{};return o(n,e,ui(r,2),i)}}function Io(e){return Zr((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:o,s=i>2?n[2]:o;for(a=e.length>3&&"function"==typeof a?(i--,a):o,s&&xi(n[0],n[1],s)&&(a=i<3?o:a,i=1),t=_e(t);++r<i;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Ro(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=_e(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Lo(e){return function(t,n,r){for(var o=-1,i=_e(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}function Do(e){return function(t){var n=ln(t=bs(t))?mn(t):o,r=n?n[0]:t.charAt(0),i=n?ko(n,1).join(""):t.slice(1);return r[e]()+i}}function Fo(e){return function(t){return Dt(Js(Hs(t).replace(et,"")),e,"")}}function zo(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Un(e.prototype),r=e.apply(n,t);return ts(r)?r:n}}function Bo(e){return function(t,n,r){var i=_e(t);if(!Ga(t)){var a=ui(n,3);t=Ns(t),n=function(e){return a(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[a?t[s]:s]:o}}function $o(e){return oi((function(t){var n=t.length,r=n,a=Hn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Pe(i);if(a&&!l&&"wrapper"==li(s))var l=new Hn([],!0)}for(r=l?r:n;++r<n;){var c=li(s=t[r]),u="wrapper"==c?si(s):o;l=u&&ki(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[li(u[0])].apply(l,u[3]):1==s.length&&ki(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Wa(r))return l.plant(r).value();for(var o=0,i=n?t[o].apply(this,e):r;++o<n;)i=t[o].call(this,i);return i}}))}function Uo(e,t,n,i,a,s,l,c,u,f){var p=t&d,h=1&t,m=2&t,v=24&t,g=512&t,y=m?o:zo(e);return function d(){for(var b=arguments.length,w=r(b),x=b;x--;)w[x]=arguments[x];if(v)var S=ci(d),k=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(w,S);if(i&&(w=To(w,i,a,v)),s&&(w=Po(w,s,l,v)),b-=k,v&&b<f){var E=dn(w,S);return Xo(e,t,Uo,d.placeholder,n,w,E,c,u,f-b)}var O=h?n:this,j=m?O[e]:e;return b=w.length,c?w=function(e,t){var n=e.length,r=wn(t.length,n),i=Ao(e);for(;r--;){var a=t[r];e[r]=wi(a,n)?i[a]:o}return e}(w,c):g&&b>1&&w.reverse(),p&&u<b&&(w.length=u),this&&this!==mt&&this instanceof d&&(j=y||zo(j)),j.apply(O,w)}}function Vo(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Ho(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;"string"==typeof n||"string"==typeof r?(n=uo(n),r=uo(r)):(n=co(n),r=co(r)),i=e(n,r)}return i}}function Wo(e){return oi((function(t){return t=Rt(t,Qt(ui())),Zr((function(n){var r=this;return e(t,(function(e){return _t(e,r,n)}))}))}))}function qo(e,t){var n=(t=t===o?" ":uo(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,ht(e/hn(t)));return ln(t)?ko(mn(r),0,e).join(""):r.slice(0,e)}function Go(e){return function(t,n,i){return i&&"number"!=typeof i&&xi(t,n,i)&&(n=i=o),t=hs(t),n===o?(n=t,t=0):n=hs(n),function(e,t,n,o){for(var i=-1,a=bn(ht((t-e)/(n||1)),0),s=r(a);a--;)s[o?a:++i]=e,e+=n;return s}(t,n,i=i===o?t<n?1:-1:hs(i),e)}}function Ko(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=gs(t),n=gs(n)),e(t,n)}}function Xo(e,t,n,r,i,a,s,l,d,f){var p=8&t;t|=p?c:u,4&(t&=~(p?u:c))||(t&=-4);var h=[e,t,i,p?a:o,p?s:o,p?o:a,p?o:s,l,d,f],m=n.apply(o,h);return ki(e)&&Ai(m,h),m.placeholder=r,Ii(m,e,t)}function Yo(e){var t=je[e];return function(e,n){if(e=gs(e),(n=null==n?0:wn(ms(n),292))&&wt(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Zo=Cn&&1/fn(new Cn([,-0]))[1]==p?function(e){return new Cn(e)}:cl;function Jo(e){return function(t){var n=vi(t);return n==O?cn(t):n==P?pn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Qo(e,t,n,a,p,h,m,v){var g=2&t;if(!g&&"function"!=typeof e)throw new Pe(i);var y=a?a.length:0;if(y||(t&=-97,a=p=o),m=m===o?m:bn(ms(m),0),v=v===o?v:ms(v),y-=p?p.length:0,t&u){var b=a,w=p;a=p=o}var x=g?o:si(e),S=[e,t,n,a,p,b,w,h,m,v];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,i=o<131,a=r==d&&8==n||r==d&&n==f&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!i&&!a)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?To(c,l,t[4]):l,e[4]=c?dn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Po(c,l,t[6]):l,e[6]=c?dn(e[5],s):t[6]);(l=t[7])&&(e[7]=l);r&d&&(e[8]=null==e[8]?t[8]:wn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=o}(S,x),e=S[0],t=S[1],n=S[2],a=S[3],p=S[4],!(v=S[9]=S[9]===o?g?0:e.length:bn(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,n){var i=zo(e);return function a(){for(var s=arguments.length,l=r(s),c=s,u=ci(a);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:dn(l,u);return(s-=d.length)<n?Xo(e,t,Uo,a.placeholder,o,l,d,o,o,n-s):_t(this&&this!==mt&&this instanceof a?i:e,this,l)}}(e,t,v):t!=c&&33!=t||p.length?Uo.apply(o,S):function(e,t,n,o){var i=1&t,a=zo(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=o.length,d=r(u+l),f=this&&this!==mt&&this instanceof t?a:e;++c<u;)d[c]=o[c];for(;l--;)d[c++]=arguments[++s];return _t(f,i?n:this,d)}}(e,t,n,a);else var k=function(e,t,n){var r=1&t,o=zo(e);return function t(){return(this&&this!==mt&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Ii((x?to:Ai)(k,S),e,t)}function ei(e,t,n,r){return e===o||$a(e,Me[n])&&!Le.call(r,n)?t:e}function ti(e,t,n,r,i,a){return ts(e)&&ts(t)&&(a.set(t,e),Vr(e,t,o,ti,a),a.delete(t)),e}function ni(e){return is(e)?o:e}function ri(e,t,n,r,i,a){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,h=2&n?new Xn:o;for(a.set(e,t),a.set(t,e);++f<l;){var m=e[f],v=t[f];if(r)var g=s?r(v,m,f,t,e,a):r(m,v,f,e,t,a);if(g!==o){if(g)continue;p=!1;break}if(h){if(!zt(t,(function(e,t){if(!tn(h,t)&&(m===e||i(m,e,n,r,a)))return h.push(t)}))){p=!1;break}}else if(m!==v&&!i(m,v,n,r,a)){p=!1;break}}return a.delete(e),a.delete(t),p}function oi(e){return Mi(Ci(e,o,qi),e+"")}function ii(e){return Or(e,Ns,hi)}function ai(e){return Or(e,Ms,mi)}var si=An?function(e){return An.get(e)}:cl;function li(e){for(var t=e.name+"",n=Nn[t],r=Le.call(Nn,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Le.call($n,"placeholder")?$n:e).placeholder}function ui(){var e=$n.iteratee||il;return e=e===il?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function di(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function fi(e){for(var t=Ns(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,ji(o)]}return t}function pi(e,t){var n=function(e,t){return null==e?o:e[t]}(e,t);return Rr(n)?n:o}var hi=gt?function(e){return null==e?[]:(e=_e(e),Nt(gt(e),(function(t){return Xe.call(e,t)})))}:vl,mi=gt?function(e){for(var t=[];e;)Lt(t,hi(e)),e=Ge(e);return t}:vl,vi=jr;function gi(e,t,n){for(var r=-1,o=(t=xo(t,e)).length,i=!1;++r<o;){var a=Fi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&es(o)&&wi(a,o)&&(Wa(e)||Ha(e))}function yi(e){return"function"!=typeof e.constructor||Oi(e)?{}:Un(Ge(e))}function bi(e){return Wa(e)||Ha(e)||!!(Ze&&e&&e[Ze])}function wi(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!ts(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&wi(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function Si(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cs(e))||(ne.test(e)||!te.test(e)||null!=t&&e in _e(t))}function ki(e){var t=li(e),n=$n[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=si(n);return!!r&&e===r[0]}(On&&vi(new On(new ArrayBuffer(1)))!=R||jn&&vi(new jn)!=O||_n&&vi(_n.resolve())!=C||Cn&&vi(new Cn)!=P||Tn&&vi(new Tn)!=M)&&(vi=function(e){var t=jr(e),n=t==_?e.constructor:o,r=n?zi(n):"";if(r)switch(r){case Mn:return R;case In:return O;case Rn:return C;case Ln:return P;case Dn:return M}return t});var Ei=Ie?Ja:gl;function Oi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Me)}function ji(e){return e==e&&!ts(e)}function _i(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==o||e in _e(n)))}}function Ci(e,t,n){return t=bn(t===o?e.length-1:t,0),function(){for(var o=arguments,i=-1,a=bn(o.length-t,0),s=r(a);++i<a;)s[i]=o[t+i];i=-1;for(var l=r(t+1);++i<t;)l[i]=o[i];return l[t]=n(s),_t(e,this,l)}}function Ti(e,t){return t.length<2?e:Er(e,oo(t,0,-1))}function Pi(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ai=Ri(to),Ni=pt||function(e,t){return mt.setTimeout(e,t)},Mi=Ri(no);function Ii(e,t,n){var r=t+"";return Mi(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!Mt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function Ri(e){var t=0,n=0;return function(){var r=xn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Li(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var a=Xr(n,i),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Di=function(e){var t=Ra(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,o){t.push(r?o.replace(pe,"$1"):n||e)})),t}));function Fi(e){if("string"==typeof e||cs(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zi(e){if(null!=e){try{return Re.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Bi(e){if(e instanceof Wn)return e.clone();var t=new Hn(e.__wrapped__,e.__chain__);return t.__actions__=Ao(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $i=Zr((function(e,t){return Ka(e)?fr(e,yr(t,1,Ka,!0)):[]})),Ui=Zr((function(e,t){var n=Zi(t);return Ka(n)&&(n=o),Ka(e)?fr(e,yr(t,1,Ka,!0),ui(n,2)):[]})),Vi=Zr((function(e,t){var n=Zi(t);return Ka(n)&&(n=o),Ka(e)?fr(e,yr(t,1,Ka,!0),o,n):[]}));function Hi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ms(n);return o<0&&(o=bn(r+o,0)),Ut(e,ui(t,3),o)}function Wi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=ms(n),i=n<0?bn(r+i,0):wn(i,r-1)),Ut(e,ui(t,3),i,!0)}function qi(e){return(null==e?0:e.length)?yr(e,1):[]}function Gi(e){return e&&e.length?e[0]:o}var Ki=Zr((function(e){var t=Rt(e,bo);return t.length&&t[0]===e[0]?Pr(t):[]})),Xi=Zr((function(e){var t=Zi(e),n=Rt(e,bo);return t===Zi(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Pr(n,ui(t,2)):[]})),Yi=Zr((function(e){var t=Zi(e),n=Rt(e,bo);return(t="function"==typeof t?t:o)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,o,t):[]}));function Zi(e){var t=null==e?0:e.length;return t?e[t-1]:o}var Ji=Zr(Qi);function Qi(e,t){return e&&e.length&&t&&t.length?Gr(e,t):e}var ea=oi((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Kr(e,Rt(t,(function(e){return wi(e,n)?+e:e})).sort(Co)),r}));function ta(e){return null==e?e:En.call(e)}var na=Zr((function(e){return fo(yr(e,1,Ka,!0))})),ra=Zr((function(e){var t=Zi(e);return Ka(t)&&(t=o),fo(yr(e,1,Ka,!0),ui(t,2))})),oa=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,fo(yr(e,1,Ka,!0),o,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Nt(e,(function(e){if(Ka(e))return t=bn(e.length,t),!0})),Zt(t,(function(t){return Rt(e,Gt(t))}))}function aa(e,t){if(!e||!e.length)return[];var n=ia(e);return null==t?n:Rt(n,(function(e){return _t(t,o,e)}))}var sa=Zr((function(e,t){return Ka(e)?fr(e,t):[]})),la=Zr((function(e){return go(Nt(e,Ka))})),ca=Zr((function(e){var t=Zi(e);return Ka(t)&&(t=o),go(Nt(e,Ka),ui(t,2))})),ua=Zr((function(e){var t=Zi(e);return t="function"==typeof t?t:o,go(Nt(e,Ka),o,t)})),da=Zr(ia);var fa=Zr((function(e){var t=e.length,n=t>1?e[t-1]:o;return n="function"==typeof n?(e.pop(),n):o,aa(e,n)}));function pa(e){var t=$n(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var ma=oi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&wi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ha,args:[i],thisArg:o}),new Hn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(o),e}))):this.thru(i)}));var va=Mo((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ga=Bo(Hi),ya=Bo(Wi);function ba(e,t){return(Wa(e)?Tt:pr)(e,ui(t,3))}function wa(e,t){return(Wa(e)?Pt:hr)(e,ui(t,3))}var xa=Mo((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Zr((function(e,t,n){var o=-1,i="function"==typeof t,a=Ga(e)?r(e.length):[];return pr(e,(function(e){a[++o]=i?_t(t,e,n):Ar(e,t,n)})),a})),ka=Mo((function(e,t,n){ar(e,n,t)}));function Ea(e,t){return(Wa(e)?Rt:Br)(e,ui(t,3))}var Oa=Mo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var ja=Zr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),_a=ut||function(){return mt.Date.now()};function Ca(e,t,n){return t=n?o:t,t=e&&null==t?e.length:t,Qo(e,d,o,o,o,o,t)}function Ta(e,t){var n;if("function"!=typeof t)throw new Pe(i);return e=ms(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Pa=Zr((function(e,t,n){var r=1;if(n.length){var o=dn(n,ci(Pa));r|=c}return Qo(e,r,t,n,o)})),Aa=Zr((function(e,t,n){var r=3;if(n.length){var o=dn(n,ci(Aa));r|=c}return Qo(t,r,e,n,o)}));function Na(e,t,n){var r,a,s,l,c,u,d=0,f=!1,p=!1,h=!0;if("function"!=typeof e)throw new Pe(i);function m(t){var n=r,i=a;return r=a=o,d=t,l=e.apply(i,n)}function v(e){var n=e-u;return u===o||n>=t||n<0||p&&e-d>=s}function g(){var e=_a();if(v(e))return y(e);c=Ni(g,function(e){var n=t-(e-u);return p?wn(n,s-(e-d)):n}(e))}function y(e){return c=o,h&&r?m(e):(r=a=o,l)}function b(){var e=_a(),n=v(e);if(r=arguments,a=this,u=e,n){if(c===o)return function(e){return d=e,c=Ni(g,t),f?m(e):l}(u);if(p)return Eo(c),c=Ni(g,t),m(u)}return c===o&&(c=Ni(g,t)),l}return t=gs(t)||0,ts(n)&&(f=!!n.leading,s=(p="maxWait"in n)?bn(gs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),b.cancel=function(){c!==o&&Eo(c),d=0,r=u=a=c=o},b.flush=function(){return c===o?l:y(_a())},b}var Ma=Zr((function(e,t){return dr(e,1,t)})),Ia=Zr((function(e,t,n){return dr(e,gs(t)||0,n)}));function Ra(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(i);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Ra.Cache||Kn),n}function La(e){if("function"!=typeof e)throw new Pe(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ra.Cache=Kn;var Da=So((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Rt(t[0],Qt(ui())):Rt(yr(t,1),Qt(ui()))).length;return Zr((function(r){for(var o=-1,i=wn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return _t(e,this,r)}))})),Fa=Zr((function(e,t){var n=dn(t,ci(Fa));return Qo(e,c,o,t,n)})),za=Zr((function(e,t){var n=dn(t,ci(za));return Qo(e,u,o,t,n)})),Ba=oi((function(e,t){return Qo(e,f,o,o,o,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var Ua=Ko(_r),Va=Ko((function(e,t){return e>=t})),Ha=Nr(function(){return arguments}())?Nr:function(e){return ns(e)&&Le.call(e,"callee")&&!Xe.call(e,"callee")},Wa=r.isArray,qa=xt?Qt(xt):function(e){return ns(e)&&jr(e)==I};function Ga(e){return null!=e&&es(e.length)&&!Ja(e)}function Ka(e){return ns(e)&&Ga(e)}var Xa=bt||gl,Ya=St?Qt(St):function(e){return ns(e)&&jr(e)==x};function Za(e){if(!ns(e))return!1;var t=jr(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Ja(e){if(!ts(e))return!1;var t=jr(e);return t==k||t==E||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Qa(e){return"number"==typeof e&&e==ms(e)}function es(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ts(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ns(e){return null!=e&&"object"==typeof e}var rs=kt?Qt(kt):function(e){return ns(e)&&vi(e)==O};function os(e){return"number"==typeof e||ns(e)&&jr(e)==j}function is(e){if(!ns(e)||jr(e)!=_)return!1;var t=Ge(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Re.call(n)==Be}var as=Et?Qt(Et):function(e){return ns(e)&&jr(e)==T};var ss=Ot?Qt(Ot):function(e){return ns(e)&&vi(e)==P};function ls(e){return"string"==typeof e||!Wa(e)&&ns(e)&&jr(e)==A}function cs(e){return"symbol"==typeof e||ns(e)&&jr(e)==N}var us=jt?Qt(jt):function(e){return ns(e)&&es(e.length)&&!!lt[jr(e)]};var ds=Ko(zr),fs=Ko((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ga(e))return ls(e)?mn(e):Ao(e);if(Je&&e[Je])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Je]());var t=vi(e);return(t==O?cn:t==P?fn:$s)(e)}function hs(e){return e?(e=gs(e))===p||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ms(e){var t=hs(e),n=t%1;return t==t?n?t-n:t:0}function vs(e){return e?lr(ms(e),0,v):0}function gs(e){if("number"==typeof e)return e;if(cs(e))return m;if(ts(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ts(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var n=ge.test(e);return n||be.test(e)?ft(e.slice(2),n?2:8):ve.test(e)?m:+e}function ys(e){return No(e,Ms(e))}function bs(e){return null==e?"":uo(e)}var ws=Io((function(e,t){if(Oi(t)||Ga(t))No(t,Ns(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),xs=Io((function(e,t){No(t,Ms(t),e)})),Ss=Io((function(e,t,n,r){No(t,Ms(t),e,r)})),ks=Io((function(e,t,n,r){No(t,Ns(t),e,r)})),Es=oi(sr);var Os=Zr((function(e,t){e=_e(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&xi(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],s=Ms(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===o||$a(d,Me[u])&&!Le.call(e,u))&&(e[u]=a[u])}return e})),js=Zr((function(e){return e.push(o,ti),_t(Rs,o,e)}));function _s(e,t,n){var r=null==e?o:Er(e,t);return r===o?n:r}function Cs(e,t){return null!=e&&gi(e,t,Tr)}var Ts=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=n}),tl(ol)),Ps=Vo((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),ui),As=Zr(Ar);function Ns(e){return Ga(e)?Zn(e):Dr(e)}function Ms(e){return Ga(e)?Zn(e,!0):Fr(e)}var Is=Io((function(e,t,n){Vr(e,t,n)})),Rs=Io((function(e,t,n,r){Vr(e,t,n,r)})),Ls=oi((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=xo(t,e),r||(r=t.length>1),t})),No(e,ai(e),n),r&&(n=cr(n,7,ni));for(var o=t.length;o--;)po(n,t[o]);return n}));var Ds=oi((function(e,t){return null==e?{}:function(e,t){return qr(e,t,(function(t,n){return Cs(e,n)}))}(e,t)}));function Fs(e,t){if(null==e)return{};var n=Rt(ai(e),(function(e){return[e]}));return t=ui(t),qr(e,n,(function(e,n){return t(e,n[0])}))}var zs=Jo(Ns),Bs=Jo(Ms);function $s(e){return null==e?[]:en(e,Ns(e))}var Us=Fo((function(e,t,n){return t=t.toLowerCase(),e+(n?Vs(t):t)}));function Vs(e){return Zs(bs(e).toLowerCase())}function Hs(e){return(e=bs(e))&&e.replace(xe,on).replace(tt,"")}var Ws=Fo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Fo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=Do("toLowerCase");var Ks=Fo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=Fo((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Ys=Fo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Do("toUpperCase");function Js(e,t,n){return e=bs(e),(t=n?o:t)===o?function(e){return it.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var Qs=Zr((function(e,t){try{return _t(e,o,t)}catch(e){return Za(e)?e:new Ee(e)}})),el=oi((function(e,t){return Tt(t,(function(t){t=Fi(t),ar(e,t,Pa(e[t],e))})),e}));function tl(e){return function(){return e}}var nl=$o(),rl=$o(!0);function ol(e){return e}function il(e){return Lr("function"==typeof e?e:cr(e,1))}var al=Zr((function(e,t){return function(n){return Ar(n,e,t)}})),sl=Zr((function(e,t){return function(n){return Ar(e,n,t)}}));function ll(e,t,n){var r=Ns(t),o=kr(t,r);null!=n||ts(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=kr(t,Ns(t)));var i=!(ts(n)&&"chain"in n&&!n.chain),a=Ja(e);return Tt(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ao(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Lt([this.value()],arguments))})})),e}function cl(){}var ul=Wo(Rt),dl=Wo(At),fl=Wo(zt);function pl(e){return Si(e)?Gt(Fi(e)):function(e){return function(t){return Er(t,e)}}(e)}var hl=Go(),ml=Go(!0);function vl(){return[]}function gl(){return!1}var yl=Ho((function(e,t){return e+t}),0),bl=Yo("ceil"),wl=Ho((function(e,t){return e/t}),1),xl=Yo("floor");var Sl,kl=Ho((function(e,t){return e*t}),1),El=Yo("round"),Ol=Ho((function(e,t){return e-t}),0);return $n.after=function(e,t){if("function"!=typeof t)throw new Pe(i);return e=ms(e),function(){if(--e<1)return t.apply(this,arguments)}},$n.ary=Ca,$n.assign=ws,$n.assignIn=xs,$n.assignInWith=Ss,$n.assignWith=ks,$n.at=Es,$n.before=Ta,$n.bind=Pa,$n.bindAll=el,$n.bindKey=Aa,$n.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},$n.chain=pa,$n.chunk=function(e,t,n){t=(n?xi(e,t,n):t===o)?1:bn(ms(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var a=0,s=0,l=r(ht(i/t));a<i;)l[s++]=oo(e,a,a+=t);return l},$n.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},$n.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Lt(Wa(n)?Ao(n):[n],yr(t,1))},$n.cond=function(e){var t=null==e?0:e.length,n=ui();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Pe(i);return[n(e[0]),e[1]]})):[],Zr((function(n){for(var r=-1;++r<t;){var o=e[r];if(_t(o[0],this,n))return _t(o[1],this,n)}}))},$n.conforms=function(e){return function(e){var t=Ns(e);return function(n){return ur(n,e,t)}}(cr(e,1))},$n.constant=tl,$n.countBy=va,$n.create=function(e,t){var n=Un(e);return null==t?n:ir(n,t)},$n.curry=function e(t,n,r){var i=Qo(t,8,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.curryRight=function e(t,n,r){var i=Qo(t,l,o,o,o,o,o,n=r?o:n);return i.placeholder=e.placeholder,i},$n.debounce=Na,$n.defaults=Os,$n.defaultsDeep=js,$n.defer=Ma,$n.delay=Ia,$n.difference=$i,$n.differenceBy=Ui,$n.differenceWith=Vi,$n.drop=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=n||t===o?1:ms(t))<0?0:t,r):[]},$n.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,0,(t=r-(t=n||t===o?1:ms(t)))<0?0:t):[]},$n.dropRightWhile=function(e,t){return e&&e.length?mo(e,ui(t,3),!0,!0):[]},$n.dropWhile=function(e,t){return e&&e.length?mo(e,ui(t,3),!0):[]},$n.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&xi(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ms(n))<0&&(n=-n>i?0:i+n),(r=r===o||r>i?i:ms(r))<0&&(r+=i),r=n>r?0:vs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},$n.filter=function(e,t){return(Wa(e)?Nt:gr)(e,ui(t,3))},$n.flatMap=function(e,t){return yr(Ea(e,t),1)},$n.flatMapDeep=function(e,t){return yr(Ea(e,t),p)},$n.flatMapDepth=function(e,t,n){return n=n===o?1:ms(n),yr(Ea(e,t),n)},$n.flatten=qi,$n.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,p):[]},$n.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===o?1:ms(t)):[]},$n.flip=function(e){return Qo(e,512)},$n.flow=nl,$n.flowRight=rl,$n.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},$n.functions=function(e){return null==e?[]:kr(e,Ns(e))},$n.functionsIn=function(e){return null==e?[]:kr(e,Ms(e))},$n.groupBy=xa,$n.initial=function(e){return(null==e?0:e.length)?oo(e,0,-1):[]},$n.intersection=Ki,$n.intersectionBy=Xi,$n.intersectionWith=Yi,$n.invert=Ts,$n.invertBy=Ps,$n.invokeMap=Sa,$n.iteratee=il,$n.keyBy=ka,$n.keys=Ns,$n.keysIn=Ms,$n.map=Ea,$n.mapKeys=function(e,t){var n={};return t=ui(t,3),xr(e,(function(e,r,o){ar(n,t(e,r,o),e)})),n},$n.mapValues=function(e,t){var n={};return t=ui(t,3),xr(e,(function(e,r,o){ar(n,r,t(e,r,o))})),n},$n.matches=function(e){return $r(cr(e,1))},$n.matchesProperty=function(e,t){return Ur(e,cr(t,1))},$n.memoize=Ra,$n.merge=Is,$n.mergeWith=Rs,$n.method=al,$n.methodOf=sl,$n.mixin=ll,$n.negate=La,$n.nthArg=function(e){return e=ms(e),Zr((function(t){return Hr(t,e)}))},$n.omit=Ls,$n.omitBy=function(e,t){return Fs(e,La(ui(t)))},$n.once=function(e){return Ta(2,e)},$n.orderBy=function(e,t,n,r){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=r?o:n)||(n=null==n?[]:[n]),Wr(e,t,n))},$n.over=ul,$n.overArgs=Da,$n.overEvery=dl,$n.overSome=fl,$n.partial=Fa,$n.partialRight=za,$n.partition=Oa,$n.pick=Ds,$n.pickBy=Fs,$n.property=pl,$n.propertyOf=function(e){return function(t){return null==e?o:Er(e,t)}},$n.pull=Ji,$n.pullAll=Qi,$n.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,ui(n,2)):e},$n.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Gr(e,t,o,n):e},$n.pullAt=ea,$n.range=hl,$n.rangeRight=ml,$n.rearg=Ba,$n.reject=function(e,t){return(Wa(e)?Nt:gr)(e,La(ui(t,3)))},$n.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=ui(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Kr(e,o),n},$n.rest=function(e,t){if("function"!=typeof e)throw new Pe(i);return Zr(e,t=t===o?t:ms(t))},$n.reverse=ta,$n.sampleSize=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:ms(t),(Wa(e)?Qn:Qr)(e,t)},$n.set=function(e,t,n){return null==e?e:eo(e,t,n)},$n.setWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:eo(e,t,n,r)},$n.shuffle=function(e){return(Wa(e)?er:ro)(e)},$n.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xi(e,t,n)?(t=0,n=r):(t=null==t?0:ms(t),n=n===o?r:ms(n)),oo(e,t,n)):[]},$n.sortBy=ja,$n.sortedUniq=function(e){return e&&e.length?lo(e):[]},$n.sortedUniqBy=function(e,t){return e&&e.length?lo(e,ui(t,2)):[]},$n.split=function(e,t,n){return n&&"number"!=typeof n&&xi(e,t,n)&&(t=n=o),(n=n===o?v:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!as(t))&&!(t=uo(t))&&ln(e)?ko(mn(e),0,n):e.split(t,n):[]},$n.spread=function(e,t){if("function"!=typeof e)throw new Pe(i);return t=null==t?0:bn(ms(t),0),Zr((function(n){var r=n[t],o=ko(n,0,t);return r&&Lt(o,r),_t(e,this,o)}))},$n.tail=function(e){var t=null==e?0:e.length;return t?oo(e,1,t):[]},$n.take=function(e,t,n){return e&&e.length?oo(e,0,(t=n||t===o?1:ms(t))<0?0:t):[]},$n.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oo(e,(t=r-(t=n||t===o?1:ms(t)))<0?0:t,r):[]},$n.takeRightWhile=function(e,t){return e&&e.length?mo(e,ui(t,3),!1,!0):[]},$n.takeWhile=function(e,t){return e&&e.length?mo(e,ui(t,3)):[]},$n.tap=function(e,t){return t(e),e},$n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new Pe(i);return ts(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Na(e,t,{leading:r,maxWait:t,trailing:o})},$n.thru=ha,$n.toArray=ps,$n.toPairs=zs,$n.toPairsIn=Bs,$n.toPath=function(e){return Wa(e)?Rt(e,Fi):cs(e)?[e]:Ao(Di(bs(e)))},$n.toPlainObject=ys,$n.transform=function(e,t,n){var r=Wa(e),o=r||Xa(e)||us(e);if(t=ui(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:ts(e)&&Ja(i)?Un(Ge(e)):{}}return(o?Tt:xr)(e,(function(e,r,o){return t(n,e,r,o)})),n},$n.unary=function(e){return Ca(e,1)},$n.union=na,$n.unionBy=ra,$n.unionWith=oa,$n.uniq=function(e){return e&&e.length?fo(e):[]},$n.uniqBy=function(e,t){return e&&e.length?fo(e,ui(t,2)):[]},$n.uniqWith=function(e,t){return t="function"==typeof t?t:o,e&&e.length?fo(e,o,t):[]},$n.unset=function(e,t){return null==e||po(e,t)},$n.unzip=ia,$n.unzipWith=aa,$n.update=function(e,t,n){return null==e?e:ho(e,t,wo(n))},$n.updateWith=function(e,t,n,r){return r="function"==typeof r?r:o,null==e?e:ho(e,t,wo(n),r)},$n.values=$s,$n.valuesIn=function(e){return null==e?[]:en(e,Ms(e))},$n.without=sa,$n.words=Js,$n.wrap=function(e,t){return Fa(wo(t),e)},$n.xor=la,$n.xorBy=ca,$n.xorWith=ua,$n.zip=da,$n.zipObject=function(e,t){return yo(e||[],t||[],nr)},$n.zipObjectDeep=function(e,t){return yo(e||[],t||[],eo)},$n.zipWith=fa,$n.entries=zs,$n.entriesIn=Bs,$n.extend=xs,$n.extendWith=Ss,ll($n,$n),$n.add=yl,$n.attempt=Qs,$n.camelCase=Us,$n.capitalize=Vs,$n.ceil=bl,$n.clamp=function(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=(n=gs(n))==n?n:0),t!==o&&(t=(t=gs(t))==t?t:0),lr(gs(e),t,n)},$n.clone=function(e){return cr(e,4)},$n.cloneDeep=function(e){return cr(e,5)},$n.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:o)},$n.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:o)},$n.conformsTo=function(e,t){return null==t||ur(e,t,Ns(t))},$n.deburr=Hs,$n.defaultTo=function(e,t){return null==e||e!=e?t:e},$n.divide=wl,$n.endsWith=function(e,t,n){e=bs(e),t=uo(t);var r=e.length,i=n=n===o?r:lr(ms(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},$n.eq=$a,$n.escape=function(e){return(e=bs(e))&&Z.test(e)?e.replace(X,an):e},$n.escapeRegExp=function(e){return(e=bs(e))&&ie.test(e)?e.replace(oe,"\\$&"):e},$n.every=function(e,t,n){var r=Wa(e)?At:mr;return n&&xi(e,t,n)&&(t=o),r(e,ui(t,3))},$n.find=ga,$n.findIndex=Hi,$n.findKey=function(e,t){return $t(e,ui(t,3),xr)},$n.findLast=ya,$n.findLastIndex=Wi,$n.findLastKey=function(e,t){return $t(e,ui(t,3),Sr)},$n.floor=xl,$n.forEach=ba,$n.forEachRight=wa,$n.forIn=function(e,t){return null==e?e:br(e,ui(t,3),Ms)},$n.forInRight=function(e,t){return null==e?e:wr(e,ui(t,3),Ms)},$n.forOwn=function(e,t){return e&&xr(e,ui(t,3))},$n.forOwnRight=function(e,t){return e&&Sr(e,ui(t,3))},$n.get=_s,$n.gt=Ua,$n.gte=Va,$n.has=function(e,t){return null!=e&&gi(e,t,Cr)},$n.hasIn=Cs,$n.head=Gi,$n.identity=ol,$n.includes=function(e,t,n,r){e=Ga(e)?e:$s(e),n=n&&!r?ms(n):0;var o=e.length;return n<0&&(n=bn(o+n,0)),ls(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Vt(e,t,n)>-1},$n.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:ms(n);return o<0&&(o=bn(r+o,0)),Vt(e,t,o)},$n.inRange=function(e,t,n){return t=hs(t),n===o?(n=t,t=0):n=hs(n),function(e,t,n){return e>=wn(t,n)&&e<bn(t,n)}(e=gs(e),t,n)},$n.invoke=As,$n.isArguments=Ha,$n.isArray=Wa,$n.isArrayBuffer=qa,$n.isArrayLike=Ga,$n.isArrayLikeObject=Ka,$n.isBoolean=function(e){return!0===e||!1===e||ns(e)&&jr(e)==w},$n.isBuffer=Xa,$n.isDate=Ya,$n.isElement=function(e){return ns(e)&&1===e.nodeType&&!is(e)},$n.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||us(e)||Ha(e)))return!e.length;var t=vi(e);if(t==O||t==P)return!e.size;if(Oi(e))return!Dr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},$n.isEqual=function(e,t){return Mr(e,t)},$n.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:o)?n(e,t):o;return r===o?Mr(e,t,o,n):!!r},$n.isError=Za,$n.isFinite=function(e){return"number"==typeof e&&wt(e)},$n.isFunction=Ja,$n.isInteger=Qa,$n.isLength=es,$n.isMap=rs,$n.isMatch=function(e,t){return e===t||Ir(e,t,fi(t))},$n.isMatchWith=function(e,t,n){return n="function"==typeof n?n:o,Ir(e,t,fi(t),n)},$n.isNaN=function(e){return os(e)&&e!=+e},$n.isNative=function(e){if(Ei(e))throw new Ee("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(e)},$n.isNil=function(e){return null==e},$n.isNull=function(e){return null===e},$n.isNumber=os,$n.isObject=ts,$n.isObjectLike=ns,$n.isPlainObject=is,$n.isRegExp=as,$n.isSafeInteger=function(e){return Qa(e)&&e>=-9007199254740991&&e<=h},$n.isSet=ss,$n.isString=ls,$n.isSymbol=cs,$n.isTypedArray=us,$n.isUndefined=function(e){return e===o},$n.isWeakMap=function(e){return ns(e)&&vi(e)==M},$n.isWeakSet=function(e){return ns(e)&&"[object WeakSet]"==jr(e)},$n.join=function(e,t){return null==e?"":Bt.call(e,t)},$n.kebabCase=Ws,$n.last=Zi,$n.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=(i=ms(n))<0?bn(r+i,0):wn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):Ut(e,Wt,i,!0)},$n.lowerCase=qs,$n.lowerFirst=Gs,$n.lt=ds,$n.lte=fs,$n.max=function(e){return e&&e.length?vr(e,ol,_r):o},$n.maxBy=function(e,t){return e&&e.length?vr(e,ui(t,2),_r):o},$n.mean=function(e){return qt(e,ol)},$n.meanBy=function(e,t){return qt(e,ui(t,2))},$n.min=function(e){return e&&e.length?vr(e,ol,zr):o},$n.minBy=function(e,t){return e&&e.length?vr(e,ui(t,2),zr):o},$n.stubArray=vl,$n.stubFalse=gl,$n.stubObject=function(){return{}},$n.stubString=function(){return""},$n.stubTrue=function(){return!0},$n.multiply=kl,$n.nth=function(e,t){return e&&e.length?Hr(e,ms(t)):o},$n.noConflict=function(){return mt._===this&&(mt._=$e),this},$n.noop=cl,$n.now=_a,$n.pad=function(e,t,n){e=bs(e);var r=(t=ms(t))?hn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return qo(vt(o),n)+e+qo(ht(o),n)},$n.padEnd=function(e,t,n){e=bs(e);var r=(t=ms(t))?hn(e):0;return t&&r<t?e+qo(t-r,n):e},$n.padStart=function(e,t,n){e=bs(e);var r=(t=ms(t))?hn(e):0;return t&&r<t?qo(t-r,n)+e:e},$n.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Sn(bs(e).replace(ae,""),t||0)},$n.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xi(e,t,n)&&(t=n=o),n===o&&("boolean"==typeof t?(n=t,t=o):"boolean"==typeof e&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=hs(e),t===o?(t=e,e=0):t=hs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=kn();return wn(e+i*(t-e+dt("1e-"+((i+"").length-1))),t)}return Xr(e,t)},$n.reduce=function(e,t,n){var r=Wa(e)?Dt:Xt,o=arguments.length<3;return r(e,ui(t,4),n,o,pr)},$n.reduceRight=function(e,t,n){var r=Wa(e)?Ft:Xt,o=arguments.length<3;return r(e,ui(t,4),n,o,hr)},$n.repeat=function(e,t,n){return t=(n?xi(e,t,n):t===o)?1:ms(t),Yr(bs(e),t)},$n.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},$n.result=function(e,t,n){var r=-1,i=(t=xo(t,e)).length;for(i||(i=1,e=o);++r<i;){var a=null==e?o:e[Fi(t[r])];a===o&&(r=i,a=n),e=Ja(a)?a.call(e):a}return e},$n.round=El,$n.runInContext=e,$n.sample=function(e){return(Wa(e)?Jn:Jr)(e)},$n.size=function(e){if(null==e)return 0;if(Ga(e))return ls(e)?hn(e):e.length;var t=vi(e);return t==O||t==P?e.size:Dr(e).length},$n.snakeCase=Ks,$n.some=function(e,t,n){var r=Wa(e)?zt:io;return n&&xi(e,t,n)&&(t=o),r(e,ui(t,3))},$n.sortedIndex=function(e,t){return ao(e,t)},$n.sortedIndexBy=function(e,t,n){return so(e,t,ui(n,2))},$n.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ao(e,t);if(r<n&&$a(e[r],t))return r}return-1},$n.sortedLastIndex=function(e,t){return ao(e,t,!0)},$n.sortedLastIndexBy=function(e,t,n){return so(e,t,ui(n,2),!0)},$n.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ao(e,t,!0)-1;if($a(e[n],t))return n}return-1},$n.startCase=Xs,$n.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:lr(ms(n),0,e.length),t=uo(t),e.slice(n,n+t.length)==t},$n.subtract=Ol,$n.sum=function(e){return e&&e.length?Yt(e,ol):0},$n.sumBy=function(e,t){return e&&e.length?Yt(e,ui(t,2)):0},$n.template=function(e,t,n){var r=$n.templateSettings;n&&xi(e,t,n)&&(t=o),e=bs(e),t=Ss({},t,r,ei);var i,a,s=Ss({},t.imports,r.imports,ei),l=Ns(s),c=en(s,l),u=0,d=t.interpolate||Se,f="__p += '",p=Ce((t.escape||Se).source+"|"+d.source+"|"+(d===ee?he:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(p,(function(t,n,r,o,s,l){return r||(r=o),f+=e.slice(u,l).replace(ke,sn),n&&(i=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),f+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(fe.test(m))throw new Ee("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(W,""):f).replace(q,"$1").replace(G,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Qs((function(){return Oe(l,h+"return "+f).apply(o,c)}));if(v.source=f,Za(v))throw v;return v},$n.times=function(e,t){if((e=ms(e))<1||e>h)return[];var n=v,r=wn(e,v);t=ui(t),e-=v;for(var o=Zt(r,t);++n<e;)t(n);return o},$n.toFinite=hs,$n.toInteger=ms,$n.toLength=vs,$n.toLower=function(e){return bs(e).toLowerCase()},$n.toNumber=gs,$n.toSafeInteger=function(e){return e?lr(ms(e),-9007199254740991,h):0===e?e:0},$n.toString=bs,$n.toUpper=function(e){return bs(e).toUpperCase()},$n.trim=function(e,t,n){if((e=bs(e))&&(n||t===o))return Jt(e);if(!e||!(t=uo(t)))return e;var r=mn(e),i=mn(t);return ko(r,nn(r,i),rn(r,i)+1).join("")},$n.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===o))return e.slice(0,vn(e)+1);if(!e||!(t=uo(t)))return e;var r=mn(e);return ko(r,0,rn(r,mn(t))+1).join("")},$n.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===o))return e.replace(ae,"");if(!e||!(t=uo(t)))return e;var r=mn(e);return ko(r,nn(r,mn(t))).join("")},$n.truncate=function(e,t){var n=30,r="...";if(ts(t)){var i="separator"in t?t.separator:i;n="length"in t?ms(t.length):n,r="omission"in t?uo(t.omission):r}var a=(e=bs(e)).length;if(ln(e)){var s=mn(e);a=s.length}if(n>=a)return e;var l=n-hn(r);if(l<1)return r;var c=s?ko(s,0,l).join(""):e.slice(0,l);if(i===o)return c+r;if(s&&(l+=c.length-l),as(i)){if(e.slice(l).search(i)){var u,d=c;for(i.global||(i=Ce(i.source,bs(me.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var f=u.index;c=c.slice(0,f===o?l:f)}}else if(e.indexOf(uo(i),l)!=l){var p=c.lastIndexOf(i);p>-1&&(c=c.slice(0,p))}return c+r},$n.unescape=function(e){return(e=bs(e))&&Y.test(e)?e.replace(K,gn):e},$n.uniqueId=function(e){var t=++De;return bs(e)+t},$n.upperCase=Ys,$n.upperFirst=Zs,$n.each=ba,$n.eachRight=wa,$n.first=Gi,ll($n,(Sl={},xr($n,(function(e,t){Le.call($n.prototype,t)||(Sl[t]=e)})),Sl),{chain:!1}),$n.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){$n[e].placeholder=$n})),Tt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===o?1:bn(ms(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=wn(n,r.__takeCount__):r.__views__.push({size:wn(n,v),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:ui(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(ol)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Zr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Ar(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(La(ui(e)))},Wn.prototype.slice=function(e,t){e=ms(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(n=(t=ms(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(v)},xr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=$n[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&($n.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Wn,c=s[0],u=l||Wa(t),d=function(e){var t=i.apply($n,Lt([e],s));return r&&f?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var f=this.__chain__,p=!!this.__actions__.length,h=a&&!f,m=l&&!p;if(!a&&u){t=m?t:new Wn(this);var v=e.apply(t,s);return v.__actions__.push({func:ha,args:[d],thisArg:o}),new Hn(v,f)}return h&&m?e.apply(this,s):(v=this.thru(d),h?r?v.value()[0]:v.value():v)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ae[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);$n.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Wa(o)?o:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),xr(Wn.prototype,(function(e,t){var n=$n[t];if(n){var r=n.name+"";Le.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Uo(o,2).name]=[{name:"wrapper",func:o}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ao(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ao(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ao(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),r=t<0,o=n?e.length:0,i=function(e,t,n){var r=-1,o=n.length;for(;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=wn(t,e+a);break;case"takeRight":e=bn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,s=i.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,f=0,p=wn(l,this.__takeCount__);if(!n||!r&&o==l&&p==l)return vo(e,this.__actions__);var h=[];e:for(;l--&&f<p;){for(var m=-1,v=e[c+=t];++m<d;){var g=u[m],y=g.iteratee,b=g.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}h[f++]=v}return h},$n.prototype.at=ma,$n.prototype.chain=function(){return pa(this)},$n.prototype.commit=function(){return new Hn(this.value(),this.__chain__)},$n.prototype.next=function(){this.__values__===o&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?o:this.__values__[this.__index__++]}},$n.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Bi(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},$n.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ta],thisArg:o}),new Hn(t,this.__chain__)}return this.thru(ta)},$n.prototype.toJSON=$n.prototype.valueOf=$n.prototype.value=function(){return vo(this.__wrapped__,this.__actions__)},$n.prototype.first=$n.prototype.head,Je&&($n.prototype[Je]=function(){return this}),$n}();mt._=yn,(r=function(){return yn}.call(t,n,t,e))===o||(e.exports=r)}.call(this)},5378:(e,t,n)=>{var r=n(4932),o=n(5389),i=n(5128),a=n(6449);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},3916:(e,t,n)=>{var r=n(3360),o=n(641),i=n(5389);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},4506:(e,t,n)=>{var r=n(3599),o=n(3335),i=n(3488);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},7551:(e,t,n)=>{var r=n(3599),o=n(3335),i=n(5389);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},104:(e,t,n)=>{var r=n(3661);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},1684:(e,t,n)=>{var r=n(3599),o=n(6176),i=n(3488);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},6533:(e,t,n)=>{var r=n(3599),o=n(5389),i=n(6176);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},3950:e=>{e.exports=function(){}},124:(e,t,n)=>{var r=n(9325);e.exports=function(){return r.Date.now()}},583:(e,t,n)=>{var r=n(7237),o=n(7255),i=n(8586),a=n(7797);e.exports=function(e){return i(e)?r(a(e)):o(e)}},3181:(e,t,n)=>{var r=n(5508)();e.exports=r},2426:(e,t,n)=>{var r=n(4248),o=n(5389),i=n(8535),a=n(6449),s=n(6800);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},3031:(e,t,n)=>{var r=n(3120),o=n(6155),i=n(9302),a=n(6800),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},3345:e=>{e.exports=function(){return[]}},9935:e=>{e.exports=function(){return!1}},7350:(e,t,n)=>{var r=n(8221),o=n(3805);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},7400:(e,t,n)=>{var r=n(9374),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},1489:(e,t,n)=>{var r=n(7400);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},9374:(e,t,n)=>{var r=n(4128),o=n(3805),i=n(4394),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},3222:(e,t,n)=>{var r=n(7556);e.exports=function(e){return null==e?"":r(e)}},14:(e,t,n)=>{var r=n(5389),o=n(5765);e.exports=function(e,t){return e&&e.length?o(e,r(t,2)):[]}},5808:(e,t,n)=>{var r=n(2507)("toUpperCase");e.exports=r},4647:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.BroadcastChannel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nextauth.message";return{receive:function(t){var n=function(n){var r;if(n.key===e){var o=JSON.parse(null!==(r=n.newValue)&&void 0!==r?r:"{}");"session"===(null==o?void 0:o.event)&&null!=o&&o.data&&t(o)}};return window.addEventListener("storage",n),function(){return window.removeEventListener("storage",n)}},post:function(t){if("undefined"!=typeof window)try{localStorage.setItem(e,JSON.stringify(l(l({},t),{},{timestamp:d()})))}catch(e){}}}},t.apiBaseUrl=u,t.fetchData=function(e,t,n){return c.apply(this,arguments)},t.now=d;var o=r(n(4756)),i=r(n(3693)),a=r(n(9293));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(){return c=(0,a.default)(o.default.mark((function e(t,n,r){var i,a,s,c,d,f,p,h,m,v=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(i=v.length>3&&void 0!==v[3]?v[3]:{}).ctx,s=i.req,c=void 0===s?null==a?void 0:a.req:s,d="".concat(u(n),"/").concat(t),e.prev=2,p={headers:l({"Content-Type":"application/json"},null!=c&&null!==(f=c.headers)&&void 0!==f&&f.cookie?{cookie:c.headers.cookie}:{})},null!=c&&c.body&&(p.body=JSON.stringify(c.body),p.method="POST"),e.next=7,fetch(d,p);case 7:return h=e.sent,e.next=10,h.json();case 10:if(m=e.sent,h.ok){e.next=13;break}throw m;case 13:return e.abrupt("return",Object.keys(m).length>0?m:null);case 16:return e.prev=16,e.t0=e.catch(2),r.error("CLIENT_FETCH_ERROR",{error:e.t0,url:d}),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),c.apply(this,arguments)}function u(e){return"undefined"==typeof window?"".concat(e.baseUrlServer).concat(e.basePathServer):e.basePath}function d(){return Math.floor(Date.now()/1e3)}},3370:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedStrategy=t.UnknownError=t.OAuthCallbackError=t.MissingSecret=t.MissingAuthorize=t.MissingAdapterMethods=t.MissingAdapter=t.MissingAPIRoute=t.InvalidCallbackUrl=t.AccountNotLinkedError=void 0,t.adapterErrorHandler=function(e,t){if(!e)return;return Object.keys(e).reduce((function(n,r){return n[r]=(0,i.default)(o.default.mark((function n(){var i,a,s,l,c,u=arguments;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(n.prev=0,i=u.length,a=new Array(i),s=0;s<i;s++)a[s]=u[s];return t.debug("adapter_".concat(r),{args:a}),l=e[r],n.next=6,l.apply(void 0,a);case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),t.error("adapter_error_".concat(r),n.t0),(c=new m(n.t0)).name="".concat(g(r),"Error"),c;case 15:case"end":return n.stop()}}),n,null,[[0,9]])}))),n}),{})},t.capitalize=g,t.eventsErrorHandler=function(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=(0,i.default)(o.default.mark((function n(){var i,a=arguments;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=e[r],n.next=4,i.apply(void 0,a);case 4:return n.abrupt("return",n.sent);case 7:n.prev=7,n.t0=n.catch(0),t.error("".concat(v(r),"_EVENT_ERROR"),n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])}))),n}),{})},t.upperSnake=v;var o=r(n(4756)),i=r(n(9293)),a=r(n(3693)),s=r(n(7383)),l=r(n(4579)),c=r(n(8452)),u=r(n(691)),d=r(n(9511)),f=r(n(1837));function p(e,t,n){return t=(0,u.default)(t),(0,c.default)(e,h()?Reflect.construct(t,n||[],(0,u.default)(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var m=t.UnknownError=function(e){function t(e){var n,r;return(0,s.default)(this,t),(r=p(this,t,[null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e])).name="UnknownError",r.code=e.code,e instanceof Error&&(r.stack=e.stack),r}return(0,d.default)(t,e),(0,l.default)(t,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,stack:this.stack}}}])}((0,f.default)(Error));t.OAuthCallbackError=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","OAuthCallbackError"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.AccountNotLinkedError=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","AccountNotLinkedError"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.MissingAPIRoute=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","MissingAPIRouteError"),(0,a.default)(e,"code","MISSING_NEXTAUTH_API_ROUTE_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.MissingSecret=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","MissingSecretError"),(0,a.default)(e,"code","NO_SECRET"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.MissingAuthorize=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","MissingAuthorizeError"),(0,a.default)(e,"code","CALLBACK_CREDENTIALS_HANDLER_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.MissingAdapter=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","MissingAdapterError"),(0,a.default)(e,"code","EMAIL_REQUIRES_ADAPTER_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.MissingAdapterMethods=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","MissingAdapterMethodsError"),(0,a.default)(e,"code","MISSING_ADAPTER_METHODS_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.UnsupportedStrategy=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","UnsupportedStrategyError"),(0,a.default)(e,"code","CALLBACK_CREDENTIALS_JWT_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m),t.InvalidCallbackUrl=function(e){function t(){var e;(0,s.default)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=p(this,t,[].concat(r)),(0,a.default)(e,"name","InvalidCallbackUrl"),(0,a.default)(e,"code","INVALID_CALLBACK_URL_ERROR"),e}return(0,d.default)(t,e),(0,l.default)(t)}(m);function v(e){return e.replace(/([A-Z])/g,"_$1").toUpperCase()}function g(e){return"".concat(e[0].toUpperCase()).concat(e.slice(1))}},3013:(e,t,n)=>{"use strict";var r=n(4994),o=n(3738);Object.defineProperty(t,"__esModule",{value:!0});var i={SessionContext:!0,useSession:!0,getSession:!0,getCsrfToken:!0,getProviders:!0,signIn:!0,signOut:!0,SessionProvider:!0};t.SessionContext=void 0,t.SessionProvider=function(e){if(!C)throw new Error("React Context is unavailable in Server Components");var t=e.children,n=e.basePath,r=e.refetchInterval,o=e.refetchWhenOffline;n&&(O.basePath=n);var i=void 0!==e.session;O._lastSync=i?(0,y.now)():0;var a=m.useState((function(){return i&&(O._session=e.session),e.session})),s=(0,h.default)(a,2),l=s[0],c=s[1],u=m.useState(!i),f=(0,h.default)(u,2),v=f[0],g=f[1];m.useEffect((function(){return O._getSession=(0,p.default)(d.default.mark((function e(){var t,n,r=arguments;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(r.length>0&&void 0!==r[0]?r[0]:{}).event,e.prev=1,!(n="storage"===t)&&void 0!==O._session){e.next=10;break}return O._lastSync=(0,y.now)(),e.next=7,T({broadcast:!n});case 7:return O._session=e.sent,c(O._session),e.abrupt("return");case 10:if(t&&null!==O._session&&!((0,y.now)()<O._lastSync)){e.next=12;break}return e.abrupt("return");case 12:return O._lastSync=(0,y.now)(),e.next=15,T();case 15:O._session=e.sent,c(O._session),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),_.error("CLIENT_SESSION_ERROR",e.t0);case 22:return e.prev=22,g(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))),O._getSession(),function(){O._lastSync=0,O._session=void 0,O._getSession=function(){}}}),[]),m.useEffect((function(){var e=j.receive((function(){return O._getSession({event:"storage"})}));return function(){return e()}}),[]),m.useEffect((function(){var t=e.refetchOnWindowFocus,n=void 0===t||t,r=function(){n&&"visible"===document.visibilityState&&O._getSession({event:"visibilitychange"})};return document.addEventListener("visibilitychange",r,!1),function(){return document.removeEventListener("visibilitychange",r,!1)}}),[e.refetchOnWindowFocus]);var w=function(){var e=m.useState("undefined"!=typeof navigator&&navigator.onLine),t=(0,h.default)(e,2),n=t[0],r=t[1],o=function(){return r(!0)},i=function(){return r(!1)};return m.useEffect((function(){return window.addEventListener("online",o),window.addEventListener("offline",i),function(){window.removeEventListener("online",o),window.removeEventListener("offline",i)}}),[]),n}(),x=!1!==o||w;m.useEffect((function(){if(r&&x){var e=setInterval((function(){O._session&&O._getSession({event:"poll"})}),1e3*r);return function(){return clearInterval(e)}}}),[r,x]);var S=m.useMemo((function(){return{data:l,status:v?"loading":l?"authenticated":"unauthenticated",update:function(e){return(0,p.default)(d.default.mark((function t(){var n;return d.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v&&l){t.next=2;break}return t.abrupt("return");case 2:return g(!0),t.t0=y.fetchData,t.t1=O,t.t2=_,t.next=8,A();case 8:return t.t3=t.sent,t.t4=e,t.t5={csrfToken:t.t3,data:t.t4},t.t6={body:t.t5},t.t7={req:t.t6},t.next=15,(0,t.t0)("session",t.t1,t.t2,t.t7);case 15:return n=t.sent,g(!1),n&&(c(n),j.post({event:"session",data:{trigger:"getSession"}})),t.abrupt("return",n);case 19:case"end":return t.stop()}}),t)})))()}}}),[l,v]);return(0,b.jsx)(C.Provider,{value:S,children:t})},t.getCsrfToken=A,t.getProviders=M,t.getSession=T,t.signIn=function(e,t,n){return R.apply(this,arguments)},t.signOut=function(e){return L.apply(this,arguments)},t.useSession=function(e){if(!C)throw new Error("React Context is unavailable in Server Components");var t=m.useContext(C);0;var n=null!=e?e:{},r=n.required,o=n.onUnauthenticated,i=r&&"unauthenticated"===t.status;if(m.useEffect((function(){if(i){var e="/api/auth/signin?".concat(new URLSearchParams({error:"SessionRequired",callbackUrl:window.location.href}));o?o():window.location.href=e}}),[i,o]),i)return{data:t.data,update:t.update,status:"loading"};return t};var a,s,l,c,u,d=r(n(4756)),f=r(n(3693)),p=r(n(9293)),h=r(n(5715)),m=S(n(6540)),v=S(n(1267)),g=r(n(3004)),y=n(4647),b=n(4848),w=n(2028);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=o(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var O={baseUrl:(0,g.default)(null!==(a={}.NEXTAUTH_URL)&&void 0!==a?a:{}.VERCEL_URL).origin,basePath:(0,g.default)({}.NEXTAUTH_URL).path,baseUrlServer:(0,g.default)(null!==(s=null!==(l={}.NEXTAUTH_URL_INTERNAL)&&void 0!==l?l:{}.NEXTAUTH_URL)&&void 0!==s?s:{}.VERCEL_URL).origin,basePathServer:(0,g.default)(null!==(c={}.NEXTAUTH_URL_INTERNAL)&&void 0!==c?c:{}.NEXTAUTH_URL).path,_lastSync:0,_session:void 0,_getSession:function(){}},j=(0,y.BroadcastChannel)(),_=(0,v.proxyLogger)(v.default,O.basePath);var C=t.SessionContext=null===(u=m.createContext)||void 0===u?void 0:u.call(m,void 0);function T(e){return P.apply(this,arguments)}function P(){return(P=(0,p.default)(d.default.mark((function e(t){var n,r;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.fetchData)("session",O,_,t);case 2:return r=e.sent,(null===(n=null==t?void 0:t.broadcast)||void 0===n||n)&&j.post({event:"session",data:{trigger:"getSession"}}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return N.apply(this,arguments)}function N(){return(N=(0,p.default)(d.default.mark((function e(t){var n;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.fetchData)("csrf",O,_,t);case 2:return n=e.sent,e.abrupt("return",null==n?void 0:n.csrfToken);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return I.apply(this,arguments)}function I(){return(I=(0,p.default)(d.default.mark((function e(){return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,y.fetchData)("providers",O,_);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,p.default)(d.default.mark((function e(t,n,r){var o,i,a,s,l,c,u,f,p,h,m,v,g,b,w,x,S;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(o=null!=n?n:{}).callbackUrl,a=void 0===i?window.location.href:i,s=o.redirect,l=void 0===s||s,c=(0,y.apiBaseUrl)(O),e.next=4,M();case 4:if(u=e.sent){e.next=8;break}return window.location.href="".concat(c,"/error"),e.abrupt("return");case 8:if(t&&t in u){e.next=11;break}return window.location.href="".concat(c,"/signin?").concat(new URLSearchParams({callbackUrl:a})),e.abrupt("return");case 11:return f="credentials"===u[t].type,p="email"===u[t].type,h=f||p,m="".concat(c,"/").concat(f?"callback":"signin","/").concat(t),v="".concat(m).concat(r?"?".concat(new URLSearchParams(r)):""),e.t0=fetch,e.t1=v,e.t2={"Content-Type":"application/x-www-form-urlencoded"},e.t3=URLSearchParams,e.t4=E,e.t5=E({},n),e.t6={},e.next=25,A();case 25:return e.t7=e.sent,e.t8=a,e.t9={csrfToken:e.t7,callbackUrl:e.t8,json:!0},e.t10=(0,e.t4)(e.t5,e.t6,e.t9),e.t11=new e.t3(e.t10),e.t12={method:"post",headers:e.t2,body:e.t11},e.next=33,(0,e.t0)(e.t1,e.t12);case 33:return g=e.sent,e.next=36,g.json();case 36:if(b=e.sent,!l&&h){e.next=42;break}return x=null!==(w=b.url)&&void 0!==w?w:a,window.location.href=x,x.includes("#")&&window.location.reload(),e.abrupt("return");case 42:if(S=new URL(b.url).searchParams.get("error"),!g.ok){e.next=46;break}return e.next=46,O._getSession({event:"storage"});case 46:return e.abrupt("return",{error:S,status:g.status,ok:g.ok,url:S?null:b.url});case 47:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=(0,p.default)(d.default.mark((function e(t){var n,r,o,i,a,s,l,c,u;return d.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null!=t?t:{}).callbackUrl,o=void 0===r?window.location.href:r,i=(0,y.apiBaseUrl)(O),e.t0={"Content-Type":"application/x-www-form-urlencoded"},e.t1=URLSearchParams,e.next=6,A();case 6:return e.t2=e.sent,e.t3=o,e.t4={csrfToken:e.t2,callbackUrl:e.t3,json:!0},e.t5=new e.t1(e.t4),a={method:"post",headers:e.t0,body:e.t5},e.next=13,fetch("".concat(i,"/signout"),a);case 13:return s=e.sent,e.next=16,s.json();case 16:if(l=e.sent,j.post({event:"session",data:{trigger:"signout"}}),null!==(n=null==t?void 0:t.redirect)&&void 0!==n&&!n){e.next=23;break}return u=null!==(c=l.url)&&void 0!==c?c:o,window.location.href=u,u.includes("#")&&window.location.reload(),e.abrupt("return");case 23:return e.next=25,O._getSession({event:"storage"});case 25:return e.abrupt("return",l);case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2028:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1267:(e,t,n)=>{"use strict";var r=n(4994);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.proxyLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;try{if("undefined"==typeof window)return e;var n={},r=function(e){var r;n[e]=(r=(0,a.default)(o.default.mark((function n(r,i){var a,s;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d[e](r,i),"error"===e&&(i=u(i)),i.client=!0,a="".concat(t,"/_log"),s=new URLSearchParams(c({level:e,code:r},i)),!navigator.sendBeacon){n.next=8;break}return n.abrupt("return",navigator.sendBeacon(a,s));case 8:return n.next=10,fetch(a,{method:"POST",body:s,keepalive:!0});case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n)}))),function(e,t){return r.apply(this,arguments)})};for(var i in e)r(i);return n}catch(e){return d}},t.setLogger=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(arguments.length>1?arguments[1]:void 0)||(d.debug=function(){});e.error&&(d.error=e.error);e.warn&&(d.warn=e.warn);e.debug&&(d.debug=e.debug)};var o=r(n(4756)),i=r(n(3693)),a=r(n(9293)),s=n(3370);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){if(e instanceof Error&&!(e instanceof s.UnknownError))return{message:e.message,stack:e.stack,name:e.name};var t,n;null!=(n=e)&&n.error&&(e.error=u(e.error),e.message=null!==(t=e.message)&&void 0!==t?t:e.error.message);return e}var d={error:function(e,t){t=u(t),console.error("[next-auth][error][".concat(e,"]"),"\nhttps://next-auth.js.org/errors#".concat(e.toLowerCase()),t.message,t)},warn:function(e){console.warn("[next-auth][warn][".concat(e,"]"),"\nhttps://next-auth.js.org/warnings#".concat(e.toLowerCase()))},debug:function(e,t){console.log("[next-auth][debug][".concat(e,"]"),t)}};t.default=d},3004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t;const n=new URL("http://localhost:3000/api/auth");e&&!e.startsWith("http")&&(e=`https://${e}`);const r=new URL(null!==(t=e)&&void 0!==t?t:n),o=("/"===r.pathname?n.pathname:r.pathname).replace(/\/$/,""),i=`${r.origin}${o}`;return{origin:r.origin,host:r.host,path:o,base:i,toString:()=>i}}},9264:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addBasePath",{enumerable:!0,get:function(){return a}});const r=n(1019),o=n(9815),i={}.__NEXT_ROUTER_BASEPATH||"";function a(e,t){return(0,o.normalizePathTrailingSlash)({}.__NEXT_MANUAL_CLIENT_BASE_PATH&&!t?e:(0,r.addPathPrefix)(e,i))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return o}});const r=n(9815),o=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return{}.__NEXT_I18N_SUPPORT?(0,r.normalizePathTrailingSlash)(n(8487).I(e,...o)):e};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_FAST_REFRESH:function(){return s},ACTION_NAVIGATE:function(){return r},ACTION_PREFETCH:function(){return a},ACTION_REFRESH:function(){return n},ACTION_RESTORE:function(){return o},ACTION_SERVER_ACTION:function(){return l},ACTION_SERVER_PATCH:function(){return i},PrefetchCacheEntryStatus:function(){return u},PrefetchKind:function(){return c},isThenable:function(){return d}});const n="refresh",r="navigate",o="restore",i="server-patch",a="prefetch",s="fast-refresh",l="server-action";var c,u;function d(e){return e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(c||(c={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(u||(u={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}});const r=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if({}.__NEXT_I18N_SUPPORT)return n(6757).C(...t)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6845:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return i}});const r=n(9815),o={}.__NEXT_ROUTER_BASEPATH||"";function i(e,t,i,a){if({}.__NEXT_I18N_SUPPORT){const s=n(3357).normalizeLocalePath,l=n(5169).detectDomainLocale,c=t||s(e,i).detectedLocale,u=l(a,void 0,c);if(u){const t="http"+(u.http?"":"s")+"://",n=c===u.defaultLocale?"":"/"+c;return""+t+u.domain+(0,r.normalizePathTrailingSlash)(""+o+n+e)}return!1}return!1}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"hasBasePath",{enumerable:!0,get:function(){return i}});const r=n(2162),o={}.__NEXT_ROUTER_BASEPATH||"";function i(e){return(0,r.pathHasPrefix)(e,o)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8869:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return w}});const r=n(9929),o=n(4848),i=r._(n(6540)),a=n(6999),s=n(8830),l=n(8364),c=n(3654),u=n(593),d=n(5700),f=n(2626),p=n(1526),h=n(6845),m=n(9264),v=n(2587),g=new Set;function y(e,t,n,r,o,i){if("undefined"==typeof window)return;if(!i&&!(0,s.isLocalURL)(t))return;if(!r.bypassPrefetchedCheck){const o=void 0!==r.locale?r.locale:"locale"in e?e.locale:void 0,i=t+"%"+n+"%"+o;if(g.has(i))return;g.add(i)}(async()=>i?e.prefetch(t,o):e.prefetch(t,n,r))().catch((e=>{0}))}function b(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}const w=i.default.forwardRef((function(e,t){let n;const{href:r,as:l,children:g,prefetch:w=null,passHref:x,replace:S,shallow:k,scroll:E,locale:O,onClick:j,onMouseEnter:_,onTouchStart:C,legacyBehavior:T=!1,...P}=e;n=g,!T||"string"!=typeof n&&"number"!=typeof n||(n=(0,o.jsx)("a",{children:n}));const A=i.default.useContext(d.RouterContext),N=i.default.useContext(f.AppRouterContext),M=null!=A?A:N,I=!A,R=!1!==w,L=null===w?v.PrefetchKind.AUTO:v.PrefetchKind.FULL;const{href:D,as:F}=i.default.useMemo((()=>{if(!A){const e=b(r);return{href:e,as:l?b(l):e}}const[e,t]=(0,a.resolveHref)(A,r,!0);return{href:e,as:l?(0,a.resolveHref)(A,l):t||e}}),[A,r,l]),z=i.default.useRef(D),B=i.default.useRef(F);let $;T&&($=i.default.Children.only(n));const U=T?$&&"object"==typeof $&&$.ref:t,[V,H,W]=(0,p.useIntersection)({rootMargin:"200px"}),q=i.default.useCallback((e=>{B.current===F&&z.current===D||(W(),B.current=F,z.current=D),V(e),U&&("function"==typeof U?U(e):"object"==typeof U&&(U.current=e))}),[F,U,D,W,V]);i.default.useEffect((()=>{M&&H&&R&&y(M,D,F,{locale:O},{kind:L},I)}),[F,D,H,O,R,null==A?void 0:A.locale,M,I,L]);const G={ref:q,onClick(e){T||"function"!=typeof j||j(e),T&&$.props&&"function"==typeof $.props.onClick&&$.props.onClick(e),M&&(e.defaultPrevented||function(e,t,n,r,o,a,l,c,u){const{nodeName:d}=e.currentTarget;if("A"===d.toUpperCase()&&(function(e){const t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!u&&!(0,s.isLocalURL)(n)))return;e.preventDefault();const f=()=>{const e=null==l||l;"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:a,locale:c,scroll:e}):t[o?"replace":"push"](r||n,{scroll:e})};u?i.default.startTransition(f):f()}(e,M,D,F,S,k,E,O,I))},onMouseEnter(e){T||"function"!=typeof _||_(e),T&&$.props&&"function"==typeof $.props.onMouseEnter&&$.props.onMouseEnter(e),M&&(!R&&I||y(M,D,F,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:L},I))},onTouchStart:{}.__NEXT_LINK_NO_TOUCH_START?void 0:function(e){T||"function"!=typeof C||C(e),T&&$.props&&"function"==typeof $.props.onTouchStart&&$.props.onTouchStart(e),M&&(!R&&I||y(M,D,F,{locale:O,priority:!0,bypassPrefetchedCheck:!0},{kind:L},I))}};if((0,c.isAbsoluteUrl)(F))G.href=F;else if(!T||x||"a"===$.type&&!("href"in $.props)){const e=void 0!==O?O:null==A?void 0:A.locale,t=(null==A?void 0:A.isLocaleDomain)&&(0,h.getDomainLocale)(F,e,null==A?void 0:A.locales,null==A?void 0:A.domainLocales);G.href=t||(0,m.addBasePath)((0,u.addLocale)(F,e,null==A?void 0:A.defaultLocale))}return T?i.default.cloneElement($,G):(0,o.jsx)("a",{...P,...G,children:n})}));("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return r}});const r=(e,t)=>({}.__NEXT_I18N_SUPPORT?n(2128).d(e,t):{pathname:e,detectedLocale:void 0});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizePathTrailingSlash",{enumerable:!0,get:function(){return i}});const r=n(8944),o=n(8882),i=e=>{if(!e.startsWith("/")||{}.__NEXT_MANUAL_TRAILING_SLASH)return e;const{pathname:t,query:n,hash:i}=(0,o.parsePath)(e);return{}.__NEXT_TRAILING_SLASH?/\.[^/]+\/?$/.test(t)?""+(0,r.removeTrailingSlash)(t)+n+i:t.endsWith("/")?""+t+n+i:t+"/"+n+i:""+(0,r.removeTrailingSlash)(t)+n+i};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});const n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"resolveHref",{enumerable:!0,get:function(){return d}});const r=n(6682),o=n(8364),i=n(6162),a=n(3654),s=n(9815),l=n(8830),c=n(8455),u=n(7801);function d(e,t,n){let d,f="string"==typeof t?t:(0,o.formatWithValidation)(t);const p=f.match(/^[a-zA-Z]{1,}:\/\//),h=p?f.slice(p[0].length):f;if((h.split("?",1)[0]||"").match(/(\/\/|\\)/)){console.error("Invalid href '"+f+"' passed to next/router in page: '"+e.pathname+"'. Repeated forward-slashes (//) or backslashes \\ are not valid in the href.");const t=(0,a.normalizeRepeatedSlashes)(h);f=(p?p[0]:"")+t}if(!(0,l.isLocalURL)(f))return n?[f]:f;try{d=new URL(f.startsWith("#")?e.asPath:e.pathname,"http://n")}catch(e){d=new URL("/","http://n")}try{const e=new URL(f,d);e.pathname=(0,s.normalizePathTrailingSlash)(e.pathname);let t="";if((0,c.isDynamicRoute)(e.pathname)&&e.searchParams&&n){const n=(0,r.searchParamsToUrlQuery)(e.searchParams),{result:a,params:s}=(0,u.interpolateAs)(e.pathname,e.pathname,n);a&&(t=(0,o.formatWithValidation)({pathname:a,hash:e.hash,query:(0,i.omit)(n,s)}))}const a=e.origin===d.origin?e.href.slice(e.origin.length):e.href;return n?[a,t||a]:a}catch(e){return n?[f]:f}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1526:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return c}});const r=n(6540),o=n(2951),i="function"==typeof IntersectionObserver,a=new Map,s=[];function l(e,t,n){const{id:r,observer:o,elements:i}=function(e){const t={root:e.root||null,margin:e.rootMargin||""},n=s.find((e=>e.root===t.root&&e.margin===t.margin));let r;if(n&&(r=a.get(n),r))return r;const o=new Map,i=new IntersectionObserver((e=>{e.forEach((e=>{const t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return r={id:t,observer:i,elements:o},s.push(t),a.set(t,r),r}(n);return i.set(e,t),o.observe(e),function(){if(i.delete(e),o.unobserve(e),0===i.size){o.disconnect(),a.delete(r);const e=s.findIndex((e=>e.root===r.root&&e.margin===r.margin));e>-1&&s.splice(e,1)}}}function c(e){let{rootRef:t,rootMargin:n,disabled:a}=e;const s=a||!i,[c,u]=(0,r.useState)(!1),d=(0,r.useRef)(null),f=(0,r.useCallback)((e=>{d.current=e}),[]);(0,r.useEffect)((()=>{if(i){if(s||c)return;const e=d.current;if(e&&e.tagName){return l(e,(e=>e&&u(e)),{root:null==t?void 0:t.current,rootMargin:n})}}else if(!c){const e=(0,o.requestIdleCallback)((()=>u(!0)));return()=>(0,o.cancelIdleCallback)(e)}}),[s,n,t,c,d.current]);const p=(0,r.useCallback)((()=>{u(!1)}),[]);return[f,c,p]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return o},extractInterceptionRouteInformation:function(){return a},isInterceptionRouteAppPath:function(){return i}});const r=n(8597),o=["(..)(..)","(.)","(..)","(...)"];function i(e){return void 0!==e.split("/").find((e=>o.find((t=>e.startsWith(t)))))}function a(e){let t,n,i;for(const r of e.split("/"))if(n=o.find((e=>r.startsWith(e))),n){[t,i]=e.split(n,2);break}if(!t||!n||!i)throw new Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,r.normalizeAppPath)(t),n){case"(.)":i="/"===t?`/${i}`:t+"/"+i;break;case"(..)":if("/"===t)throw new Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);i=t.split("/").slice(0,-1).concat(i).join("/");break;case"(...)":i="/"+i;break;case"(..)(..)":const n=t.split("/");if(n.length<=2)throw new Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);i=n.slice(0,-2).concat(i).join("/");break;default:throw new Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:i}}},1009:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return r}});const r=n(9929)._(n(6540)).default.createContext({})},5977:(e,t)=>{"use strict";function n(e){let{ampFirst:t=!1,hybrid:n=!1,hasQuery:r=!1}=void 0===e?{}:e;return t||n&&r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return n}})},2626:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{AppRouterContext:function(){return o},GlobalLayoutRouterContext:function(){return a},LayoutRouterContext:function(){return i},MissingSlotContext:function(){return l},TemplateContext:function(){return s}});const r=n(9929)._(n(6540)),o=r.default.createContext(null),i=r.default.createContext(null),a=r.default.createContext(null),s=r.default.createContext(null);const l=r.default.createContext(new Set)},6636:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"escapeStringRegexp",{enumerable:!0,get:function(){return o}});const n=/[|\\{}()[\]^$+*?.-]/,r=/[|\\{}()[\]^$+*?.-]/g;function o(e){return n.test(e)?e.replace(r,"\\$&"):e}},7047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"HeadManagerContext",{enumerable:!0,get:function(){return r}});const r=n(9929)._(n(6540)).default.createContext({})},5341:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return m},defaultHead:function(){return d}});const r=n(9929),o=n(4588),i=n(4848),a=o._(n(6540)),s=r._(n(1535)),l=n(1009),c=n(7047),u=n(5977);n(1719);function d(e){void 0===e&&(e=!1);const t=[(0,i.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,i.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function f(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce(((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t)),[])):e.concat(t)}const p=["name","httpEquiv","charSet","itemProp"];function h(e,t){const{inAmpMode:n}=t;return e.reduce(f,[]).reverse().concat(d(n).reverse()).filter(function(){const e=new Set,t=new Set,n=new Set,r={};return o=>{let i=!0,a=!1;if(o.key&&"number"!=typeof o.key&&o.key.indexOf("$")>0){a=!0;const t=o.key.slice(o.key.indexOf("$")+1);e.has(t)?i=!1:e.add(t)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(let e=0,t=p.length;e<t;e++){const t=p[e];if(o.props.hasOwnProperty(t))if("charSet"===t)n.has(t)?i=!1:n.add(t);else{const e=o.props[t],n=r[t]||new Set;"name"===t&&a||!n.has(e)?(n.add(e),r[t]=n):i=!1}}}return i}}()).reverse().map(((e,t)=>{const r=e.key||t;if({}.__NEXT_OPTIMIZE_FONTS&&!n&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some((t=>e.props.href.startsWith(t)))){const t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,a.default.cloneElement(e,t)}return a.default.cloneElement(e,{key:r})}))}const m=function(e){let{children:t}=e;const n=(0,a.useContext)(l.AmpStateContext),r=(0,a.useContext)(c.HeadManagerContext);return(0,i.jsx)(s.default,{reduceComponentsToState:h,headManager:r,inAmpMode:(0,u.isInAmpMode)(n),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6757:(e,t)=>{"use strict";function n(e,t,n){if(e){n&&(n=n.toLowerCase());for(const i of e){var r,o;if(t===(null==(r=i.domain)?void 0:r.split(":",1)[0].toLowerCase())||n===i.defaultLocale.toLowerCase()||(null==(o=i.locales)?void 0:o.some((e=>e.toLowerCase()===n))))return i}}}Object.defineProperty(t,"C",{enumerable:!0,get:function(){return n}})},2128:(e,t)=>{"use strict";function n(e,t){let n;const r=e.split("/");return(t||[]).some((t=>!(!r[1]||r[1].toLowerCase()!==t.toLowerCase())&&(n=t,r.splice(1,1),e=r.join("/")||"/",!0))),{pathname:e,detectedLocale:n}}Object.defineProperty(t,"d",{enumerable:!0,get:function(){return n}})},916:(e,t)=>{"use strict";function n(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},5700:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});const r=n(9929)._(n(6540)).default.createContext(null)},8487:(e,t,n)=>{"use strict";Object.defineProperty(t,"I",{enumerable:!0,get:function(){return i}});const r=n(1019),o=n(2162);function i(e,t,n,i){if(!t||t===n)return e;const a=e.toLowerCase();if(!i){if((0,o.pathHasPrefix)(a,"/api"))return e;if((0,o.pathHasPrefix)(a,"/"+t.toLowerCase()))return e}return(0,r.addPathPrefix)(e,"/"+t)}},1019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return o}});const r=n(8882);function o(e,t){if(!e.startsWith("/")||!t)return e;const{pathname:n,query:o,hash:i}=(0,r.parsePath)(e);return""+t+n+o+i}},8597:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{normalizeAppPath:function(){return i},normalizeRscURL:function(){return a}});const r=n(916),o=n(5930);function i(e){return(0,r.ensureLeadingSlash)(e.split("/").reduce(((e,t,n,r)=>t?(0,o.isGroupSegment)(t)||"@"===t[0]?e:"page"!==t&&"route"!==t||n!==r.length-1?e+"/"+t:e:e),""))}function a(e){return e.replace(/\.rsc($|\?)/,"$1")}},8364:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{formatUrl:function(){return i},formatWithValidation:function(){return s},urlObjectKeys:function(){return a}});const r=n(4588)._(n(6682)),o=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:n}=e,i=e.protocol||"",a=e.pathname||"",s=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:n&&(c=t+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(r.urlQueryToSearchParams(l)));let u=e.search||l&&"?"+l||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||o.test(i))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),u&&"?"!==u[0]&&(u="?"+u),a=a.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),""+i+c+a+u+s}const a=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function s(e){return i(e)}},8455:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getSortedRoutes:function(){return r.getSortedRoutes},isDynamicRoute:function(){return o.isDynamicRoute}});const r=n(9041),o=n(6927)},7801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"interpolateAs",{enumerable:!0,get:function(){return i}});const r=n(8945),o=n(4240);function i(e,t,n){let i="";const a=(0,o.getRouteRegex)(e),s=a.groups,l=(t!==e?(0,r.getRouteMatcher)(a)(t):"")||n;i=e;const c=Object.keys(s);return c.every((e=>{let t=l[e]||"";const{repeat:n,optional:r}=s[e];let o="["+(n?"...":"")+e+"]";return r&&(o=(t?"":"/")+"["+o+"]"),n&&!Array.isArray(t)&&(t=[t]),(r||e in l)&&(i=i.replace(o,n?t.map((e=>encodeURIComponent(e))).join("/"):encodeURIComponent(t))||"/")}))||(i=""),{params:c,result:i}}},6927:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicRoute",{enumerable:!0,get:function(){return i}});const r=n(3794),o=/\/\[[^/]+?\](?=\/|$)/;function i(e){return(0,r.isInterceptionRouteAppPath)(e)&&(e=(0,r.extractInterceptionRouteInformation)(e).interceptedRoute),o.test(e)}},8830:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isLocalURL",{enumerable:!0,get:function(){return i}});const r=n(3654),o=n(4839);function i(e){if(!(0,r.isAbsoluteUrl)(e))return!0;try{const t=(0,r.getLocationOrigin)(),n=new URL(e,t);return n.origin===t&&(0,o.hasBasePath)(n.pathname)}catch(e){return!1}}},6162:(e,t)=>{"use strict";function n(e,t){const n={};return Object.keys(e).forEach((r=>{t.includes(r)||(n[r]=e[r])})),n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"omit",{enumerable:!0,get:function(){return n}})},8882:(e,t)=>{"use strict";function n(e){const t=e.indexOf("#"),n=e.indexOf("?"),r=n>-1&&(t<0||n<t);return r||t>-1?{pathname:e.substring(0,r?n:t),query:r?e.substring(n,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return n}})},2162:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return o}});const r=n(8882);function o(e,t){if("string"!=typeof e)return!1;const{pathname:n}=(0,r.parsePath)(e);return n===t||n.startsWith(t+"/")}},6682:(e,t)=>{"use strict";function n(e){const t={};return e.forEach(((e,n)=>{void 0===t[n]?t[n]=e:Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]})),t}function r(e){return"string"==typeof e||"number"==typeof e&&!isNaN(e)||"boolean"==typeof e?String(e):""}function o(e){const t=new URLSearchParams;return Object.entries(e).forEach((e=>{let[n,o]=e;Array.isArray(o)?o.forEach((e=>t.append(n,r(e)))):t.set(n,r(o))})),t}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((t=>{Array.from(t.keys()).forEach((t=>e.delete(t))),t.forEach(((t,n)=>e.append(n,t)))})),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{assign:function(){return i},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return o}})},8944:(e,t)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},8945:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getRouteMatcher",{enumerable:!0,get:function(){return o}});const r=n(3654);function o(e){let{re:t,groups:n}=e;return e=>{const o=t.exec(e);if(!o)return!1;const i=e=>{try{return decodeURIComponent(e)}catch(e){throw new r.DecodeError("failed to decode param")}},a={};return Object.keys(n).forEach((e=>{const t=n[e],r=o[t.pos];void 0!==r&&(a[e]=~r.indexOf("/")?r.split("/").map((e=>i(e))):t.repeat?[i(r)]:i(r))})),a}}},4240:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{getNamedMiddlewareRegex:function(){return h},getNamedRouteRegex:function(){return p},getRouteRegex:function(){return u},parseParameter:function(){return l}});const r=n(3794),o=n(6636),i=n(8944),a="nxtP",s="nxtI";function l(e){const t=e.startsWith("[")&&e.endsWith("]");t&&(e=e.slice(1,-1));const n=e.startsWith("...");return n&&(e=e.slice(3)),{key:e,repeat:n,optional:t}}function c(e){const t=(0,i.removeTrailingSlash)(e).slice(1).split("/"),n={};let a=1;return{parameterizedRoute:t.map((e=>{const t=r.INTERCEPTION_ROUTE_MARKERS.find((t=>e.startsWith(t))),i=e.match(/\[((?:\[.*\])|.+)\]/);if(t&&i){const{key:e,optional:r,repeat:s}=l(i[1]);return n[e]={pos:a++,repeat:s,optional:r},"/"+(0,o.escapeStringRegexp)(t)+"([^/]+?)"}if(i){const{key:e,repeat:t,optional:r}=l(i[1]);return n[e]={pos:a++,repeat:t,optional:r},t?r?"(?:/(.+?))?":"/(.+?)":"/([^/]+?)"}return"/"+(0,o.escapeStringRegexp)(e)})).join(""),groups:n}}function u(e){const{parameterizedRoute:t,groups:n}=c(e);return{re:new RegExp("^"+t+"(?:/)?$"),groups:n}}function d(e){let{interceptionMarker:t,getSafeRouteKey:n,segment:r,routeKeys:i,keyPrefix:a}=e;const{key:s,optional:c,repeat:u}=l(r);let d=s.replace(/\W/g,"");a&&(d=""+a+d);let f=!1;(0===d.length||d.length>30)&&(f=!0),isNaN(parseInt(d.slice(0,1)))||(f=!0),f&&(d=n()),i[d]=a?""+a+s:s;const p=t?(0,o.escapeStringRegexp)(t):"";return u?c?"(?:/"+p+"(?<"+d+">.+?))?":"/"+p+"(?<"+d+">.+?)":"/"+p+"(?<"+d+">[^/]+?)"}function f(e,t){const n=(0,i.removeTrailingSlash)(e).slice(1).split("/"),l=function(){let e=0;return()=>{let t="",n=++e;for(;n>0;)t+=String.fromCharCode(97+(n-1)%26),n=Math.floor((n-1)/26);return t}}(),c={};return{namedParameterizedRoute:n.map((e=>{const n=r.INTERCEPTION_ROUTE_MARKERS.some((t=>e.startsWith(t))),i=e.match(/\[((?:\[.*\])|.+)\]/);if(n&&i){const[n]=e.split(i[0]);return d({getSafeRouteKey:l,interceptionMarker:n,segment:i[1],routeKeys:c,keyPrefix:t?s:void 0})}return i?d({getSafeRouteKey:l,segment:i[1],routeKeys:c,keyPrefix:t?a:void 0}):"/"+(0,o.escapeStringRegexp)(e)})).join(""),routeKeys:c}}function p(e,t){const n=f(e,t);return{...u(e),namedRegex:"^"+n.namedParameterizedRoute+"(?:/)?$",routeKeys:n.routeKeys}}function h(e,t){const{parameterizedRoute:n}=c(e),{catchAll:r=!0}=t;if("/"===n){return{namedRegex:"^/"+(r?".*":"")+"$"}}const{namedParameterizedRoute:o}=f(e,!1);return{namedRegex:"^"+o+(r?"(?:(/.*)?)":"")+"$"}}},9041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getSortedRoutes",{enumerable:!0,get:function(){return r}});class n{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e){void 0===e&&(e="/");const t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);const n=t.map((t=>this.children.get(t)._smoosh(""+e+t+"/"))).reduce(((e,t)=>[...e,...t]),[]);if(null!==this.slugName&&n.push(...this.children.get("[]")._smoosh(e+"["+this.slugName+"]/")),!this.placeholder){const t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw new Error('You cannot define a route with the same specificity as a optional catch-all route ("'+t+'" and "'+t+"[[..."+this.optionalRestSlugName+']]").');n.unshift(t)}return null!==this.restSlugName&&n.push(...this.children.get("[...]")._smoosh(e+"[..."+this.restSlugName+"]/")),null!==this.optionalRestSlugName&&n.push(...this.children.get("[[...]]")._smoosh(e+"[[..."+this.optionalRestSlugName+"]]/")),n}_insert(e,t,r){if(0===e.length)return void(this.placeholder=!1);if(r)throw new Error("Catch-all must be the last part of the URL.");let o=e[0];if(o.startsWith("[")&&o.endsWith("]")){let i=o.slice(1,-1),a=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),a=!0),i.startsWith("...")&&(i=i.substring(3),r=!0),i.startsWith("[")||i.endsWith("]"))throw new Error("Segment names may not start or end with extra brackets ('"+i+"').");if(i.startsWith("."))throw new Error("Segment names may not start with erroneous periods ('"+i+"').");function s(e,n){if(null!==e&&e!==n)throw new Error("You cannot use different slug names for the same dynamic path ('"+e+"' !== '"+n+"').");t.forEach((e=>{if(e===n)throw new Error('You cannot have the same slug name "'+n+'" repeat within a single dynamic path');if(e.replace(/\W/g,"")===o.replace(/\W/g,""))throw new Error('You cannot have the slug names "'+e+'" and "'+n+'" differ only by non-word symbols within a single dynamic path')})),t.push(n)}if(r)if(a){if(null!=this.restSlugName)throw new Error('You cannot use both an required and optional catch-all route at the same level ("[...'+this.restSlugName+']" and "'+e[0]+'" ).');s(this.optionalRestSlugName,i),this.optionalRestSlugName=i,o="[[...]]"}else{if(null!=this.optionalRestSlugName)throw new Error('You cannot use both an optional and required catch-all route at the same level ("[[...'+this.optionalRestSlugName+']]" and "'+e[0]+'").');s(this.restSlugName,i),this.restSlugName=i,o="[...]"}else{if(a)throw new Error('Optional route parameters are not yet supported ("'+e[0]+'").');s(this.slugName,i),this.slugName=i,o="[]"}}this.children.has(o)||this.children.set(o,new n),this.children.get(o)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function r(e){const t=new n;return e.forEach((e=>t.insert(e))),t.smoosh()}},5930:(e,t)=>{"use strict";function n(e){return"("===e[0]&&e.endsWith(")")}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DEFAULT_SEGMENT_KEY:function(){return o},PAGE_SEGMENT_KEY:function(){return r},isGroupSegment:function(){return n}});const r="__PAGE__",o="__DEFAULT__"},1535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});const r=n(6540),o="undefined"==typeof window,i=o?()=>{}:r.useLayoutEffect,a=o?()=>{}:r.useEffect;function s(e){const{headManager:t,reduceComponentsToState:n}=e;function s(){if(t&&t.mountedInstances){const o=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(n(o,e))}}var l;o&&(null==t||null==(l=t.mountedInstances)||l.add(e.children),s());return i((()=>{var n;return null==t||null==(n=t.mountedInstances)||n.add(e.children),()=>{var n;null==t||null==(n=t.mountedInstances)||n.delete(e.children)}})),i((()=>(t&&(t._pendingUpdate=s),()=>{t&&(t._pendingUpdate=s)}))),a((()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}))),null}},3654:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return g},NormalizeError:function(){return m},PageNotFoundError:function(){return v},SP:function(){return f},ST:function(){return p},WEB_VITALS:function(){return n},execOnce:function(){return r},getDisplayName:function(){return l},getLocationOrigin:function(){return a},getURL:function(){return s},isAbsoluteUrl:function(){return i},isResSent:function(){return c},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return b}});const n=["CLS","FCP","FID","INP","LCP","TTFB"];function r(e){let t,n=!1;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n||(n=!0,t=e(...o)),t}}const o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>o.test(e);function a(){const{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function s(){const{href:e}=window.location,t=a();return e.substring(t.length)}function l(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){const t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){const n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};const r=await e.getInitialProps(t);if(n&&c(n))return r;if(!r){const t='"'+l(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.';throw new Error(t)}return r}const f="undefined"!=typeof performance,p=f&&["mark","measure","getEntriesByName"].every((e=>"function"==typeof performance[e]));class h extends Error{}class m extends Error{}class v extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},1719:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},3368:(e,t,n)=>{e.exports=n(5341)},1106:(e,t,n)=>{e.exports=n(8869)},8633:e=>{var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t,blackBright:t,redBright:t,greenBright:t,yellowBright:t,blueBright:t,magentaBright:t,cyanBright:t,whiteBright:t,bgBlackBright:t,bgRedBright:t,bgGreenBright:t,bgYellowBright:t,bgBlueBright:t,bgMagentaBright:t,bgCyanBright:t,bgWhiteBright:t}};e.exports=n(),e.exports.createColors=n},2694:(e,t,n)=>{"use strict";var r=n(6925);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5556:(e,t,n)=>{e.exports=n(2694)()},6925:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},159:(e,t,n)=>{"use strict";var r,o=n(6540),i=(r=o)&&"object"==typeof r&&"default"in r?r.default:r,a=n(9502),s=new a,l=s.getBrowser(),c=s.getCPU(),u=s.getDevice(),d=s.getEngine(),f=s.getOS(),p=s.getUA(),h=function(e){return s.setUA(e)},m=function(e){if(e){var t=new a(e);return{UA:t,browser:t.getBrowser(),cpu:t.getCPU(),device:t.getDevice(),engine:t.getEngine(),os:t.getOS(),ua:t.getUA(),setUserAgent:function(e){return t.setUA(e)}}}console.error("No userAgent string was provided")},v=Object.freeze({ClientUAInstance:s,browser:l,cpu:c,device:u,engine:d,os:f,ua:p,setUa:h,parseUserAgent:m});function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="mobile",T="tablet",P="smarttv",A="console",N="wearable",M="embedded",I=void 0,R={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},L={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},D={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},F=function(e){return e||(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none")},z=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},B=function(e){var t=z();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)},$=function(e,t,n,r){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{vendor:F(t.vendor),model:F(t.model),os:F(n.name),osVersion:F(n.version),ua:F(r)})};var U=function(e){return e.type===C},V=function(e){return e.type===T},H=function(e){var t=e.type;return t===C||t===T},W=function(e){return e.type===P},q=function(e){return e.type===I},G=function(e){return e.type===N},K=function(e){return e.type===A},X=function(e){return e.type===M},Y=function(e){var t=e.vendor;return F(t)},Z=function(e){var t=e.model;return F(t)},J=function(e){var t=e.type;return F(t,"browser")},Q=function(e){return e.name===L.Android},ee=function(e){return e.name===L.Windows},te=function(e){return e.name===L.MAC_OS},ne=function(e){return e.name===L.WindowsPhone},re=function(e){return e.name===L.IOS},oe=function(e){var t=e.version;return F(t)},ie=function(e){var t=e.name;return F(t)},ae=function(e){return e.name===R.Chrome},se=function(e){return e.name===R.Firefox},le=function(e){return e.name===R.Chromium},ce=function(e){return e.name===R.Edge},ue=function(e){return e.name===R.Yandex},de=function(e){var t=e.name;return t===R.Safari||t===R.MobileSafari},fe=function(e){return e.name===R.MobileSafari},pe=function(e){return e.name===R.Opera},he=function(e){var t=e.name;return t===R.InternetExplorer||t===R.Ie},me=function(e){return e.name===R.MIUI},ve=function(e){return e.name===R.SamsungBrowser},ge=function(e){var t=e.version;return F(t)},ye=function(e){var t=e.major;return F(t)},be=function(e){var t=e.name;return F(t)},we=function(e){var t=e.name;return F(t)},xe=function(e){var t=e.version;return F(t)},Se=function(){var e=z(),t=e&&e.userAgent&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)},ke=function(e){return"string"==typeof e&&-1!==e.indexOf("Edg/")},Ee=function(){var e=z();return e&&(/iPad|iPhone|iPod/.test(e.platform)||"MacIntel"===e.platform&&e.maxTouchPoints>1)&&!window.MSStream},Oe=function(){return B("iPad")},je=function(){return B("iPhone")},_e=function(){return B("iPod")},Ce=function(e){return F(e)};function Te(e){var t=e||v,n=t.device,r=t.browser,o=t.os,i=t.engine,a=t.ua;return{isSmartTV:W(n),isConsole:K(n),isWearable:G(n),isEmbedded:X(n),isMobileSafari:fe(r)||Oe(),isChromium:le(r),isMobile:H(n)||Oe(),isMobileOnly:U(n),isTablet:V(n)||Oe(),isBrowser:q(n),isDesktop:q(n),isAndroid:Q(o),isWinPhone:ne(o),isIOS:re(o)||Oe(),isChrome:ae(r),isFirefox:se(r),isSafari:de(r),isOpera:pe(r),isIE:he(r),osVersion:oe(o),osName:ie(o),fullBrowserVersion:ge(r),browserVersion:ye(r),browserName:be(r),mobileVendor:Y(n),mobileModel:Z(n),engineName:we(i),engineVersion:xe(i),getUA:Ce(a),isEdge:ce(r)||ke(a),isYandex:ue(r),deviceType:J(n),isIOS13:Ee(),isIPad13:Oe(),isIPhone13:je(),isIPod13:_e(),isElectron:Se(),isEdgeChromium:ke(a),isLegacyEdge:ce(r)&&!ke(a),isWindows:ee(o),isMacOs:te(o),isMIUI:me(r),isSamsungBrowser:ve(r)}}var Pe=W(u),Ae=K(u),Ne=G(u),Me=X(u),Ie=fe(l)||Oe(),Re=le(l),Le=H(u)||Oe(),De=U(u),Fe=V(u)||Oe(),ze=q(u),Be=q(u),$e=Q(f),Ue=ne(f),Ve=re(f)||Oe(),He=ae(l),We=se(l),qe=de(l),Ge=pe(l),Ke=he(l),Xe=oe(f),Ye=ie(f),Ze=ge(l),Je=ye(l),Qe=be(l),et=Y(u),tt=Z(u),nt=we(d),rt=xe(d),ot=Ce(p),it=ce(l)||ke(p),at=ue(l),st=J(u),lt=Ee(),ct=Oe(),ut=je(),dt=_e(),ft=Se(),pt=ke(p),ht=ce(l)&&!ke(p),mt=ee(f),vt=te(f),gt=me(l),yt=ve(l);function bt(e){var t=e||window.navigator.userAgent;return m(t)}t.m0=$e,t.Fr=Le,t.HQ=Ie},9502:function(e,t,n){var r;!function(o,i){"use strict";var a="function",s="undefined",l="object",c="string",u="major",d="model",f="name",p="type",h="vendor",m="version",v="architecture",g="console",y="mobile",b="tablet",w="smarttv",x="wearable",S="embedded",k="Amazon",E="Apple",O="ASUS",j="BlackBerry",_="Browser",C="Chrome",T="Firefox",P="Google",A="Huawei",N="LG",M="Microsoft",I="Motorola",R="Opera",L="Samsung",D="Sharp",F="Sony",z="Xiaomi",B="Zebra",$="Facebook",U="Chromium OS",V="Mac OS",H=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},W=function(e,t){return typeof e===c&&-1!==q(t).indexOf(q(e))},q=function(e){return e.toLowerCase()},G=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===s?e:e.substring(0,500)},K=function(e,t){for(var n,r,o,s,c,u,d=0;d<t.length&&!c;){var f=t[d],p=t[d+1];for(n=r=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e))for(o=0;o<p.length;o++)u=c[++r],typeof(s=p[o])===l&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):i:this[s[0]]=u?s[1].call(this,u,s[2]):i:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):i):this[s]=u||i;d+=2}},X=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(W(t[n][r],e))return"?"===n?i:n}else if(W(t[n],e))return"?"===n?i:n;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,m],[/opios[\/ ]+([\w\.]+)/i],[m,[f,R+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[f,R+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[f,R]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,m],[/\bddg\/([\w\.]+)/i],[m,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[f,"UC"+_]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[f,"Smart Lenovo "+_]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+_],m],[/\bfocus\/([\w\.]+)/i],[m,[f,T+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[f,R+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[f,R+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[f,"MIUI "+_]],[/fxios\/([-\w\.]+)/i],[m,[f,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+_]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+_],m],[/samsungbrowser\/([\w\.]+)/i],[m,[f,L+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],m],[/metasr[\/ ]?([\d\.]+)/i],[m,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,m],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,$],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[f,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,C+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[f,"Android "+_]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[m,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[f,T+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,m],[/(cobalt)\/([\w\.]+)/i],[f,[m,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,q]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",q]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,q]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[d,[h,L],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[d,[h,L],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[d,[h,E],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[d,[h,E],[p,b]],[/(macintosh);/i],[d,[h,E]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[d,[h,D],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[d,[h,A],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[d,[h,A],[p,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[d,/_/g," "],[h,z],[p,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[d,/_/g," "],[h,z],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[d,[h,"OPPO"],[p,y]],[/\b(opd2\d{3}a?) bui/i],[d,[h,"OPPO"],[p,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[d,[h,"Vivo"],[p,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[d,[h,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[d,[h,I],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[d,[h,I],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[d,[h,N],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[d,[h,N],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[d,[h,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[d,/_/g," "],[h,"Nokia"],[p,y]],[/(pixel c)\b/i],[d,[h,P],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[d,[h,P],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[d,[h,F],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[d,"Xperia Tablet"],[h,F],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[d,[h,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[d,[h,k],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[d,/(.+)/g,"Fire Phone $1"],[h,k],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[d,h,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[d,[h,j],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[d,[h,O],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[d,[h,O],[p,y]],[/(nexus 9)/i],[d,[h,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[d,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[d,[h,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[d,[h,"Meizu"],[p,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[d,[h,"Ulefone"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,d,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,d,[p,b]],[/(surface duo)/i],[d,[h,M],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[d,[h,"Fairphone"],[p,y]],[/(u304aa)/i],[d,[h,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[d,[h,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[d,[h,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[d,[h,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[d,[h,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[d,[h,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[d,[h,"NuVision"],[p,b]],[/\b(k88) b/i],[d,[h,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[d,[h,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[d,[h,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[d,[h,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[d,[h,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],d,[p,b]],[/\b(ns-?\w{0,9}) b/i],[d,[h,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[d,[h,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],d,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],d,[p,y]],[/\b(ph-1) /i],[d,[h,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[d,[h,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[d,[h,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[d,[h,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[d,[h,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[h,d,[p,y]],[/(kin\.[onetw]{3})/i],[[d,/\./g," "],[h,M],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[d,[h,B],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[d,[h,B],[p,y]],[/smart-tv.+(samsung)/i],[h,[p,w]],[/hbbtv.+maple;(\d+)/i],[[d,/^/,"SmartTV"],[h,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,N],[p,w]],[/(apple) ?tv/i],[h,[d,E+" TV"],[p,w]],[/crkey/i],[[d,C+"cast"],[h,P],[p,w]],[/droid.+aft(\w+)( bui|\))/i],[d,[h,k],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[d,[h,D],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[d,[h,F],[p,w]],[/(mitv-\w{5}) bui/i],[d,[h,z],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[h,d,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,G],[d,G],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,d,[p,g]],[/droid.+; (shield) bui/i],[d,[h,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[d,[h,F],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[d,[h,M],[p,g]],[/((pebble))app/i],[h,d,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[d,[h,E],[p,x]],[/droid.+; (glass) \d/i],[d,[h,P],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[d,[h,B],[p,x]],[/(quest( \d| pro)?)/i],[d,[h,$],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,S]],[/(aeobc)\b/i],[d,[h,k],[p,S]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[d,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[d,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[d,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,m],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,m],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[m,X,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,X,Y],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,V],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,m],[/\(bb(10);/i],[m,[f,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[m,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[f,T+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[f,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,U],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,m],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,m]]},J=function(e,t){if(typeof e===l&&(t=e,e=i),!(this instanceof J))return new J(e,t).getResult();var n=typeof o!==s&&o.navigator?o.navigator:i,r=e||(n&&n.userAgent?n.userAgent:""),g=n&&n.userAgentData?n.userAgentData:i,w=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(Z,t):Z,x=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[f]=i,t[m]=i,K.call(t,r,w.browser),t[u]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:i,x&&n&&n.brave&&typeof n.brave.isBrave==a&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[v]=i,K.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[d]=i,e[p]=i,K.call(e,r,w.device),x&&!e[p]&&g&&g.mobile&&(e[p]=y),x&&"Macintosh"==e[d]&&n&&typeof n.standalone!==s&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[d]="iPad",e[p]=b),e},this.getEngine=function(){var e={};return e[f]=i,e[m]=i,K.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[f]=i,e[m]=i,K.call(e,r,w.os),x&&!e[f]&&g&&g.platform&&"Unknown"!=g.platform&&(e[f]=g.platform.replace(/chrome os/i,U).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?G(e,500):e,this},this.setUA(r),this};J.VERSION="1.0.38",J.BROWSER=H([f,m,u]),J.CPU=H([v]),J.DEVICE=H([d,h,p,g,y,w,b,x,S]),J.ENGINE=J.OS=H([f,m]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(r=function(){return J}.call(t,n,t,e))===i||(e.exports=r):typeof o!==s&&(o.UAParser=J);var Q=typeof o!==s&&(o.jQuery||o.Zepto);if(Q&&!Q.ua){var ee=new J;Q.ua=ee.getResult(),Q.ua.get=function(){return ee.getUA()},Q.ua.set=function(e){ee.setUA(e);var t=ee.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:this)},2551:(e,t,n)=>{"use strict";
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540),o=n(9982);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,D=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case O:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,Ee=null;function Oe(e){if(e=wo(e)){if("function"!=typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=So(t),Se(e.stateNode,e.type,t))}}function je(e){ke?Ee?Ee.push(e):Ee=[e]:ke=e}function _e(){if(ke){var e=ke,t=Ee;if(Ee=ke=null,Oe(e),t)for(e=0;e<t.length;e++)Oe(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ee)&&(Te(),_e())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=So(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Me=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Me=!1}function Re(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Le=!1,De=null,Fe=!1,ze=null,Be={onError:function(e){Le=!0,De=e}};function $e(e,t,n,r,o,i,a,s,l){Le=!1,De=null,Re.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return He(o),e;if(a===r)return He(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Xe=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Ze=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&4194240&i))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return!(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var xt,St,kt,Et,Ot,jt=!1,_t=[],Ct=null,Tt=null,Pt=null,At=new Map,Nt=new Map,Mt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=bo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Ot(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){jt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),At.forEach(zt),Nt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return $t(t,e)}if(0<_t.length){$t(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&$t(Ct,e),null!==Tt&&$t(Tt,e),null!==Pt&&$t(Pt,e),At.forEach(t),Nt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function qt(e,t,n,r){var o=bt,i=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Vt.transition=i}}function Gt(e,t,n,r){if(Ht){var o=Xt(e,t,n,r);if(null===o)Hr(e,t,r,Kt,n),Rt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,o),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,o),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return At.set(i,Lt(At.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,Lt(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&xt(i),null===(i=Xt(e,t,n,r))&&Hr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=bo(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=D({},cn,{view:0,detail:0}),fn=on(dn),pn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(pn),mn=on(D({},pn,{dataTransfer:0})),vn=on(D({},dn,{relatedTarget:0})),gn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(D({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function On(){return En}var jn=D({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(jn),Cn=on(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Pn=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(An),Mn=[9,13,27,32],In=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,Dn=u&&(!In||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){je(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Gn=null;function Kn(e){Fr(e,0)}function Xn(e){if(G(xo(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Jn=Qn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Gn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Gn)){var t=[];Wn(t,Gn,e,xe(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Gn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var a=ur(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Er={};function Or(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return kr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var jr=Or("animationend"),_r=Or("animationiteration"),Cr=Or("animationstart"),Tr=Or("transitionend"),Pr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Pr.set(e,t),l(t,[e])}for(var Mr=0;Mr<Ar.length;Mr++){var Ir=Ar[Mr];Nr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Nr(jr,"onAnimationEnd"),Nr(_r,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,c){if($e.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=De;Le=!1,De=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,s,c),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Dr(o,s,c),i=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[vo];void 0===n&&(n=t[vo]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Yt(t)){case 1:var o=Wt;break;case 4:o=qt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=bo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=i,o=xe(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case jr:case _r:case Cr:l=gn;break;case Tr:l=Pn;break;case"scroll":l=fn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=!!(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Ne(h,f))&&u.push(Wr(h,m,p)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,o),a.push({event:s,listeners:u}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?s:xo(l),p=null==c?s:xo(c),(s=new u(m,h+"leave",l,n,o)).target=d,s.relatedTarget=p,m=null,bo(o)===r&&((u=new u(f,h+"enter",c,n,o)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(f=c,h=0,p=u=l;p;p=Gr(p))h++;for(p=0,m=f;m;m=Gr(m))p++;for(;0<h-p;)u=Gr(u),h--;for(;0<p-h;)f=Gr(f),p--;for(;h--;){if(u===f||null!==f&&u===f.alternate)break e;u=Gr(u),f=Gr(f)}u=null}else u=null;null!==l&&Kr(a,s,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(s=r?xo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Yn;else if(Hn(s))if(Zn)v=ar;else{v=or;var g=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?Wn(a,v,n,o):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xo(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,o)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Jt="value"in(Zt=o)?Zt.value:Zt.textContent,Un=!0)),0<(g=qr(r,b)).length&&(b=new wn(b,e,null,n,o),a.push({event:b,listeners:g}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Qt=Jt=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ne(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,o?null!=(l=Ne(n,i))&&a.unshift(Wr(n,l,s)):o||null!=(l=Ne(n,i))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,vo="__reactEvents$"+fo,go="__reactListeners$"+fo,yo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function So(e){return e[ho]||null}var ko=[],Eo=-1;function Oo(e){return{current:e}}function jo(e){0>Eo||(e.current=ko[Eo],ko[Eo]=null,Eo--)}function _o(e,t){Eo++,ko[Eo]=e.current,e.current=t}var Co={},To=Oo(Co),Po=Oo(!1),Ao=Co;function No(e,t){var n=e.type.contextTypes;if(!n)return Co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mo(e){return null!=(e=e.childContextTypes)}function Io(){jo(Po),jo(To)}function Ro(e,t,n){if(To.current!==Co)throw Error(i(168));_o(To,t),_o(Po,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Co,Ao=To.current,_o(To,e),_o(Po,Po.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Ao),r.__reactInternalMemoizedMergedChildContext=e,jo(Po),jo(To),_o(To,e)):jo(Po),_o(Po,n)}var zo=null,Bo=!1,$o=!1;function Uo(e){null===zo?zo=[e]:zo.push(e)}function Vo(){if(!$o&&null!==zo){$o=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Bo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),Ge(Qe,Vo),t}finally{bt=t,$o=!1}}return null}var Ho=[],Wo=0,qo=null,Go=0,Ko=[],Xo=0,Yo=null,Zo=1,Jo="";function Qo(e,t){Ho[Wo++]=Go,Ho[Wo++]=qo,qo=e,Go=t}function ei(e,t,n){Ko[Xo++]=Zo,Ko[Xo++]=Jo,Ko[Xo++]=Yo,Yo=e;var r=Zo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Zo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===qo;)qo=Ho[--Wo],Ho[Wo]=null,Go=Ho[--Wo],Ho[Wo]=null;for(;e===Yo;)Yo=Ko[--Xo],Ko[Xo]=null,Jo=Ko[--Xo],Ko[Xo]=null,Zo=Ko[--Xo],Ko[Xo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Zo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return!(!(1&e.mode)||128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=co(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var vi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===N&&bi(i)===t.type)?((r=o(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case S:return(t=Fc(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===o?c(e,t,n,r):null;case S:return n.key===o?u(e,t,n,r):null;case N:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||R(n))return null!==o?null:d(e,t,n,r,null);yi(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,s,l){for(var c=null,u=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(o,d,s[m],l);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(o,d),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g,d=v}if(m===s.length)return n(o,d),ii&&Qo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=f(o,s[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return ii&&Qo(o,m),c}for(d=r(o,d);m<s.length;m++)null!==(v=h(d,o,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=a(v,i,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),c}function v(o,s,l,c){var u=R(l);if("function"!=typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=s,v=s=0,g=null,y=l.next();null!==m&&!y.done;v++,y=l.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(o,m),ii&&Qo(o,v),u;if(null===m){for(;!y.done;v++,y=l.next())null!==(y=f(o,y.value,c))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return ii&&Qo(o,v),u}for(m=r(o,m);!y.done;v++,y=l.next())null!==(y=h(m,o,v,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,v),u}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===N&&bi(c)===u.type){n(r,u.sibling),(i=o(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===k?((i=Rc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Ic(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return s(r);case N:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(R(a))return v(r,i,a,l);yi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Dc(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var xi=wi(!0),Si=wi(!1),ki=Oo(null),Ei=null,Oi=null,ji=null;function _i(){ji=Oi=Ei=null}function Ci(e){var t=ki.current;jo(ki),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pi(e,t){Ei=e,ji=Oi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ai(e){var t=e._currentValue;if(ji!==e)if(e={context:e,memoizedValue:t,next:null},null===Oi){if(null===Ei)throw Error(i(308));Oi=e,Ei.dependencies={lanes:0,firstContext:e}}else Oi=Oi.next=e;return t}var Ni=null;function Mi(e){null===Ni?Ni=[e]:Ni.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Mi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Cl){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ri(e,n)}return null===(o=r.interleaved)?(t.next=t,Mi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ri(e,n)}function $i(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vi(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(f="function"==typeof(h=m.payload)?h.call(p,d,f):h))break e;d=D({},d,f);break e;case 2:Li=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var Wi={},qi=Oo(Wi),Gi=Oo(Wi),Ki=Oo(Wi);function Xi(e){if(e===Wi)throw Error(i(174));return e}function Yi(e,t){switch(_o(Ki,t),_o(Gi,e),_o(qi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}jo(qi),_o(qi,t)}function Zi(){jo(qi),jo(Gi),jo(Ki)}function Ji(e){Xi(Ki.current);var t=Xi(qi.current),n=le(t,e.type);t!==n&&(_o(Gi,e),_o(qi,n))}function Qi(e){Gi.current===e&&(jo(qi),jo(Gi))}var ea=Oo(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var oa=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ca=null,ua=!1,da=!1,fa=0,pa=0;function ha(){throw Error(i(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function va(e,t,n,r,o,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oa.current=null===e||null===e.memoizedState?Qa:es,e=n(r,o),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(i(301));a+=1,ca=la=null,t.updateQueue=null,oa.current=ts,e=n(r,o)}while(da)}if(oa.current=Ja,t=null!==la&&null!==la.next,aa=0,ca=la=sa=null,ua=!1,t)throw Error(i(300));return e}function ga(){var e=0!==fa;return fa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(i(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"==typeof t?t(e):t}function xa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=la,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,sa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,sa.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Sa(e){var t=ba(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Ea(e,t){var n=sa,r=ba(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,bs=!0),r=r.queue,La(_a.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Aa(9,ja.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));30&aa||Oa(n,t,o)}return o}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ja(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function _a(e,t,n){return n((function(){Ca(t)&&Ta(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Ta(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Na(){return ba().memoizedState}function Ma(e,t,n,r){var o=ya();sa.flags|=e,o.memoizedState=Aa(1|t,n,void 0,void 0===r?null:r)}function Ia(e,t,n,r){var o=ba();r=void 0===r?null:r;var i=void 0;if(null!==la){var a=la.memoizedState;if(i=a.destroy,null!==r&&ma(r,a.deps))return void(o.memoizedState=Aa(t,n,i,r))}sa.flags|=e,o.memoizedState=Aa(1|t,n,i,r)}function Ra(e,t){return Ma(8390656,8,e,t)}function La(e,t){return Ia(2048,8,e,t)}function Da(e,t){return Ia(4,2,e,t)}function Fa(e,t){return Ia(4,4,e,t)}function za(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!=n?n.concat([e]):null,Ia(4,4,za.bind(null,t,e),n)}function $a(){}function Ua(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Va(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Ll|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Wa(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ba().memoizedState}function Ga(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Ya(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Za(n,t,r)}}function Ka(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Ya(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Mi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ii(e,t,o,r))&&(nc(n,e,r,o=ec()),Za(n,t,r))}}function Xa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ya(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ai,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Qa={readContext:Ai,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ai,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ma(4194308,4,za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Pa,useDebugValue:$a,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Wa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,o=ya();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));30&aa||Oa(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ra(_a.bind(null,r,a,e),[e]),r.flags|=2048,Aa(9,ja.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Tl.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ai,useCallback:Ua,useContext:Ai,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Da,useLayoutEffect:Fa,useMemo:Va,useReducer:xa,useRef:Na,useState:function(){return xa(wa)},useDebugValue:$a,useDeferredValue:function(e){return Ha(ba(),la.memoizedState,e)},useTransition:function(){return[xa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},ts={readContext:Ai,useCallback:Ua,useContext:Ai,useEffect:La,useImperativeHandle:Ba,useInsertionEffect:Da,useLayoutEffect:Fa,useMemo:Va,useReducer:Sa,useRef:Na,useState:function(){return Sa(wa)},useDebugValue:$a,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ha(t,la.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ba().memoizedState]},useMutableSource:ka,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var os={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),$i(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Bi(e,i,o))&&(nc(t,e,o,r),$i(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Bi(e,o,r))&&(nc(t,e,r,n),$i(t,e,r))}};function is(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function as(e,t,n){var r=!1,o=Co,i=t.contextType;return"object"==typeof i&&null!==i?i=Ai(i):(o=Mo(t)?Ao:To.current,i=(r=null!=(r=t.contextTypes))?No(e,o):Co),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=os,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&os.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ai(i):(i=Mo(t)?Ao:To.current,o.context=No(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rs(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&os.enqueueReplaceState(o,o.state,null),Vi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var fs="function"==typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),ds(0,t)},n}function hs(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ds(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Oc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Bi(n,t,1))),n.lanes|=1),e)}var ys=w.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Si(t,null,n,r):xi(t,e.child,n,r)}function xs(e,t,n,r,o){n=n.render;var i=t.ref;return Pi(t,o),r=va(e,t,n,r,i,o),n=ga(),null===e||bs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function Ss(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Nc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ks(e,t,i,r,o))}if(i=e.child,!(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,o)}return t.flags|=1,(e=Mc(i,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=i,!(e.lanes&o))return t.lanes=e.lanes,Hs(e,t,o);131072&e.flags&&(bs=!0)}}return js(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_o(Ml,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,_o(Ml,Nl),Nl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_o(Ml,Nl),Nl|=n;else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,_o(Ml,Nl),Nl|=r;return ws(e,t,o,n),t.child}function Os(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function js(e,t,n,r,o){var i=Mo(n)?Ao:To.current;return i=No(t,i),Pi(t,o),n=va(e,t,n,r,i,o),r=ga(),null===e||bs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Hs(e,t,o))}function _s(e,t,n,r,o){if(Mo(n)){var i=!0;Do(t)}else i=!1;if(Pi(t,o),null===t.stateNode)Vs(e,t),as(t,n,r),ls(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ai(c):c=No(t,c=Mo(n)?Ao:To.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,a,r,c),Li=!1;var f=t.memoizedState;a.state=f,Vi(t,r,a,o),l=t.memoizedState,s!==r||f!==l||Po.current||Li?("function"==typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Li||is(t,n,s,r,f,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fi(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=Ai(l):l=No(t,l=Mo(n)?Ao:To.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||f!==l)&&ss(t,a,r,l),Li=!1,f=t.memoizedState,a.state=f,Vi(t,r,a,o);var h=t.memoizedState;s!==d||f!==h||Po.current||Li?("function"==typeof p&&(rs(t,n,p,r),h=t.memoizedState),(c=Li||is(t,n,c,r,f,h,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,i,o)}function Cs(e,t,n,r,o,i){Os(e,t);var a=!!(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Hs(e,t,i);r=t.stateNode,ys.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xi(t,e.child,null,i),t.child=xi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ts(e){var t=e.stateNode;t.pendingContext?Ro(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ro(0,t.context,!1),Yi(e,t.containerInfo)}function Ps(e,t,n,r,o){return hi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var As,Ns,Ms,Is,Rs={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,o=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),_o(ea,1&a),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},1&o||null===s?s=Lc(l,o,0,null):(s.childLanes=0,s.pendingProps=l),e=Rc(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Rs,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,zs(e,t,s,r=us(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(a=Rc(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&xi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Rs,a);if(!(1&t.mode))return zs(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zs(e,t,s,r=us(a=Error(i(419)),r,void 0))}if(l=!!(s&e.childLanes),bs||l){if(null!==(r=Tl)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|s)?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ri(e,o),nc(r,e,o,-1))}return mc(),zs(e,t,s,r=us(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Ko[Xo++]=Zo,Ko[Xo++]=Jo,Ko[Xo++]=Yo,Zo=e.id,Jo=e.overflow,Yo=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:o.children};return 1&l||t.child===a?(o=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null),null!==r?s=Mc(r,s):(s=Rc(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Rs,o}return e=(s=e.child).sibling,o=Mc(s,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zs(e,t,n,r){return null!==r&&mi(r),xi(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function $s(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Us(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_o(ea,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),$s(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ta(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}$s(t,!0,n,null,i);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Vs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Mo(t.type)&&Io(),qs(t),null;case 3:return r=t.stateNode,Zi(),jo(Po),jo(To),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==ai&&(ac(ai),ai=null))),Ns(e,t),qs(t),null;case 5:Qi(t);var o=Xi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=Xi(qi.current),fi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[po]=t,r[ho]=a,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Rr.length;o++)zr(Rr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":oe(r,a),zr("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"==typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",c]):"number"==typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),o=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),Q(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Rr.length;o++)zr(Rr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Y(e,r),o=X(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(a in ye(n,o),c=o)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"==typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"==typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),Q(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Is(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Ki.current),Xi(qi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return qs(t),null;case 13:if(jo(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&1&t.mode&&!(128&t.flags))pi(),hi(),t.flags|=98560,a=!1;else if(a=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[po]=t}else hi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(ac(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return Zi(),Ns(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return Ci(t.type._context),qs(t),null;case 19:if(jo(ea),null===(a=t.memoizedState))return qs(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Il||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _o(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Ul&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return qs(t),null}else 2*Ze()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,_o(ea,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Nl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ks(e,t){switch(ni(t),t.tag){case 1:return Mo(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),jo(Po),jo(To),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(jo(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return jo(ea),null;case 4:return Zi(),null;case 10:return Ci(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Ms=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Xi(qi.current);var i,a=null;switch(n){case"input":o=X(e,o),r=X(e,r),a=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(u in ye(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var l=o[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Is=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Zs="function"==typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ec(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Ec(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[vo],delete t[go],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Ys||Qs(n,t);case 6:var r=ul,o=dl;ul=null,fl(e,t,n),dl=o,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(ul,n.stateNode));break;case 4:r=ul,o=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(2&i||4&i)&&el(n,t,a),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Qs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Ec(n,t,e)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));pl(a,s,o),ul=null,dl=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(e){Ec(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Ec(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Ec(e,e.return,t)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Ec(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ve(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,u)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(o,!!a.multiple,h,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[ho]=a}catch(t){Ec(e,e.return,t)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Ec(e,e.return,t)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Ec(e,e.return,t)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||($l=Ze())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,ml(t,e),Ys=u):ml(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&1&e.mode)for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(h=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qs(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Ec(r,n,e)}}break;case 5:Qs(p,p.return);break;case 22:if(null!==p.memoizedState){xl(f);continue}}null!==h?(h.return=p,Js=h):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,u?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=null!=(c=f.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(t){Ec(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(t){Ec(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),gl(e),4&r&&hl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cl(e,sl(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(i(161))}}catch(t){Ec(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Js;){var o=Js,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Xs;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var c=Ys;if(Xs=a,(Ys=l)&&!c)for(Js=o;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Sl(o):null!==l?(l.return=a,Js=l):Sl(o);for(;null!==i;)Js=i,bl(i,t,n),i=i.sibling;Js=o,Xs=s,Ys=c}wl(e)}else 8772&o.subtreeFlags&&null!==i?(i.return=o,Js=i):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(i(163))}Ys||512&t.flags&&ol(t)}catch(e){Ec(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Ec(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Ec(t,o,e)}}var i=t.return;try{ol(t)}catch(e){Ec(t,i,e)}break;case 5:var a=t.return;try{ol(t)}catch(e){Ec(t,a,e)}}}catch(e){Ec(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var kl,El=Math.ceil,Ol=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Cl=0,Tl=null,Pl=null,Al=0,Nl=0,Ml=Oo(0),Il=0,Rl=null,Ll=0,Dl=0,Fl=0,zl=null,Bl=null,$l=0,Ul=1/0,Vl=null,Hl=!1,Wl=null,ql=null,Gl=!1,Kl=null,Xl=0,Yl=0,Zl=null,Jl=-1,Ql=0;function ec(){return 6&Cl?Ze():-1!==Jl?Jl:Jl=Ze()}function tc(e){return 1&e.mode?2&Cl&&0!==Al?Al&-Al:null!==vi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type):1}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(i(185));gt(e,n,r),2&Cl&&e===Tl||(e===Tl&&(!(2&Cl)&&(Dl|=n),4===Il&&sc(e,Al)),rc(e,r),1===n&&0===Cl&&!(1&t.mode)&&(Ul=Ze()+500,Bo&&Vo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?s&n&&!(s&r)||(o[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Tl?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Bo=!0,Uo(e)}(lc.bind(null,e)):Uo(lc.bind(null,e)),ao((function(){!(6&Cl)&&Vo()})),n=null;else{switch(wt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,Ql=0,6&Cl)throw Error(i(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Al:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=vc(e,r);else{t=r;var o=Cl;Cl|=2;var a=hc();for(Tl===e&&Al===t||(Vl=null,Ul=Ze()+500,fc(e,t));;)try{yc();break}catch(t){pc(e,t)}_i(),Ol.current=a,Cl=o,null!==Pl?t=0:(Tl=null,Al=0,t=Il)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ic(e,o))),1===t)throw n=Rl,fc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=vc(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ic(e,a))),1!==t)))throw n=Rl,fc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xc(e,Bl,Vl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=$l+500-Ze())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(xc.bind(null,e,Bl,Vl),t);break}xc(e,Bl,Vl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(xc.bind(null,e,Bl,Vl),r);break}xc(e,Bl,Vl);break;default:throw Error(i(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(6&Cl)throw Error(i(327));Sc();var t=ft(e,0);if(!(1&t))return rc(e,Ze()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rl,fc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Vl),rc(e,Ze()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Ul=Ze()+500,Bo&&Vo())}}function uc(e){null!==Kl&&0===Kl.tag&&!(6&Cl)&&Sc();var t=Cl;Cl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,!(6&(Cl=t))&&Vo()}}function dc(){Nl=Ml.current,jo(Ml)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Io();break;case 3:Zi(),jo(Po),jo(To),ra();break;case 5:Qi(r);break;case 4:Zi();break;case 13:case 19:jo(ea);break;case 10:Ci(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Pl=e=Mc(e.current,null),Al=Nl=t,Il=0,Rl=null,Fl=Dl=Ll=0,Bl=zl=null,null!==Ni){for(t=0;t<Ni.length;t++)if(null!==(r=(n=Ni[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ni=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(_i(),oa.current=Ja,ua){for(var r=sa.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=sa=null,da=!1,fa=0,jl.current=null,null===n||null===n.return){Il=1,Rl=t,Pl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"==typeof c&&"function"==typeof c.then){var u=c,d=l,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&ms(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(!(1&t)){ms(a,u,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var g=vs(s);if(null!==g){!(65536&g.flags)&&(g.flags|=256),gs(g,s,l,0,t),mi(cs(c,l));break e}}a=c=cs(c,l),4!==Il&&(Il=2),null===zl?zl=[a]:zl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==ql&&ql.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ui(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(e){t=e,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function hc(){var e=Ol.current;return Ol.current=Ja,null===e?Ja:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||!(268435455&Ll)&&!(268435455&Dl)||sc(Tl,Al)}function vc(e,t){var n=Cl;Cl|=2;var r=hc();for(Tl===e&&Al===t||(Vl=null,fc(e,t));;)try{gc();break}catch(t){pc(e,t)}if(_i(),Cl=n,Ol.current=r,null!==Pl)throw Error(i(261));return Tl=null,Al=0,Il}function gc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Xe();)bc(Pl)}function bc(e){var t=kl(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,jl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Gs(n,t,Nl)))return void(Pl=n);if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function xc(e,t,n){var r=bt,o=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Kl);if(6&Cl)throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Tl&&(Pl=Tl=null,Al=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Gl||(Gl=!0,Tc(tt,(function(){return Sc(),null}))),a=!!(15990&n.flags),!!(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Cl;Cl|=4,jl.current=null,function(e,t){if(eo=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=s+o),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++u===o&&(l=s),p===a&&++d===r&&(c=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,1028&t.subtreeFlags&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ns(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(e){Ec(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),vl(n,e),hr(to),Ht=!!eo,to=eo=null,e.current=n,yl(n,e,o),Ye(),Cl=l,bt=s,_l.transition=a}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Xl=o),a=e.pendingLanes,0===a&&(ql=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;!!(1&Xl)&&0!==e.tag&&Sc(),a=e.pendingLanes,1&a?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,Vo()}(e,t,n,r)}finally{_l.transition=o,bt=r}return null}function Sc(){if(null!==Kl){var e=wt(Xl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Xl=0,6&Cl)throw Error(i(331));var o=Cl;for(Cl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(16&Js.flags){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,h=d.return;if(il(d),d===u){Js=null;break}if(null!==p){p.return=h,Js=p;break}Js=h}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(2048&(a=Js).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(2064&s.subtreeFlags&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(2048&(l=Js).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Ec(l,l.return,e)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(Cl=o,Vo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function kc(e,t,n){e=Bi(e,t=ps(0,t=cs(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Bi(t,e=hs(t,e=cs(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===Il||3===Il&&(130023424&Al)===Al&&500>Ze()-$l?fc(e,0):Fl|=n),rc(e,t)}function jc(e,t){0===t&&(1&e.mode?(t=ut,!(130023424&(ut<<=1))&&(ut=4194304)):t=1);var n=ec();null!==(e=Ri(e,t))&&(gt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),jc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),jc(e,n)}function Tc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Pc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Nc(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case k:return Rc(n.children,o,a,t);case E:s=8,o|=8;break;case O:return(e=Ac(12,n,t,2|o)).elementType=O,e.lanes=a,e;case T:return(e=Ac(13,n,t,o)).elementType=T,e.lanes=a,e;case P:return(e=Ac(19,n,t,o)).elementType=P,e.lanes=a,e;case M:return Lc(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case j:s=10;break e;case _:s=9;break e;case C:s=11;break e;case A:s=14;break e;case N:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Rc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,i,a,s,l){return e=new zc(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ac(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function $c(e){if(!e)return Co;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Mo(n))return Lo(e,n,t)}return t}function Uc(e,t,n,r,o,i,a,s,l){return(e=Bc(n,r,!0,e,0,i,0,s,l)).context=$c(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=null!=t?t:null,Bi(n,i,o),e.current.lanes=o,gt(e,o,r),rc(e,r),e}function Vc(e,t,n,r){var o=t.current,i=ec(),a=tc(o);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bi(o,t,a))&&(nc(e,o,a,i),$i(e,o,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Po.current)bs=!0;else{if(!(e.lanes&n||128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ts(t),hi();break;case 5:Ji(t);break;case 1:Mo(t.type)&&Do(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;_o(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_o(ea,1&ea.current),t.flags|=128,null):n&t.child.childLanes?Ds(e,t,n):(_o(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);_o(ea,1&ea.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Us(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),_o(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Hs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,ii&&1048576&t.flags&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var o=No(t,To.current);Pi(t,n),o=va(null,t,r,e,o,n);var a=ga();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mo(r)?(a=!0,Do(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=os,t.stateNode=o,o._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Nc(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),o){case 0:t=js(null,t,r,e,n);break e;case 1:t=_s(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ns(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,js(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 1:return r=t.type,o=t.pendingProps,_s(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 3:e:{if(Ts(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Fi(e,t),Vi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ps(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Ps(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Si(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ui(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Os(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Ds(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,xs(e,t,r,o=t.elementType===r?o:ns(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,_o(ki,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Po.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=zi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ti(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Pi(t,n),r=r(o=Ai(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=ns(r=t.type,t.pendingProps),Ss(e,t,r,o=ns(r.type,o),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ns(r,o),Vs(e,t),t.tag=1,Mo(r)?(e=!0,Do(t)):e=!1,Pi(t,n),as(t,r,o),ls(t,r,o,n),Cs(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"==typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Qc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Hc(a);s.call(e)}}Vc(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Hc(a);i.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[mo]=a.current,Ur(8===e.nodeType?e.parentNode:e),uc(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Hc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc((function(){Vc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(a)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Vc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Vc(null,e,null,null)})),t[mo]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),!(6&Cl)&&(Ul=Ze()+500,Vo()))}break;case 13:uc((function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},St=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Et=function(){return bt},Ot=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=So(r);if(!o)throw Error(i(90));G(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[wo,xo,So,je,_e,cc]},tu={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(i(299));var n=!1,r="",o=Gc;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Gc;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(i(200));return Qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(i(40));return!!e._reactRootContainer&&(uc((function(){Qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},5338:(e,t,n)=>{"use strict";var r=n(961);t.H=r.createRoot,r.hydrateRoot},961:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},2799:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case f:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case h:case l:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=h,t.isFragment=function(e){return g(e)===i}},4363:(e,t,n)=>{"use strict";e.exports=n(2799)},1020:(e,t,n)=>{"use strict";
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:u,props:i,_owner:s.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},5287:(e,t)=>{"use strict";
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,m(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:k.current}}function j(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,x(a)?(o="",null!=e&&(o=e.replace(_,"$&/")+"/"),T(a,t,o,"",(function(e){return e}))):null!=a&&(j(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",x(e))for(var c=0;c<e.length;c++){var u=i+C(s=e[c],c);l+=T(s,t,o,u,a)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,o,u=i+C(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},I={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=a,t.PureComponent=b,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},6540:(e,t,n)=>{"use strict";e.exports=n(5287)},4848:(e,t,n)=>{"use strict";e.exports=n(1020)},7463:(e,t)=>{"use strict";
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,p=3,h=!1,m=!1,v=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(v=!1,w(e),!m)if(null!==r(c))m=!0,M(S);else{var t=r(u);null!==t&&I(x,t.startTime-e)}}function S(e,n){m=!1,v&&(v=!1,y(j),j=-1),h=!0;var i=p;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var a=f.callback;if("function"==typeof a){f.callback=null,p=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(c)&&o(c),w(n)}else o(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,E=!1,O=null,j=-1,_=5,C=-1;function T(){return!(t.unstable_now()-C<_)}function P(){if(null!==O){var e=t.unstable_now();C=e;var n=!0;try{n=O(!0,e)}finally{n?k():(E=!1,O=null)}}else E=!1}if("function"==typeof b)k=function(){b(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,N=A.port2;A.port1.onmessage=P,k=function(){N.postMessage(null)}}else k=function(){g(P,0)};function M(e){O=e,E||(E=!0,k())}function I(e,n){j=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,M(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"==typeof i&&null!==i?i="number"==typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(v?(y(j),j=-1):v=!0,I(x,i-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,M(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9982:(e,t,n)=>{"use strict";e.exports=n(7463)},5974:(e,t)=>{"use strict";t.jM=void 0;t.jM=function(e,t,n,r){if(void 0===n&&(n=2),void 0===r&&(r=!1),r||(e=e.toLowerCase(),t=t.toLowerCase()),e.length<n||t.length<n)return 0;for(var o=new Map,i=0;i<e.length-(n-1);i++){var a=e.substr(i,n);o.set(a,o.has(a)?o.get(a)+1:1)}for(var s=0,l=0;l<t.length-(n-1);l++){var c=t.substr(l,n),u=o.has(c)?o.get(c):0;u>0&&(o.set(c,u-1),s++)}return 2*s/(e.length+t.length-2*(n-1))},t.jM},4498:(e,t,n)=>{let r=n(4910);e.exports=(r.__esModule?r:{default:r}).default},4910:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});const r=o(n(2707));function o(e){return e&&e.__esModule?e:{default:e}}function i({version:e,from:t,to:n}){r.default.warn(`${t}-color-renamed`,[`As of Tailwind CSS ${e}, \`${t}\` has been renamed to \`${n}\`.`,"Update your configuration file to silence this warning."])}const a={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return i({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return i({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return i({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return i({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return i({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}},2707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{dim:function(){return s},default:function(){return l}});const r=o(n(8633));function o(e){return e&&e.__esModule?e:{default:e}}let i=new Set;function a(e,t,n){"undefined"!=typeof process&&{}.JEST_WORKER_ID||n&&i.has(n)||(n&&i.add(n),console.warn(""),t.forEach((t=>console.warn(e,"-",t))))}function s(e){return r.default.dim(e)}const l={info(e,t){a(r.default.bold(r.default.cyan("info")),...Array.isArray(e)?[e]:[t,e])},warn(e,t){a(r.default.bold(r.default.yellow("warn")),...Array.isArray(e)?[e]:[t,e])},risk(e,t){a(r.default.bold(r.default.magenta("risk")),...Array.isArray(e)?[e]:[t,e])}}},1063:(e,t,n)=>{"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},9888:(e,t,n)=>{"use strict";e.exports=n(1063)},7656:(e,t,n)=>{"use strict";
/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,c(o)&&u({inst:o})}),[e,n,t]),a((function(){return c(o)&&u({inst:o}),e((function(){c(o)&&u({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},6763:(e,t,n)=>{"use strict";
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(6540),o=n(2257);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var p=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),u(p),p}},2257:(e,t,n)=>{"use strict";e.exports=n(7656)},2079:(e,t,n)=>{"use strict";e.exports=n(6763)},9375:()=>{},7543:()=>{},2460:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},2475:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},9293:e=>{function t(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(o,i){var a=e.apply(n,r);function s(e){t(a,o,i,s,l,"next",e)}function l(e){t(a,o,i,s,l,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},7383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9646:(e,t,n)=>{var r=n(5636),o=n(7550);e.exports=function(e,t,n){if(o())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var a=new(e.bind.apply(e,i));return n&&r(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports},4579:(e,t,n)=>{var r=n(7736);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3693:(e,t,n)=>{var r=n(7736);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},691:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9511:(e,t,n)=>{var r=n(5636);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},8310:e=>{e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},7550:e=>{function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},7752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},8452:(e,t,n)=>{var r=n(3738).default,o=n(2475);e.exports=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4633:(e,t,n)=>{var r=n(3738).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",d=l.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),a=new M(r||[]);return s(i,"_invoke",{value:T(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var m="suspendedStart",v="suspendedYield",g="executing",y="completed",b={};function w(){}function x(){}function S(){}var k={};f(k,c,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(I([])));O&&O!==i&&a.call(O,c)&&(k=O);var j=S.prototype=w.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,s,l){var c=h(e[o],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==r(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,l)}),(function(e){n("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,l)}))}l(c.arg)}var o;s(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var o=m;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=P(s,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var c=h(e,n,r);if("normal"===c.type){if(o=r.done?y:v,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=y,r.method="throw",r.arg=c.arg)}}}function P(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(a.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return x.prototype=S,s(j,"constructor",{value:S,configurable:!0}),s(S,"constructor",{value:x,configurable:!0}),x.displayName=f(S,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,f(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},n.awrap=function(e){return{__await:e}},_(C.prototype),f(C.prototype,u,(function(){return this})),n.AsyncIterator=C,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var a=new C(p(e,t,r,o),i);return n.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(j),f(j,d,"Generator"),f(j,c,(function(){return this})),f(j,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=I,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},5636:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5715:(e,t,n)=>{var r=n(2987),o=n(1156),i=n(7122),a=n(7752);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},9045:(e,t,n)=>{var r=n(3738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7736:(e,t,n)=>{var r=n(3738).default,o=n(9045);e.exports=function(e){var t=o(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7122:(e,t,n)=>{var r=n(2460);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},1837:(e,t,n)=>{var r=n(691),o=n(5636),i=n(8310),a=n(9646);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},4756:(e,t,n)=>{var r=n(4633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},9929:(e,t)=>{"use strict";t._=t._interop_require_default=function(e){return e&&e.__esModule?e:{default:e}}},4588:(e,t)=>{"use strict";function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}t._=t._interop_require_wildcard=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}},8416:e=>{function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((n=>{const r=e[n],o=typeof r;"object"!==o&&"function"!==o||Object.isFrozen(r)||t(r)})),e}class n{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function o(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const i=e=>!!e.scope;class a{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!i(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){i(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const s=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class l{constructor(){this.rootNode=s(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=s({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{l._collapse(e)})))}}class c extends l{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(e){return e?"string"==typeof e?e:e.source:null}function d(e){return h("(?=",e,")")}function f(e){return h("(?:",e,")*")}function p(e){return h("(?:",e,")?")}function h(...e){return e.map((e=>u(e))).join("")}function m(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e);return"("+(t.capture?"":"?:")+e.map((e=>u(e))).join("|")+")"}function v(e){return new RegExp(e.toString()+"|").exec("").length-1}const g=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=u(e),o="";for(;r.length>0;){const e=g.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o})).map((e=>`(${e})`)).join(t)}const b="[a-zA-Z]\\w*",w="[a-zA-Z_]\\w*",x="\\b\\d+(\\.\\d+)?",S="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",k="\\b(0b[01]+)",E={begin:"\\\\[\\s\\S]",relevance:0},O={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[E]},j={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[E]},_=function(e,t,n={}){const r=o({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=m("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:h(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},C=_("//","$"),T=_("/\\*","\\*/"),P=_("#","$"),A={scope:"number",begin:x,relevance:0},N={scope:"number",begin:S,relevance:0},M={scope:"number",begin:k,relevance:0},I={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[E,{begin:/\[/,end:/\]/,relevance:0,contains:[E]}]},R={scope:"title",begin:b,relevance:0},L={scope:"title",begin:w,relevance:0},D={begin:"\\.\\s*"+w,relevance:0};var F=Object.freeze({__proto__:null,APOS_STRING_MODE:O,BACKSLASH_ESCAPE:E,BINARY_NUMBER_MODE:M,BINARY_NUMBER_RE:k,COMMENT:_,C_BLOCK_COMMENT_MODE:T,C_LINE_COMMENT_MODE:C,C_NUMBER_MODE:N,C_NUMBER_RE:S,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:P,IDENT_RE:b,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:D,NUMBER_MODE:A,NUMBER_RE:x,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:j,REGEXP_MODE:I,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=h(t,/.*\b/,e.binary,/\b.*/)),o({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:R,UNDERSCORE_IDENT_RE:w,UNDERSCORE_TITLE_MODE:L});function z(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function B(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function $(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=z,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function U(e,t){Array.isArray(e.illegal)&&(e.illegal=m(...e.illegal))}function V(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function H(e,t){void 0===e.relevance&&(e.relevance=1)}const W=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=h(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},q=["of","and","for","in","not","or","if","then","parent","list","value"];function G(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,G(e[n],t,n))})),r;function o(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,K(n[0],n[1])]}))}}function K(e,t){return t?Number(t):function(e){return q.includes(e.toLowerCase())}(e)?0:1}const X={},Y=e=>{console.error(e)},Z=(e,...t)=>{console.log(`WARN: ${e}`,...t)},J=(e,t)=>{X[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),X[`${e}/${t}`]=!0)},Q=new Error;function ee(e,t,{key:n}){let r=0;const o=e[n],i={},a={};for(let e=1;e<=t.length;e++)a[e+r]=o[e],i[e+r]=!0,r+=v(t[e-1]);e[n]=a,e[n]._emit=i,e[n]._multi=!0}function te(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Y("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Q;if("object"!=typeof e.beginScope||null===e.beginScope)throw Y("beginScope must be object"),Q;ee(e,e.begin,{key:"beginScope"}),e.begin=y(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Y("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Q;if("object"!=typeof e.endScope||null===e.endScope)throw Y("endScope must be object"),Q;ee(e,e.end,{key:"endScope"}),e.end=y(e.end,{joinWith:""})}}(e)}function ne(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=v(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(y(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=o(e.classNameAliases||{}),function n(i,a){const s=i;if(i.isCompiled)return s;[B,V,te,W].forEach((e=>e(i,a))),e.compilerExtensions.forEach((e=>e(i,a))),i.__beforeBegin=null,[$,U,H].forEach((e=>e(i,a))),i.isCompiled=!0;let l=null;return"object"==typeof i.keywords&&i.keywords.$pattern&&(i.keywords=Object.assign({},i.keywords),l=i.keywords.$pattern,delete i.keywords.$pattern),l=l||/\w+/,i.keywords&&(i.keywords=G(i.keywords,e.case_insensitive)),s.keywordPatternRe=t(l,!0),a&&(i.begin||(i.begin=/\B|\b/),s.beginRe=t(s.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(s.endRe=t(s.end)),s.terminatorEnd=u(s.end)||"",i.endsWithParent&&a.terminatorEnd&&(s.terminatorEnd+=(i.end?"|":"")+a.terminatorEnd)),i.illegal&&(s.illegalRe=t(i.illegal)),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return o(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(re(e))return o(e,{starts:e.starts?o(e.starts):null});if(Object.isFrozen(e))return o(e);return e}("self"===e?i:e)}))),i.contains.forEach((function(e){n(e,s)})),i.starts&&n(i.starts,a),s.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(s),s}(e)}function re(e){return!!e&&(e.endsWithParent||re(e.starts))}class oe extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const ie=r,ae=o,se=Symbol("nomatch"),le=function(e){const r=Object.create(null),o=Object.create(null),i=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let u={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function v(e){return u.noHighlightRe.test(e)}function g(e,t,n){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language):(J("10.7.0","highlight(lang, code, ...args) has been deprecated."),J("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t),void 0===n&&(n=!0);const i={code:r,language:o};j("before:highlight",i);const a=i.result?i.result:y(i.language,i.code,n);return a.code=i.code,j("after:highlight",a),a}function y(e,t,o,i){const l=Object.create(null);function c(){if(!j.keywords)return void C.addText(T);let e=0;j.keywordPatternRe.lastIndex=0;let t=j.keywordPatternRe.exec(T),n="";for(;t;){n+=T.substring(e,t.index);const o=S.case_insensitive?t[0].toLowerCase():t[0],i=(r=o,j.keywords[r]);if(i){const[e,r]=i;if(C.addText(n),n="",l[o]=(l[o]||0)+1,l[o]<=7&&(P+=r),e.startsWith("_"))n+=t[0];else{const n=S.classNameAliases[e]||e;f(t[0],n)}}else n+=t[0];e=j.keywordPatternRe.lastIndex,t=j.keywordPatternRe.exec(T)}var r;n+=T.substring(e),C.addText(n)}function d(){null!=j.subLanguage?function(){if(""===T)return;let e=null;if("string"==typeof j.subLanguage){if(!r[j.subLanguage])return void C.addText(T);e=y(j.subLanguage,T,!0,_[j.subLanguage]),_[j.subLanguage]=e._top}else e=b(T,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(P+=e.relevance),C.__addSublanguage(e._emitter,e.language)}():c(),T=""}function f(e,t){""!==e&&(C.startScope(t),C.addText(e),C.endScope())}function p(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=S.classNameAliases[e[n]]||e[n],o=t[n];r?f(o,r):(T=o,c(),T=""),n++}}function h(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(S.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(f(T,S.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),T=""):e.beginScope._multi&&(p(e.beginScope,t),T="")),j=Object.create(e,{parent:{value:j}}),j}function m(e,t,r){let o=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,r);if(o){if(e["on:end"]){const r=new n(e);e["on:end"](t,r),r.isMatchIgnored&&(o=!1)}if(o){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return m(e.parent,t,r)}function v(e){return 0===j.matcher.regexIndex?(T+=e[0],1):(M=!0,0)}function g(e){const n=e[0],r=t.substring(e.index),o=m(j,e,r);if(!o)return se;const i=j;j.endScope&&j.endScope._wrap?(d(),f(n,j.endScope._wrap)):j.endScope&&j.endScope._multi?(d(),p(j.endScope,e)):i.skip?T+=n:(i.returnEnd||i.excludeEnd||(T+=n),d(),i.excludeEnd&&(T=n));do{j.scope&&C.closeNode(),j.skip||j.subLanguage||(P+=j.relevance),j=j.parent}while(j!==o.parent);return o.starts&&h(o.starts,e),i.returnEnd?0:n.length}let w={};function x(r,i){const s=i&&i[0];if(T+=r,null==s)return d(),0;if("begin"===w.type&&"end"===i.type&&w.index===i.index&&""===s){if(T+=t.slice(i.index,i.index+1),!a){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=i,"begin"===i.type)return function(e){const t=e[0],r=e.rule,o=new n(r),i=[r.__beforeBegin,r["on:begin"]];for(const n of i)if(n&&(n(e,o),o.isMatchIgnored))return v(t);return r.skip?T+=t:(r.excludeBegin&&(T+=t),d(),r.returnBegin||r.excludeBegin||(T=t)),h(r,e),r.returnBegin?0:t.length}(i);if("illegal"===i.type&&!o){const e=new Error('Illegal lexeme "'+s+'" for mode "'+(j.scope||"<unnamed>")+'"');throw e.mode=j,e}if("end"===i.type){const e=g(i);if(e!==se)return e}if("illegal"===i.type&&""===s)return T+="\n",1;if(N>1e5&&N>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return T+=s,s.length}const S=k(e);if(!S)throw Y(s.replace("{}",e)),new Error('Unknown language: "'+e+'"');const E=ne(S);let O="",j=i||E;const _={},C=new u.__emitter(u);!function(){const e=[];for(let t=j;t!==S;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let T="",P=0,A=0,N=0,M=!1;try{if(S.__emitTokens)S.__emitTokens(t,C);else{for(j.matcher.considerAll();;){N++,M?M=!1:j.matcher.considerAll(),j.matcher.lastIndex=A;const e=j.matcher.exec(t);if(!e)break;const n=x(t.substring(A,e.index),e);A=e.index+n}x(t.substring(A))}return C.finalize(),O=C.toHTML(),{language:e,value:O,relevance:P,illegal:!1,_emitter:C,_top:j}}catch(n){if(n.message&&n.message.includes("Illegal"))return{language:e,value:ie(t),illegal:!0,relevance:0,_illegalBy:{message:n.message,index:A,context:t.slice(A-100,A+100),mode:n.mode,resultSoFar:O},_emitter:C};if(a)return{language:e,value:ie(t),illegal:!1,relevance:0,errorRaised:n,_emitter:C,_top:j};throw n}}function b(e,t){t=t||u.languages||Object.keys(r);const n=function(e){const t={value:ie(e),illegal:!1,relevance:0,_top:l,_emitter:new u.__emitter(u)};return t._emitter.addText(e),t}(e),o=t.filter(k).filter(O).map((t=>y(t,e,!1)));o.unshift(n);const i=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(k(e.language).supersetOf===t.language)return 1;if(k(t.language).supersetOf===e.language)return-1}return 0})),[a,s]=i,c=a;return c.secondBest=s,c}function w(e){let t=null;const n=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=k(n[1]);return t||(Z(s.replace("{}",n[1])),Z("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>v(e)||k(e)))}(e);if(v(n))return;if(j("before:highlightElement",{el:e,language:n}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(u.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),u.throwUnescapedHTML)){throw new oe("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const r=t.textContent,i=n?g(r,{language:n,ignoreIllegals:!0}):b(r);e.innerHTML=i.value,e.dataset.highlighted="yes",function(e,t,n){const r=t&&o[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,n,i.language),e.result={language:i.language,re:i.relevance,relevance:i.relevance},i.secondBest&&(e.secondBest={language:i.secondBest.language,relevance:i.secondBest.relevance}),j("after:highlightElement",{el:e,result:i,text:r})}let x=!1;function S(){if("loading"===document.readyState)return x||window.addEventListener("DOMContentLoaded",(function(){S()}),!1),void(x=!0);document.querySelectorAll(u.cssSelector).forEach(w)}function k(e){return e=(e||"").toLowerCase(),r[e]||r[o[e]]}function E(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{o[e.toLowerCase()]=t}))}function O(e){const t=k(e);return t&&!t.disableAutodetect}function j(e,t){const n=e;i.forEach((function(e){e[n]&&e[n](t)}))}Object.assign(e,{highlight:g,highlightAuto:b,highlightAll:S,highlightElement:w,highlightBlock:function(e){return J("10.7.0","highlightBlock will be removed entirely in v12.0"),J("10.7.0","Please use highlightElement now."),w(e)},configure:function(e){u=ae(u,e)},initHighlighting:()=>{S(),J("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){S(),J("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let o=null;try{o=n(e)}catch(e){if(Y("Language definition for '{}' could not be registered.".replace("{}",t)),!a)throw e;Y(e),o=l}o.name||(o.name=t),r[t]=o,o.rawDefinition=n.bind(null,e),o.aliases&&E(o.aliases,{languageName:t})},unregisterLanguage:function(e){delete r[e];for(const t of Object.keys(o))o[t]===e&&delete o[t]},listLanguages:function(){return Object.keys(r)},getLanguage:k,registerAliases:E,autoDetection:O,inherit:ae,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),i.push(e)},removePlugin:function(e){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}),e.debugMode=function(){a=!1},e.safeMode=function(){a=!0},e.versionString="11.11.1",e.regex={concat:h,lookahead:d,either:m,optional:p,anyNumberOfTimes:f};for(const e in F)"object"==typeof F[e]&&t(F[e]);return Object.assign(e,F),e},ce=le({});ce.newInstance=()=>le({}),e.exports=ce,ce.HighlightJS=ce,ce.default=ce},8168:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},8587:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},3947:(e,t,n)=>{"use strict";n.d(t,{BO:()=>Yt,Bk:()=>de,E9:()=>Zt,GW:()=>xt,H1:()=>w,IH:()=>Oe,P1:()=>u,UC:()=>fe,Xp:()=>pn,_8:()=>je,pe:()=>bn,yT:()=>Je});var r=n(6540),o=n(4848),i=n(961),a=Object.defineProperty,s=(e,t)=>{for(var n in t)a(e,n,{get:t[n],enumerable:!0,configurable:!0,set:e=>t[n]=()=>e})};if("function"!=typeof r.createContext){throw new Error(['Remotion requires React.createContext, but it is "undefined".','If you are in a React Server Component, turn it into a client component by adding "use client" at the top of the file.',"","Before:",'  import {useCurrentFrame} from "remotion";',"","After:",'  "use client";','  import {useCurrentFrame} from "remotion";'].join("\n"))}function l(){return["NOD","E_EN","V"].join("")}var c=()=>["e","nv"].join(""),u=()=>{const e="undefined"!=typeof window&&window.remotion_isPlayer,t="undefined"!=typeof window&&void 0!==window.process&&void 0!==window.process.env&&("test"===window.process[c()][l()]||"production"===window.process[c()][l()]&&"undefined"!=typeof window&&void 0!==window.remotion_puppeteerTimeout);return{isStudio:"undefined"!=typeof window&&window.remotion_isStudio,isRendering:t,isPlayer:e,isReadOnlyStudio:"undefined"!=typeof window&&window.remotion_isReadOnlyStudio}},d=r.createElement,f=[],p=()=>{if(!u().isStudio)return;const e=new Proxy(d,{apply(e,t,n){if(f.includes(n[0])){const[r,o,...i]=n,a={...o??{},stack:(new Error).stack};return Reflect.apply(e,t,[r,a,...i])}return Reflect.apply(e,t,n)}});r.createElement=e},h=e=>{f.push(e),p()},m=(0,r.createContext)(!1),v=()=>(0,r.useContext)(m);function g(e){return Boolean(e)}var y="4.0.286",b=(e,t)=>!!e&&t.some((t=>e.startsWith(t)||e.includes(` ${t}`)||e.includes(`:${t}`))),w=(0,r.forwardRef)(((e,t)=>{const{style:n,...i}=e,a=(0,r.useMemo)((()=>({position:"absolute",top:b(i.className,["top-","inset-"])?void 0:0,left:b(i.className,["left-","inset-"])?void 0:0,right:b(i.className,["right-","inset-"])?void 0:0,bottom:b(i.className,["bottom-","inset-"])?void 0:0,width:b(i.className,["w-"])?void 0:"100%",height:b(i.className,["h-"])?void 0:"100%",display:b(i.className,["block","inline-block","inline","flex","inline-flex","flow-root","grid","inline-grid","contents","list-item","hidden"])?void 0:"flex",flexDirection:b(i.className,["flex-row","flex-col","flex-row-reverse","flex-col-reverse"])?void 0:"column",...n})),[i.className,n]);return(0,o.jsx)("div",{ref:t,style:a,...i})})),x=(0,r.createContext)(null),S=r.createContext({registerSequence:()=>{throw new Error("SequenceManagerContext not initialized")},unregisterSequence:()=>{throw new Error("SequenceManagerContext not initialized")},sequences:[]}),k=r.createContext({hidden:{},setHidden:()=>{throw new Error("SequenceVisibilityToggle not initialized")}}),E=({children:e})=>{const[t,n]=(0,r.useState)([]),[i,a]=(0,r.useState)({}),s=(0,r.useCallback)((e=>{n((t=>[...t,e]))}),[]),l=(0,r.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]),c=(0,r.useMemo)((()=>({registerSequence:s,sequences:t,unregisterSequence:l})),[s,t,l]),u=(0,r.useMemo)((()=>({hidden:i,setHidden:a})),[i]);return(0,o.jsx)(S.Provider,{value:c,children:(0,o.jsx)(k.Provider,{value:u,children:e})})},O=(0,r.createContext)({getNonce:()=>0,fastRefreshes:0}),j=()=>{const e=(0,r.useContext)(O),[t,n]=(0,r.useState)((()=>e.getNonce())),o=(0,r.useRef)(e);return(0,r.useEffect)((()=>{o.current!==e&&(o.current=e,n(e.getNonce))}),[e]),t},_={};s(_,{useTimelineSetFrame:()=>ae,useTimelinePosition:()=>ie,usePlayingState:()=>se,persistCurrentFrame:()=>ne,getInitialFrameState:()=>re,getFrameForComposition:()=>oe,TimelineContext:()=>ee,SetTimelineContext:()=>te});var C=(0,r.createContext)({compositions:[],folders:[],currentCompositionMetadata:null,canvasContent:null}),T=(0,r.createContext)({registerComposition:()=>{},unregisterComposition:()=>{},registerFolder:()=>{},unregisterFolder:()=>{},setCanvasContent:()=>{},updateCompositionDefaultProps:()=>{},onlyRenderComposition:null}),P=(0,r.createContext)({props:{},updateProps:()=>{throw new Error("Not implemented")},resetUnsaved:()=>{throw new Error("Not implemented")}}),A=r.createRef(),N=r.createRef(),M=({children:e})=>{const[t,n]=r.useState({}),i=(0,r.useCallback)((({defaultProps:e,id:t,newProps:r})=>{n((n=>({...n,[t]:"function"==typeof r?r(n[t]??e):r})))}),[]),a=(0,r.useCallback)((()=>{n({})}),[]);(0,r.useImperativeHandle)(A,(()=>({getProps:()=>t,setProps:n})),[t]);const s=(0,r.useMemo)((()=>({props:t,updateProps:i,resetUnsaved:a})),[t,a,i]);return(0,o.jsx)(P.Provider,{value:s,children:e})},I="remotion-date:",R="remotion-file:",L=({data:e,indent:t,staticBase:n})=>{let r=!1,o=!1,i=!1,a=!1;try{return{serializedString:JSON.stringify(e,(function(e,t){const s=this[e];return s instanceof Date?(r=!0,`${I}${s.toISOString()}`):s instanceof Map?(i=!0,t):s instanceof Set?(a=!0,t):"string"==typeof s&&null!==n&&s.startsWith(n)?(o=!0,`${R}${s.replace(n+"/","")}`):t}),t),customDateUsed:r,customFileUsed:o,mapUsed:i,setUsed:a}}catch(e){throw new Error("Could not serialize the passed input props to JSON: "+e.message)}},D=e=>JSON.parse(e,((e,t)=>"string"==typeof t&&t.startsWith(I)?new Date(t.replace(I,"")):"string"==typeof t&&t.startsWith(R)?`${window.remotion_staticBase}/${t.replace(R,"")}`:t)),F=e=>u().isStudio?(e=>D(L({data:e,indent:2,staticBase:window.remotion_staticBase}).serializedString))(e):e,z=!1,B=()=>{if("undefined"==typeof window)return z||(z=!0,console.warn("Called `getInputProps()` on the server. This function is not available server-side and has returned an empty object."),console.warn("To hide this warning, don't call this function on the server:"),console.warn("  typeof window === 'undefined' ? {} : getInputProps()")),{};if(u().isPlayer)throw new Error("You cannot call `getInputProps()` from a <Player>. Instead, the props are available as React props from component that you passed as `component` prop.");const e=window.remotion_inputProps;if(!e)return{};return D(e)},$=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"];function U(e,t,n){if("number"!=typeof e)throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!=0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)}function V(e,t){const{allowFloats:n,component:r}=t;if(void 0===e)throw new Error(`The "durationInFrames" prop ${r} is missing.`);if("number"!=typeof e)throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!=0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)}function H(e,t,n){if("number"!=typeof e)throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(n&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var W=({calculated:e,compositionId:t,compositionFps:n,compositionHeight:r,compositionWidth:o,compositionDurationInFrames:i})=>{const a=`calculated by calculateMetadata() for the composition "${t}"`,s=`of the "<Composition />" component with the id "${t}"`,l=e?.width??o??void 0;U(l,"width",e?.width?a:s);const c=e?.height??r??void 0;U(c,"height",e?.height?a:s);const u=e?.fps??n??null;H(u,e?.fps?a:s,!1);const d=e?.durationInFrames??i??null;V(d,{allowFloats:!1,component:`of the "<Composition />" component with the id "${t}"`});const f=e?.defaultCodec;!function(e,t){if(void 0!==e){if("string"!=typeof e)throw new TypeError(`The "defaultCodec" prop ${t} must be a string, but you passed a value of type ${typeof e}.`);if(!$.includes(e))throw new Error(`The "defaultCodec" prop ${t} must be one of ${$.join(", ")}, but you passed ${e}.`)}}(f,a);const p=e?.defaultOutName;return{width:l,height:c,fps:u,durationInFrames:d,defaultCodec:f,defaultOutName:p}},q=({calculateMetadata:e,signal:t,defaultProps:n,originalProps:r,compositionId:o,compositionDurationInFrames:i,compositionFps:a,compositionHeight:s,compositionWidth:l})=>{const c=e?e({defaultProps:n,props:r,abortSignal:t,compositionId:o}):null;if(null!==c&&"object"==typeof c&&"then"in c)return c.then((e=>{const{height:t,width:c,durationInFrames:u,fps:d,defaultCodec:f,defaultOutName:p}=W({calculated:e,compositionDurationInFrames:i,compositionFps:a,compositionHeight:s,compositionWidth:l,compositionId:o});return{width:c,height:t,fps:d,durationInFrames:u,id:o,defaultProps:F(n),props:F(e.props??r),defaultCodec:f??null,defaultOutName:p??null}}));const u=W({calculated:c,compositionDurationInFrames:i,compositionFps:a,compositionHeight:s,compositionWidth:l,compositionId:o});return null===c?{...u,id:o,defaultProps:F(n??{}),props:F(r),defaultCodec:null,defaultOutName:null}:{...u,id:o,defaultProps:F(n??{}),props:F(c.props??r),defaultCodec:c.defaultCodec??null,defaultOutName:c.defaultOutName??null}},G=(0,r.createContext)(null),K=(0,r.createRef)(),X=e=>Boolean(e.calculateMetadata),Y="remotion.propsUpdatedExternally",Z=({children:e})=>{const[t,n]=(0,r.useState)(null),{compositions:i,canvasContent:a,currentCompositionMetadata:s}=(0,r.useContext)(C),{fastRefreshes:l}=(0,r.useContext)(O),c=(0,r.useMemo)((()=>i.find((e=>a&&"composition"===a.type&&a.compositionId===e.id))),[a,i]),d=i.find((e=>e.id===t)),{props:f}=(0,r.useContext)(P),p=(0,r.useMemo)((()=>"undefined"==typeof window||u().isPlayer?{}:B()??{}),[]),[h,m]=(0,r.useState)({}),v=(0,r.useMemo)((()=>c?f[c.id]??{}:{}),[f,c]),g=(0,r.useMemo)((()=>d?f[d.id]??{}:{}),[f,d]),y=Boolean(s),b=(0,r.useCallback)((({calculateMetadata:e,combinedProps:t,compositionDurationInFrames:n,compositionFps:r,compositionHeight:o,compositionId:i,compositionWidth:a,defaultProps:s})=>{const l=new AbortController;if(y)return l;const{signal:c}=l,u=(e=>{try{return{type:"success",result:q(e)}}catch(e){return{type:"error",error:e}}})({compositionId:i,calculateMetadata:e,originalProps:t,signal:c,defaultProps:s,compositionDurationInFrames:n,compositionFps:r,compositionHeight:o,compositionWidth:a});if("error"===u.type)return m((e=>({...e,[i]:{type:"error",error:u.error}}))),l;const d=u.result;return"object"==typeof d&&"then"in d?(m((e=>{const t=e[i];return"success"===t?.type||"success-and-refreshing"===t?.type?{...e,[i]:{type:"success-and-refreshing",result:t.result}}:{...e,[i]:{type:"loading"}}})),d.then((e=>{l.signal.aborted||m((t=>({...t,[i]:{type:"success",result:e}})))})).catch((e=>{l.signal.aborted||m((t=>({...t,[i]:{type:"error",error:e}})))}))):m((e=>({...e,[i]:{type:"success",result:d}}))),l}),[y]),w="composition"===a?.type?a.compositionId:null;(0,r.useImperativeHandle)(K,(()=>({setCurrentRenderModalComposition:e=>{n(e)},reloadCurrentlySelectedComposition:()=>{if(!w)return;const e=i.find((e=>e.id===w));if(!e)throw new Error(`Could not find composition with id ${w}`);const t=f[w]??{},n={...e.defaultProps??{},...t??{}},r={...n,...p??{}};b({defaultProps:n,calculateMetadata:e.calculateMetadata,combinedProps:r,compositionDurationInFrames:e.durationInFrames??null,compositionFps:e.fps??null,compositionHeight:e.height??null,compositionWidth:e.width??null,compositionId:e.id})}})),[f,i,w,b,p]);const x=c?.id===d?.id,S=(0,r.useMemo)((()=>({...c?.defaultProps??{},...v??{}})),[c?.defaultProps,v]),k=(0,r.useMemo)((()=>({...S,...p??{}})),[S,p]),E=c&&X(c),j="undefined"!=typeof window&&window.remotion_ignoreFastRefreshUpdate&&l<=window.remotion_ignoreFastRefreshUpdate;(0,r.useEffect)((()=>{if(!j&&E){const e=b({calculateMetadata:c.calculateMetadata,combinedProps:k,compositionDurationInFrames:c.durationInFrames??null,compositionFps:c.fps??null,compositionHeight:c.height??null,compositionWidth:c.width??null,defaultProps:S,compositionId:c.id});return()=>{e.abort()}}}),[E,S,b,k,c?.calculateMetadata,c?.durationInFrames,c?.fps,c?.height,c?.id,c?.width,j]),(0,r.useEffect)((()=>{j||window.dispatchEvent(new CustomEvent(Y,{detail:{resetUnsaved:!0}}))}),[l]),(0,r.useEffect)((()=>{if(d&&!x){const e={...d.defaultProps??{},...g??{},...p??{}},t=b({calculateMetadata:d.calculateMetadata,compositionDurationInFrames:d.durationInFrames??null,compositionFps:d.fps??null,compositionHeight:d.height??null,compositionId:d.id,compositionWidth:d.width??null,defaultProps:S,combinedProps:e});return()=>{t.abort()}}}),[S,b,p,x,d,g]);const _=(0,r.useMemo)((()=>{const e=i.filter((e=>null===e.calculateMetadata));return{...h,...e.reduce(((e,t)=>({...e,[t.id]:{type:"success",result:{...t,defaultProps:t.defaultProps??{}}}})),{})}}),[i,h]);return(0,o.jsx)(G.Provider,{value:_,children:e})},J=e=>{const t=(0,r.useContext)(G),{props:n}=(0,r.useContext)(P),{compositions:o,canvasContent:i,currentCompositionMetadata:a}=(0,r.useContext)(C),s="composition"===i?.type?i.compositionId:null,l=e??s,c=o.find((e=>e.id===l)),d=(0,r.useMemo)((()=>c?n[c.id]??{}:{}),[n,c]);return(0,r.useMemo)((()=>c?a?{type:"success",result:{...a,id:c.id,defaultProps:c.defaultProps??{}}}:X(c)?t[c.id]?t[c.id]:null:(V(c.durationInFrames,{allowFloats:!1,component:`in <Composition id="${c.id}">`}),H(c.fps,`in <Composition id="${c.id}">`,!1),U(c.width,"width",`in <Composition id="${c.id}">`),U(c.height,"height",`in <Composition id="${c.id}">`),{type:"success",result:{width:c.width,height:c.height,fps:c.fps,id:c.id,durationInFrames:c.durationInFrames,defaultProps:c.defaultProps??{},props:{...c.defaultProps??{},...d??{},..."undefined"==typeof window||u().isPlayer?{}:B()??{}},defaultCodec:null,defaultOutName:null}}):null),[c,t,a,d])},Q=()=>{const{canvasContent:e,compositions:t,currentCompositionMetadata:n}=(0,r.useContext)(C),o=t.find((t=>"composition"===e?.type&&t.id===e.compositionId)),i=J(o?.id??null);return(0,r.useMemo)((()=>i?"error"===i.type||"loading"===i.type?null:o?{...i.result,defaultProps:o.defaultProps??{},id:o.id,...n??{},component:o.component}:null:null),[n,i,o])},ee=(0,r.createContext)({frame:{},playing:!1,playbackRate:1,rootId:"",imperativePlaying:{current:!1},setPlaybackRate:()=>{throw new Error("default")},audioAndVideoTags:{current:[]}}),te=(0,r.createContext)({setFrame:()=>{throw new Error("default")},setPlaying:()=>{throw new Error("default")}}),ne=e=>{localStorage.setItem("remotion.time-all",JSON.stringify(e))},re=()=>{const e=localStorage.getItem("remotion.time-all")??"{}";return JSON.parse(e)},oe=e=>{const t=localStorage.getItem("remotion.time-all")??"{}",n=JSON.parse(t);return void 0!==n[e]?Number(n[e]):"undefined"==typeof window?0:window.remotion_initialFrame??0},ie=()=>{const e=Q(),t=(0,r.useContext)(ee);if(!e)return"undefined"==typeof window?0:window.remotion_initialFrame??0;const n=t.frame[e.id]??(u().isPlayer?0:oe(e.id));return Math.min(e.durationInFrames-1,n)},ae=()=>{const{setFrame:e}=(0,r.useContext)(te);return e},se=()=>{const{playing:e,imperativePlaying:t}=(0,r.useContext)(ee),{setPlaying:n}=(0,r.useContext)(te);return(0,r.useMemo)((()=>[e,n,t]),[t,e,n])},le=(0,r.createContext)(!1),ce=({children:e})=>(0,o.jsx)(le.Provider,{value:!0,children:e}),ue=()=>{const e=(0,r.useContext)(x),t=e?.width??null,n=e?.height??null,o=e?.durationInFrames??null,i=Q();return(0,r.useMemo)((()=>{if(!i)return null;const{id:e,durationInFrames:r,fps:a,height:s,width:l,defaultProps:c,props:u,defaultCodec:d,defaultOutName:f}=i;return{id:e,width:t??l,height:n??s,fps:a,durationInFrames:o??r,defaultProps:c,props:u,defaultCodec:d,defaultOutName:f}}),[o,n,t,i])},de=()=>{const e=ue(),t=(0,r.useContext)(le),n=v();if(!e){if("undefined"!=typeof window&&window.remotion_isPlayer||n)throw new Error(["No video config found. Likely reasons:","- You are probably calling useVideoConfig() from outside the component passed to <Player />. See https://www.remotion.dev/docs/player/examples for how to set up the Player correctly.","- You have multiple versions of Remotion installed which causes the React context to get lost."].join("-"));throw new Error("No video config found. You are probably calling useVideoConfig() from a component which has not been registered as a <Composition />. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions for more information.")}if(!t)throw new Error("Called useVideoConfig() outside a Remotion composition.");return e},fe=()=>{if(!(0,r.useContext)(le)){if(u().isPlayer)throw new Error("useCurrentFrame can only be called inside a component that was passed to <Player>. See: https://www.remotion.dev/docs/player/examples");throw new Error("useCurrentFrame() can only be called inside a component that was registered as a composition. See https://www.remotion.dev/docs/the-fundamentals#defining-compositions")}const e=ie(),t=(0,r.useContext)(x);return e-(t?t.cumulatedFrom+t.relativeFrom:0)},pe=({frame:e,children:t,active:n=!0})=>{const i=fe(),a=de();if(void 0===e)throw new Error("The <Freeze /> component requires a 'frame' prop, but none was passed.");if("number"!=typeof e)throw new Error("The 'frame' prop of <Freeze /> must be a number, but is of type "+typeof e);if(Number.isNaN(e))throw new Error("The 'frame' prop of <Freeze /> must be a real number, but it is NaN.");if(!Number.isFinite(e))throw new Error(`The 'frame' prop of <Freeze /> must be a finite number, but it is ${e}.`);const s=(0,r.useMemo)((()=>"boolean"==typeof n?n:"function"==typeof n?n(i):void 0),[n,i]),l=(0,r.useContext)(ee),c=(0,r.useContext)(x),u=c?.relativeFrom??0,d=(0,r.useMemo)((()=>s?{...l,playing:!1,imperativePlaying:{current:!1},frame:{[a.id]:e+u}}:l),[s,l,a.id,e,u]);return(0,o.jsx)(ee.Provider,{value:d,children:t})},he=(0,r.forwardRef)((({from:e=0,durationInFrames:t=1/0,children:n,name:i,height:a,width:s,showInTimeline:l=!0,_remotionInternalLoopDisplay:c,_remotionInternalStack:d,_remotionInternalPremountDisplay:f,...p},h)=>{const{layout:m="absolute-fill"}=p,[v]=(0,r.useState)((()=>String(Math.random()))),g=(0,r.useContext)(x),{rootId:y}=(0,r.useContext)(ee),b=g?g.cumulatedFrom+g.relativeFrom:0,E=j();if("absolute-fill"!==m&&"none"!==m)throw new TypeError(`The layout prop of <Sequence /> expects either "absolute-fill" or "none", but you passed: ${m}`);if("none"===m&&void 0!==p.style)throw new TypeError('If layout="none", you may not pass a style.');if("number"!=typeof t)throw new TypeError(`You passed to durationInFrames an argument of type ${typeof t}, but it must be a number.`);if(t<=0)throw new TypeError(`durationInFrames must be positive, but got ${t}`);if("number"!=typeof e)throw new TypeError(`You passed to the "from" props of your <Sequence> an argument of type ${typeof e}, but it must be a number.`);if(!Number.isFinite(e))throw new TypeError(`The "from" prop of a sequence must be finite, but got ${e}.`);const O=ie(),_=de(),C=g?Math.min(g.durationInFrames-e,t):t,T=Math.max(0,Math.min(_.durationInFrames-e,C)),{registerSequence:P,unregisterSequence:A}=(0,r.useContext)(S),{hidden:N}=(0,r.useContext)(k),M=(0,r.useMemo)((()=>g?.premounting||Boolean(p._remotionInternalIsPremounting)),[p._remotionInternalIsPremounting,g?.premounting]),I=(0,r.useMemo)((()=>({cumulatedFrom:b,relativeFrom:e,durationInFrames:T,parentFrom:g?.relativeFrom??0,id:v,height:a??g?.height??null,width:s??g?.width??null,premounting:M})),[b,e,T,g,v,a,s,M]),R=(0,r.useMemo)((()=>i??""),[i]);(0,r.useEffect)((()=>{if(u().isStudio)return P({from:e,duration:T,id:v,displayName:R,parent:g?.id??null,type:"sequence",rootId:y,showInTimeline:l,nonce:E,loopDisplay:c,stack:d??null,premountDisplay:f??null}),()=>{A(v)}}),[t,v,i,P,R,A,g?.id,T,y,e,l,E,c,d,f]);const L=Math.ceil(b+e+t-1),D=O<b+e||O>L?null:n,F="none"===p.layout?void 0:p.style,z=(0,r.useMemo)((()=>({flexDirection:void 0,...s?{width:s}:{},...a?{height:a}:{},...F??{}})),[a,F,s]);if(null!==h&&"none"===m)throw new TypeError('It is not supported to pass both a `ref` and `layout="none"` to <Sequence />.');return N[v]??!1?null:(0,o.jsx)(x.Provider,{value:I,children:null===D?null:"none"===p.layout?D:(0,o.jsx)(w,{ref:h,style:z,className:p.className,children:D})})})),me=(0,r.forwardRef)(((e,t)=>{const n=fe();if("none"===e.layout)throw new Error('`<Sequence>` with `premountFor` prop does not support layout="none"');const{style:i,from:a=0,premountFor:s=0,styleWhilePremounted:l,...c}=e,u=n<a&&n>=a-s,d=(0,r.useMemo)((()=>({...i,opacity:u?0:1,pointerEvents:u?"none":i?.pointerEvents??void 0,...u?l:{}})),[i,u,l]);return(0,o.jsx)(pe,{frame:a,active:u,children:(0,o.jsx)(ve,{ref:t,from:a,style:d,_remotionInternalPremountDisplay:s,_remotionInternalIsPremounting:u,...c})})})),ve=(0,r.forwardRef)(((e,t)=>"none"!==e.layout&&e.premountFor&&!u().isRendering?(0,o.jsx)(me,{...e,ref:t}):(0,o.jsx)(he,{...e,ref:t})));function ge(e){let t;throw(e=>e instanceof Error||null!==e&&"object"==typeof e&&"stack"in e&&"string"==typeof e.stack&&"message"in e&&"string"==typeof e.message)(e)?(t=e,t.stack||(t.stack=new Error(t.message).stack)):t="string"==typeof e?Error(e):Error("Rendering was cancelled"),window.remotion_cancelledError=t.stack,t}var ye=["trace","verbose","info","warn","error"],be=e=>ye.indexOf(e),we=(e,t)=>be(e)<=be(t),xe={trace:(e,...t)=>{if(we(e,"trace"))return console.log(...t)},verbose:(e,...t)=>{if(we(e,"verbose"))return console.log(...t)},info:(e,...t)=>{if(we(e,"info"))return console.log(...t)},warn:(e,...t)=>{if(we(e,"warn"))return console.warn(...t)},error:(...e)=>console.error(...e)};"undefined"!=typeof window&&(window.remotion_renderReady=!1);var Se=[];"undefined"!=typeof window&&(window.remotion_delayRenderTimeouts={});var ke="The delayRender was called:",Ee="handle was cleared after",Oe=(e,t)=>{if("string"!=typeof e&&void 0!==e)throw new Error("The label parameter of delayRender() must be a string or undefined, got: "+JSON.stringify(e));const n=Math.random();Se.push(n);const r=Error().stack?.replace(/^Error/g,"")??"";if(u().isRendering){const o=(t?.timeoutInMilliseconds??("undefined"==typeof window?3e4:window.remotion_puppeteerTimeout??3e4))-2e3;if("undefined"!=typeof window){const i=(t?.retries??0)-(window.remotion_attempt-1);window.remotion_delayRenderTimeouts[n]={label:e??null,startTime:Date.now(),timeout:setTimeout((()=>{const t=["A delayRender()",e?`"${e}"`:null,`was called but not cleared after ${o}ms. See https://remotion.dev/docs/timeout for help.`,i>0?"Retries left: "+i:null,i>0?"- Rendering the frame will be retried.":null,ke,r].filter(g).join(" ");ge(Error(t))}),o)}}}return"undefined"!=typeof window&&(window.remotion_renderReady=!1),n},je=e=>{if(void 0===e)throw new TypeError("The continueRender() method must be called with a parameter that is the return value of delayRender(). No value was passed.");if("number"!=typeof e)throw new TypeError("The parameter passed into continueRender() must be the return value of delayRender() which is a number. Got: "+JSON.stringify(e));Se=Se.filter((t=>{if(t===e){if(u().isRendering){if(!window.remotion_delayRenderTimeouts[e])return!1;const{label:t,startTime:n,timeout:r}=window.remotion_delayRenderTimeouts[e];clearTimeout(r);const o=[t?`delayRender() "${t}"`:"A delayRender()",Ee,Date.now()-n+"ms"].filter(g).join(" ");xe.verbose(window.remotion_logLevel,o),delete window.remotion_delayRenderTimeouts[e]}return!1}return!0})),0===Se.length&&"undefined"!=typeof window&&(window.remotion_renderReady=!0)},_e=r.forwardRef((({width:e,height:t,fit:n,className:i,style:a},s)=>{const l=(0,r.useRef)(null),c=(0,r.useCallback)((r=>{const o=l.current,i=e??r.displayWidth,a=t??r.displayHeight;if(!o)throw new Error("Canvas ref is not set");const s=l.current?.getContext("2d");if(!s)throw new Error("Could not get 2d context");o.width=i,o.height=a,s.drawImage(r,...((e,t,n)=>{switch(e){case"fill":return[0,0,t.width,t.height,0,0,n.width,n.height];case"contain":{const e=Math.min(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,o=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,o,t.width*e,t.height*e]}case"cover":{const e=Math.max(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,o=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,o,t.width*e,t.height*e]}default:throw new Error("Unknown fit: "+e)}})(n,{height:r.displayHeight,width:r.displayWidth},{width:i,height:a}))}),[n,t,e]);return(0,r.useImperativeHandle)(s,(()=>({draw:c,getCanvas:()=>{if(!l.current)throw new Error("Canvas ref is not set");return l.current},clear:()=>{const e=l.current?.getContext("2d");if(!e)throw new Error("Could not get 2d context");e.clearRect(0,0,l.current.width,l.current.height)}})),[c]),(0,o.jsx)("canvas",{ref:l,className:i,style:a})})),Ce=({loopBehavior:e,durationFound:t,timeInSec:n})=>"loop"===e?t?n%t:n:Math.min(n,t||1/0),Te=async({resolvedSrc:e,signal:t,currentTime:n,initialLoopBehavior:r})=>{if("undefined"==typeof ImageDecoder)throw new Error("Your browser does not support the WebCodecs ImageDecoder API.");const o=await fetch(e,{signal:t}),{body:i}=o;if(!i)throw new Error("Got no body");const a=new ImageDecoder({data:i,type:o.headers.get("Content-Type")||"image/gif"});await a.completed;const{selectedTrack:s}=a.tracks;if(!s)throw new Error("No selected track");const l=[];let c=null;const u=async e=>{const t=l.find((t=>t.frameIndex===e));if(t&&t.frame)return t;const n=await a.decode({frameIndex:e,completeFramesOnly:!0});return t?t.frame=n.image:l.push({frame:n.image,frameIndex:e,timeInSeconds:n.image.timestamp/1e6}),{frame:n.image,frameIndex:e,timeInSeconds:n.image.timestamp/1e6}},d=async({timeInSec:e,loopBehavior:t})=>{const n=Ce({durationFound:c,loopBehavior:t,timeInSec:e}),r=l.filter((e=>e.timeInSeconds<=n)),o=r.map((e=>e.frameIndex)).reduce(((e,t)=>Math.max(e,t)),0);let i=o;for(;;){const e=await u(i);if(i++,!e.frame)throw new Error("No frame found");if(!e.frame.duration)break;if(i===s.frameCount&&null===c){const t=(e.frame.timestamp+e.frame.duration)/1e6;c=t}if(e.timeInSeconds>n||i===s.frameCount)break}s.frameCount-o<3&&"loop"===t&&await u(0),(e=>{const t=l.filter((e=>e.frame)),n=t.sort(((t,n)=>Math.abs(t.timeInSeconds-e)-Math.abs(n.timeInSeconds-e)));for(let e=0;e<n.length;e++)e<5||(n[e].frame=null)})(n)};await d({timeInSec:n,loopBehavior:r}),await d({timeInSec:n,loopBehavior:r});return{getFrame:async(e,t)=>{if(null!==c&&e>c&&"clear-after-finish"===t)return null;const n=Ce({loopBehavior:t,durationFound:c,timeInSec:e});await d({timeInSec:n,loopBehavior:t});const r=l.filter((e=>e.frame)),o=r.reduce(((e,t)=>Math.abs(e.timeInSeconds-n)<Math.abs(t.timeInSeconds-n)?e:t));if(!o.frame)throw new Error("No frame found");return o},frameCount:s.frameCount}},Pe=((0,r.forwardRef)((({src:e,width:t,height:n,onError:i,loopBehavior:a="loop",playbackRate:s=1,fit:l="fill",...c},u)=>{const d=(0,r.useRef)({isMounted:!0});(0,r.useEffect)((()=>{const{current:e}=d;return e.isMounted=!0,()=>{e.isMounted=!1}}),[]);const f=(e=>"undefined"==typeof window?e:new URL(e,window.origin).href)(e),[p,h]=(0,r.useState)(null),[m]=(0,r.useState)((()=>Oe(`Rendering <AnimatedImage/> with src="${f}"`))),v=fe(),{fps:g}=de(),y=v/s/g,b=(0,r.useRef)(y);b.current=y;const w=(0,r.useRef)(null);(0,r.useImperativeHandle)(u,(()=>{const e=w.current?.getCanvas();if(!e)throw new Error("Canvas ref is not set");return e}),[]);const[x]=(0,r.useState)((()=>a));return(0,r.useEffect)((()=>{const e=new AbortController;return Te({resolvedSrc:f,signal:e.signal,currentTime:b.current,initialLoopBehavior:x}).then((e=>{h(e),je(m)})).catch((e=>{"AbortError"!==e.name?i?(i?.(e),je(m)):ge(e):je(m)})),()=>{e.abort()}}),[f,m,i,x]),(0,r.useLayoutEffect)((()=>{if(!p)return;const t=Oe(`Rendering frame at ${y} of <AnimatedImage src="${e}"/>`);p.getFrame(y,a).then((e=>{d.current.isMounted&&(null===e?w.current?.clear():w.current?.draw(e.frame)),je(t)})).catch((e=>{i?(i(e),je(t)):ge(e)}))}),[y,p,a,i,e]),(0,o.jsx)(_e,{ref:w,width:t,height:n,fit:l,...c})})),e=>{"artifact"===e.type&&((e=>{if("string"!=typeof e)throw new TypeError('The "filename" must be a string, but you passed a value of type '+typeof e);if(""===e.trim())throw new Error("The `filename` must not be empty");if(!e.match(/^([0-9a-zA-Z-!_.*'()/:&$@=;+,?]+)/g))throw new Error('The `filename` must match "/^([0-9a-zA-Z-!_.*\'()/:&$@=;+,?]+)/g". Use forward slashes only, even on Windows.')})(e.filename),(e=>{if("string"!=typeof e&&!(e instanceof Uint8Array))throw new TypeError('The "content" must be a string or Uint8Array, but you passed a value of type '+typeof e);if("string"==typeof e&&""===e.trim())throw new Error("The `content` must not be empty")})(e.content))}),Ae=(0,r.createContext)({registerRenderAsset:()=>{},unregisterRenderAsset:()=>{},renderAssets:[]}),Ne=({children:e})=>{const[t,n]=(0,r.useState)([]),i=(0,r.useCallback)((e=>{Pe(e),n((t=>[...t,e]))}),[]),a=(0,r.useCallback)((e=>{n((t=>t.filter((t=>t.id!==e))))}),[]);(0,r.useLayoutEffect)((()=>{"undefined"!=typeof window&&(window.remotion_collectAssets=()=>(n([]),t))}),[t]);const s=(0,r.useMemo)((()=>({registerRenderAsset:i,unregisterRenderAsset:a,renderAssets:t})),[t,i,a]);return(0,o.jsx)(Ae.Provider,{value:s,children:e})},Me=e=>"undefined"==typeof window?e:new URL(e,window.origin).href,Ie=({endAt:e,mediaDuration:t,playbackRate:n,startFrom:r})=>{let o=t;void 0!==e&&(o=e),void 0!==r&&(o-=r);const i=o/n;return Math.floor(i)},Re=(0,r.createContext)(null),Le=({durationInFrames:e,times:t=1/0,children:n,name:i,...a})=>{const s=fe(),{durationInFrames:l}=de();if(V(e,{component:"of the <Loop /> component",allowFloats:!0}),"number"!=typeof t)throw new TypeError(`You passed to "times" an argument of type ${typeof t}, but it must be a number.`);if(t!==1/0&&t%1!=0)throw new TypeError(`The "times" prop of a loop must be an integer, but got ${t}.`);if(t<0)throw new TypeError(`The "times" prop of a loop must be at least 0, but got ${t}`);const c=Math.ceil(l/e),u=Math.min(c,t),d="none"===a.layout?void 0:a.style,f=e*(u-1),p=Math.floor(s/e)*e,h=Math.min(p,f),m=(0,r.useMemo)((()=>({numberOfTimes:u,startOffset:-h,durationInFrames:e})),[u,e,h]),v=(0,r.useMemo)((()=>({iteration:Math.floor(s/e),durationInFrames:e})),[s,e]);return(0,o.jsx)(Re.Provider,{value:v,children:(0,o.jsx)(ve,{durationInFrames:e,from:h,name:i??"<Loop>",_remotionInternalLoopDisplay:m,layout:a.layout,style:d,children:n})})};Le.useLoop=()=>r.useContext(Re);var De=({logLevel:e,tag:t,message:n,mountTime:r})=>{const o=[r?Date.now()-r+"ms ":null,t].filter(Boolean).join(" ");xe.trace(e,`[${o}]`,n)},Fe=(0,r.createContext)({}),ze={},Be=[],$e=({children:e})=>{const[t,n]=(0,r.useState)((()=>ze));return(0,r.useEffect)((()=>{const e=()=>{n(ze)};return Be.push(e),()=>{Be=Be.filter((t=>t!==e))}}),[]),(0,o.jsx)(Fe.Provider,{value:t,children:e})},Ue=e=>(0,r.useContext)(Fe)[e]??e,Ve=(e,t)=>{if("number"!=typeof e.volume&&"function"!=typeof e.volume&&void 0!==e.volume)throw new TypeError(`You have passed a volume of type ${typeof e.volume} to your <${t} /> component. Volume must be a number or a function with the signature '(frame: number) => number' undefined.`);if("number"==typeof e.volume&&e.volume<0)throw new TypeError(`You have passed a volume below 0 to your <${t} /> component. Volume must be between 0 and 1`);if("number"!=typeof e.playbackRate&&void 0!==e.playbackRate)throw new TypeError(`You have passed a playbackRate of type ${typeof e.playbackRate} to your <${t} /> component. Playback rate must a real number or undefined.`);if("number"==typeof e.playbackRate&&(isNaN(e.playbackRate)||!Number.isFinite(e.playbackRate)||e.playbackRate<=0))throw new TypeError(`You have passed a playbackRate of ${e.playbackRate} to your <${t} /> component. Playback rate must be a real number above 0.`)},He=(e,t)=>{if(void 0!==e){if("number"!=typeof e)throw new TypeError(`type of startFrom prop must be a number, instead got type ${typeof e}.`);if(isNaN(e)||e===1/0)throw new TypeError("startFrom prop can not be NaN or Infinity.");if(e<0)throw new TypeError(`startFrom must be greater than equal to 0 instead got ${e}.`)}if(void 0!==t){if("number"!=typeof t)throw new TypeError(`type of endAt prop must be a number, instead got type ${typeof t}.`);if(isNaN(t))throw new TypeError("endAt prop can not be NaN.");if(t<=0)throw new TypeError(`endAt must be a positive number, instead got ${t}.`)}if(t<e)throw new TypeError("endAt prop must be greater than startFrom prop.")},We=(e,t)=>{if("got-duration"===t.type){const n=Me(t.src);return e[n]===t.durationInSeconds?e:{...e,[n]:t.durationInSeconds}}return e},qe=(0,r.createContext)({durations:{},setDurations:()=>{throw new Error("context missing")}}),Ge=({children:e})=>{const[t,n]=(0,r.useReducer)(We,{}),i=(0,r.useMemo)((()=>({durations:t,setDurations:n})),[t]);return(0,o.jsx)(qe.Provider,{value:i,children:e})},Ke=(0,r.createContext)({logLevel:"info",mountTime:0}),Xe=()=>{const{logLevel:e}=r.useContext(Ke);if(null===e)throw new Error("useLogLevel must be used within a LogLevelProvider");return e},Ye=()=>{const{mountTime:e}=r.useContext(Ke);if(null===e)throw new Error("useMountTime must be used within a LogLevelProvider");return e};function Ze(e){let t=e+1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296}var Je=(e,t)=>{if(void 0!==t)throw new TypeError("random() takes only one argument");if(null===e)return Math.random();if("string"==typeof e)return Ze(function(e){let t=0,n=0,r=0;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r}(e));if("number"==typeof e)return Ze(1e10*e);throw new Error("random() argument must be a number or a string")},Qe=!1,et=e=>e>1,tt=({mediaRef:e,volume:t,logLevel:n})=>{const o=et(t),i=(0,r.useRef)(null),a=(0,r.useRef)(t);if(a.current=t,(0,r.useLayoutEffect)((()=>{if(!o)return;if(!AudioContext)return void(e=>{Qe||(Qe=!0,xe.warn(e,"AudioContext is not supported in this browser"))})(n);if(!e.current)return;if(i.current)return;const t=new AudioContext({latencyHint:"interactive"}),r=new MediaElementAudioSourceNode(t,{mediaElement:e.current}),s=new GainNode(t,{gain:Math.max(a.current,1)});i.current={gainNode:s,source:r,audioContext:t},r.connect(s),s.connect(t.destination),xe.trace(n,`Starting to amplify ${e.current?.src}. Gain = ${a.current}`)}),[n,e,o]),i.current){const r=Math.max(t,1);i.current.gainNode.gain.value!==r&&(i.current.gainNode.gain.value=r,xe.trace(n,`Setting gain to ${r} for ${e.current?.src}`))}return i},nt=()=>{const e=(0,r.useContext)(x);return Math.min(0,e?.relativeFrom??0)},rt=e=>{const t=Le.useLoop(),n=fe(),r=nt();return"repeat"===e||null===t?n+r:n+r+t.durationInFrames*t.iteration},ot=e=>{if(/data:|blob:/.test(e.substring(0,5)))return"Data URL";const t=e.split("/").map((e=>e.split("\\"))).flat(1);return t[t.length-1]},it=({mediaRef:e,mediaType:t,onAutoPlayError:n,logLevel:r,mountTime:o,reason:i})=>{const{current:a}=e;if(!a)return;De({logLevel:r,tag:"play",message:`Attempting to play ${a.src}. Reason: ${i}`,mountTime:o});const s=a.play();s.catch&&s.catch((e=>{if(a&&!e.message.includes("request was interrupted by a call to pause")&&!e.message.includes("The operation was aborted.")&&!(e.message.includes("The fetching process for the media resource was aborted by the user agent")||e.message.includes("request was interrupted by a new load request")||e.message.includes("because the media was removed from the document")||e.message.includes("user didn't interact with the document")&&a.muted||(console.log(`Could not play ${t} due to following error: `,e),a.muted))){if(n)return void n();console.log("The video will be muted and we'll retry playing it."),"video"===t&&u().isPlayer&&console.log("Use onAutoPlayError() to handle this error yourself."),a.muted=!0,a.play()}}))},at=({frame:e,volume:t,mediaVolume:n=1})=>{if("number"==typeof t)return t*n;if(void 0===t)return Number(n);const r=t(e)*n;if("number"!=typeof r)throw new TypeError(`You passed in a a function to the volume prop but it did not return a number but a value of type ${typeof r} for frame ${e}`);if(Number.isNaN(r))throw new TypeError(`You passed in a function to the volume prop but it returned NaN for frame ${e}.`);if(!Number.isFinite(r))throw new TypeError(`You passed in a function to the volume prop but it returned a non-finite number for frame ${e}.`);return Math.max(0,r)},st={},lt=({volume:e,mediaVolume:t,mediaRef:n,src:o,mediaType:i,playbackRate:a,displayName:s,id:l,stack:c,showInTimeline:d,premountDisplay:f,onAutoPlayError:p,isPremounting:h})=>{const m=de(),{rootId:v,audioAndVideoTags:g}=(0,r.useContext)(ee),y=(0,r.useContext)(x),b=y?y.relativeFrom+y.cumulatedFrom:0,{imperativePlaying:w}=(0,r.useContext)(ee),k=nt(),{registerSequence:E,unregisterSequence:O}=(0,r.useContext)(S),[_]=(0,r.useState)((()=>e)),C=Xe(),T=Ye(),P=j(),A=y?Math.min(y.durationInFrames,m.durationInFrames):m.durationInFrames,N="function"==typeof e,M=(0,r.useMemo)((()=>"number"==typeof e?e:new Array(Math.floor(Math.max(0,A+k))).fill(!0).map(((n,r)=>at({frame:r+k,volume:e,mediaVolume:t}))).join(",")),[A,k,e,t]);(0,r.useEffect)((()=>{var t;"number"==typeof e&&e!==_&&(st[t=`Remotion: The ${i} with src ${o} has changed it's volume. Prefer the callback syntax for setting volume to get better timeline display: https://www.remotion.dev/docs/audio/volume`]||(console.warn(t),st[t]=!0))}),[_,i,o,e]),(0,r.useEffect)((()=>{if(n.current){if(!o)throw new Error("No src passed");if((u().isStudio||"test"===window.process?.env?.NODE_ENV)&&d)return E({type:i,src:o,id:l,duration:A,from:0,parent:y?.id??null,displayName:s??ot(o),rootId:v,volume:M,showInTimeline:!0,nonce:P,startMediaFrom:0-k,doesVolumeChange:N,loopDisplay:void 0,playbackRate:a,stack:c,premountDisplay:f}),()=>{O(l)}}}),[b,A,l,y,o,E,v,O,m,M,N,P,n,i,k,a,s,c,d,f]),(0,r.useEffect)((()=>{const e={id:l,play:e=>{if(w.current&&!h)return it({mediaRef:n,mediaType:i,onAutoPlayError:p,logLevel:C,mountTime:T,reason:e})}};return g.current.push(e),()=>{g.current=g.current.filter((e=>e.id!==l))}}),[g,l,n,i,p,w,h,C,T])},ct=r.createContext(null),ut=({children:e})=>{const{logLevel:t,mountTime:n}=(0,r.useContext)(Ke),i=((e,t)=>{const[n,o]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),c=(0,r.useRef)(!1),u=(0,r.useCallback)((e=>(o((t=>[...t,e])),{unblock:()=>{o((t=>{const n=t.filter((t=>t!==e));return n.length===t.length?t:n}))}})),[]),d=(0,r.useCallback)((e=>(a((t=>[...t,e])),{remove:()=>{a((t=>t.filter((t=>t!==e))))}})),[]),f=(0,r.useCallback)((e=>(l((t=>[...t,e])),{remove:()=>{l((t=>t.filter((t=>t!==e))))}})),[]);return(0,r.useEffect)((()=>{n.length>0&&(i.forEach((e=>e())),De({logLevel:e,message:"Player is entering buffer state",mountTime:t,tag:"player"}))}),[n]),(0,r.useEffect)((()=>{0===n.length&&(s.forEach((e=>e())),De({logLevel:e,message:"Player is exiting buffer state",mountTime:t,tag:"player"}))}),[n]),(0,r.useMemo)((()=>({addBlock:u,listenForBuffering:d,listenForResume:f,buffering:c})),[u,c,d,f])})(t??"info",n);return(0,o.jsx)(ct.Provider,{value:i,children:e})},dt=()=>{const e=(0,r.useContext)(ct),t=e?e.addBlock:null;return(0,r.useMemo)((()=>({delayPlayback:()=>{if(!t)throw new Error("Tried to enable the buffering state, but a Remotion context was not found. This API can only be called in a component that was passed to the Remotion Player or a <Composition>. Or you might have experienced a version mismatch - run `npx remotion versions` and ensure all packages have the same version. This error is thrown by the buffer state https://remotion.dev/docs/player/buffer-state");const{unblock:e}=t({id:String(Math.random())});return{unblock:e}}})),[t])},ft=({mediaRef:e,mediaType:t,onVariableFpsVideoDetected:n,pauseWhenBuffering:o,logLevel:i,mountTime:a})=>{const s=(0,r.useRef)(!1),{delayPlayback:l}=dt(),c=(0,r.useCallback)((r=>{if("video"!==t)return;if(!o)return;const c=e.current;if(!c)return;if(De({logLevel:i,message:`Checking if should buffer until first frame, ${c.readyState}`,mountTime:a,tag:"buffer"}),c.readyState>=c.HAVE_ENOUGH_DATA&&!/AppleWebKit/.test(window.navigator.userAgent))return;if(!c.requestVideoFrameCallback)return;s.current=!0,De({logLevel:i,message:`Buffering ${e.current?.src} until the first frame is received`,mountTime:a,tag:"buffer"});const u=l(),d=()=>{u.unblock(),c.removeEventListener("ended",d,{once:!0}),c.removeEventListener("pause",d,{once:!0}),s.current=!1},f=()=>{d()};c.requestVideoFrameCallback(((e,t)=>{Math.abs(t.mediaTime-r)>.5&&n(),d()})),c.addEventListener("ended",f,{once:!0}),c.addEventListener("pause",f,{once:!0}),c.addEventListener("canplay",f,{once:!0})}),[l,i,e,t,a,n,o]);return(0,r.useMemo)((()=>({isBuffering:()=>s.current,bufferUntilFirstFrame:c})),[c])},pt=(e,t)=>Math.round(e/t*100)/100,ht=()=>{if("undefined"==typeof window)return!1;const e=/iP(ad|od|hone)/i.test(window.navigator.userAgent),t=/AppleWebKit/.test(window.navigator.userAgent);return e&&t},mt=({actualFrom:e,fps:t})=>pt(Math.max(0,-e),t),vt=({duration:e,fps:t})=>pt(e,t),gt=({actualSrc:e,actualFrom:t,duration:n,fps:r})=>{if((e=>ht()&&e.startsWith("blob:"))(e))return e;if(e.startsWith("data:"))return e;if(Boolean(new URL(e,("undefined"==typeof window?null:window.location.href)??"http://localhost:3000").hash))return e;if(!Number.isFinite(t))return e;const o=`${e}#t=${mt({actualFrom:t,fps:r})}`;return Number.isFinite(n)?`${o},${vt({duration:n,fps:r})}`:o},yt=({actualSrc:e,actualFrom:t,duration:n,fps:o})=>{const i=(0,r.useRef)(t),a=(0,r.useRef)(n),s=(0,r.useRef)(e);(({prevStartFrom:e,newStartFrom:t,prevDuration:n,newDuration:r,fps:o})=>{const i=mt({actualFrom:e,fps:o}),a=mt({actualFrom:t,fps:o}),s=vt({duration:n,fps:o}),l=vt({duration:r,fps:o});return!(a<i||l>s)})({prevStartFrom:i.current,newStartFrom:t,prevDuration:a.current,newDuration:n,fps:o})&&e===s.current||(i.current=t,a.current=n,s.current=e);return gt({actualSrc:s.current,actualFrom:i.current,duration:a.current,fps:o})},bt=({mediaRef:e,time:t,logLevel:n,why:r,mountTime:o})=>{const i=ht()?Number(t.toFixed(1)):t;return De({logLevel:n,tag:"seek",message:`Seeking from ${e.currentTime} to ${i}. src= ${e.src} Reason: ${r}`,mountTime:o}),e.currentTime=i,i};function wt(e,t){if(t.length<2)throw new Error(e+" must have at least 2 elements");for(const n of t){if("number"!=typeof n)throw new Error(`${e} must contain only numbers`);if(!Number.isFinite(n))throw new Error(`${e} must contain only finite numbers, but got [${t.join(",")}]`)}}function xt(e,t,n,r){if(void 0===e)throw new Error("input can not be undefined");if(void 0===t)throw new Error("inputRange can not be undefined");if(void 0===n)throw new Error("outputRange can not be undefined");if(t.length!==n.length)throw new Error("inputRange ("+t.length+") and outputRange ("+n.length+") must have the same length");wt("inputRange",t),wt("outputRange",n),function(e){for(let t=1;t<e.length;++t)if(!(e[t]>e[t-1]))throw new Error(`inputRange must be strictly monotonically increasing but got [${e.join(",")}]`)}(t);const o=r?.easing??(e=>e);let i="extend";void 0!==r?.extrapolateLeft&&(i=r.extrapolateLeft);let a="extend";if(void 0!==r?.extrapolateRight&&(a=r.extrapolateRight),"number"!=typeof e)throw new TypeError("Cannot interpolate an input which is not a number");const s=function(e,t){let n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,t);return function(e,t,n,r){const{extrapolateLeft:o,extrapolateRight:i,easing:a}=r;let s=e;const[l,c]=t,[u,d]=n;if(s<l){if("identity"===o)return s;if("clamp"===o)s=l;else if("wrap"===o){const e=c-l;s=((s-l)%e+e)%e+l}}if(s>c){if("identity"===i)return s;if("clamp"===i)s=c;else if("wrap"===i){const e=c-l;s=((s-l)%e+e)%e+l}}return u===d?u:(s=(s-l)/(c-l),s=a(s),s=s*(d-u)+u,s)}(e,[t[s],t[s+1]],[n[s],n[s+1]],{easing:o,extrapolateLeft:i,extrapolateRight:a})}var St=({frame:e,playbackRate:t,startFrom:n})=>xt(e,[-1,n,n+1],[-1,n,n+t]),kt=({fps:e,frame:t,playbackRate:n,startFrom:r})=>St({frame:t,playbackRate:n,startFrom:r})*(1e3/e)/1e3,Et={},Ot=({mediaRef:e,src:t,mediaType:n,playbackRate:o,onlyWarnForMediaSeekingError:i,acceptableTimeshift:a,pauseWhenBuffering:s,isPremounting:l,onAutoPlayError:c,userPreferredVolume:u})=>{const{playbackRate:d}=(0,r.useContext)(ee),f=fe(),p=ie(),[h]=se(),m=(0,r.useContext)(ct),{fps:v}=de(),g=nt(),y=(0,r.useRef)(null),b=(0,r.useRef)(null),w=Xe(),x=Ye();if(!m)throw new Error("useMediaPlayback must be used inside a <BufferingContext>");const S=(0,r.useRef)({}),k=(0,r.useCallback)((()=>{t&&(xe.verbose(w,`Detected ${t} as a variable FPS video. Disabling buffering while seeking.`),S.current[t]=!0)}),[w,t]),E=(({mediaRef:e,mediaType:t,lastSeek:n,onVariableFpsVideoDetected:o})=>{const i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const{current:r}=e;if(!r)return void(i.current=null);if(i.current=r.currentTime,"video"!==t)return void(i.current=null);const a=r;if(!a.requestVideoFrameCallback)return;let s=()=>{};const l=()=>{if(!a)return;const e=a.requestVideoFrameCallback(((e,t)=>{if(null!==i.current){const e=Math.abs(i.current-t.mediaTime),r=Math.abs(null===n.current?1/0:t.mediaTime-n.current);e>.5&&r>.5&&t.mediaTime>i.current&&o()}i.current=t.mediaTime,l()}));s=()=>{a.cancelVideoFrameCallback(e),s=()=>{}}};return l(),()=>{s()}}),[n,e,t,o]),i})({mediaRef:e,mediaType:n,lastSeek:b,onVariableFpsVideoDetected:k}),O=kt({frame:f,playbackRate:o,startFrom:-g,fps:v}),j=(({element:e,shouldBuffer:t,isPremounting:n,logLevel:o,mountTime:i})=>{const a=dt(),[s,l]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{let r=[];const{current:s}=e;if(!s)return;if(!t)return;if(n)return void(s.readyState<s.HAVE_FUTURE_DATA&&(navigator.userAgent.includes("Firefox/")||(De({logLevel:o,message:`Calling .load() on ${s.src} because readyState is ${s.readyState} and it is not Firefox. Element is premounted`,tag:"load",mountTime:i}),s.load())));const c=e=>{let t=!1;r.forEach((n=>{n(e),t=!0})),r=[],l((e=>(e&&(t=!0),!1))),t&&De({logLevel:o,message:`Unmarking as buffering: ${s.src}. Reason: ${e}`,tag:"buffer",mountTime:i})},u=e=>{l(!0),De({logLevel:o,message:`Marking as buffering: ${s.src}. Reason: ${e}`,tag:"buffer",mountTime:i});const{unblock:t}=a.delayPlayback(),n=()=>{c('"canplay" was fired'),d()},u=()=>{c('"error" event was occurred'),d()};s.addEventListener("canplay",n,{once:!0}),r.push((()=>{s.removeEventListener("canplay",n)})),s.addEventListener("error",u,{once:!0}),r.push((()=>{s.removeEventListener("error",u)})),r.push((e=>{De({logLevel:o,message:`Unblocking ${s.src} from buffer. Reason: ${e}`,tag:"buffer",mountTime:i}),t()}))},d=()=>{if(s.readyState<s.HAVE_FUTURE_DATA)u(`readyState is ${s.readyState}, which is less than HAVE_FUTURE_DATA`),navigator.userAgent.includes("Firefox/")||(De({logLevel:o,message:`Calling .load() on ${s.src} because readyState is ${s.readyState} and it is not Firefox.`,tag:"load",mountTime:i}),s.load());else{const e=()=>{u('"waiting" event was fired')};s.addEventListener("waiting",e),r.push((()=>{s.removeEventListener("waiting",e)}))}};return d(),()=>{c("element was unmounted or prop changed")}}),[a,e,n,o,t,i]),s})({element:e,shouldBuffer:s,isPremounting:l,logLevel:w,mountTime:x}),{bufferUntilFirstFrame:_,isBuffering:C}=ft({mediaRef:e,mediaType:n,onVariableFpsVideoDetected:k,pauseWhenBuffering:s,logLevel:w,mountTime:x}),T=o*d,P=(()=>{const t=et(u)?.65:.45;return e.current?.duration?Math.min(e.current.duration,a??t):a??t})(),A=(e=>{const[t,n]=(0,r.useState)(e.buffering.current);return(0,r.useEffect)((()=>(e.listenForBuffering((()=>{n(!0)})),e.listenForResume((()=>{n(!1)})),()=>{e.listenForBuffering((()=>{})),e.listenForResume((()=>{}))})),[e]),t})(m);(0,r.useEffect)((()=>{if(e.current?.paused)return;if(!h)return De({logLevel:w,tag:"pause",message:`Pausing ${e.current?.src} because ${l?"media is premounting":"Player is not playing"}`,mountTime:x}),void e.current?.pause();const t=j||C();A&&!t&&(De({logLevel:w,tag:"pause",message:`Pausing ${e.current?.src} because player is buffering but media tag is not`,mountTime:x}),e.current?.pause())}),[C,j,A,l,w,e,n,x,h]),(0,r.useEffect)((()=>{const r="audio"===n?"<Audio>":"<Video>";if(!e.current)throw new Error(`No ${n} ref found`);if(!t)throw new Error(`No 'src' attribute was passed to the ${r} element.`);const o=Math.max(0,T);e.current.playbackRate!==o&&(e.current.playbackRate=o);const{duration:a}=e.current,u=!Number.isNaN(a)&&Number.isFinite(a)?Math.min(a,O):O,d=e.current.currentTime,f=E.current??null,v=S.current[t],g=Math.abs(u-d),k=f?Math.abs(u-f):null,A=k&&!v?k:g;if(A>P&&y.current!==u)return b.current=bt({mediaRef:e.current,time:u,logLevel:w,why:`because time shift is too big. shouldBeTime = ${u}, isTime = ${d}, requestVideoCallbackTime = ${f}, timeShift = ${A}${v?", isVariableFpsVideo = true":""}, isPremounting = ${l}, pauseWhenBuffering = ${s}`,mountTime:x}),y.current=b.current,h&&(T>0&&_(u),e.current.paused&&it({mediaRef:e,mediaType:n,onAutoPlayError:c,logLevel:w,mountTime:x,reason:"player is playing but media tag is paused, and just seeked"})),void(i||((e,t)=>{if(null===e)return;if(0===e.seekable.length)return;if(e.seekable.length>1)return;if(Et[e.src])return;const n=e.seekable.start(0),r=e.seekable.end(0);if(0===n&&0===r){const n=[`The media ${e.src} cannot be seeked. This could be one of few reasons:`,"1) The media resource was replaced while the video is playing but it was not loaded yet.","2) The media does not support seeking.","3) The media was loaded with security headers prventing it from being included.","Please see https://remotion.dev/docs/non-seekable-media for assistance."].join("\n");if("console-error"===t)console.error(n);else{if("console-warning"!==t)throw new Error(n);console.warn(`The media ${e.src} does not support seeking. The video will render fine, but may not play correctly in the Remotion Studio and in the <Player>. See https://remotion.dev/docs/non-seekable-media for an explanation.`)}Et[e.src]=!0}})(e.current,i?"console-warning":"console-error"));const N=h?.15:.01,M=Math.abs(e.current.currentTime-u)>N,I=j||C(),R=m.buffering.current&&!I;if(!h||R)return void(M&&(b.current=bt({mediaRef:e.current,time:u,logLevel:w,why:`not playing or something else is buffering. time offset is over seek threshold (${N})`,mountTime:x})));if(!h||m.buffering.current)return;const L=e.current.paused&&!e.current.ended;if(L||0===p){const t=L?"media tag is paused":"absolute frame is 0";M&&(b.current=bt({mediaRef:e.current,time:u,logLevel:w,why:`is over timeshift threshold (threshold = ${N}) and ${t}`,mountTime:x})),it({mediaRef:e,mediaType:n,onAutoPlayError:c,logLevel:w,mountTime:x,reason:`player is playing and ${t}`}),!v&&T>0&&_(u)}}),[p,P,_,m.buffering,E,w,O,C,j,e,n,i,T,h,t,c,l,s,x])},jt=(e,t)=>Math.abs(e-t)<1e-5,_t=({volumePropFrame:e,volume:t,mediaVolume:n,mediaRef:o})=>{const i=(0,r.useCallback)((()=>{if(!o.current)return;const r=at({frame:e,volume:t,mediaVolume:n});jt(r,o.current.volume)||(o.current.volume=Math.min(r,1))}),[o,n,t,e]);(0,r.useEffect)((()=>{i()}),[i]),(0,r.useEffect)((()=>{const e=o.current;if(!e)return;const t=()=>{i()};return e.addEventListener("volumechange",t),()=>{e.removeEventListener("volumechange",t)}}),[i,o])},Ct=(0,r.createContext)({mediaMuted:!1,mediaVolume:1}),Tt=(0,r.createContext)({setMediaMuted:()=>{throw new Error("default")},setMediaVolume:()=>{throw new Error("default")}}),Pt=()=>{const{mediaVolume:e}=(0,r.useContext)(Ct),{setMediaVolume:t}=(0,r.useContext)(Tt);return(0,r.useMemo)((()=>[e,t]),[e,t])},At=()=>{const{mediaMuted:e}=(0,r.useContext)(Ct),{setMediaMuted:t}=(0,r.useContext)(Tt);return(0,r.useMemo)((()=>[e,t]),[e,t])},Nt="data:audio/mp3;base64,/+MYxAAJcAV8AAgAABn//////+/gQ5BAMA+D4Pg+BAQBAEAwD4Pg+D4EBAEAQDAPg++hYBH///hUFQVBUFREDQNHmf///////+MYxBUGkAGIMAAAAP/29Xt6lUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+MYxDUAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",Mt=(0,r.createContext)(null),It=({children:e,numberOfAudioTags:t,component:n})=>{const i=(0,r.useRef)([]),[a]=(0,r.useState)(t);if(t!==a)throw new Error("The number of shared audio tags has changed dynamically. Once you have set this property, you cannot change it afterwards.");const s=(0,r.useMemo)((()=>new Array(t).fill(!0).map((()=>({id:Math.random(),ref:(0,r.createRef)()})))),[t]),l=(0,r.useRef)(new Array(t).fill(!1)),c=(0,r.useCallback)((()=>{s.forEach((({ref:e,id:t})=>{const n=i.current?.find((e=>e.id===t)),{current:r}=e;if(r)if(void 0!==n){if(!n)throw new TypeError("Expected audio data to be there");Object.keys(n.props).forEach((e=>{((e,t,n)=>"src"!==e||n.startsWith("data:")||t.startsWith("data:")?n!==t:new URL(n,window.origin).toString()!==new URL(t,window.origin).toString())(e,n.props[e],r[e])&&(r[e]=n.props[e])}))}else r.src=Nt}))}),[s]),u=(0,r.useCallback)(((e,n)=>{const r=i.current?.find((e=>e.audioId===n));if(r)return r;const o=l.current.findIndex((e=>!1===e));if(-1===o)throw new Error(`Tried to simultaneously mount ${t+1} <Audio /> tags at the same time. With the current settings, the maximum amount of <Audio /> tags is limited to ${t} at the same time. Remotion pre-mounts silent audio tags to help avoid browser autoplay restrictions. See https://remotion.dev/docs/player/autoplay#using-the-numberofsharedaudiotags-prop for more information on how to increase this limit.`);const{id:a,ref:u}=s[o],d=[...l.current];d[o]=a,l.current=d;const f={props:e,id:a,el:u,audioId:n};return i.current?.push(f),c(),f}),[t,s,c]),d=(0,r.useCallback)((e=>{const t=[...l.current],n=s.findIndex((t=>t.id===e));if(-1===n)throw new TypeError("Error occured in ");t[n]=!1,l.current=t,i.current=i.current?.filter((t=>t.id!==e)),c()}),[s,c]),f=(0,r.useCallback)((({aud:e,audioId:t,id:n})=>{let r=!1;i.current=i.current?.map((o=>{if(o.id===n){return((e,t)=>{const n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++){if(n[o]!==r[o])return!1;if(e[n[o]]!==t[r[o]])return!1}return!0})(e,o.props)?o:(r=!0,{...o,props:e,audioId:t})}return o})),r&&c()}),[c]),p=Xe(),h=Ye(),m=(0,r.useCallback)((()=>{s.forEach((e=>{it({mediaRef:e.ref,mediaType:"audio",onAutoPlayError:null,logLevel:p,mountTime:h,reason:"playing all audios"})}))}),[p,h,s]),v=(0,r.useMemo)((()=>({registerAudio:u,unregisterAudio:d,updateAudio:f,playAllAudios:m,numberOfAudioTags:t})),[t,m,u,d,f]),g=(0,r.useCallback)((()=>{l.current=new Array(t).fill(!1),i.current=[],c()}),[t,c]);return(0,r.useEffect)((()=>()=>{g()}),[n,g]),(0,o.jsxs)(Mt.Provider,{value:v,children:[s.map((({id:e,ref:t})=>(0,o.jsx)("audio",{ref:t,preload:"metadata",src:Nt},e))),e]})},Rt=(0,r.forwardRef)(((e,t)=>{const[n]=(0,r.useState)(e.shouldPreMountAudioTags);if(e.shouldPreMountAudioTags!==n)throw new Error("Cannot change the behavior for pre-mounting audio tags dynamically.");const i=Xe(),{volume:a,muted:s,playbackRate:l,shouldPreMountAudioTags:c,src:u,onDuration:d,acceptableTimeShiftInSeconds:f,_remotionInternalNeedsDurationCalculation:p,_remotionInternalNativeLoopPassed:h,_remotionInternalStack:m,allowAmplificationDuringRender:v,name:g,pauseWhenBuffering:y,showInTimeline:b,loopVolumeCurveBehavior:w,stack:S,...E}=e,[O]=Pt(),[j]=At(),_=rt(w??"repeat"),{hidden:C}=(0,r.useContext)(k);if(!u)throw new TypeError("No 'src' was passed to <Audio>.");const T=Ue(u),P=(0,r.useContext)(x),[A]=(0,r.useState)((()=>String(Math.random()))),N=C[A]??!1,M=at({frame:_,volume:a,mediaVolume:O}),I=(0,r.useMemo)((()=>({muted:s||j||N||M<=0,src:T,loop:h,...E})),[h,N,j,s,E,T,M]),R=((e,t)=>{const n=(0,r.useContext)(Mt),[o]=(0,r.useState)((()=>n&&n.numberOfAudioTags>0?n.registerAudio(e,t):{el:r.createRef(),id:Math.random(),props:e,audioId:t})),i=r.useInsertionEffect??r.useLayoutEffect;return"undefined"!=typeof document&&(i((()=>{n&&n.numberOfAudioTags>0&&n.updateAudio({id:o.id,aud:e,audioId:t})}),[e,n,o.id,t]),i((()=>()=>{n&&n.numberOfAudioTags>0&&n.unregisterAudio(o.id)}),[n,o.id])),o})(I,(0,r.useMemo)((()=>`audio-${Je(u??"")}-${P?.relativeFrom}-${P?.cumulatedFrom}-${P?.durationInFrames}-muted:${e.muted}-loop:${e.loop}`),[u,P?.relativeFrom,P?.cumulatedFrom,P?.durationInFrames,e.muted,e.loop])).el;_t({volumePropFrame:_,volume:a,mediaVolume:O,mediaRef:R}),lt({volume:a,mediaVolume:O,mediaRef:R,src:u,mediaType:"audio",playbackRate:l??1,displayName:g??null,id:A,stack:m,showInTimeline:b,premountDisplay:null,onAutoPlayError:null,isPremounting:Boolean(P?.premounting)}),tt({logLevel:i,mediaRef:R,volume:M}),Ot({mediaRef:R,src:u,mediaType:"audio",playbackRate:l??1,onlyWarnForMediaSeekingError:!1,acceptableTimeshift:f??null,isPremounting:Boolean(P?.premounting),pauseWhenBuffering:y,onAutoPlayError:null,userPreferredVolume:M}),(0,r.useImperativeHandle)(t,(()=>R.current),[R]);const L=(0,r.useRef)(d);return L.current=d,(0,r.useEffect)((()=>{const{current:e}=R;if(!e)return;if(e.duration)return void L.current?.(e.src,e.duration);const t=()=>{L.current?.(e.src,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[R,u]),n?null:(0,o.jsx)("audio",{ref:R,preload:"metadata",...I})})),Lt=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)(null),{volume:i,playbackRate:a,allowAmplificationDuringRender:s,onDuration:l,toneFrequency:c,_remotionInternalNeedsDurationCalculation:u,_remotionInternalNativeLoopPassed:d,acceptableTimeShiftInSeconds:f,name:p,onError:h,delayRenderRetries:m,delayRenderTimeoutInMilliseconds:v,loopVolumeCurveBehavior:g,pauseWhenBuffering:y,...b}=e,w=ie(),S=rt(g??"repeat"),k=fe(),E=(0,r.useContext)(x),{registerRenderAsset:O,unregisterRenderAsset:j}=(0,r.useContext)(Ae),_=(0,r.useMemo)((()=>`audio-${Je(e.src??"")}-${E?.relativeFrom}-${E?.cumulatedFrom}-${E?.durationInFrames}`),[e.src,E?.relativeFrom,E?.cumulatedFrom,E?.durationInFrames]),C=at({volume:i,frame:S,mediaVolume:1});(0,r.useImperativeHandle)(t,(()=>n.current),[]),(0,r.useEffect)((()=>{if(!e.src)throw new Error("No src passed");if(window.remotion_audioEnabled&&!(e.muted||C<=0))return O({type:"audio",src:Me(e.src),id:_,frame:w,volume:C,mediaFrame:k,playbackRate:e.playbackRate??1,toneFrequency:c??null,audioStartFrame:Math.max(0,-(E?.relativeFrom??0))}),()=>j(_)}),[e.muted,e.src,O,w,_,j,C,S,k,a,e.playbackRate,c,E?.relativeFrom]);const{src:T}=e,P=t||u;return(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;if(!P)return;const e=Oe("Loading <Audio> duration with src="+T,{retries:m??void 0,timeoutInMilliseconds:v??void 0}),{current:t}=n,r=()=>{t?.duration&&l(t.src,t.duration),je(e)};return t?.duration?(l(t.src,t.duration),je(e)):t?.addEventListener("loadedmetadata",r,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",r),je(e)}}),[T,l,P,m,v]),P?(0,o.jsx)("audio",{ref:n,...b}):null})),Dt=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useContext)(Mt),{startFrom:i,endAt:a,name:s,stack:l,pauseWhenBuffering:c,showInTimeline:d,...f}=e,{loop:p,...h}=e,{fps:m}=de(),v=u(),{durations:g,setDurations:y}=(0,r.useContext)(qe);if("string"!=typeof e.src)throw new TypeError(`The \`<Audio>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const b=Ue(e.src),w=(0,r.useCallback)((e=>{console.log(e.currentTarget.error);const t=`Could not play audio with src ${b}: ${e.currentTarget.error}. See https://remotion.dev/docs/media-playback-error for help.`;p?ge(new Error(t)):console.warn(t)}),[p,b]),x=(0,r.useCallback)(((e,t)=>{y({type:"got-duration",durationInSeconds:t,src:e})}),[y]),S=g[Me(b)]??g[Me(e.src)];if(p&&void 0!==S){if(!Number.isFinite(S))return(0,o.jsx)(Dt,{...h,ref:t,_remotionInternalNativeLoopPassed:!0});const n=S*m;return(0,o.jsx)(Le,{layout:"none",durationInFrames:Ie({endAt:a,mediaDuration:n,playbackRate:e.playbackRate??1,startFrom:i}),children:(0,o.jsx)(Dt,{...h,ref:t,_remotionInternalNativeLoopPassed:!0})})}if(void 0!==i||void 0!==a){He(i,a);const e=i??0,n=a??1/0;return(0,o.jsx)(ve,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:n,name:s,children:(0,o.jsx)(Dt,{_remotionInternalNeedsDurationCalculation:Boolean(p),pauseWhenBuffering:c??!1,...f,ref:t})})}return Ve(e,"Audio"),v.isRendering?(0,o.jsx)(Lt,{onDuration:x,...e,ref:t,onError:w,_remotionInternalNeedsDurationCalculation:Boolean(p)}):(0,o.jsx)(Rt,{_remotionInternalNativeLoopPassed:e._remotionInternalNativeLoopPassed??!1,_remotionInternalStack:l??null,shouldPreMountAudioTags:null!==n&&n.numberOfAudioTags>0,...e,ref:t,onError:w,onDuration:x,pauseWhenBuffering:c??!1,_remotionInternalNeedsDurationCalculation:Boolean(p),showInTimeline:d??!0})}));h(Dt);var Ft=(0,r.createContext)({folderName:null,parentName:null}),zt={transform:"rotate(90deg)"},Bt={color:"white",fontSize:14,fontFamily:"sans-serif"},$t={justifyContent:"center",alignItems:"center"},Ut=()=>(0,o.jsxs)(w,{style:$t,id:"remotion-comp-loading",children:[(0,o.jsx)("style",{type:"text/css",children:"\n\t\t\t\t@keyframes anim {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t#remotion-comp-loading {\n\t\t\t\t\tanimation: anim 2s;\n\t\t\t\t\tanimation-fill-mode: forwards;\n\t\t\t\t}\n\t\t\t"}),(0,o.jsx)("svg",{width:40,height:40,viewBox:"-100 -100 400 400",style:zt,children:(0,o.jsx)("path",{fill:"#555",stroke:"#555",strokeWidth:"100",strokeLinejoin:"round",d:"M 2 172 a 196 100 0 0 0 195 5 A 196 240 0 0 0 100 2.259 A 196 240 0 0 0 2 172 z"})}),(0,o.jsxs)("p",{style:Bt,children:["Resolving ","<Suspense>","..."]})]}),Vt=null,Ht=()=>{if(!Vt){if("undefined"==typeof document)throw new Error("Tried to call an API that only works in the browser from outside the browser");(Vt=document.createElement("div")).style.position="absolute",Vt.style.top="0px",Vt.style.left="0px",Vt.style.right="0px",Vt.style.bottom="0px",Vt.style.width="100%",Vt.style.height="100%",Vt.style.display="flex",Vt.style.flexDirection="column";const e=document.createElement("div");e.style.position="fixed",e.style.top="-999999px",e.appendChild(Vt),document.body.appendChild(e)}return Vt},Wt=({compProps:e,componentName:t,noSuspense:n})=>(0,r.useMemo)((()=>{if("component"in e){if("undefined"==typeof document||n)return e.component;if(void 0===e.component)throw new Error(`A value of \`undefined\` was passed to the \`component\` prop. Check the value you are passing to the <${t}/> component.`);return r.lazy((()=>Promise.resolve({default:e.component})))}if("lazyComponent"in e&&void 0!==e.lazyComponent){if(void 0===e.lazyComponent)throw new Error(`A value of \`undefined\` was passed to the \`lazyComponent\` prop. Check the value you are passing to the <${t}/> component.`);return r.lazy(e.lazyComponent)}throw new Error("You must pass either 'component' or 'lazyComponent'")}),[e.component,e.lazyComponent]),qt=e=>e.match(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g),Gt=`Composition ID must match ${String(/^([a-zA-Z0-9-\u4E00-\u9FFF])+$/g)}`,Kt=()=>((0,r.useEffect)((()=>{const e=Oe("Waiting for Root component to unsuspend");return()=>je(e)}),[]),null),Xt=({width:e,height:t,fps:n,durationInFrames:a,id:s,defaultProps:l,schema:c,...d})=>{const f=(0,r.useContext)(T),{registerComposition:p,unregisterComposition:h}=f,m=Q(),g=Wt({compProps:d,componentName:"Composition",noSuspense:!1}),y=j(),b=v(),w=u();if((0,r.useContext)(le)){if(b)throw new Error("<Composition> was mounted inside the `component` that was passed to the <Player>. See https://remotion.dev/docs/wrong-composition-mount for help.");throw new Error("<Composition> mounted inside another composition. See https://remotion.dev/docs/wrong-composition-mount for help.")}const{folderName:x,parentName:S}=(0,r.useContext)(Ft);(0,r.useEffect)((()=>{if(!s)throw new Error("No id for composition passed.");return(e=>{if(!qt(e))throw new Error(`Composition id can only contain a-z, A-Z, 0-9, CJK characters and -. You passed ${e}`)})(s),((e,t,n)=>{if(e){if("object"!=typeof e)throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}})(l,"defaultProps",s),p({durationInFrames:a??void 0,fps:n??void 0,height:t??void 0,width:e??void 0,id:s,folderName:x,component:g,defaultProps:F(l??{}),nonce:y,parentFolderName:S,schema:c??null,calculateMetadata:d.calculateMetadata??null}),()=>{h(s)}}),[a,n,t,g,s,x,l,e,y,S,c,d.calculateMetadata,p,h]);const k=J(s);if(w.isStudio&&m&&m.component===g){const e=g;return null===k||"success"!==k.type?null:(0,i.createPortal)((0,o.jsx)(ce,{children:(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)(Ut,{}),children:(0,o.jsx)(e,{...k.result.props??{}})})}),Ht())}if(w.isRendering&&m&&m.component===g){const e=g;return null===k||"success"!==k.type?null:(0,i.createPortal)((0,o.jsx)(ce,{children:(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)(Kt,{}),children:(0,o.jsx)(e,{...k.result.props??{}})})}),Ht())}return null},Yt=e=>{const{onlyRenderComposition:t}=(0,r.useContext)(T);return t&&t!==e.id?null:(0,o.jsx)(Xt,{...e})};(0,r.forwardRef)((({onLoad:e,onError:t,delayRenderRetries:n,delayRenderTimeoutInMilliseconds:i,...a},s)=>{const[l]=(0,r.useState)((()=>Oe(`Loading <IFrame> with source ${a.src}`,{retries:n??void 0,timeoutInMilliseconds:i??void 0}))),c=(0,r.useCallback)((t=>{je(l),e?.(t)}),[l,e]),u=(0,r.useCallback)((e=>{je(l),t?t(e):console.error("Error loading iframe:",e,"Handle the event using the onError() prop to make this message disappear.")}),[l,t]);return(0,o.jsx)("iframe",{...a,ref:s,onError:u,onLoad:c})}));var Zt=(0,r.forwardRef)((({onError:e,maxRetries:t=2,src:n,pauseWhenLoading:i,delayRenderRetries:a,delayRenderTimeoutInMilliseconds:s,onImageFrame:l,...c},u)=>{const d=(0,r.useRef)(null),f=(0,r.useRef)({}),{delayPlayback:p}=dt(),h=(0,r.useContext)(x);if(!n)throw new Error('No "src" prop was passed to <Img>.');(0,r.useImperativeHandle)(u,(()=>d.current),[]);const m=Ue(n),v=(0,r.useCallback)((e=>{if(!d.current)return;const t=d.current.src;setTimeout((()=>{if(!d.current)return;const e=d.current?.src;e===t&&(d.current.removeAttribute("src"),d.current.setAttribute("src",e))}),e)}),[]),g=(0,r.useCallback)((n=>{if(f.current)if(f.current[d.current?.src]=(f.current[d.current?.src]??0)+1,e&&(f.current[d.current?.src]??0)>t)e(n);else{if((f.current[d.current?.src]??0)<=t){const e=1e3*2**((f.current[d.current?.src]??0)-1);return console.warn(`Could not load image with source ${d.current?.src}, retrying again in ${e}ms`),void v(e)}ge("Error loading image with src: "+d.current?.src)}}),[t,e,v]);if("undefined"!=typeof window){const e=Boolean(h?.premounting);(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return void(d.current&&(d.current.src=m));const{current:t}=d;if(!t)return;const n=Oe("Loading <Img> with src="+m,{retries:a??void 0,timeoutInMilliseconds:s??void 0}),r=i&&!e?p().unblock:()=>{};let o=!1;const c=()=>{o||((f.current[d.current?.src]??0)>0&&(delete f.current[d.current?.src],console.info(`Retry successful - ${d.current?.src} is now loaded`)),t&&l?.(t),r()),je(n)};if(d.current)return t.src=m,t.complete?c():t.decode().then(c).catch((e=>{console.warn(e),t.complete?c():t.addEventListener("load",c)})),()=>{o=!0,t.removeEventListener("load",c),r(),je(n)};c()}),[m,p,a,s,i,e,l])}return(0,o.jsx)("img",{...c,ref:d,onError:g})})),Jt=r.createRef(),Qt=({children:e,numberOfAudioTags:t,onlyRenderComposition:n,currentCompositionMetadata:i})=>{const[a,s]=(0,r.useState)([]),l=(0,r.useRef)(a),[c,u]=(0,r.useState)([]),[d,f]=(0,r.useState)(null),p=(0,r.useCallback)((e=>{s((t=>{const n=e(t);return l.current=n,n}))}),[]),h=(0,r.useCallback)((e=>{p((t=>{if(t.find((t=>t.id===e.id)))throw new Error(`Multiple composition with id ${e.id} are registered.`);return[...t,e].slice().sort(((e,t)=>e.nonce-t.nonce))}))}),[p]),m=(0,r.useCallback)((e=>{s((t=>t.filter((t=>t.id!==e))))}),[]),v=(0,r.useCallback)(((e,t)=>{u((n=>[...n,{name:e,parent:t}]))}),[]),g=(0,r.useCallback)(((e,t)=>{u((n=>n.filter((n=>!(n.name===e&&n.parent===t)))))}),[]);(0,r.useImperativeHandle)(Jt,(()=>({getCompositions:()=>l.current})),[]);const y=a.find((e=>"composition"===d?.type?e.id===d.compositionId:null)),b=(0,r.useCallback)(((e,t)=>{s((n=>n.map((n=>n.id===e?{...n,defaultProps:t}:n))))}),[]),w=(0,r.useMemo)((()=>({compositions:a,folders:c,currentCompositionMetadata:i,canvasContent:d})),[a,c,i,d]),x=(0,r.useMemo)((()=>({registerComposition:h,unregisterComposition:m,registerFolder:v,unregisterFolder:g,setCanvasContent:f,updateCompositionDefaultProps:b,onlyRenderComposition:n})),[h,v,m,g,b,n]);return(0,o.jsx)(C.Provider,{value:w,children:(0,o.jsx)(T.Provider,{value:x,children:(0,o.jsx)(E,{children:(0,o.jsx)(Ne,{children:(0,o.jsx)(Z,{children:(0,o.jsx)(It,{numberOfAudioTags:t,component:y?.component??null,children:e})})})})})})},en={};s(en,{makeDefaultPreviewCSS:()=>on,injectCSS:()=>nn,OFFTHREAD_VIDEO_CLASS_NAME:()=>rn});var tn={},nn=e=>{if("undefined"==typeof document)return;if(tn[e])return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.prepend(n),tn[e]=!0},rn="__remotion_offthreadvideo",on=(e,t)=>e?`\n    ${e} * {\n      box-sizing: border-box;\n    }\n    ${e} *:-webkit-full-screen {\n      width: 100%;\n      height: 100%;\n    }\n    ${e} .${rn} {\n      object-fit: contain;\n    }\n  `:`\n    * {\n      box-sizing: border-box;\n    }\n    body {\n      margin: 0;\n\t    background-color: ${t};\n    }\n    .${rn} {\n      object-fit: contain;\n    }\n    `,an="__remotion-studio-container",sn=null,ln=[],cn=r.createContext(null),un=(0,r.createContext)({setSize:()=>{},size:{size:"auto",translation:{x:0,y:0}}}),dn=({canvasSize:e,compositionHeight:t,compositionWidth:n,previewSize:r})=>{const o=e.height/t,i=e.width/n,a=Math.min(o,i);return"auto"===r?a:Number(r)},fn="remotion_staticFilesChanged";var pn={useUnsafeVideoConfig:ue,Timeline:_,CompositionManager:C,CompositionSetters:T,SequenceManager:S,SequenceVisibilityToggleContext:k,RemotionRoot:({children:t,numberOfAudioTags:n,logLevel:i,onlyRenderComposition:a,currentCompositionMetadata:s})=>{const[l]=(0,r.useState)((()=>String(Je(null)))),[c,u]=(0,r.useState)((()=>re())),[d,f]=(0,r.useState)(!1),p=(0,r.useRef)(!1),[h,m]=(0,r.useState)(0),[v,g]=(0,r.useState)(1),y=(0,r.useRef)([]);"undefined"!=typeof window&&(0,r.useLayoutEffect)((()=>{window.remotion_setFrame=(e,t,n)=>{window.remotion_attempt=n;const r=Oe(`Setting the current frame to ${e}`);let o=!0;u((n=>(n[t]??window.remotion_initialFrame)===e?(o=!1,n):{...n,[t]:e})),o?requestAnimationFrame((()=>je(r))):je(r)},window.remotion_isPlayer=!1}),[]);const b=(0,r.useMemo)((()=>({frame:c,playing:d,imperativePlaying:p,rootId:l,playbackRate:v,setPlaybackRate:g,audioAndVideoTags:y})),[c,v,d,l]),w=(0,r.useMemo)((()=>({setFrame:u,setPlaying:f})),[]),x=(0,r.useMemo)((()=>{let e=0;return{getNonce:()=>e++,fastRefreshes:h}}),[h]);(0,r.useEffect)((()=>{e.hot&&e.hot.addStatusHandler((e=>{"idle"===e&&m((e=>e+1))}))}),[]);const S=(0,r.useMemo)((()=>({logLevel:i,mountTime:Date.now()})),[i]);return(0,o.jsx)(Ke.Provider,{value:S,children:(0,o.jsx)(O.Provider,{value:x,children:(0,o.jsx)(ee.Provider,{value:b,children:(0,o.jsx)(te.Provider,{value:w,children:(0,o.jsx)(M,{children:(0,o.jsx)($e,{children:(0,o.jsx)(Qt,{numberOfAudioTags:n,onlyRenderComposition:a,currentCompositionMetadata:s,children:(0,o.jsx)(Ge,{children:(0,o.jsx)(ut,{children:t})})})})})})})})})},useVideo:Q,getRoot:()=>sn,useMediaVolumeState:Pt,useMediaMutedState:At,useLazyComponent:Wt,truthy:g,SequenceContext:x,useRemotionContexts:function(){const e=r.useContext(C),t=r.useContext(ee),n=r.useContext(te),o=r.useContext(x),i=r.useContext(O),a=r.useContext(le),s=r.useContext(Fe),l=r.useContext(G),c=r.useContext(Ae),u=r.useContext(S),d=r.useContext(ct),f=r.useContext(Ke);return(0,r.useMemo)((()=>({compositionManagerCtx:e,timelineContext:t,setTimelineContext:n,sequenceContext:o,nonceContext:i,canUseRemotionHooksContext:a,preloadContext:s,resolveCompositionContext:l,renderAssetManagerContext:c,sequenceManagerContext:u,bufferManagerContext:d,logLevelContext:f})),[e,i,o,n,t,a,s,l,c,u,d,f])},RemotionContextProvider:e=>{const{children:t,contexts:n}=e;return(0,o.jsx)(Ke.Provider,{value:n.logLevelContext,children:(0,o.jsx)(le.Provider,{value:n.canUseRemotionHooksContext,children:(0,o.jsx)(O.Provider,{value:n.nonceContext,children:(0,o.jsx)(Fe.Provider,{value:n.preloadContext,children:(0,o.jsx)(C.Provider,{value:n.compositionManagerCtx,children:(0,o.jsx)(S.Provider,{value:n.sequenceManagerContext,children:(0,o.jsx)(Ae.Provider,{value:n.renderAssetManagerContext,children:(0,o.jsx)(G.Provider,{value:n.resolveCompositionContext,children:(0,o.jsx)(ee.Provider,{value:n.timelineContext,children:(0,o.jsx)(te.Provider,{value:n.setTimelineContext,children:(0,o.jsx)(x.Provider,{value:n.sequenceContext,children:(0,o.jsx)(ct.Provider,{value:n.bufferManagerContext,children:t})})})})})})})})})})})})},CSSUtils:en,setupEnvVariables:()=>{const e=(()=>{if(u().isRendering){const e=window.remotion_envVariables;return e?{...JSON.parse(e),NODE_ENV:"production"}:{}}return{NODE_ENV:"production"}})();window.process||(window.process={}),window.process.env||(window.process.env={}),Object.keys(e).forEach((t=>{window.process.env[t]=e[t]}))},MediaVolumeContext:Ct,SetMediaVolumeContext:Tt,getRemotionEnvironment:u,SharedAudioContext:Mt,SharedAudioContextProvider:It,invalidCompositionErrorMessage:Gt,isCompositionIdValid:qt,getPreviewDomElement:()=>document.getElementById(an),compositionsRef:Jt,portalNode:Ht,waitForRoot:e=>sn?(e(sn),()=>{}):(ln.push(e),()=>{ln=ln.filter((t=>t!==e))}),CanUseRemotionHooksProvider:ce,CanUseRemotionHooks:le,PrefetchProvider:$e,DurationsContextProvider:Ge,IsPlayerContextProvider:({children:e})=>(0,o.jsx)(m.Provider,{value:!0,children:e}),useIsPlayer:v,EditorPropsProvider:M,EditorPropsContext:P,usePreload:Ue,NonceContext:O,resolveVideoConfig:q,useResolvedVideoConfig:J,resolveCompositionsRef:K,ResolveCompositionConfig:Z,REMOTION_STUDIO_CONTAINER_ELEMENT:an,RenderAssetManager:Ae,persistCurrentFrame:ne,useTimelineSetFrame:ae,isIosSafari:ht,WATCH_REMOTION_STATIC_FILES:fn,addSequenceStackTraces:h,useMediaStartsAt:nt,BufferingProvider:ut,BufferingContextReact:ct,enableSequenceStackTraces:p,CurrentScaleContext:cn,PreviewSizeContext:un,calculateScale:dn,editorPropsProviderRef:A,PROPS_UPDATED_EXTERNALLY:Y,validateRenderAsset:Pe,Log:xe,LogLevelContext:Ke,useLogLevel:Xe,playbackLogging:De,timeValueRef:N};var hn=(0,r.createContext)(!1),mn=({children:e})=>(0,o.jsx)(hn.Provider,{value:!1,children:e}),vn=(0,r.forwardRef)((({children:e},t)=>((()=>{if(!r.useContext(hn))throw new Error("This component must be inside a <Series /> component.")})(),(0,o.jsx)(mn,{children:e}))));h(vn);new Map;var gn=({onError:e,volume:t,playbackRate:n,src:i,muted:a,allowAmplificationDuringRender:s,transparent:l=!1,toneMapped:c=!0,toneFrequency:u,name:d,loopVolumeCurveBehavior:f,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:h,onVideoFrame:m,crossOrigin:v,...y})=>{const b=ie(),w=fe(),S=rt(f??"repeat"),k=ue(),E=(0,r.useContext)(x),O=nt(),{registerRenderAsset:j,unregisterRenderAsset:_}=(0,r.useContext)(Ae);if(!i)throw new TypeError("No `src` was passed to <OffthreadVideo>.");const C=(0,r.useMemo)((()=>`offthreadvideo-${Je(i??"")}-${E?.cumulatedFrom}-${E?.relativeFrom}-${E?.durationInFrames}`),[i,E?.cumulatedFrom,E?.relativeFrom,E?.durationInFrames]);if(!k)throw new Error("No video config found");const T=at({volume:t,frame:S,mediaVolume:1});(0,r.useEffect)((()=>{if(!i)throw new Error("No src passed");if(window.remotion_audioEnabled&&!(a||T<=0))return j({type:"video",src:Me(i),id:C,frame:b,volume:T,mediaFrame:w,playbackRate:n??1,toneFrequency:u??null,audioStartFrame:Math.max(0,-(E?.relativeFrom??0))}),()=>_(C)}),[a,i,j,C,_,T,w,b,n,u,E?.relativeFrom]);const P=(0,r.useMemo)((()=>St({frame:w,playbackRate:n||1,startFrom:-O})/k.fps),[w,O,n,k.fps]),A=(0,r.useMemo)((()=>(({src:e,transparent:t,currentTime:n,toneMapped:r})=>`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(Me(e))}&time=${encodeURIComponent(n)}&transparent=${String(t)}&toneMapped=${String(r)}`)({src:i,currentTime:P,transparent:l,toneMapped:c})),[c,P,i,l]),[N,M]=(0,r.useState)(null);(0,r.useLayoutEffect)((()=>{if(!window.remotion_videoEnabled)return;const t=[];M(null);const n=new AbortController,r=Oe(`Fetching ${A} from server`,{retries:p??void 0,timeoutInMilliseconds:h??void 0});return(async()=>{try{const e=await fetch(A,{signal:n.signal,cache:"no-store"});if(200!==e.status){if(500===e.status){const t=await e.json();if(t.error){const e=t.error.replace(/^Error: /,"");throw new Error(e)}}throw new Error(`Server returned status ${e.status} while fetching ${A}`)}const o=await e.blob(),i=URL.createObjectURL(o);t.push((()=>URL.revokeObjectURL(i))),M({src:i,handle:r})}catch(t){if(t.message.includes("aborted"))return void je(r);if(n.signal.aborted)return void je(r);t.message.includes("Failed to fetch")&&(t=new Error(`Failed to fetch ${A}. This could be caused by Chrome rejecting the request because the disk space is low. Consider increasing the disk size of your environment.`,{cause:t})),e?e(t):ge(t)}})(),t.push((()=>{n.signal.aborted||n.abort()})),()=>{t.forEach((e=>e()))}}),[A,p,h,e]);const I=(0,r.useCallback)((()=>{e?e?.(new Error("Failed to load image with src "+N)):ge("Failed to load image with src "+N)}),[N,e]),R=(0,r.useMemo)((()=>[rn,y.className].filter(g).join(" ")),[y.className]),L=(0,r.useCallback)((e=>{m&&m(e)}),[m]);return N&&window.remotion_videoEnabled?(je(N.handle),(0,o.jsx)(Zt,{src:N.src,className:R,delayRenderRetries:p,delayRenderTimeoutInMilliseconds:h,onImageFrame:L,...y,onError:I})):null},yn=(0,r.forwardRef)(((e,t)=>{const n=(0,r.useRef)(null),{volume:i,muted:a,playbackRate:s,onlyWarnForMediaSeekingError:l,src:c,onDuration:u,acceptableTimeShift:d,acceptableTimeShiftInSeconds:f,toneFrequency:p,name:h,_remotionInternalNativeLoopPassed:m,_remotionInternalStack:v,style:g,pauseWhenBuffering:y,showInTimeline:b,loopVolumeCurveBehavior:w,onError:S,onAutoPlayError:E,onVideoFrame:O,crossOrigin:j,..._}=e,C=rt(w??"repeat"),{fps:T,durationInFrames:P}=de(),A=(0,r.useContext)(x),{hidden:N}=(0,r.useContext)(k),M=Xe(),I=Ye(),[R]=(0,r.useState)((()=>String(Math.random()))),L=N[R]??!1;if(void 0!==d)throw new Error("acceptableTimeShift has been removed. Use acceptableTimeShiftInSeconds instead.");const[D]=Pt(),[F]=At(),z=at({frame:C,volume:i,mediaVolume:D});lt({mediaRef:n,volume:i,mediaVolume:D,mediaType:"video",src:c,playbackRate:e.playbackRate??1,displayName:h??null,id:R,stack:v,showInTimeline:b,premountDisplay:null,onAutoPlayError:E??null,isPremounting:Boolean(A?.premounting)}),_t({volumePropFrame:C,volume:i,mediaVolume:D,mediaRef:n}),tt({logLevel:M,mediaRef:n,volume:z}),Ot({mediaRef:n,src:c,mediaType:"video",playbackRate:e.playbackRate??1,onlyWarnForMediaSeekingError:l,acceptableTimeshift:f??null,isPremounting:Boolean(A?.premounting),pauseWhenBuffering:y,onAutoPlayError:E??null,userPreferredVolume:z});const B=A?A.relativeFrom:0,$=A?Math.min(A.durationInFrames,P):P,U=yt({actualSrc:Ue(c),actualFrom:B,duration:$,fps:T});(0,r.useImperativeHandle)(t,(()=>n.current),[]),(0,r.useState)((()=>De({logLevel:M,message:`Mounting video with source = ${U}`,tag:"video",mountTime:I}))),(0,r.useEffect)((()=>{const{current:e}=n;if(!e)return;const t=()=>{if(e.error){if(console.error("Error occurred in video",e?.error),S){const t=new Error(`Code ${e.error.code}: ${e.error.message}`);return void S(t)}throw new Error(`The browser threw an error while playing the video ${c}: Code ${e.error.code} - ${e?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}if(!S)throw new Error("The browser threw an error while playing the video");{const e=new Error(`The browser threw an error while playing the video ${c}`);S(e)}};return e.addEventListener("error",t,{once:!0}),()=>{e.removeEventListener("error",t)}}),[S,c]);const V=(0,r.useRef)(u);V.current=u,(({ref:e,onVideoFrame:t})=>{(0,r.useEffect)((()=>{const{current:n}=e;if(!n)return;if(!t)return;let r=0;const o=()=>{e.current&&(t(e.current),r=e.current.requestVideoFrameCallback(o))};return o(),()=>{n.cancelVideoFrameCallback(r)}}),[t,e])})({ref:n,onVideoFrame:O}),(0,r.useEffect)((()=>{const{current:e}=n;if(!e)return;if(e.duration)return void V.current?.(c,e.duration);const t=()=>{V.current?.(c,e.duration)};return e.addEventListener("loadedmetadata",t),()=>{e.removeEventListener("loadedmetadata",t)}}),[c]),(0,r.useEffect)((()=>{const{current:e}=n;e&&(ht()?e.preload="metadata":e.preload="auto")}),[]);const H=(0,r.useMemo)((()=>({...g,opacity:L?0:g?.opacity??1})),[L,g]),W=j??(O?"anonymous":void 0);return(0,o.jsx)("video",{ref:n,muted:a||F||L||z<=0,playsInline:!0,src:U,loop:m,style:H,disableRemotePlayback:!0,crossOrigin:W,..._})})),bn=e=>{const{startFrom:t,endAt:n,name:i,pauseWhenBuffering:a,stack:s,showInTimeline:l,...c}=e,d=u(),f=(0,r.useCallback)((()=>{}),[]);if("string"!=typeof e.src)throw new TypeError(`The \`<OffthreadVideo>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);if(e.imageFormat)throw new TypeError("The `<OffthreadVideo>` tag does no longer accept `imageFormat`. Use the `transparent` prop if you want to render a transparent video.");if(void 0!==t||void 0!==n){He(t,n);const e=t??0,r=n??1/0;return(0,o.jsx)(ve,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:r,name:i,children:(0,o.jsx)(bn,{pauseWhenBuffering:a??!1,...c})})}if(Ve(e,"Video"),d.isRendering)return(0,o.jsx)(gn,{...c});const{transparent:p,toneMapped:h,onAutoPlayError:m,onVideoFrame:v,crossOrigin:g,delayRenderRetries:y,delayRenderTimeoutInMilliseconds:b,...w}=c;return(0,o.jsx)(yn,{_remotionInternalStack:s??null,_remotionInternalNativeLoopPassed:!1,onDuration:f,onlyWarnForMediaSeekingError:!0,pauseWhenBuffering:a??!1,showInTimeline:l??!0,onAutoPlayError:m??void 0,onVideoFrame:v??null,crossOrigin:g,...w})},wn=e=>Math.round(1e5*e)/1e5,xn=({element:e,desiredTime:t,logLevel:n,mountTime:r})=>{if(jt(e.currentTime,t))return{wait:Promise.resolve(t),cancel:()=>{}};let o;bt({logLevel:n,mediaRef:e,time:t,why:"Seeking during rendering",mountTime:r});let i=null;const a=new Promise((t=>{o=e.requestVideoFrameCallback(((e,n)=>{const r=n.expectedDisplayTime-e;r<=0?t(n.mediaTime):setTimeout((()=>{t(n.mediaTime)}),r+150)}))})),s=new Promise((t=>{const n=()=>{t()};e.addEventListener("seeked",n,{once:!0}),i=()=>{e.removeEventListener("seeked",n)}}));return{wait:Promise.all([a,s]).then((([e])=>e)),cancel:()=>{i?.(),e.cancelVideoFrameCallback(o)}}},Sn=(0,r.forwardRef)((({onError:e,volume:t,allowAmplificationDuringRender:n,playbackRate:i,onDuration:a,toneFrequency:s,name:l,acceptableTimeShiftInSeconds:c,delayRenderRetries:d,delayRenderTimeoutInMilliseconds:f,loopVolumeCurveBehavior:p,...h},m)=>{const v=ie(),g=fe(),y=rt(p??"repeat"),b=ue(),w=(0,r.useRef)(null),S=(0,r.useContext)(x),k=nt(),E=u(),O=Xe(),j=Ye(),{registerRenderAsset:_,unregisterRenderAsset:C}=(0,r.useContext)(Ae),T=(0,r.useMemo)((()=>`video-${Je(h.src??"")}-${S?.cumulatedFrom}-${S?.relativeFrom}-${S?.durationInFrames}`),[h.src,S?.cumulatedFrom,S?.relativeFrom,S?.durationInFrames]);if(!b)throw new Error("No video config found");const P=at({volume:t,frame:y,mediaVolume:1});(0,r.useEffect)((()=>{if(!h.src)throw new Error("No src passed");if(!h.muted&&!(P<=0)&&window.remotion_audioEnabled)return _({type:"video",src:Me(h.src),id:T,frame:v,volume:P,mediaFrame:g,playbackRate:i??1,toneFrequency:s??null,audioStartFrame:Math.max(0,-(S?.relativeFrom??0))}),()=>C(T)}),[h.muted,h.src,_,T,C,P,g,v,i,s,S?.relativeFrom]),(0,r.useImperativeHandle)(m,(()=>w.current),[]),(0,r.useEffect)((()=>{if(!window.remotion_videoEnabled)return;const{current:t}=w;if(!t)return;const n=kt({frame:g,playbackRate:i||1,startFrom:-k,fps:b.fps}),r=Oe(`Rendering <Video /> with src="${h.src}" at time ${n}`,{retries:d??void 0,timeoutInMilliseconds:f??void 0});if("test"===window.process?.env?.NODE_ENV)return void je(r);if(jt(t.currentTime,n)){if(t.readyState>=2)return void je(r);const e=()=>{je(r)};return t.addEventListener("loadeddata",e,{once:!0}),()=>{t.removeEventListener("loadeddata",e)}}const o=()=>{je(r)},a=(({element:e,desiredTime:t,fps:n,logLevel:r,mountTime:o})=>{const i=1/n/2;let a=()=>{};return Number.isFinite(e.duration)&&e.currentTime>=e.duration&&t>=e.duration?{prom:Promise.resolve(),cancel:()=>{}}:{prom:new Promise(((n,s)=>{const l=xn({element:e,desiredTime:t+i,logLevel:r,mountTime:o});l.wait.then((l=>{if(Math.abs(t-l)<=i)return n();const c=xn({element:e,desiredTime:l+i*(t>l?1:-1),logLevel:r,mountTime:o});a=c.cancel,c.wait.then((l=>{const c=Math.abs(t-l);if(wn(c)<=wn(i))return n();const u=xn({element:e,desiredTime:t+i,logLevel:r,mountTime:o});return a=u.cancel,u.wait.then((()=>{n()})).catch((e=>{s(e)}))})).catch((e=>{s(e)}))})),a=l.cancel})),cancel:()=>{a()}}})({element:t,desiredTime:n,fps:b.fps,logLevel:O,mountTime:j});a.prom.then((()=>{je(r)})),t.addEventListener("ended",o,{once:!0});const s=()=>{if(t?.error){if(console.error("Error occurred in video",t?.error),e)return;throw new Error(`The browser threw an error while playing the video ${h.src}: Code ${t.error.code} - ${t?.error?.message}. See https://remotion.dev/docs/media-playback-error for help. Pass an onError() prop to handle the error.`)}throw new Error("The browser threw an error")};return t.addEventListener("error",s,{once:!0}),()=>{a.cancel(),t.removeEventListener("ended",o),t.removeEventListener("error",s),je(r)}}),[y,h.src,i,b.fps,g,k,e,d,f,O,j]);const{src:A}=h;return E.isRendering&&(0,r.useLayoutEffect)((()=>{if("test"===window.process?.env?.NODE_ENV)return;const e=Oe("Loading <Video> duration with src="+A,{retries:d??void 0,timeoutInMilliseconds:f??void 0}),{current:t}=w,n=()=>{t?.duration&&a(A,t.duration),je(e)};return t?.duration?(a(A,t.duration),je(e)):t?.addEventListener("loadedmetadata",n,{once:!0}),()=>{t?.removeEventListener("loadedmetadata",n),je(e)}}),[A,a,d,f]),(0,o.jsx)("video",{ref:w,disableRemotePlayback:!0,...h})})),kn=(0,r.forwardRef)(((e,t)=>{const{startFrom:n,endAt:i,name:a,pauseWhenBuffering:s,stack:l,_remotionInternalNativeLoopPassed:c,showInTimeline:d,onAutoPlayError:f,...p}=e,{loop:h,...m}=e,{fps:v}=de(),g=u(),{durations:y,setDurations:b}=(0,r.useContext)(qe);if("string"==typeof t)throw new Error("string refs are not supported");if("string"!=typeof e.src)throw new TypeError(`The \`<Video>\` tag requires a string for \`src\`, but got ${JSON.stringify(e.src)} instead.`);const w=Ue(e.src),x=(0,r.useCallback)(((e,t)=>{b({type:"got-duration",durationInSeconds:t,src:e})}),[b]),S=(0,r.useCallback)((()=>{}),[]),k=y[Me(w)]??y[Me(e.src)];if(h&&void 0!==k){if(!Number.isFinite(k))return(0,o.jsx)(kn,{...m,ref:t,_remotionInternalNativeLoopPassed:!0});const r=k*v;return(0,o.jsx)(Le,{durationInFrames:Ie({endAt:i,mediaDuration:r,playbackRate:e.playbackRate??1,startFrom:n}),layout:"none",name:a,children:(0,o.jsx)(kn,{...m,ref:t,_remotionInternalNativeLoopPassed:!0})})}if(void 0!==n||void 0!==i){He(n,i);const e=n??0,r=i??1/0;return(0,o.jsx)(ve,{layout:"none",from:0-e,showInTimeline:!1,durationInFrames:r,name:a,children:(0,o.jsx)(kn,{pauseWhenBuffering:s??!1,...p,ref:t})})}return Ve(e,"Video"),g.isRendering?(0,o.jsx)(Sn,{onDuration:x,onVideoFrame:S??null,...p,ref:t}):(0,o.jsx)(yn,{onlyWarnForMediaSeekingError:!1,...p,ref:t,onVideoFrame:null,pauseWhenBuffering:s??!1,onDuration:x,_remotionInternalStack:l??null,_remotionInternalNativeLoopPassed:c??!1,showInTimeline:d??!0,onAutoPlayError:f??void 0})}));h(kn),(()=>{if("undefined"==typeof globalThis)return;const e=()=>{globalThis.remotion_imported=y,"undefined"!=typeof window&&(window.remotion_imported=y)},t=globalThis.remotion_imported||"undefined"!=typeof window&&window.remotion_imported;if(t){if(t===y)return;if("string"==typeof t&&t.includes("webcodecs"))return void e();throw new TypeError(`🚨 Multiple versions of Remotion detected: ${[y,"string"==typeof t?t:"an older version"].filter(g).join(" and ")}. This will cause things to break in an unexpected way.\nCheck that all your Remotion packages are on the same version. If your dependencies depend on Remotion, make them peer dependencies. You can also run \`npx remotion versions\` from your terminal to see which versions are mismatching.`)}e()})();var En=new Proxy({},{get:(e,t)=>"Bundling"===t||"Rendering"===t||"Log"===t||"Puppeteer"===t||"Output"===t?En:()=>{console.warn("⚠️  The CLI configuration has been extracted from Remotion Core."),console.warn("Update the import from the config file:"),console.warn(),console.warn("- Delete:"),console.warn('import {Config} from "remotion";'),console.warn("+ Replace:"),console.warn('import {Config} from "@remotion/cli/config";'),console.warn(),console.warn("For more information, see https://www.remotion.dev/docs/4-0-migration."),process.exit(1)}});h(ve)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return n[e].call(i.exports,i,i.exports,o),i.loaded=!0,i.exports}o.amdO={},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);o.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,o.d(i,a),i},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.nc=void 0,(()=>{"use strict";var e={};o.r(e),o.d(e,{hasBrowserEnv:()=>JQ,hasStandardBrowserEnv:()=>e0,hasStandardBrowserWebWorkerEnv:()=>t0,navigator:()=>QQ,origin:()=>n0});var t={};o.r(t),o.d(t,{scaleBand:()=>tze,scaleDiverging:()=>NHe,scaleDivergingLog:()=>MHe,scaleDivergingPow:()=>RHe,scaleDivergingSqrt:()=>LHe,scaleDivergingSymlog:()=>IHe,scaleIdentity:()=>j$e,scaleImplicit:()=>QFe,scaleLinear:()=>O$e,scaleLog:()=>R$e,scaleOrdinal:()=>eze,scalePoint:()=>rze,scalePow:()=>H$e,scaleQuantile:()=>nUe,scaleQuantize:()=>rUe,scaleRadial:()=>G$e,scaleSequential:()=>OHe,scaleSequentialLog:()=>jHe,scaleSequentialPow:()=>CHe,scaleSequentialQuantile:()=>PHe,scaleSequentialSqrt:()=>THe,scaleSequentialSymlog:()=>_He,scaleSqrt:()=>W$e,scaleSymlog:()=>z$e,scaleThreshold:()=>oUe,scaleTime:()=>xHe,scaleUtc:()=>SHe,tickFormat:()=>k$e});var n=o(6540),r=o.t(n,2),i=o(5338);const a=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},s=e=>e?a(e):a;var l=o(2079);const{useDebugValue:c}=n,{useSyncExternalStoreWithSelector:u}=l;let d=!1;const f=e=>e;const p=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?s(e):e,n=(e,n)=>function(e,t=f,n){n&&!d&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),d=!0);const r=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(r),r}(t,e,n);return Object.assign(n,t),n},h=e=>e?p(e):p;const m=new Map,v=e=>{const t=m.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},g=(e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:a,store:s,...l}=t;let c;try{c=(null==i||i)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(e){}if(!c)return i&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,o);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=m.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return m.set(n.name,o),{type:"tracked",store:e,...o}})(s,c,l);let f=!0;o.setState=(e,t,i)=>{const c=n(e,t);if(!f)return c;const d=void 0===i?{type:a||"anonymous"}:"string"==typeof i?{type:i}:i;return void 0===s?(null==u||u.send(d,r()),c):(null==u||u.send({...d,type:`${s}/${d.type}`},{...v(l.name),[s]:o.getState()}),c)};const p=(...e)=>{const t=f;f=!1,n(...e),f=t},h=e(o.setState,r,o);if("untracked"===d.type?null==u||u.init(h):(d.stores[d.store]=o,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map((([e,t])=>[e,e===d.store?h:t.getState()]))))),o.dispatchFromDevtools&&"function"==typeof o.dispatch){let e=!1;const t=o.dispatch;o.dispatch=(...n)=>{"__setState"!==n[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...n)}}return u.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):y(e.payload,(e=>{if("__setState"!==e.type)o.dispatchFromDevtools&&"function"==typeof o.dispatch&&o.dispatch(e);else{if(void 0===s)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[s];if(null==t)return;JSON.stringify(o.getState())!==JSON.stringify(t)&&p(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return p(h),void 0===s?null==u?void 0:u.init(o.getState()):null==u?void 0:u.init(v(l.name));case"COMMIT":return void 0===s?void(null==u||u.init(o.getState())):null==u?void 0:u.init(v(l.name));case"ROLLBACK":return y(e.state,(e=>{if(void 0===s)return p(e),void(null==u||u.init(o.getState()));p(e[s]),null==u||u.init(v(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return y(e.state,(e=>{void 0!==s?JSON.stringify(o.getState())!==JSON.stringify(e[s])&&p(e[s]):p(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return p(void 0===s?r:r[s]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return f=!f}return}})),h},y=(e,t)=>{let n;try{n=JSON.parse(e)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==n&&t(n)};function b(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function w(e){return!!e&&!!e[se]}function x(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===le}(e)||Array.isArray(e)||!!e[ae]||!!(null===(t=e.constructor)||void 0===t?void 0:t[ae])||C(e)||T(e))}function S(e,t,n){void 0===n&&(n=!1),0===k(e)?(n?Object.keys:ce)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function k(e){var t=e[se];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:C(e)?2:T(e)?3:0}function E(e,t){return 2===k(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function O(e,t){return 2===k(e)?e.get(t):e[t]}function j(e,t,n){var r=k(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function _(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function C(e){return ne&&e instanceof Map}function T(e){return re&&e instanceof Set}function P(e){return e.o||e.t}function A(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ue(e);delete t[se];for(var n=ce(t),r=0;r<n.length;r++){var o=n[r],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function N(e,t){return void 0===t&&(t=!1),I(e)||w(e)||!x(e)||(k(e)>1&&(e.set=e.add=e.clear=e.delete=M),Object.freeze(e),t&&S(e,(function(e,t){return N(t,!0)}),!0)),e}function M(){b(2)}function I(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function R(e){var t=de[e];return t||b(18,e),t}function L(){return ee}function D(e,t){t&&(R("Patches"),e.u=[],e.s=[],e.v=t)}function F(e){z(e),e.p.forEach($),e.p=null}function z(e){e===ee&&(ee=e.l)}function B(e){return ee={p:[],l:ee,h:e,m:!0,_:0}}function $(e){var t=e[se];0===t.i||1===t.i?t.j():t.g=!0}function U(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.O||R("ES5").S(t,e,r),r?(n[se].P&&(F(t),b(4)),x(e)&&(e=V(t,e),t.l||W(t,e)),t.u&&R("Patches").M(n[se].t,e,t.u,t.s)):e=V(t,n,[]),F(t),t.u&&t.v(t.u,t.s),e!==ie?e:void 0}function V(e,t,n){if(I(t))return t;var r=t[se];if(!r)return S(t,(function(o,i){return H(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return W(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=A(r.k):r.o,i=o,a=!1;3===r.i&&(i=new Set(o),o.clear(),a=!0),S(i,(function(t,i){return H(e,r,o,t,i,n,a)})),W(e,o,!1),n&&e.u&&R("Patches").N(r,n,e.u,e.s)}return r.o}function H(e,t,n,r,o,i,a){if(w(o)){var s=V(e,o,i&&t&&3!==t.i&&!E(t.R,r)?i.concat(r):void 0);if(j(n,r,s),!w(s))return;e.m=!1}else a&&n.add(o);if(x(o)&&!I(o)){if(!e.h.D&&e._<1)return;V(e,o),t&&t.A.l||W(e,o)}}function W(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&N(t,n)}function q(e,t){var n=e[se];return(n?P(n):e)[t]}function G(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function K(e){e.P||(e.P=!0,e.l&&K(e.l))}function X(e){e.o||(e.o=A(e.t))}function Y(e,t,n){var r=C(t)?R("MapSet").F(t,n):T(t)?R("MapSet").T(t,n):e.O?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:L(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,i=fe;n&&(o=[r],i=pe);var a=Proxy.revocable(o,i),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):R("ES5").J(t,n);return(n?n.A:L()).p.push(r),r}function Z(e){return w(e)||b(22,e),function e(t){if(!x(t))return t;var n,r=t[se],o=k(t);if(r){if(!r.P&&(r.i<4||!R("ES5").K(r)))return r.t;r.I=!0,n=J(t,o),r.I=!1}else n=J(t,o);return S(n,(function(t,o){r&&O(r.t,t)===o||j(n,t,e(o))})),3===o?new Set(n):n}(e)}function J(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return A(e)}var Q,ee,te="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),ne="undefined"!=typeof Map,re="undefined"!=typeof Set,oe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ie=te?Symbol.for("immer-nothing"):((Q={})["immer-nothing"]=!0,Q),ae=te?Symbol.for("immer-draftable"):"__$immer_draftable",se=te?Symbol.for("immer-state"):"__$immer_state",le=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ue=Object.getOwnPropertyDescriptors||function(e){var t={};return ce(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},de={},fe={get:function(e,t){if(t===se)return e;var n=P(e);if(!E(n,t))return function(e,t,n){var r,o=G(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!x(r)?r:r===q(e.t,t)?(X(e),e.o[t]=Y(e.A.h,r,e)):r},has:function(e,t){return t in P(e)},ownKeys:function(e){return Reflect.ownKeys(P(e))},set:function(e,t,n){var r=G(P(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=q(P(e),t),i=null==o?void 0:o[se];if(i&&i.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(_(n,o)&&(void 0!==n||E(e.t,t)))return!0;X(e),K(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.R[t]=!1,X(e),K(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=P(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){b(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){b(12)}},pe={};S(fe,(function(e,t){pe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pe.deleteProperty=function(e,t){return pe.set.call(this,e,t,void 0)},pe.set=function(e,t,n){return fe.set.call(this,e[0],t,n,e[0])};var he=function(){function e(e){var t=this;this.O=oe,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var i=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&b(6),void 0!==r&&"function"!=typeof r&&b(7),x(e)){var s=B(t),l=Y(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?F(s):z(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return D(s,r),U(e,s)}),(function(e){throw F(s),e})):(D(s,r),U(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===ie&&(a=void 0),t.D&&N(a,!0),r){var u=[],d=[];R("Patches").M(e,a,u,d),r(u,d)}return a}b(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))};var r,o,i=t.produce(e,n,(function(e,t){r=e,o=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,o]})):[i,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){x(e)||b(8),w(e)&&(e=Z(e));var t=B(this),n=Y(this,e,void 0);return n[se].C=!0,z(t),n},t.finishDraft=function(e,t){var n=(e&&e[se]).A;return D(n,t),U(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!oe&&b(20),this.O=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=R("Patches").$;return w(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),me=new he,ve=me.produce;me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me);const ge=e=>(t,n,r)=>(r.setState=(e,n,...r)=>{const o="function"==typeof e?ve(e):e;return t(o,n,...r)},e(r.setState,n,r));var ye={lessonId:null,loading:!0,error:null,saving:!1,saveError:null,generationStatus:null,contextMenuPosition:null,selectedTileId:null,videoTileBeingEdited:null,editingVideo:null,accumulatedTime:0,selectedEdgeId:null,sidebarExpanded:!1,launchType:null,launchToken:null,courseLaunchToken:null,mainLessonLanguage:null,addingNode:null,supportedLanguages:[],staticLearnerStringsObject:null,course:null,realtimeConnection:null,currentNarrationIndex:null,currentNarrationIsPlaying:null,lessonTokensMap:{},courseAttempt:null,lessonContents:null,startedAt:null,selectedBlockId:"title",lessonContent:null,previousLessonContent:null,blockStates:{},blocksViewedMap:{},completed:!1,score:null,attemptNumber:0,undo:!1,syncIssueDialogOpen:!1,undoStack:[],redoStack:[],prevLessonContentForStack:null,learner:null,editorType:"editor",requiredInteractivePulse:!1,includeExperimentalTiles:!1,selectedDialogId:null};const be=h()(ge(g((function(e,t){return ye}))));const we=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}));const xe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}));var Se=o(8587),ke=o(8168);function Ee(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ee(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ee(e))&&(r&&(r+=" "),r+=t);return r}const je=Oe;var _e=o(7437);function Ce(e,t,n=void 0){const r={};return Object.keys(e).forEach((o=>{r[o]=e[o].reduce(((e,r)=>{if(r){const o=t(r);""!==o&&e.push(o),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}function Te(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Pe(e){return parseFloat(e)}var Ae=o(5697),Ne=o(6937);function Me(e,t=0,n=1){return(0,Ne.A)(e,t,n)}function Ie(e){if(e.type)return e;if("#"===e.charAt(0))return Ie(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Ae.A)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,Ae.A)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}function Re(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function Le(e){let t="hsl"===(e=Ie(e)).type||"hsla"===e.type?Ie(function(e){e=Ie(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),a=(e,t=(e+n/30)%12)=>o-i*Math.max(Math.min(t-3,9-t,1),-1);let s="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),Re({type:s,values:l})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function De(e,t){return e=Ie(e),t=Me(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Re(e)}function Fe(e,t){if(e=Ie(e),t=Me(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Re(e)}function ze(e,t){if(e=Ie(e),t=Me(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Re(e)}function Be(e,t=.15){return Le(e)>.5?Fe(e,t):ze(e,t)}var $e=o(6461),Ue=o(4521),Ve=o(4188),He=o(3571),We=o(8749);var qe=o(771);const Ge={black:"#000",white:"#fff"},Ke={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Xe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ye={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ze={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Je={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Qe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},et={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},tt=["mode","contrastThreshold","tonalOffset"],nt={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ge.white,default:Ge.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},rt={text:{primary:Ge.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ge.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ot(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,qe.a)(e.main,o):"dark"===t&&(e.dark=(0,qe.e$)(e.main,i)))}function it(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=(0,Se.A)(e,tt),i=e.primary||function(e="light"){return"dark"===e?{main:Je[200],light:Je[50],dark:Je[400]}:{main:Je[700],light:Je[400],dark:Je[800]}}(t),a=e.secondary||function(e="light"){return"dark"===e?{main:Xe[200],light:Xe[50],dark:Xe[400]}:{main:Xe[500],light:Xe[300],dark:Xe[700]}}(t),s=e.error||function(e="light"){return"dark"===e?{main:Ye[500],light:Ye[300],dark:Ye[700]}:{main:Ye[700],light:Ye[400],dark:Ye[800]}}(t),l=e.info||function(e="light"){return"dark"===e?{main:Qe[400],light:Qe[300],dark:Qe[700]}:{main:Qe[700],light:Qe[500],dark:Qe[900]}}(t),c=e.success||function(e="light"){return"dark"===e?{main:et[400],light:et[300],dark:et[700]}:{main:et[800],light:et[500],dark:et[900]}}(t),u=e.warning||function(e="light"){return"dark"===e?{main:Ze[400],light:Ze[300],dark:Ze[700]}:{main:"#ed6c02",light:Ze[500],dark:Ze[900]}}(t);function d(e){return(0,qe.eM)(e,rt.text.primary)>=n?rt.text.primary:nt.text.primary}const f=({color:e,name:t,mainShade:n=500,lightShade:o=300,darkShade:i=700})=>{if(!(e=(0,ke.A)({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error((0,Ae.A)(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw new Error((0,Ae.A)(12,t?` (${t})`:"",JSON.stringify(e.main)));return ot(e,"light",o,r),ot(e,"dark",i,r),e.contrastText||(e.contrastText=d(e.main)),e},p={dark:rt,light:nt};return(0,Ue.A)((0,ke.A)({common:(0,ke.A)({},Ge),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:s,name:"error"}),warning:f({color:u,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:c,name:"success"}),grey:Ke,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},p[t]),o)}const at=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function st(e){return Math.round(1e5*e)/1e5}const lt={textTransform:"uppercase"},ct='"Roboto", "Helvetica", "Arial", sans-serif';function ut(e,t){const n="function"==typeof t?t(e):t,{fontFamily:r=ct,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:d}=n,f=(0,Se.A)(n,at);const p=o/14,h=d||(e=>e/c*p+"rem"),m=(e,t,n,o,i)=>(0,ke.A)({fontFamily:r,fontWeight:e,fontSize:h(t),lineHeight:n},r===ct?{letterSpacing:`${st(o/t)}em`}:{},i,u),v={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(s,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(s,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(s,14,1.75,.4,lt),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,lt),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,Ue.A)((0,ke.A)({htmlFontSize:c,pxToRem:h,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:l},v),f,{clone:!1})}function dt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const ft=["none",dt(0,2,1,-1,0,1,1,0,0,1,3,0),dt(0,3,1,-2,0,2,2,0,0,1,5,0),dt(0,3,3,-2,0,3,4,0,0,1,8,0),dt(0,2,4,-1,0,4,5,0,0,1,10,0),dt(0,3,5,-1,0,5,8,0,0,1,14,0),dt(0,3,5,-1,0,6,10,0,0,1,18,0),dt(0,4,5,-2,0,7,10,1,0,2,16,1),dt(0,5,5,-3,0,8,10,1,0,3,14,2),dt(0,5,6,-3,0,9,12,1,0,3,16,2),dt(0,6,6,-3,0,10,14,1,0,4,18,3),dt(0,6,7,-4,0,11,15,1,0,4,20,3),dt(0,7,8,-4,0,12,17,2,0,5,22,4),dt(0,7,8,-4,0,13,19,2,0,5,24,4),dt(0,7,9,-4,0,14,21,2,0,5,26,4),dt(0,8,9,-5,0,15,22,2,0,6,28,5),dt(0,8,10,-5,0,16,24,2,0,6,30,5),dt(0,8,11,-5,0,17,26,2,0,6,32,5),dt(0,9,11,-5,0,18,28,2,0,7,34,6),dt(0,9,12,-6,0,19,29,2,0,7,36,6),dt(0,10,13,-6,0,20,31,3,0,8,38,7),dt(0,10,13,-6,0,21,33,3,0,8,40,7),dt(0,10,14,-6,0,22,35,3,0,8,42,7),dt(0,11,14,-7,0,23,36,3,0,9,44,8),dt(0,11,15,-7,0,24,38,3,0,9,46,8)],pt=["duration","easing","delay"],ht={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},mt={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vt(e){return`${Math.round(e)}ms`}function gt(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function yt(e){const t=(0,ke.A)({},ht,e.easing),n=(0,ke.A)({},mt,e.duration);return(0,ke.A)({getAutoHeightDuration:gt,create:(e=["all"],r={})=>{const{duration:o=n.standard,easing:i=t.easeInOut,delay:a=0}=r;(0,Se.A)(r,pt);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"==typeof o?o:vt(o)} ${i} ${"string"==typeof a?a:vt(a)}`)).join(",")}},e,{easing:t,duration:n})}const bt={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},wt=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function xt(e={},...t){const{mixins:n={},palette:r={},transitions:o={},typography:i={}}=e,a=(0,Se.A)(e,wt);if(e.vars)throw new Error((0,Ae.A)(18));const s=it(r),l=(0,We.A)(e);let c=(0,Ue.A)(l,{mixins:(u=l.breakpoints,d=n,(0,ke.A)({toolbar:{minHeight:56,[u.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[u.up("sm")]:{minHeight:64}}},d)),palette:s,shadows:ft.slice(),typography:ut(s,i),transitions:yt(o),zIndex:(0,ke.A)({},bt)});var u,d;return c=(0,Ue.A)(c,a),c=t.reduce(((e,t)=>(0,Ue.A)(e,t)),c),c.unstable_sxConfig=(0,ke.A)({},Ve.A,null==a?void 0:a.unstable_sxConfig),c.unstable_sx=function(e){return(0,He.A)({sx:e,theme:this})},c}const St=xt,kt=St(),Et="$$material";const Ot=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},jt=e=>Ot(e)&&"classes"!==e,_t=(0,$e.Ay)({themeId:Et,defaultTheme:kt,rootShouldForwardProp:jt});function Ct(e,t){const n=(0,ke.A)({},t);return Object.keys(e).forEach((r=>{if(r.toString().match(/^(components|slots)$/))n[r]=(0,ke.A)({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=e[r]||{},i=t[r];n[r]={},i&&Object.keys(i)?o&&Object.keys(o)?(n[r]=(0,ke.A)({},i),Object.keys(o).forEach((e=>{n[r][e]=Ct(o[e],i[e])}))):n[r]=i:n[r]=o}else void 0===n[r]&&(n[r]=e[r])})),n}function Tt(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Ct(t.components[n].defaultProps,r):r}var Pt=o(85);const At=function(e=null){const t=n.useContext(Pt.T);return t&&(r=t,0!==Object.keys(r).length)?t:e;var r},Nt=(0,We.A)();const Mt=function(e=Nt){return At(e)};function It({props:e,name:t}){return function({props:e,name:t,defaultTheme:n,themeId:r}){let o=Mt(n);return r&&(o=o[r]||o),Tt({theme:o,name:t,props:e})}({props:e,name:t,defaultTheme:kt,themeId:Et})}const Rt=e=>e,Lt=(()=>{let e=Rt;return{configure(t){e=t},generate:t=>e(t),reset(){e=Rt}}})(),Dt=Lt,Ft={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function zt(e,t,n="Mui"){const r=Ft[t];return r?`${n}-${r}`:`${Dt.generate(e)}-${t}`}function Bt(e,t,n="Mui"){const r={};return t.forEach((t=>{r[t]=zt(e,t,n)})),r}function $t(e){return zt("MuiSkeleton",e)}Bt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var Ut=o(4848);const Vt=["animation","className","component","height","style","variant","width"];let Ht,Wt,qt,Gt,Kt=e=>e;const Xt=(0,_e.i7)(Ht||(Ht=Kt`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Yt=(0,_e.i7)(Wt||(Wt=Kt`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Zt=_t("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})((({theme:e,ownerState:t})=>{const n=Te(e.shape.borderRadius)||"px",r=Pe(e.shape.borderRadius);return(0,ke.A)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:De(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===t.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===t.variant&&{borderRadius:"50%"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})}),(({ownerState:e})=>"pulse"===e.animation&&(0,_e.AH)(qt||(qt=Kt`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),Xt)),(({ownerState:e,theme:t})=>"wave"===e.animation&&(0,_e.AH)(Gt||(Gt=Kt`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Yt,(t.vars||t).palette.action.hover))),Jt=n.forwardRef((function(e,t){const n=It({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:o,component:i="span",height:a,style:s,variant:l="text",width:c}=n,u=(0,Se.A)(n,Vt),d=(0,ke.A)({},n,{animation:r,component:i,variant:l,hasChildren:Boolean(u.children)}),f=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:i,height:a}=e;return Ce({root:["root",n,r,o&&"withChildren",o&&!i&&"fitContent",o&&!a&&"heightAuto"]},$t,t)})(d);return(0,Ut.jsx)(Zt,(0,ke.A)({as:i,ref:t,className:je(f.root,o),ownerState:d},u,{style:(0,ke.A)({width:c,height:a},s)}))})),Qt=Jt;var en=o(9599);const tn=o(8659).A;function nn(e){return zt("MuiTypography",e)}Bt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const rn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],on=_t("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${tn(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,ke.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),an={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},sn={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ln=n.forwardRef((function(e,t){const n=It({props:e,name:"MuiTypography"}),r=(e=>sn[e]||e)(n.color),o=(0,en.A)((0,ke.A)({},n,{color:r})),{align:i="inherit",className:a,component:s,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:f=an}=o,p=(0,Se.A)(o,rn),h=(0,ke.A)({},o,{align:i,color:r,className:a,component:s,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:f}),m=s||(u?"p":f[d]||an[d])||"span",v=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:i,classes:a}=e;return Ce({root:["root",i,"inherit"!==e.align&&`align${tn(t)}`,n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},nn,a)})(h);return(0,Ut.jsx)(on,(0,ke.A)({as:m,ref:t,ownerState:h,className:je(v.root,a)},p))})),cn=ln,un=e=>{const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),t},dn=(e,t=100,r=!1)=>{const o=un(e),i=n.useRef(),a=[t,r,o];function s(){i.current&&clearTimeout(i.current),i.current=void 0}function l(){i.current=void 0}return n.useEffect((()=>s),a),n.useCallback((function(){const e=arguments,{current:n}=i;if(void 0===n&&r)return i.current=setTimeout(l,t),o.current.apply(null,e);n&&clearTimeout(n),i.current=setTimeout((()=>{i.current=void 0,o.current.apply(null,e)}),t)}),a)};const fn=function(e,t,r,o){const i=n.useRef(r),a=n.useRef(o);n.useEffect((()=>{i.current=r,a.current=o})),n.useEffect((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;let r=0;function o(...e){r||i.current.apply(this,e)}n.addEventListener(t,o);const s=a.current;return()=>{r=1,n.removeEventListener(t,o),s&&s()}}),[e,t])},pn={},hn="undefined"==typeof window?null:window,mn=hn&&void 0!==hn.visualViewport?hn.visualViewport:null,vn=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],gn=function(e){void 0===e&&(e=pn);const{wait:t,leading:r,initialWidth:o=0,initialHeight:i=0}=e,[a,s]=((e,t,r)=>{const o=n.useState(e);return[o[0],dn(o[1],t,r)]})("undefined"==typeof document?[o,i]:vn,t,r),l=()=>s(vn);return fn(hn,"resize",l),fn(mn,"resize",l),fn(hn,"orientationchange",l),a},yn=e=>gn(e)[0];const bn=function(){return yn({wait:50})<768};function wn(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}var xn=n.forwardRef(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(En);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null:t));return(0,Ut.jsx)(Sn,{...o,ref:t,children:n.isValidElement(e)?n.cloneElement(e,void 0,r):null})}return(0,Ut.jsx)(Sn,{...o,ref:t,children:r})}));xn.displayName="Slot";var Sn=n.forwardRef(((e,t)=>{const{children:r,...o}=e;if(n.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r);return n.cloneElement(r,{...On(o,r.props),ref:t?wn(t,e):e})}return n.Children.count(r)>1?n.Children.only(null):null}));Sn.displayName="SlotClone";var kn=({children:e})=>(0,Ut.jsx)(Ut.Fragment,{children:e});function En(e){return n.isValidElement(e)&&e.type===kn}function On(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function jn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=jn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function _n(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=jn(e))&&(r&&(r+=" "),r+=t);return r}const Cn=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,Tn=_n,Pn=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Tn(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:o,defaultVariants:i}=t,a=Object.keys(o).map((e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const a=Cn(t)||Cn(r);return o[e][a]})),s=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...o}=t;return Object.entries(o).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...s}[t]):{...i,...s}[t]===n}))?[...e,n,r]:e}),[]);return Tn(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)};function An(e){var t=function(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},o=function(e,t){if(!t)return e;return e.map((function(e){var n=e[0],r=e[1].map((function(e){return"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map((function(e){var n=e[0],r=e[1];return[t+n,r]}))):e}));return[n,r]}))}(Object.entries(e.classGroups),n);return o.forEach((function(e){var n=e[0];In(e[1],r,n,t)})),r}(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,o=void 0===r?{}:r;return{getClassGroupId:function(e){var n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),Nn(n,t)||function(e){if(Mn.test(e)){var t=Mn.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}(e)},getConflictingClassGroupIds:function(e,t){var r=n[e]||[];return t&&o[e]?[].concat(r,o[e]):r}}}function Nn(e,t){if(0===e.length)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),o=r?Nn(e.slice(1),r):void 0;if(o)return o;if(0!==t.validators.length){var i=e.join("-");return t.validators.find((function(e){return(0,e.validator)(i)}))?.classGroupId}}var Mn=/^\[(.+)\]$/;function In(e,t,n,r){e.forEach((function(e){if("string"!=typeof e){if("function"==typeof e)return e.isThemeGetter?void In(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((function(e){var o=e[0];In(e[1],Rn(t,o),n,r)}))}else{(""===e?t:Rn(t,e)).classGroupId=n}}))}function Rn(e,t){var n=e;return t.split("-").forEach((function(e){n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n}function Ln(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function o(o,i){n.set(o,i),++t>e&&(t=0,r=n,n=new Map)}return{get:function(e){var t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set:function(e,t){n.has(e)?n.set(e,t):o(e,t)}}}function Dn(e){var t=e.separator||":",n=1===t.length,r=t[0],o=t.length;return function(e){for(var i,a=[],s=0,l=0,c=0;c<e.length;c++){var u=e[c];if(0===s){if(u===r&&(n||e.slice(c,c+o)===t)){a.push(e.slice(l,c)),l=c+o;continue}if("/"===u){i=c;continue}}"["===u?s++:"]"===u&&s--}var d=0===a.length?e:e.substring(l),f=d.startsWith("!");return{modifiers:a,hasImportantModifier:f,baseClassName:f?d.substring(1):d,maybePostfixModifierPosition:i&&i>l?i-l:void 0}}}var Fn=/\s+/;function zn(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Bn(e))&&(r&&(r+=" "),r+=t);return r}function Bn(e){if("string"==typeof e)return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=Bn(e[r]))&&(n&&(n+=" "),n+=t);return n}function $n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o,i,a=function(e){var n=t[0],l=t.slice(1).reduce((function(e,t){return t(e)}),n());return r=function(e){return{cache:Ln(e.cacheSize),splitModifiers:Dn(e),...An(e)}}(l),o=r.cache.get,i=r.cache.set,a=s,s(e)};function s(e){var t=o(e);if(t)return t;var n=function(e,t){var n=t.splitModifiers,r=t.getClassGroupId,o=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(Fn).map((function(e){var t=n(e),o=t.modifiers,i=t.hasImportantModifier,a=t.baseClassName,s=t.maybePostfixModifierPosition,l=r(s?a.substring(0,s):a),c=Boolean(s);if(!l){if(!s)return{isTailwindClass:!1,originalClassName:e};if(!(l=r(a)))return{isTailwindClass:!1,originalClassName:e};c=!1}var u=function(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach((function(e){"["===e[0]?(t.push.apply(t,n.sort().concat([e])),n=[]):n.push(e)})),t.push.apply(t,n.sort()),t}(o).join(":");return{isTailwindClass:!0,modifierId:i?u+"!":u,classGroupId:l,originalClassName:e,hasPostfixModifier:c}})).reverse().filter((function(e){if(!e.isTailwindClass)return!0;var t=e.modifierId,n=e.classGroupId,r=e.hasPostfixModifier,a=t+n;return!i.has(a)&&(i.add(a),o(n,r).forEach((function(e){return i.add(t+e)})),!0)})).reverse().map((function(e){return e.originalClassName})).join(" ")}(e,r);return i(e,n),n}return function(){return a(zn.apply(null,arguments))}}function Un(e){var t=function(t){return t[e]||[]};return t.isThemeGetter=!0,t}var Vn=/^\[(?:([a-z-]+):)?(.+)\]$/i,Hn=/^\d+\/\d+$/,Wn=new Set(["px","full","screen"]),qn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Kn=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Xn(e){return tr(e)||Wn.has(e)||Hn.test(e)||Yn(e)}function Yn(e){return lr(e,"length",cr)}function Zn(e){return lr(e,"size",ur)}function Jn(e){return lr(e,"position",ur)}function Qn(e){return lr(e,"url",dr)}function er(e){return lr(e,"number",tr)}function tr(e){return!Number.isNaN(Number(e))}function nr(e){return e.endsWith("%")&&tr(e.slice(0,-1))}function rr(e){return fr(e)||lr(e,"number",fr)}function or(e){return Vn.test(e)}function ir(){return!0}function ar(e){return qn.test(e)}function sr(e){return lr(e,"",pr)}function lr(e,t,n){var r=Vn.exec(e);return!!r&&(r[1]?r[1]===t:n(r[2]))}function cr(e){return Gn.test(e)}function ur(){return!1}function dr(e){return e.startsWith("url(")}function fr(e){return Number.isInteger(Number(e))}function pr(e){return Kn.test(e)}function hr(){var e=Un("colors"),t=Un("spacing"),n=Un("blur"),r=Un("brightness"),o=Un("borderColor"),i=Un("borderRadius"),a=Un("borderSpacing"),s=Un("borderWidth"),l=Un("contrast"),c=Un("grayscale"),u=Un("hueRotate"),d=Un("invert"),f=Un("gap"),p=Un("gradientColorStops"),h=Un("gradientColorStopPositions"),m=Un("inset"),v=Un("margin"),g=Un("opacity"),y=Un("padding"),b=Un("saturate"),w=Un("scale"),x=Un("sepia"),S=Un("skew"),k=Un("space"),E=Un("translate"),O=function(){return["auto",or,t]},j=function(){return[or,t]},_=function(){return["",Xn]},C=function(){return["auto",tr,or]},T=function(){return["","0",or]},P=function(){return[tr,er]},A=function(){return[tr,or]};return{cacheSize:500,theme:{colors:[ir],spacing:[Xn],blur:["none","",ar,or],brightness:P(),borderColor:[e],borderRadius:["none","","full",ar,or],borderSpacing:j(),borderWidth:_(),contrast:P(),grayscale:T(),hueRotate:A(),invert:T(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[nr,Yn],inset:O(),margin:O(),opacity:P(),padding:j(),saturate:P(),scale:P(),sepia:T(),skew:A(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",or]}],container:["container"],columns:[{columns:[ar]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[or])}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rr]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",or]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",rr]}],"grid-cols":[{"grid-cols":[ir]}],"col-start-end":[{col:["auto",{span:["full",rr]},or]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[ir]}],"row-start-end":[{row:["auto",{span:[rr]},or]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",or]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",or]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(["start","end","center","between","around","evenly","stretch"])}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(["start","end","center","between","around","evenly","stretch"],["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",or,t]}],"min-w":[{"min-w":["min","max","fit",or,Xn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ar]},ar,or]}],h:[{h:[or,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",or,Xn]}],"max-h":[{"max-h":[or,t,"min","max","fit"]}],"font-size":[{text:["base",ar,Yn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",er]}],"font-family":[{font:[ir]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",or]}],"line-clamp":[{"line-clamp":["none",tr,er]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",or,Xn]}],"list-image":[{"list-image":["none",or]}],"list-style-type":[{list:["none","disc","decimal",or]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(["solid","dashed","dotted","double","none"],["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Xn]}],"underline-offset":[{"underline-offset":["auto",or,Xn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",or]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",or]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],[Jn])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Zn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(["solid","dashed","dotted","double","none"],["hidden"])}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:[""].concat(["solid","dashed","dotted","double","none"])}],"outline-offset":[{"outline-offset":[or,Xn]}],"outline-w":[{outline:[Xn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Xn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ar,sr]}],"shadow-color":[{shadow:[ir]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ar,or]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",or]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",or]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",or]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[rr,or]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",or]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",or]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",or]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Xn,er]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var mr=$n(hr);function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mr(Oe(t))}function gr(e){return zt("MuiCircularProgress",e)}Bt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const yr=["className","color","disableShrink","size","style","thickness","value","variant"];let br,wr,xr,Sr,kr=e=>e;const Er=44,Or=(0,_e.i7)(br||(br=kr`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),jr=(0,_e.i7)(wr||(wr=kr`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),_r=_t("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${tn(n.color)}`]]}})((({ownerState:e,theme:t})=>(0,ke.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,_e.AH)(xr||(xr=kr`
      animation: ${0} 1.4s linear infinite;
    `),Or))),Cr=_t("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Tr=_t("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${tn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,ke.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,_e.AH)(Sr||(Sr=kr`
      animation: ${0} 1.4s ease-in-out infinite;
    `),jr))),Pr=n.forwardRef((function(e,t){const n=It({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:a=40,style:s,thickness:l=3.6,value:c=0,variant:u="indeterminate"}=n,d=(0,Se.A)(n,yr),f=(0,ke.A)({},n,{color:o,disableShrink:i,size:a,thickness:l,value:c,variant:u}),p=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return Ce({root:["root",n,`color${tn(r)}`],svg:["svg"],circle:["circle",`circle${tn(n)}`,o&&"circleDisableShrink"]},gr,t)})(f),h={},m={},v={};if("determinate"===u){const e=2*Math.PI*((Er-l)/2);h.strokeDasharray=e.toFixed(3),v["aria-valuenow"]=Math.round(c),h.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,Ut.jsx)(_r,(0,ke.A)({className:je(p.root,r),style:(0,ke.A)({width:a,height:a},m,s),ownerState:f,ref:t,role:"progressbar"},v,d,{children:(0,Ut.jsx)(Cr,{className:p.svg,ownerState:f,viewBox:"22 22 44 44",children:(0,Ut.jsx)(Tr,{className:p.circle,style:h,ownerState:f,cx:Er,cy:Er,r:(Er-l)/2,fill:"none",strokeWidth:l})})}))})),Ar=Pr;function Nr(e){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(e)}var Mr=["as","className","variant","size","asChild","loading"];function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Lr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Nr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nr(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dr=Pn("inline-flex bg-transparent items-center gap-2 justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary font-sans text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",selected:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-input",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",blend:"dark:hover:bg-white/10 hover:bg-gray-500/10 text-black dark:text-white",link:"text-primary underline-offset-4 hover:underline",contrast:"bg-foreground text-background",themable:"hover:brightness-90 active:brightness-75"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-4",xs:"h-7 rounded-sm px-2 gap-1 text-xs",lg:"h-11 rounded-md px-6",icon:"h-10 w-10",smallIcon:"h-9 w-9",xsIcon:"h-7 w-7 rounded-sm",lgIcon:"h-11 w-11",fit:"h-fit w-fit"}},defaultVariants:{variant:"ghost",size:"default"}}),Fr=n.forwardRef((function(e,t){var n=e.as,r=void 0===n?"button":n,o=e.className,i=e.variant,a=e.size,s=e.asChild,l=void 0!==s&&s,c=e.loading,u=void 0!==c&&c,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Mr),f=l?xn:r;return(0,Ut.jsxs)(f,Rr(Rr({className:vr(Dr({variant:i,size:a,className:o})),ref:t},d),{},{disabled:u||d.disabled,children:[u&&(0,Ut.jsx)(Ar,{color:"inherit",size:12}),d.children]}))}));Fr.displayName="Button";var zr=function(){bn();return(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{style:{},className:"fixed left-0 top-0 h-full w-full",children:[(0,Ut.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,Ut.jsxs)("div",{className:"w-full max-w-4xl px-8",children:[(0,Ut.jsx)(Qt,{children:(0,Ut.jsx)(cn,{className:"text-4xl",children:"Example lesson title here"})}),(0,Ut.jsx)(Qt,{children:(0,Ut.jsx)(Fr,{variant:"outline",children:"Start Lesson"})})]}),(0,Ut.jsx)("div",{className:"h-24 sm:hidden "})]}),(0,Ut.jsx)("div",{className:"pointer-events-none fixed bottom-0 left-0 right-0 z-20 flex justify-start p-2 sm:justify-center",children:(0,Ut.jsx)(Qt,{children:(0,Ut.jsxs)("div",{className:"pointer-events-auto relative flex overflow-hidden rounded-md border border-solid border-black/50",children:[(0,Ut.jsx)("button",{className:"h-10 w-14 border-none bg-white transition-all hover:opacity-80 active:opacity-70",children:(0,Ut.jsx)(we,{className:"h-6 w-6 stroke-[2px]"})}),(0,Ut.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 top-0 flex h-full items-stretch justify-center py-2 transition-all",children:(0,Ut.jsx)("div",{className:"w-[1px]"})}),(0,Ut.jsx)("button",{className:"h-10 w-14 border-none bg-white transition-all hover:opacity-80 active:opacity-70 disabled:opacity-60",children:(0,Ut.jsx)(xe,{className:"h-6 w-6 stroke-[2px]"})})]})})})]})})};function Br(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof e?"":Object.keys(t).reduce((function(e,n){return e.replace("{".concat(n,"}"),t[n])}),e)}}function $r(e,t){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$r(e,t)}function Ur(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$r(e,t)}const Vr=n.createContext(null);function Hr(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function Wr(e,t,n){return null!=n[t]?n[t]:e.props[t]}function qr(e,t,r){var o=Hr(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var a in e)a in t?i.length&&(o[a]=i,i=[]):i.push(a);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];s[o[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<i.length;r++)s[i[r]]=n(i[r]);return s}(t,o);return Object.keys(i).forEach((function(a){var s=i[a];if((0,n.isValidElement)(s)){var l=a in t,c=a in o,u=t[a],d=(0,n.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,n.isValidElement)(u)&&(i[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:u.props.in,exit:Wr(s,"exit",e),enter:Wr(s,"enter",e)})):i[a]=(0,n.cloneElement)(s,{in:!1}):i[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:Wr(s,"exit",e),enter:Wr(s,"enter",e)})}})),i}var Gr=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Kr=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Ur(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,o,i=t.children,a=t.handleExited;return{children:t.firstRender?(r=e,o=a,Hr(r.children,(function(e){return(0,n.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:Wr(e,"appear",r),enter:Wr(e,"enter",r),exit:Wr(e,"exit",r)})}))):qr(e,i,a),firstRender:!1}},r.handleExited=function(e,t){var n=Hr(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,ke.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,o=(0,Se.A)(e,["component","childFactory"]),i=this.state.contextValue,a=Gr(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===t?n.createElement(Vr.Provider,{value:i},a):n.createElement(Vr.Provider,{value:i},n.createElement(t,o,a))},t}(n.Component);Kr.propTypes={},Kr.defaultProps={component:"div",childFactory:function(e){return e}};const Xr=Kr;function Yr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Zr=o(961);const Jr=!1;var Qr=function(e){return e.scrollTop},eo="unmounted",to="exited",no="entering",ro="entered",oo="exiting",io=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=to,r.appearStatus=no):o=ro:o=t.unmountOnExit||t.mountOnEnter?eo:to,r.state={status:o},r.nextCallback=null,r}Ur(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===eo?{status:to}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==no&&n!==ro&&(t=no):n!==no&&n!==ro||(t=oo)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===no){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Zr.findDOMNode(this);n&&Qr(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===to&&this.setState({status:eo})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[Zr.findDOMNode(this),r],i=o[0],a=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Jr?this.safeSetState({status:ro},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,a),this.safeSetState({status:no},(function(){t.props.onEntering(i,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:ro},(function(){t.props.onEntered(i,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Zr.findDOMNode(this);t&&!Jr?(this.props.onExit(r),this.safeSetState({status:oo},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:to},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:to},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Zr.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===eo)return null;var t=this.props,r=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Se.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(Vr.Provider,{value:null},"function"==typeof r?r(e,o):n.cloneElement(n.Children.only(r),o))},t}(n.Component);function ao(){}io.contextType=Vr,io.propTypes={},io.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ao,onEntering:ao,onEntered:ao,onExit:ao,onExiting:ao,onExited:ao},io.UNMOUNTED=eo,io.EXITED=to,io.ENTERING=no,io.ENTERED=ro,io.EXITING=oo;const so=io;var lo=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=Yr(e.className,t):e.setAttribute("class",Yr(e.className&&e.className.baseVal||"",t))}(e,t)}))},co=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}Ur(t,e);var r=t.prototype;return r.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&Qr(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(e,t)}))}(e,r))},r.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&lo(e,r),o&&lo(e,o),i&&lo(e,i)},r.render=function(){var e=this.props,t=(e.classNames,(0,Se.A)(e,["classNames"]));return n.createElement(so,(0,ke.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(n.Component);co.defaultProps={classNames:""},co.propTypes={};const uo=co,fo=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function po(e){return zt("MuiPaper",e)}Bt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ho=["className","component","elevation","square","variant"],mo=_t("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>{var n;return(0,ke.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,ke.A)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,qe.X4)("#fff",fo(t.elevation))}, ${(0,qe.X4)("#fff",fo(t.elevation))})`},e.vars&&{backgroundImage:null==(n=e.vars.overlays)?void 0:n[t.elevation]}))})),vo=n.forwardRef((function(e,t){const n=It({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:i=1,square:a=!1,variant:s="elevation"}=n,l=(0,Se.A)(n,ho),c=(0,ke.A)({},n,{component:o,elevation:i,square:a,variant:s}),u=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return Ce({root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]},po,o)})(c);return(0,Ut.jsx)(mo,(0,ke.A)({as:o,ownerState:c,className:je(u.root,r),ref:t},l))})),go=vo;function yo(e){return zt("MuiSnackbarContent",e)}Bt("MuiSnackbarContent",["root","message","action"]);const bo=["action","className","message","role"],wo=_t(go,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>{const t="light"===e.palette.mode?.8:.98,n=(0,qe.tL)(e.palette.background.default,t);return(0,ke.A)({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),xo=_t("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),So=_t("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),ko=n.forwardRef((function(e,t){const n=It({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:i,role:a="alert"}=n,s=(0,Se.A)(n,bo),l=n,c=(e=>{const{classes:t}=e;return Ce({root:["root"],action:["action"],message:["message"]},yo,t)})(l);return(0,Ut.jsxs)(wo,(0,ke.A)({role:a,square:!0,elevation:6,className:je(c.root,o),ownerState:l,ref:t},s,{children:[(0,Ut.jsx)(xo,{className:c.message,ownerState:l,children:i}),r?(0,Ut.jsx)(So,{className:c.action,ownerState:l,children:r}):null]}))})),Eo=ko;function Oo(e,t){if(e){if("string"==typeof e)return jo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _o=function(e,t){var n;if(!t)return-1;var r=Co(e,t),o=e.blockOrder.indexOf(r),i=e.blockOrder.slice(0,o+1),a=!(null===(n=e.settings)||void 0===n||!n.hideTitlePage),s=i.filter((function(t,n){var r=e.blocks[t];return!!r&&((!a||0!==n)&&!!("divider"===r.type||"tiledLayout"===r.type&&r.sectionDivider))}));return s.length-1},Co=function(e,t){var n=e.blocks[t];if(!n)return t;if("tiledLayout"!==n.type&&"divider"!==n.type){var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.blockOrder);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=e.blocks[i];if("tiledLayout"===a.type)if(a.layout.rows.some((function(e){return e.tiles.some((function(e){return e.tileId===t}))})))return i}}catch(e){o.e(e)}finally{o.f()}}return t};var To=function(e,t){var n,r=!(null===(n=e.settings)||void 0===n||!n.hideTitlePage),o=e.blockOrder.filter((function(t,n){var o=e.blocks[t];return(!r||0!==n)&&!!("divider"===o.type||"tiledLayout"===o.type&&o.sectionDivider)}));return Po(e,t,o)},Po=function(e,t,n){if(-1===t){var r=n[0],o=e.blockOrder.length;return r&&(o=e.blockOrder.indexOf(r)),e.blockOrder.slice(0,o)}return Ao(e,t,n)},Ao=function(e,t,n){var r=n[t],o=e.blockOrder.indexOf(r),i=n[t+1],a=e.blockOrder.indexOf(i);return-1===a?e.blockOrder.slice(o+1,e.blockOrder.length):e.blockOrder.slice(o+1,a)};function No(e){return function(e){if(Array.isArray(e))return Mo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mo(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Io=function(e,t){var n=_o(e,t),r=To(e,n),o=e.blocks[t];return o&&"tiledLayout"===o.type&&o.sectionDivider?[t].concat(No(r)):r},Ro=function(e){return e.blockOrder},Lo=o(8221),Do=o.n(Lo);function Fo(e){return e}function zo(e){const t={subscribe(t){let n=null,r=!1,o=!1,i=!1;function a(){null!==n?o||(o=!0,"function"==typeof n?n():n&&n.unsubscribe()):i=!0}return n=e({next(e){r||t.next?.(e)},error(e){r||(r=!0,t.error?.(e),a())},complete(){r||(r=!0,t.complete?.(),a())}}),i&&a(),{unsubscribe:a}},pipe(...e){return(0===(n=e).length?Fo:1===n.length?n[0]:function(e){return n.reduce(((e,t)=>t(e)),e)})(t);var n}};return t}function Bo(e){return e=>{let t=0,n=null;const r=[];return{subscribe:o=>(t++,r.push(o),n||(n=e.subscribe({next(e){for(const t of r)t.next?.(e)},error(e){for(const t of r)t.error?.(e)},complete(){for(const e of r)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&n){const e=n;n=null,e.unsubscribe()}}();const e=r.findIndex((e=>e===o));e>-1&&r.splice(e,1)}})}}}class $o extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,$o.prototype)}}function Uo(e){return zo((t=>{const n=function t(n=0,r=e.op){const o=e.links[n];if(!o)throw new Error("No more links to execute - did you forget to add an ending link?");return o({op:r,next:e=>t(n+1,e)})}();return n.subscribe(t)}))}function Vo(e){const t=Object.create(null);for(const n in e){t[e[n]]=n}return t}const Ho={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};Vo(Ho),Vo(Ho);const Wo=()=>{};function qo(e,t){const n=new Proxy(Wo,{get(n,r){if("string"==typeof r&&"then"!==r)return qo(e,[...t,r])},apply(n,r,o){const i="apply"===t[t.length-1];return e({args:i?o.length>=2?o[1]:[]:o,path:i?t.slice(0,-1):t})}});return n}const Go=e=>qo(e,[]),Ko=e=>new Proxy(Wo,{get(t,n){if("string"==typeof n&&"then"!==n)return e(n)}});class Xo extends Error{}function Yo(e){if(e instanceof Error)return e;const t=typeof e;if("undefined"!==t&&"function"!==t&&null!==e){if("object"!==t)return new Error(String(e));if(function(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}(e)){const t=new Xo;for(const n in e)t[n]=e[n];return t}}}function Zo(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class Jo extends Error{constructor(){super("Unable to transform response from server")}}function Qo(e,t){let n;try{n=function(e,t){if("error"in e){const n=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:n}}}return{ok:!0,result:{...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}(e,t)}catch(e){throw new Jo}if(!(n.ok||Zo(n.error.error)&&"number"==typeof n.error.error.code))throw new Jo;if(n.ok&&!Zo(n.result))throw new Jo;return n}class ei extends Error{static from(e,t={}){const n=e;return function(e){return e instanceof ei||e instanceof Error&&"TRPCClientError"===e.name}(n)?(t.meta&&(n.meta={...n.meta,...t.meta}),n):Zo(r=n)&&Zo(r.error)&&"number"==typeof r.error.code&&"string"==typeof r.error.message?new ei(n.error.message,{...t,result:n}):n instanceof Error?new ei(n.message,{...t,cause:Yo(n)}):new ei("Unknown error",{...t,cause:n});var r}constructor(e,t){const n=t?.cause;super(e,{cause:n}),this.meta=t?.meta,this.cause=n,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,ei.prototype)}}const ti=e=>"function"==typeof e;function ni(e){return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:(t=e.AbortController,t||("undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null))};var t}const ri={query:"GET",mutation:"POST"};function oi(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];t[n]=r}return t}(e.inputs.map((t=>e.runtime.transformer.serialize(t))))}const ii=e=>{let t=e.url+"/"+e.path;const n=[];if("inputs"in e&&n.push("batch=1"),"query"===e.type){const t=oi(e);void 0!==t&&n.push(`input=${encodeURIComponent(JSON.stringify(t))}`)}return n.length&&(t+="?"+n.join("&")),t},ai=e=>{if("query"===e.type)return;const t=oi(e);return void 0!==t?JSON.stringify(t):void 0},si=e=>ci({...e,contentTypeHeader:"application/json",getUrl:ii,getBody:ai});async function li(e,t){const n=e.getUrl(e),r=e.getBody(e),{type:o}=e,i=await e.headers();
/* istanbul ignore if -- @preserve */if("subscription"===o)throw new Error("Subscriptions should use wsLink");const a={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...i};return function(e){if(e)return e;if("undefined"!=typeof window&&ti(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&ti(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}(e.fetch)(n,{method:ri[o],signal:t?.signal,body:r,headers:a})}function ci(e){const t=e.AbortController?new e.AbortController:null,n={};let r=!1;const o=new Promise(((o,i)=>{li(e,t).then((e=>(n.response=e,r=!0,e.json()))).then((e=>{n.responseJSON=e,o({json:e,meta:n})})).catch((e=>{r=!0,i(ei.from(e,{meta:n}))}))}));return{promise:o,cancel:()=>{r||t?.abort()}}}const ui=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function di(e){let t=null,n=null;function r(){const r=function(t){const n=[[]];let r=0;for(;;){const o=t[r];if(!o)break;const i=n[n.length-1];if(o.aborted){o.reject?.(new Error("Aborted")),r++;continue}const a=e.validate(i.concat(o).map((e=>e.key)));a?(i.push(o),r++):0!==i.length?n.push([]):(o.reject?.(new Error("Input is too big for a single dispatch")),r++)}return n}(t);clearTimeout(n),n=null,t=null;for(const t of r){if(!t.length)continue;const n={items:t,cancel:ui};for(const e of t)e.batch=n;const r=(e,t)=>{const r=n.items[e];r.resolve?.(t),r.batch=null,r.reject=null,r.resolve=null},{promise:o,cancel:i}=e.fetch(n.items.map((e=>e.key)),r);n.cancel=i,o.then((e=>{for(let t=0;t<e.length;t++){const n=e[t];r(t,n)}for(const e of n.items)e.reject?.(new Error("Missing result")),e.batch=null})).catch((e=>{for(const t of n.items)t.reject?.(e),t.batch=null}))}}return{load:function(e){const o={aborted:!1,key:e,batch:null,resolve:ui,reject:ui},i=new Promise(((e,n)=>{o.reject=n,o.resolve=e,t||(t=[]),t.push(o)}));return n||(n=setTimeout(r)),{promise:i,cancel:()=>{o.aborted=!0,o.batch?.items.every((e=>e.aborted))&&(o.batch.cancel(),o.batch=null)}}}}}function fi(e){return function(t){const n=ni(t),r=t.maxURLLength??1/0;return o=>{const i=i=>({validate:e=>{if(r===1/0)return!0;const t=e.map((e=>e.path)).join(","),a=e.map((e=>e.input));return ii({...n,runtime:o,type:i,path:t,inputs:a}).length<=r},fetch:e({...n,runtime:o,type:i,opts:t})}),a=di(i("query")),s=di(i("mutation")),l={query:a,subscription:di(i("subscription")),mutation:s};return({op:e})=>zo((t=>{const n=l[e.type],{promise:r,cancel:i}=n.load(e);let a;return r.then((e=>{a=e;const n=Qo(e.json,o);n.ok?(t.next({context:e.meta,result:n.result}),t.complete()):t.error(ei.from(n.error,{meta:e.meta}))})).catch((e=>{t.error(ei.from(e,{meta:a?.meta}))})),()=>{i()}}))}}}const pi=fi((e=>t=>{const n=t.map((e=>e.path)).join(","),r=t.map((e=>e.input)),{promise:o,cancel:i}=si({...e,path:n,inputs:r,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:o.then((e=>(Array.isArray(e.json)?e.json:t.map((()=>e.json))).map((t=>({meta:e.meta,json:t}))))),cancel:i}}));function hi(e){return t=>{const n=ni(t);return r=>({op:o})=>zo((i=>{const{path:a,input:s,type:l}=o,{promise:c,cancel:u}=e.requester({...n,runtime:r,type:l,path:a,input:s,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:o}):t.headers:{}});let d;return c.then((e=>{d=e.meta;const t=Qo(e.json,r);t.ok?(i.next({context:e.meta,result:t.result}),i.complete()):i.error(ei.from(t.error,{meta:d}))})).catch((e=>{i.error(ei.from(e,{meta:d}))})),()=>{u()}}))}}hi({requester:si});Error;class mi{$request({type:e,input:t,path:n,context:r={}}){return Uo({links:this.links,op:{id:++this.requestId,type:e,path:n,input:t,context:r}}).pipe(Bo())}requestAsPromise(e){const t=this.$request(e),{promise:n,abort:r}=function(e){let t;return{promise:new Promise(((n,r)=>{let o=!1;function i(){o||(o=!0,r(new $o("This operation was aborted.")),a.unsubscribe())}const a=e.subscribe({next(e){o=!0,n(e),i()},error(e){o=!0,r(e),i()},complete(){o=!0,i()}});t=i})),abort:t}}(t),o=new Promise(((t,o)=>{e.signal?.addEventListener("abort",r),n.then((e=>{t(e.result.data)})).catch((e=>{o(ei.from(e))}))}));return o}query(e,t,n){return this.requestAsPromise({type:"query",path:e,input:t,context:n?.context,signal:n?.signal})}mutation(e,t,n){return this.requestAsPromise({type:"mutation",path:e,input:t,context:n?.context,signal:n?.signal})}subscription(e,t,n){return this.$request({type:"subscription",path:e,input:t,context:n?.context}).subscribe({next(e){"started"===e.result.type?n.onStarted?.():"stopped"===e.result.type?n.onStopped?.():n.onData?.(e.result.data)},error(e){n.onError?.(e)},complete(){n.onComplete?.()}})}constructor(e){this.requestId=0;const t=(()=>{const t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map((e=>e(this.runtime)))}}const vi={query:"query",mutate:"mutation",subscribe:"subscription"};function gi(e){return Ko((t=>e.hasOwnProperty(t)?e[t]:"__untypedClient"===t?e:Go((({path:n,args:r})=>{const o=[t,...n],i=(a=o.pop(),vi[a]);var a;const s=o.join(".");return e[i](s,...r)}))))}async function yi(e){const t=e.parse??JSON.parse;await async function(e,t,n){let r="";const o=e=>{const o=n.decode(e).split("\n");if(1===o.length)r+=o[0];else if(o.length>1){t(r+o[0]);for(let e=1;e<o.length-1;e++)t(o[e]);r=o[o.length-1]}};"getReader"in e?await async function(e,t){const n=e.getReader();let r=await n.read();for(;!r.done;)t(r.value),r=await n.read()}(e,o):await function(e,t){return new Promise((n=>{e.on("data",t),e.on("end",n)}))}(e,o);t(r)}(e.readableStream,(n=>{if(e.signal?.aborted)return;if(!n||"}"===n)return;const r=n.indexOf(":"),o=n.substring(2,r-1),i=n.substring(r+1);e.onSingle(Number(o),t(i))}),e.textDecoder)}fi((e=>{const t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(n,r)=>{const o=n.map((e=>e.path)).join(","),i=n.map((e=>e.input)),{cancel:a,promise:s}=((e,t)=>{const n=e.AbortController?new e.AbortController:null,r=li({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:ii,getBody:ai},n).then((async r=>{if(!r.body)throw new Error("Received response without body");const o={response:r};return yi({readableStream:r.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:o}),signal:n?.signal,textDecoder:e.textDecoder})}));return{cancel:()=>n?.abort(),promise:r}})({...e,textDecoder:t,path:o,inputs:i,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:n}):e.opts.headers:{}},((e,t)=>{r(e,t)}));return{promise:s.then((()=>[])),cancel:a}}}));const bi=e=>{if("input"in e){if(!(e.input instanceof FormData))throw new Error("Input is not FormData");return e.input}};hi({requester:e=>{if("mutation"!==e.type)throw new Error("We only handle mutations with formdata");return ci({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:bi})}});function wi(e,t){const n=Array.isArray(e)?e:[e],[r,o]=n,i="string"!=typeof r||""===r?[]:r.split(".");return o||t&&"any"!==t?[i,{...void 0!==o&&{input:o},...t&&"any"!==t&&{type:t}}]:i.length?[i]:[]}const xi="undefined"==typeof window||"Deno"in window;function Si(){}function ki(e){return"number"==typeof e&&e>=0&&e!==1/0}function Ei(e,t){return e.filter((e=>!t.includes(e)))}function Oi(e,t,n){return Ni(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function ji(e){return JSON.stringify(e,((e,t)=>Pi(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function _i(e,t){if(e===t)return e;const n=Ti(e)&&Ti(t);if(n||Pi(e)&&Pi(t)){const r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,a=n?[]:{};let s=0;for(let r=0;r<i;r++){const i=n?r:o[r];a[i]=_i(e[i],t[i]),a[i]===e[i]&&s++}return r===i&&s===r?e:a}return t}function Ci(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ti(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pi(e){if(!Ai(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!Ai(n)&&!!n.hasOwnProperty("isPrototypeOf")}function Ai(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ni(e){return Array.isArray(e)}function Mi(e){return new Promise((t=>{setTimeout(t,e)}))}function Ii(e){Mi(0).then(e)}function Ri(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?_i(e,t):t}const Li=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()};const o=r=>{t?e.push(r):Ii((()=>{n(r)}))},i=()=>{const t=e;e=[],t.length&&Ii((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))};return{batch:e=>{let n;t++;try{n=e()}finally{t--,t||i()}return n},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e}}}();class Di{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Fi=new class extends Di{constructor(){super(),this.setup=e=>{if(!xi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach((({listener:e})=>{e()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},zi=["online","offline"];const Bi=new class extends Di{constructor(){super(),this.setup=e=>{if(!xi&&window.addEventListener){const t=()=>e();return zi.forEach((e=>{window.addEventListener(e,t,!1)})),()=>{zi.forEach((e=>{window.removeEventListener(e,t)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()}))}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach((({listener:e})=>{e()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function $i(e){return"online"!==(null!=e?e:"online")||Bi.isOnline()}class Ui{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}class Vi extends Di{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),Hi(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Wi(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Wi(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){const n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),Ci(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const o=this.hasListeners();o&&qi(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!o||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();const i=this.computeRefetchInterval();!o||this.currentQuery===r&&this.options.enabled===n.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)}getOptimisticResult(e){const t=this.client.getQueryCache().build(this.client,e),n=this.createResult(t,e);return function(e,t,n){if(n.keepPreviousData)return!1;if(void 0!==n.placeholderData)return t.isPlaceholderData;if(!Ci(e.getCurrentResult(),t))return!0;return!1}(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const t={};return Object.keys(e).forEach((n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})})),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){const t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then((()=>this.createResult(n,t)))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(Si)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),xi||this.currentResult.isStale||!ki(this.options.staleTime))return;var e,t;const n=(e=this.currentResult.dataUpdatedAt,t=this.options.staleTime,Math.max(e+(t||0)-Date.now(),0))+1;this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),n)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!xi&&!1!==this.options.enabled&&ki(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||Fi.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){const n=this.currentQuery,r=this.options,o=this.currentResult,i=this.currentResultState,a=this.currentResultOptions,s=e!==n,l=s?e.state:this.currentQueryInitialState,c=s?this.currentResult:this.previousQueryResult,{state:u}=e;let d,{dataUpdatedAt:f,error:p,errorUpdatedAt:h,fetchStatus:m,status:v}=u,g=!1,y=!1;if(t._optimisticResults){const o=this.hasListeners(),i=!o&&Hi(e,t),a=o&&qi(e,n,t,r);(i||a)&&(m=$i(e.options.networkMode)?"fetching":"paused",f||(v="loading")),"isRestoring"===t._optimisticResults&&(m="idle")}if(t.keepPreviousData&&!u.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==v)d=c.data,f=c.dataUpdatedAt,v=c.status,g=!0;else if(t.select&&void 0!==u.data)if(o&&u.data===(null==i?void 0:i.data)&&t.select===this.selectFn)d=this.selectResult;else try{this.selectFn=t.select,d=t.select(u.data),d=Ri(null==o?void 0:o.data,d,t),this.selectResult=d,this.selectError=null}catch(e){0,this.selectError=e}else d=u.data;if(void 0!==t.placeholderData&&void 0===d&&"loading"===v){let e;if(null!=o&&o.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.selectError=null}catch(e){0,this.selectError=e}void 0!==e&&(v="success",d=Ri(null==o?void 0:o.data,e,t),y=!0)}this.selectError&&(p=this.selectError,d=this.selectResult,h=Date.now(),v="error");const b="fetching"===m,w="loading"===v,x="error"===v;return{status:v,fetchStatus:m,isLoading:w,isSuccess:"success"===v,isError:x,isInitialLoading:w&&b,data:d,dataUpdatedAt:f,error:p,errorUpdatedAt:h,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>l.dataUpdateCount||u.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:x&&0===u.dataUpdatedAt,isPaused:"paused"===m,isPlaceholderData:y,isPreviousData:g,isRefetchError:x&&0!==u.dataUpdatedAt,isStale:Gi(e,t),refetch:this.refetch,remove:this.remove}}updateResult(e){const t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,Ci(n,t))return;this.currentResult=n;const r={cache:!0};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,n="function"==typeof e?e():e;if("all"===n||!n&&!this.trackedProps.size)return!0;const r=new Set(null!=n?n:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some((e=>{const n=e;return this.currentResult[n]!==t[n]&&r.has(n)}))})()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||function(e){return e instanceof Ui}(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){Li.batch((()=>{var t,n,r,o;if(e.onSuccess)null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(r=(o=this.options).onSettled)||r.call(o,this.currentResult.data,null);else if(e.onError){var i,a,s,l;null==(i=(a=this.options).onError)||i.call(a,this.currentResult.error),null==(s=(l=this.options).onSettled)||s.call(l,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach((({listener:e})=>{e(this.currentResult)})),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function Hi(e,t){return function(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&Wi(e,t,t.refetchOnMount)}function Wi(e,t,n){if(!1!==t.enabled){const r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&Gi(e,t)}return!1}function qi(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&Gi(e,n)}function Gi(e,t){return e.isStaleByTime(t.staleTime)}const Ki=o(9888).useSyncExternalStore;function Xi(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Yi=n.createContext(Xi()),Zi=()=>n.useContext(Yi),Ji=n.createContext(void 0),Qi=n.createContext(!1);function ea(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Ji),window.ReactQueryClientContext):Ji)}const ta=({context:e}={})=>{const t=n.useContext(ea(e,n.useContext(Qi)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},na=n.createContext(!1),ra=()=>n.useContext(na);na.Provider;function oa(e,t){return"function"==typeof e?e(...t):!!e}const ia=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},aa=e=>{n.useEffect((()=>{e.clearReset()}),[e])},sa=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&oa(n,[e.error,r]),la=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},ca=(e,t)=>e.isLoading&&e.isFetching&&!t,ua=(e,t,n)=>(null==e?void 0:e.suspense)&&ca(t,n),da=(e,t,n)=>t.fetchOptimistic(e).then((({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)})).catch((t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}));function fa(e,t){const r=ta({context:e.context}),o=ra(),i=Zi(),a=r.defaultQueryOptions(e);a._optimisticResults=o?"isRestoring":"optimistic",a.onError&&(a.onError=Li.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=Li.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=Li.batchCalls(a.onSettled)),la(a),ia(a,i),aa(i);const[s]=n.useState((()=>new t(r,a))),l=s.getOptimisticResult(a);if(Ki(n.useCallback((e=>{const t=o?()=>{}:s.subscribe(Li.batchCalls(e));return s.updateResult(),t}),[s,o]),(()=>s.getCurrentResult()),(()=>s.getCurrentResult())),n.useEffect((()=>{s.setOptions(a,{listeners:!1})}),[a,s]),ua(a,l,o))throw da(a,s,i);if(sa({result:l,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:s.getCurrentQuery()}))throw l.error;return a.notifyOnChangeProps?l:s.trackResult(l)}console;class pa extends Di{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=this.client.defaultMutationOptions(e),Ci(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){Li.batch((()=>{var t,n,r,o;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(o=this.mutateOptions).onSettled)||r.call(o,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var i,a,s,l;null==(i=(a=this.mutateOptions).onError)||i.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(s=(l=this.mutateOptions).onSettled)||s.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((({listener:e})=>{e(this.currentResult)}))}))}}function ha(e,t,r){const o=function(e,t,n){return Ni(e)?"function"==typeof t?{...n,mutationKey:e,mutationFn:t}:{...t,mutationKey:e}:"function"==typeof e?{...t,mutationFn:e}:{...e}}(e,t,r),i=ta({context:o.context}),[a]=n.useState((()=>new pa(i,o)));n.useEffect((()=>{a.setOptions(o)}),[a,o]);const s=Ki(n.useCallback((e=>a.subscribe(Li.batchCalls(e))),[a]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),l=n.useCallback(((e,t)=>{a.mutate(e,t).catch(ma)}),[a]);if(s.error&&oa(a.options.useErrorBoundary,[s.error]))throw s.error;return{...s,mutate:l,mutateAsync:s.mutate}}function ma(){}function va(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,o,i,a;const s=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(o=r.meta)?void 0:o.fetchMore,c=null==l?void 0:l.pageParam,u="forward"===(null==l?void 0:l.direction),d="backward"===(null==l?void 0:l.direction),f=(null==(i=e.state.data)?void 0:i.pages)||[],p=(null==(a=e.state.data)?void 0:a.pageParams)||[];let h=p,m=!1;const v=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),g=(e,t,n,r)=>(h=r?[t,...h]:[...h,t],r?[n,...e]:[...e,n]),y=(t,n,r,o)=>{if(m)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};(t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?m=!0:null==(n=e.signal)||n.addEventListener("abort",(()=>{m=!0})),e.signal}})})(i);const a=v(i);return Promise.resolve(a).then((e=>g(t,r,e,o)))};let b;if(f.length)if(u){const t=void 0!==c,n=t?c:ga(e.options,f);b=y(f,t,n)}else if(d){const t=void 0!==c,n=t?c:ya(e.options,f);b=y(f,t,n,!0)}else{h=[];const t=void 0===e.options.getNextPageParam;b=!s||!f[0]||s(f[0],0,f)?y([],t,p[0]):Promise.resolve(g([],p[0],f[0]));for(let n=1;n<f.length;n++)b=b.then((r=>{if(!s||!f[n]||s(f[n],n,f)){const o=t?p[n]:ga(e.options,r);return y(r,t,o)}return Promise.resolve(g(r,p[n],f[n]))}))}else b=y([]);return b.then((e=>({pages:e,pageParams:h})))}}}}function ga(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function ya(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}function ba(e,t){if(e.getNextPageParam&&Array.isArray(t)){const n=ga(e,t);return null!=n&&!1!==n}}function wa(e,t){if(e.getPreviousPageParam&&Array.isArray(t)){const n=ya(e,t);return null!=n&&!1!==n}}class xa extends Vi{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:va()},t)}getOptimisticResult(e){return e.behavior=va(),super.getOptimisticResult(e)}fetchNextPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"forward",pageParam:e}}})}fetchPreviousPage({pageParam:e,...t}={}){return this.fetch({...t,meta:{fetchMore:{direction:"backward",pageParam:e}}})}createResult(e,t){var n,r,o,i,a,s;const{state:l}=e,c=super.createResult(e,t),{isFetching:u,isRefetching:d}=c,f=u&&"forward"===(null==(n=l.fetchMeta)||null==(r=n.fetchMore)?void 0:r.direction),p=u&&"backward"===(null==(o=l.fetchMeta)||null==(i=o.fetchMore)?void 0:i.direction);return{...c,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ba(t,null==(a=l.data)?void 0:a.pages),hasPreviousPage:wa(t,null==(s=l.data)?void 0:s.pages),isFetchingNextPage:f,isFetchingPreviousPage:p,isRefetching:d&&!f&&!p}}}class Sa extends Di{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.size&&this.observers.forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))}))}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach((e=>{e.destroy()}))}setQueries(e,t){this.queries=e,Li.batch((()=>{const e=this.observers,n=this.findMatchingObservers(this.queries);n.forEach((e=>e.observer.setOptions(e.defaultedQueryOptions,t)));const r=n.map((e=>e.observer)),o=Object.fromEntries(r.map((e=>[e.options.queryHash,e]))),i=r.map((e=>e.getCurrentResult())),a=r.some(((t,n)=>t!==e[n]));(e.length!==r.length||a)&&(this.observers=r,this.observersMap=o,this.result=i,this.hasListeners()&&(Ei(e,r).forEach((e=>{e.destroy()})),Ei(r,e).forEach((e=>{e.subscribe((t=>{this.onUpdate(e,t)}))})),this.notify()))}))}getCurrentResult(){return this.result}getQueries(){return this.observers.map((e=>e.getCurrentQuery()))}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map((e=>e.observer.getOptimisticResult(e.defaultedQueryOptions)))}findMatchingObservers(e){const t=this.observers,n=new Map(t.map((e=>[e.options.queryHash,e]))),r=e.map((e=>this.client.defaultQueryOptions(e))),o=r.flatMap((e=>{const t=n.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),i=new Set(o.map((e=>e.defaultedQueryOptions.queryHash))),a=r.filter((e=>!i.has(e.queryHash))),s=new Set(o.map((e=>e.observer))),l=t.filter((e=>!s.has(e))),c=e=>{const t=this.client.defaultQueryOptions(e),n=this.observersMap[t.queryHash];return null!=n?n:new Vi(this.client,t)},u=a.map(((e,t)=>{if(e.keepPreviousData){const n=l[t];if(void 0!==n)return{defaultedQueryOptions:e,observer:n}}return{defaultedQueryOptions:e,observer:c(e)}}));return o.concat(u).sort(((e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions)))}onUpdate(e,t){const n=this.observers.indexOf(e);-1!==n&&(this.result=function(e,t,n){const r=e.slice(0);return r[t]=n,r}(this.result,n,t),this.notify())}notify(){Li.batch((()=>{this.listeners.forEach((({listener:e})=>{e(this.result)}))}))}}function ka(e,t){return e.length?void 0===t?[e]:[e,t]:[]}const Ea=["client","ssrContext","ssrState","abortOnUnmount"],Oa=(0,n.createContext)(null);function ja(e,t){const[n,r]=e;return[n,r,t?.trpc]}function _a(e){const{path:t}=e;return(0,n.useMemo)((()=>({path:t})),[t])}function Ca(e){const t=(e?.overrides??e?.unstable_overrides)?.useMutation?.onSuccess??(e=>e.originalFn()),r=e?.context??Oa,o=e?.reactQueryContext;function i(){return n.useContext(r)}function a(e,t,n){const{queryClient:r,ssrState:o}=i();return o&&"mounted"!==o&&"error"===r.getQueryCache().find(wi(e,t))?.state.status?{retryOnMount:!1,...n}:n}return{Provider:e=>{const{abortOnUnmount:t=!1,client:o,queryClient:i,ssrContext:a}=e,[s,l]=(0,n.useState)(e.ssrState??!1);return(0,n.useEffect)((()=>{l((e=>!!e&&"mounted"))}),[]),n.createElement(r.Provider,{value:{abortOnUnmount:t,queryClient:i,client:o,ssrContext:a??null,ssrState:s,fetchQuery:(0,n.useCallback)(((e,t)=>i.fetchQuery({...t,queryKey:wi(e,"query"),queryFn:()=>o.query(...ja(e,t))})),[o,i]),fetchInfiniteQuery:(0,n.useCallback)(((e,t)=>i.fetchInfiniteQuery({...t,queryKey:wi(e,"infinite"),queryFn:({pageParam:n})=>{const[r,i]=e,a={...i,cursor:n};return o.query(...ja([r,a],t))}})),[o,i]),prefetchQuery:(0,n.useCallback)(((e,t)=>i.prefetchQuery({...t,queryKey:wi(e,"query"),queryFn:()=>o.query(...ja(e,t))})),[o,i]),prefetchInfiniteQuery:(0,n.useCallback)(((e,t)=>i.prefetchInfiniteQuery({...t,queryKey:wi(e,"infinite"),queryFn:({pageParam:n})=>{const[r,i]=e,a={...i,cursor:n};return o.query(...ja([r,a],t))}})),[o,i]),ensureQueryData:(0,n.useCallback)(((e,t)=>i.ensureQueryData({...t,queryKey:wi(e,"query"),queryFn:()=>o.query(...ja(e,t))})),[o,i]),invalidateQueries:(0,n.useCallback)(((e,t,n)=>i.invalidateQueries({...t,queryKey:wi(e,"any")},n)),[i]),resetQueries:(0,n.useCallback)(((...e)=>{const[t,n,r]=e;return i.resetQueries({...n,queryKey:wi(t,"any")},r)}),[i]),refetchQueries:(0,n.useCallback)(((...e)=>{const[t,n,r]=e;return i.refetchQueries({...n,queryKey:wi(t,"any")},r)}),[i]),cancelQuery:(0,n.useCallback)((e=>i.cancelQueries({queryKey:wi(e,"any")})),[i]),setQueryData:(0,n.useCallback)(((...e)=>{const[t,...n]=e;return i.setQueryData(wi(t,"query"),...n)}),[i]),getQueryData:(0,n.useCallback)(((...e)=>{const[t,...n]=e;return i.getQueryData(wi(t,"query"),...n)}),[i]),setInfiniteQueryData:(0,n.useCallback)(((...e)=>{const[t,...n]=e;return i.setQueryData(wi(t,"infinite"),...n)}),[i]),getInfiniteQueryData:(0,n.useCallback)(((...e)=>{const[t,...n]=e;return i.getQueryData(wi(t,"infinite"),...n)}),[i])}},e.children)},createClient:e=>function(e){return new mi(e)}(e),useContext:i,useUtils:i,useQuery:function(t,n){const r=i();if(!r)throw new Error("Unable to retrieve application context. Did you forget to wrap your App inside `withTRPC` HoC?");const{abortOnUnmount:s,client:l,ssrState:c,queryClient:u,prefetchQuery:d}=r,f=u.getQueryDefaults(wi(t,"query"));"undefined"!=typeof window||"prepass"!==c||!1===n?.trpc?.ssr||!1===(n?.enabled??f?.enabled)||u.getQueryCache().find(wi(t,"query"))||d(t,n);const p=a(t,"query",{...f,...n}),h=n?.trpc?.abortOnUnmount??e?.abortOnUnmount??s,m=fa(Oi({...p,queryKey:wi(t,"query"),queryFn:e=>{const n={...p,trpc:{...p?.trpc,...h?{signal:e.signal}:{}}};return l.query(...ja(t,n))},context:o},v,g),Vi);var v,g;return m.trpc=_a({path:t[0]}),m},useQueries:(e,t)=>{const{ssrState:r,queryClient:o,prefetchQuery:a,client:s}=i(),l=function(e){return Go((t=>{const n=t.path.join("."),[r,o]=t.args;return{queryKey:ka(n,r),queryFn:()=>e.query(n,r,o?.trpc),...o}}))}(s),c=e(l);if("undefined"==typeof window&&"prepass"===r)for(const e of c){const t=e;!1===t.trpc?.ssr||o.getQueryCache().find(wi(t.queryKey,"query"))||a(t.queryKey,t)}return function({queries:e,context:t}){const r=ta({context:t}),o=ra(),i=Zi(),a=n.useMemo((()=>e.map((e=>{const t=r.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}))),[e,r,o]);a.forEach((e=>{la(e),ia(e,i)})),aa(i);const[s]=n.useState((()=>new Sa(r,a))),l=s.getOptimisticResult(a);Ki(n.useCallback((e=>o?()=>{}:s.subscribe(Li.batchCalls(e))),[s,o]),(()=>s.getCurrentResult()),(()=>s.getCurrentResult())),n.useEffect((()=>{s.setQueries(a,{listeners:!1})}),[a,s]);const c=l.some(((e,t)=>ua(a[t],e,o))),u=c?l.flatMap(((e,t)=>{const n=a[t],r=s.getObservers()[t];if(n&&r){if(ua(n,e,o))return da(n,r,i);ca(e,o)&&da(n,r,i)}return[]})):[];if(u.length>0)throw Promise.all(u);const d=s.getQueries(),f=l.find(((e,t)=>{var n,r;return sa({result:e,errorResetBoundary:i,useErrorBoundary:null!=(n=null==(r=a[t])?void 0:r.useErrorBoundary)&&n,query:d[t]})}));if(null!=f&&f.error)throw f.error;return l}({queries:c.map((e=>({...e,queryKey:wi(e.queryKey,"query")}))),context:t})},useMutation:function(e,n){const{client:r}=i(),a=ta({context:o}),s=Array.isArray(e)?e[0]:e,l=a.getMutationDefaults([s.split(".")]),c=ha({...n,mutationKey:[s.split(".")],mutationFn:e=>r.mutation(...ja([s,e],n)),context:o,onSuccess:(...e)=>t({originalFn:()=>n?.onSuccess?.(...e)??l?.onSuccess?.(...e),queryClient:a,meta:n?.meta??l?.meta??{}})});return c.trpc=_a({path:s}),c}
/* istanbul ignore next -- @preserve */,useSubscription:function(e,t){const r=t?.enabled??!0,o=ji(e),{client:a}=i(),s=(0,n.useRef)(t);s.current=t,(0,n.useEffect)((()=>{if(!r)return;const[t,n]=e;let o=!1;const i=a.subscription(t,n??void 0,{onStarted:()=>{o||s.current.onStarted?.()},onData:e=>{o||s.current.onData(e)},onError:e=>{o||s.current.onError?.(e)}});return()=>{o=!0,i.unsubscribe()}}),[o,r])},useDehydratedState:(e,t)=>(0,n.useMemo)((()=>t?e.runtime.transformer.deserialize(t):t),[t,e]),useInfiniteQuery:function(e,t){const[n,r]=e,{client:s,ssrState:l,prefetchInfiniteQuery:c,queryClient:u,abortOnUnmount:d}=i(),f=u.getQueryDefaults(wi(e,"infinite"));"undefined"!=typeof window||"prepass"!==l||!1===t?.trpc?.ssr||!1===(t?.enabled??f?.enabled)||u.getQueryCache().find(wi(e,"infinite"))||c(e,{...f,...t});const p=a(e,"infinite",{...f,...t}),h=t?.trpc?.abortOnUnmount??d,m=fa(Oi({...p,queryKey:wi(e,"infinite"),queryFn:e=>{const o={...p,trpc:{...p?.trpc,...h?{signal:e.signal}:{}}},i={...r??{},cursor:e.pageParam??t?.initialCursor};return s.query(...ja([n,i],o))},context:o},v,g),xa);var v,g;return m.trpc=_a({path:n}),m}}}function Ta(e){return Ko((t=>{return"useContext"===t||"useUtils"===t?()=>{const t=e.useUtils();return(0,n.useMemo)((()=>function(e){return Ko((t=>{const n=t;return"client"===n?gi(e.client):Ea.includes(n)?e[n]:Go((({path:n,args:r})=>{const o=[t,...n],i=o.pop(),a=o.join("."),{queryKey:s,rest:l,updater:c}=(e=>{if(["setData","setInfiniteData"].includes(e)){const[e,t,...n]=r;return{queryKey:ka(a,e),updater:t,rest:n}}const[t,...n]=r;return{queryKey:ka(a,t),rest:n}})(i);return{fetch:()=>e.fetchQuery(s,...l),fetchInfinite:()=>e.fetchInfiniteQuery(s,...l),prefetch:()=>e.prefetchQuery(s,...l),prefetchInfinite:()=>e.prefetchInfiniteQuery(s,...l),ensureData:()=>e.ensureQueryData(s,...l),invalidate:()=>e.invalidateQueries(s,...l),reset:()=>e.resetQueries(s,...l),refetch:()=>e.refetchQueries(s,...l),cancel:()=>e.cancelQuery(s,...l),setData:()=>{e.setQueryData(s,c,...l)},setInfiniteData:()=>{e.setInfiniteQueryData(s,c,...l)},getData:()=>e.getQueryData(s),getInfiniteData:()=>e.getInfiniteQueryData(s)}[i]()}))}))}(t)),[t])}:e.hasOwnProperty(t)?e[t]:(r=t,o=e,Go((e=>{const t=e.args,n=[r,...e.path],i=n.pop(),a=n.join(".");if("useMutation"===i)return o[i](a,...t);const[s,...l]=t,c=ka(a,s);if("getQueryKey"===i)return wi(c,l[0]??"any");if("_def"===i)return{path:n};if(i.startsWith("useSuspense")){const e=l[0]||{},t=o["useSuspenseQuery"===i?"useQuery":"useInfiniteQuery"](c,{...e,suspense:!0,enabled:!0});return[t.data,t]}return o[i](c,...l)})));var r,o}))}var Pa=function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)},e.prototype.getByKey=function(e){return this.keyToValue.get(e)},e.prototype.getByValue=function(e){return this.valueToKey.get(e)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e}(),Aa=function(){function e(e){this.generateIdentifier=e,this.kv=new Pa}return e.prototype.register=function(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},e.prototype.getValue=function(e){return this.kv.getByKey(e)},e}(),Na=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ma=function(e){function t(){var t=e.call(this,(function(e){return e.name}))||this;return t.classToAllowedProps=new Map,t}return Na(t,e),t.prototype.register=function(t,n){"object"==typeof n?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),e.prototype.register.call(this,t,n.identifier)):e.prototype.register.call(this,t,n)},t.prototype.getAllowedProps=function(e){return this.classToAllowedProps.get(e)},t}(Aa),Ia=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Ra(e,t){var n=function(e){if("values"in Object)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}(e);if("find"in n)return n.find(t);for(var r=n,o=0;o<r.length;o++){var i=r[o];if(t(i))return i}}function La(e,t){Object.entries(e).forEach((function(e){var n=Ia(e,2),r=n[0],o=n[1];return t(o,r)}))}function Da(e,t){return-1!==e.indexOf(t)}function Fa(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}}var za=function(){function e(){this.transfomers={}}return e.prototype.register=function(e){this.transfomers[e.name]=e},e.prototype.findApplicable=function(e){return Ra(this.transfomers,(function(t){return t.isApplicable(e)}))},e.prototype.findByName=function(e){return this.transfomers[e]},e}(),Ba=function(e){return void 0===e},$a=function(e){return"object"==typeof e&&null!==e&&(e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype))},Ua=function(e){return $a(e)&&0===Object.keys(e).length},Va=function(e){return Array.isArray(e)},Ha=function(e){return e instanceof Map},Wa=function(e){return e instanceof Set},qa=function(e){return"Symbol"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)},Ga=function(e){return"number"==typeof e&&isNaN(e)},Ka=function(e){return function(e){return"boolean"==typeof e}(e)||function(e){return null===e}(e)||Ba(e)||function(e){return"number"==typeof e&&!isNaN(e)}(e)||function(e){return"string"==typeof e}(e)||qa(e)},Xa=function(e){return e.replace(/\./g,"\\.")},Ya=function(e){return e.map(String).map(Xa).join(".")},Za=function(e){for(var t=[],n="",r=0;r<e.length;r++){var o=e.charAt(r);if("\\"===o&&"."===e.charAt(r+1))n+=".",r++;else"."===o?(t.push(n),n=""):n+=o}var i=n;return t.push(i),t},Ja=function(){return Ja=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ja.apply(this,arguments)},Qa=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},es=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function ts(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var ns=[ts(Ba,"undefined",(function(){return null}),(function(){})),ts((function(e){return"bigint"==typeof e}),"bigint",(function(e){return e.toString()}),(function(e){return"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)})),ts((function(e){return e instanceof Date&&!isNaN(e.valueOf())}),"Date",(function(e){return e.toISOString()}),(function(e){return new Date(e)})),ts((function(e){return e instanceof Error}),"Error",(function(e,t){var n={name:e.name,message:e.message};return t.allowedErrorProps.forEach((function(t){n[t]=e[t]})),n}),(function(e,t){var n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach((function(t){n[t]=e[t]})),n})),ts((function(e){return e instanceof RegExp}),"regexp",(function(e){return""+e}),(function(e){var t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)})),ts(Wa,"set",(function(e){return es([],Qa(e.values()))}),(function(e){return new Set(e)})),ts(Ha,"map",(function(e){return es([],Qa(e.entries()))}),(function(e){return new Map(e)})),ts((function(e){return Ga(e)||((t=e)===1/0||t===-1/0);var t}),"number",(function(e){return Ga(e)?"NaN":e>0?"Infinity":"-Infinity"}),Number),ts((function(e){return 0===e&&1/e==-1/0}),"number",(function(){return"-0"}),Number),ts((function(e){return e instanceof URL}),"URL",(function(e){return e.toString()}),(function(e){return new URL(e)}))];function rs(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var is=rs((function(e,t){return!!qa(e)&&!!t.symbolRegistry.getIdentifier(e)}),(function(e,t){return["symbol",t.symbolRegistry.getIdentifier(e)]}),(function(e){return e.description}),(function(e,t,n){var r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r})),as=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((function(e,t){return e[t.name]=t,e}),{}),ss=rs((function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),(function(e){return["typed-array",e.constructor.name]}),(function(e){return es([],Qa(e))}),(function(e,t){var n=as[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)}));function ls(e,t){return!!(null==e?void 0:e.constructor)&&!!t.classRegistry.getIdentifier(e.constructor)}var cs=rs(ls,(function(e,t){return["class",t.classRegistry.getIdentifier(e.constructor)]}),(function(e,t){var n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return Ja({},e);var r={};return n.forEach((function(t){r[t]=e[t]})),r}),(function(e,t,n){var r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)})),us=rs((function(e,t){return!!t.customTransformerRegistry.findApplicable(e)}),(function(e,t){return["custom",t.customTransformerRegistry.findApplicable(e).name]}),(function(e,t){return t.customTransformerRegistry.findApplicable(e).serialize(e)}),(function(e,t,n){var r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)})),ds=[cs,is,us,ss],fs=function(e,t){var n=Fa(ds,(function(n){return n.isApplicable(e,t)}));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};var r=Fa(ns,(function(n){return n.isApplicable(e,t)}));return r?{value:r.transform(e,t),type:r.annotation}:void 0},ps={};ns.forEach((function(e){ps[e.annotation]=e}));var hs=function(e,t){for(var n=e.keys();t>0;)n.next(),t--;return n.next().value};function ms(e){if(Da(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(Da(e,"prototype"))throw new Error("prototype is not allowed as a property");if(Da(e,"constructor"))throw new Error("constructor is not allowed as a property")}var vs=function(e,t,n){if(ms(t),0===t.length)return n(e);for(var r=e,o=0;o<t.length-1;o++){var i=t[o];if(Va(r))r=r[+i];else if($a(r))r=r[i];else if(Wa(r)){r=hs(r,a=+i)}else if(Ha(r)){if(o===t.length-2)break;var a=+i,s=0==+t[++o]?"key":"value",l=hs(r,a);switch(s){case"key":r=l;break;case"value":r=r.get(l)}}}var c=t[t.length-1];if(Va(r)?r[+c]=n(r[+c]):$a(r)&&(r[c]=n(r[c])),Wa(r)){var u=hs(r,+c),d=n(u);u!==d&&(r.delete(u),r.add(d))}if(Ha(r)){a=+t[t.length-2];var f=hs(r,a);switch(s=0==+c?"key":"value"){case"key":var p=n(f);r.set(p,r.get(f)),p!==f&&r.delete(f);break;case"value":r.set(f,n(r.get(f)))}}return e},gs=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ys=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e};function bs(e,t,n){if(void 0===n&&(n=[]),e)if(Va(e)){var r=gs(e,2),o=r[0],i=r[1];i&&La(i,(function(e,r){bs(e,t,ys(ys([],gs(n)),gs(Za(r))))})),t(o,n)}else La(e,(function(e,r){return bs(e,t,ys(ys([],gs(n)),gs(Za(r))))}))}function ws(e,t,n){return bs(t,(function(t,r){e=vs(e,r,(function(e){return function(e,t,n){if(!Va(t)){var r=ps[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}switch(t[0]){case"symbol":return is.untransform(e,t,n);case"class":return cs.untransform(e,t,n);case"custom":return us.untransform(e,t,n);case"typed-array":return ss.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}}(e,t,n)}))})),e}function xs(e,t){function n(t,n){var r=function(e,t){ms(t);for(var n=0;n<t.length;n++){var r=t[n];if(Wa(e))e=hs(e,+r);else if(Ha(e)){var o=+r,i=0==+t[++n]?"key":"value",a=hs(e,o);switch(i){case"key":e=a;break;case"value":e=e.get(a)}}else e=e[r]}return e}(e,Za(n));t.map(Za).forEach((function(t){e=vs(e,t,(function(){return r}))}))}if(Va(t)){var r=gs(t,2),o=r[0],i=r[1];o.forEach((function(t){e=vs(e,Za(t),(function(){return e}))})),i&&La(i,n)}else La(t,n);return e}var Ss=function(e,t,n,r,o,i,a){var s;void 0===o&&(o=[]),void 0===i&&(i=[]),void 0===a&&(a=new Map);var l=Ka(e);if(!l){!function(e,t,n){var r=n.get(e);r?r.push(t):n.set(e,[t])}(e,o,t);var c=a.get(e);if(c)return r?{transformedValue:null}:c}if(!function(e,t){return $a(e)||Va(e)||Ha(e)||Wa(e)||ls(e,t)}(e,n)){var u=fs(e,n),d=u?{transformedValue:u.value,annotations:[u.type]}:{transformedValue:e};return l||a.set(e,d),d}if(Da(i,e))return{transformedValue:null};var f=fs(e,n),p=null!==(s=null==f?void 0:f.value)&&void 0!==s?s:e,h=Va(p)?[]:{},m={};La(p,(function(s,l){var c=Ss(s,t,n,r,ys(ys([],gs(o)),[l]),ys(ys([],gs(i)),[e]),a);h[l]=c.transformedValue,Va(c.annotations)?m[l]=c.annotations:$a(c.annotations)&&La(c.annotations,(function(e,t){m[Xa(l)+"."+t]=e}))}));var v=Ua(m)?{transformedValue:h,annotations:f?[f.type]:void 0}:{transformedValue:h,annotations:f?[f.type,m]:m};return l||a.set(e,v),v};function ks(e){return Object.prototype.toString.call(e).slice(8,-1)}function Es(e){return"Array"===ks(e)}function Os(e){if("Object"!==ks(e))return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function js(e){return"Null"===ks(e)}function _s(e){return"Undefined"===ks(e)}function Cs(e,t={}){if(Es(e))return e.map((e=>Cs(e,t)));if(!Os(e))return e;return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce(((n,r)=>{if(Es(t.props)&&!t.props.includes(r))return n;return function(e,t,n,r,o){const i={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";"enumerable"===i&&(e[t]=n),o&&"nonenumerable"===i&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}(n,r,Cs(e[r],t),e,t.nonenumerable),n}),{})}var Ts=function(){return Ts=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ts.apply(this,arguments)},Ps=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},As=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e},Ns=function(){function e(e){var t=(void 0===e?{}:e).dedupe,n=void 0!==t&&t;this.classRegistry=new Ma,this.symbolRegistry=new Aa((function(e){var t;return null!==(t=e.description)&&void 0!==t?t:""})),this.customTransformerRegistry=new za,this.allowedErrorProps=[],this.dedupe=n}return e.prototype.serialize=function(e){var t=new Map,n=Ss(e,t,this,this.dedupe),r={json:n.transformedValue};n.annotations&&(r.meta=Ts(Ts({},r.meta),{values:n.annotations}));var o,i,a,s,l=(o=t,i=this.dedupe,a={},s=void 0,o.forEach((function(e){if(!(e.length<=1)){i||(e=e.map((function(e){return e.map(String)})).sort((function(e,t){return e.length-t.length})));var t=gs(e),n=t[0],r=t.slice(1);0===n.length?s=r.map(Ya):a[Ya(n)]=r.map(Ya)}})),s?Ua(a)?[s]:[s,a]:Ua(a)?void 0:a);return l&&(r.meta=Ts(Ts({},r.meta),{referentialEqualities:l})),r},e.prototype.deserialize=function(e){var t=e.json,n=e.meta,r=Cs(t);return(null==n?void 0:n.values)&&(r=ws(r,n.values,this)),(null==n?void 0:n.referentialEqualities)&&(r=xs(r,n.referentialEqualities)),r},e.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},e.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},e.prototype.registerClass=function(e,t){this.classRegistry.register(e,t)},e.prototype.registerSymbol=function(e,t){this.symbolRegistry.register(e,t)},e.prototype.registerCustom=function(e,t){this.customTransformerRegistry.register(Ts({name:t},e))},e.prototype.allowErrorProps=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.allowedErrorProps).push.apply(e,As([],Ps(t)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e}();const Ms=Ns;Ns.serialize,Ns.deserialize,Ns.stringify,Ns.parse,Ns.registerClass,Ns.registerCustom,Ns.registerSymbol,Ns.allowErrorProps;var Is,Rs,Ls,Ds=function(e){const t=function(e){return Ca(e)}(e);return Ta(t)}(),Fs=(Is={links:[pi({url:"/api/trpc",headers:function(){return(e=sessionStorage.getItem("integrated-auth"))?{"integrated-auth":e}:{};var e}})],transformer:Ms},gi(new mi(Is))),zs=function(e){return{reportingMode:(null==e?void 0:e.reportingMode)||"pass/incomplete",passingPercentage:(null==e?void 0:e.passingPercentage)||0,scoredContent:(null==e?void 0:e.scoredContent)||"all",scoredSectionId:(null==e?void 0:e.scoredSectionId)||void 0,assessmentRetries:(null==e?void 0:e.assessmentRetries)||0,completionCriteria:(null==e?void 0:e.completionCriteria)||"assessmentOnly",requireInteractives:(null==e?void 0:e.requireInteractives)||!1}},Bs=function(){var e=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings}));return zs(e)},$s=function(e,t){var n;return!(null===(n=e.data.options)||void 0===n||!n.every((function(e,n){var r;return e.correct===(null===(r=t.selected)||void 0===r?void 0:r.includes(n))})))},Us={textTile:function(){return null},noteTile:function(){return null},imageTile:function(){return null},flashcardsTile:function(){return null},questionTile:function(e,t){return t&&t.submitted?"questionTile"===e.type&&!e.data.graded&&t.submitted||$s(e,t)?1:0:null},videoTile:function(){return null},codeTile:function(){return null},embedTile:function(){return null},accordionTile:function(){return null},shortAnswerTile:function(e,t){var n=null==t?void 0:t.grade,r=null==t?void 0:t.inputValue;return n?"correct"===n?1:"incorrect"===n?0:"partial"===n?.5:null:r?1:0},rankingTile:function(e,t){if(!t)return null;if(!t.submitted)return null;if(!e.data.graded)return 1;var n=t.learnerOrder.every((function(t,n){var r;return(null===(r=e.data.items[n])||void 0===r?void 0:r.id)===t}));return n?1:0},matchingTile:function(e,t){var n,r;if(!t)return null;if(!t.submitted)return null;var o=null==t||null===(n=t.connections)||void 0===n?void 0:n.filter((function(e){return e.choiceId===e.matchId}));return((null==o?void 0:o.length)||0)/(null===(r=e.data.items)||void 0===r?void 0:r.length)},sortingTile:function(){return null},hotButtonTile:function(){return null},buttonsTile:function(){return null},sectionCalloutTile:function(){return null},listTile:function(){return null},experienceTile:function(e,t,n,r,o){if(!t)return null;if(!t.nodeHistory)return null;var i=t.nodeHistory[t.nodeHistory.length-1];if("completed"===i){var a=t.nodeHistory[t.nodeHistory.length-2],s=r.blocks[a],l=o[a];if(!l)return null;var c=l.selected,u=s.data.options.find((function(e){return e.id===c}));if("complete"===(null==u?void 0:u.next.type)){if("correct"===u.next.result)return 1;if("incorrect"===u.next.result)return 0;if("partial"===u.next.result)return.5}return null}var d=r.blocks[i];if(!d)return null;if("textNode"!==d.type)return null;if("complete"!==d.data.next.type)return null;var f=d.data.next;return f?"correct"===f.result?1:"incorrect"===f.result?0:"partial"===f.result?.5:null:null},dividerTile:function(){return null},tabsTile:function(){return null},quoteTile:function(){return null},timelineTile:function(){return null},carouselTile:function(){return null},audioTile:function(){return null},editableVideoTile:function(){return null},fileDownloadTile:function(){return null},processTile:function(){return null},tableTile:function(){return null},chartTile:function(){return null}};!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Rs||(Rs={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Ls||(Ls={}));const Vs=Rs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hs=e=>{switch(typeof e){case"undefined":return Vs.undefined;case"string":return Vs.string;case"number":return isNaN(e)?Vs.nan:Vs.number;case"boolean":return Vs.boolean;case"function":return Vs.function;case"bigint":return Vs.bigint;case"symbol":return Vs.symbol;case"object":return Array.isArray(e)?Vs.array:null===e?Vs.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Vs.promise:"undefined"!=typeof Map&&e instanceof Map?Vs.map:"undefined"!=typeof Set&&e instanceof Set?Vs.set:"undefined"!=typeof Date&&e instanceof Date?Vs.date:Vs.object;default:return Vs.unknown}},Ws=Rs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qs extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof qs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rs.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}qs.create=e=>new qs(e);const Gs=(e,t)=>{let n;switch(e.code){case Ws.invalid_type:n=e.received===Vs.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ws.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Rs.jsonStringifyReplacer)}`;break;case Ws.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rs.joinValues(e.keys,", ")}`;break;case Ws.invalid_union:n="Invalid input";break;case Ws.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rs.joinValues(e.options)}`;break;case Ws.invalid_enum_value:n=`Invalid enum value. Expected ${Rs.joinValues(e.options)}, received '${e.received}'`;break;case Ws.invalid_arguments:n="Invalid function arguments";break;case Ws.invalid_return_type:n="Invalid function return type";break;case Ws.invalid_date:n="Invalid date";break;case Ws.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Rs.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Ws.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ws.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ws.custom:n="Invalid input";break;case Ws.invalid_intersection_types:n="Intersection results could not be merged";break;case Ws.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ws.not_finite:n="Number must be finite";break;default:n=t.defaultError,Rs.assertNever(e)}return{message:n}};let Ks=Gs;function Xs(){return Ks}const Ys=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],a={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)s=e(a,{data:t,defaultError:s}).message;return{...o,path:i,message:s}};function Zs(e,t){const n=Xs(),r=Ys({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Gs?void 0:Gs].filter((e=>!!e))});e.common.issues.push(r)}class Js{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return Qs;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return Js.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return Qs;if("aborted"===o.status)return Qs;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||void 0===o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const Qs=Object.freeze({status:"aborted"}),el=e=>({status:"dirty",value:e}),tl=e=>({status:"valid",value:e}),nl=e=>"aborted"===e.status,rl=e=>"dirty"===e.status,ol=e=>"valid"===e.status,il=e=>"undefined"!=typeof Promise&&e instanceof Promise;function al(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function sl(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}var ll,cl,ul;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(ll||(ll={}));class dl{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fl=(e,t)=>{if(ol(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new qs(e.common.issues);return this._error=t,this._error}}};function pl(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{var i,a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:o.defaultError}:void 0===o.data?{message:null!==(i=null!=s?s:r)&&void 0!==i?i:o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:null!==(a=null!=s?s:n)&&void 0!==a?a:o.defaultError}},description:o}}class hl{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Hs(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Js,ctx:{common:e.parent.common,data:e.data,parsedType:Hs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(il(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hs(e)},o=this._parseSync({data:e,path:r.path,parent:r});return fl(r,o)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hs(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(il(r)?r:Promise.resolve(r));return fl(n,o)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:Ws.custom,...n(t)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new cc({schema:this,typeName:xc.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return uc.create(this,this._def)}nullable(){return dc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hl.create(this,this._def)}promise(){return lc.create(this,this._def)}or(e){return Gl.create([this,e],this._def)}and(e){return Zl.create(this,e,this._def)}transform(e){return new cc({...pl(this._def),schema:this,typeName:xc.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new fc({...pl(this._def),innerType:this,defaultValue:t,typeName:xc.ZodDefault})}brand(){return new vc({typeName:xc.ZodBranded,type:this,...pl(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new pc({...pl(this._def),innerType:this,catchValue:t,typeName:xc.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return gc.create(this,e)}readonly(){return yc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ml=/^c[^\s-]{8,}$/i,vl=/^[0-9a-z]+$/,gl=/^[0-9A-HJKMNP-TV-Z]{26}$/,yl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,bl=/^[a-z0-9_-]{21}$/i,wl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xl=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Sl;const kl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,El=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ol=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_l=new RegExp(`^${jl}$`);function Cl(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function Tl(e){let t=`${jl}T${Cl(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Pl(e,t){return!("v4"!==t&&t||!kl.test(e))||!("v6"!==t&&t||!El.test(e))}class Al extends hl{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Vs.string){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.string,received:t.parsedType}),Qs}const t=new Js;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const o=e.data.length>r.value,i=e.data.length<r.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?Zs(n,{code:Ws.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):i&&Zs(n,{code:Ws.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)xl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"email",code:Ws.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Sl||(Sl=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Sl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"emoji",code:Ws.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)yl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"uuid",code:Ws.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)bl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"nanoid",code:Ws.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)ml.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"cuid",code:Ws.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)vl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"cuid2",code:Ws.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)gl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"ulid",code:Ws.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(o){n=this._getOrReturnCtx(e,n),Zs(n,{validation:"url",code:Ws.invalid_string,message:r.message}),t.dirty()}else if("regex"===r.kind){r.regex.lastIndex=0;r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"regex",code:Ws.invalid_string,message:r.message}),t.dirty())}else if("trim"===r.kind)e.data=e.data.trim();else if("includes"===r.kind)e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty());else if("toLowerCase"===r.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===r.kind)e.data=e.data.toUpperCase();else if("startsWith"===r.kind)e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty());else if("endsWith"===r.kind)e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty());else if("datetime"===r.kind){Tl(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:"datetime",message:r.message}),t.dirty())}else if("date"===r.kind){_l.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:"date",message:r.message}),t.dirty())}else if("time"===r.kind){new RegExp(`^${Cl(r)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.invalid_string,validation:"time",message:r.message}),t.dirty())}else"duration"===r.kind?wl.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"duration",code:Ws.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?Pl(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"ip",code:Ws.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Ol.test(e.data)||(n=this._getOrReturnCtx(e,n),Zs(n,{validation:"base64",code:Ws.invalid_string,message:r.message}),t.dirty()):Rs.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Ws.invalid_string,...ll.errToObj(n)})}_addCheck(e){return new Al({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ll.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ll.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ll.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ll.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ll.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ll.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ll.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ll.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ll.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ll.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...ll.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...ll.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ll.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ll.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...ll.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ll.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ll.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ll.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ll.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ll.errToObj(t)})}nonempty(e){return this.min(1,ll.errToObj(e))}trim(){return new Al({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Al({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Al({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Nl(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return parseInt(e.toFixed(o).replace(".",""))%parseInt(t.toFixed(o).replace(".",""))/Math.pow(10,o)}Al.create=e=>{var t;return new Al({checks:[],typeName:xc.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...pl(e)})};class Ml extends hl{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Vs.number){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.number,received:t.parsedType}),Qs}let t;const n=new Js;for(const r of this._def.checks)if("int"===r.kind)Rs.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==Nl(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.not_finite,message:r.message}),n.dirty()):Rs.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ll.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ll.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ll.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ll.toString(t))}setLimit(e,t,n,r){return new Ml({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ll.toString(r)}]})}_addCheck(e){return new Ml({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ll.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ll.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ll.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ll.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ll.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ll.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ll.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ll.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ll.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Rs.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Ml.create=e=>new Ml({checks:[],typeName:xc.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...pl(e)});class Il extends hl{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==Vs.bigint){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.bigint,received:t.parsedType}),Qs}let t;const n=new Js;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Zs(t,{code:Ws.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Rs.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ll.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ll.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ll.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ll.toString(t))}setLimit(e,t,n,r){return new Il({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ll.toString(r)}]})}_addCheck(e){return new Il({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ll.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ll.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ll.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ll.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ll.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Il.create=e=>{var t;return new Il({checks:[],typeName:xc.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...pl(e)})};class Rl extends hl{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Vs.boolean){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.boolean,received:t.parsedType}),Qs}return tl(e.data)}}Rl.create=e=>new Rl({typeName:xc.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...pl(e)});class Ll extends hl{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Vs.date){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.date,received:t.parsedType}),Qs}if(isNaN(e.data.getTime())){return Zs(this._getOrReturnCtx(e),{code:Ws.invalid_date}),Qs}const t=new Js;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Zs(n,{code:Ws.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Rs.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ll({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ll.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ll.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Ll.create=e=>new Ll({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:xc.ZodDate,...pl(e)});class Dl extends hl{_parse(e){if(this._getType(e)!==Vs.symbol){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.symbol,received:t.parsedType}),Qs}return tl(e.data)}}Dl.create=e=>new Dl({typeName:xc.ZodSymbol,...pl(e)});class Fl extends hl{_parse(e){if(this._getType(e)!==Vs.undefined){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.undefined,received:t.parsedType}),Qs}return tl(e.data)}}Fl.create=e=>new Fl({typeName:xc.ZodUndefined,...pl(e)});class zl extends hl{_parse(e){if(this._getType(e)!==Vs.null){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.null,received:t.parsedType}),Qs}return tl(e.data)}}zl.create=e=>new zl({typeName:xc.ZodNull,...pl(e)});class Bl extends hl{constructor(){super(...arguments),this._any=!0}_parse(e){return tl(e.data)}}Bl.create=e=>new Bl({typeName:xc.ZodAny,...pl(e)});class $l extends hl{constructor(){super(...arguments),this._unknown=!0}_parse(e){return tl(e.data)}}$l.create=e=>new $l({typeName:xc.ZodUnknown,...pl(e)});class Ul extends hl{_parse(e){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.never,received:t.parsedType}),Qs}}Ul.create=e=>new Ul({typeName:xc.ZodNever,...pl(e)});class Vl extends hl{_parse(e){if(this._getType(e)!==Vs.undefined){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.void,received:t.parsedType}),Qs}return tl(e.data)}}Vl.create=e=>new Vl({typeName:xc.ZodVoid,...pl(e)});class Hl extends hl{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Vs.array)return Zs(t,{code:Ws.invalid_type,expected:Vs.array,received:t.parsedType}),Qs;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(Zs(t,{code:e?Ws.too_big:Ws.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Zs(t,{code:Ws.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Zs(t,{code:Ws.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new dl(t,e,t.path,n))))).then((e=>Js.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new dl(t,e,t.path,n))));return Js.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new Hl({...this._def,minLength:{value:e,message:ll.toString(t)}})}max(e,t){return new Hl({...this._def,maxLength:{value:e,message:ll.toString(t)}})}length(e,t){return new Hl({...this._def,exactLength:{value:e,message:ll.toString(t)}})}nonempty(e){return this.min(1,e)}}function Wl(e){if(e instanceof ql){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=uc.create(Wl(r))}return new ql({...e._def,shape:()=>t})}return e instanceof Hl?new Hl({...e._def,type:Wl(e.element)}):e instanceof uc?uc.create(Wl(e.unwrap())):e instanceof dc?dc.create(Wl(e.unwrap())):e instanceof Jl?Jl.create(e.items.map((e=>Wl(e)))):e}Hl.create=(e,t)=>new Hl({type:e,minLength:null,maxLength:null,exactLength:null,typeName:xc.ZodArray,...pl(t)});class ql extends hl{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Rs.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Vs.object){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.object,received:t.parsedType}),Qs}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Ul&&"strip"===this._def.unknownKeys))for(const e in n.data)o.includes(e)||i.push(e);const a=[];for(const e of o){const t=r[e],o=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new dl(n,o,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Ul){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)i.length>0&&(Zs(n,{code:Ws.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new dl(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Js.mergeObjectSync(t,e))):Js.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return ll.errToObj,new ql({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,o,i,a;const s=null!==(i=null===(o=(r=this._def).errorMap)||void 0===o?void 0:o.call(r,t,n).message)&&void 0!==i?i:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=ll.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new ql({...this._def,unknownKeys:"strip"})}passthrough(){return new ql({...this._def,unknownKeys:"passthrough"})}extend(e){return new ql({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ql({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:xc.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ql({...this._def,catchall:e})}pick(e){const t={};return Rs.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new ql({...this._def,shape:()=>t})}omit(e){const t={};return Rs.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new ql({...this._def,shape:()=>t})}deepPartial(){return Wl(this)}partial(e){const t={};return Rs.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new ql({...this._def,shape:()=>t})}required(e){const t={};return Rs.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof uc;)e=e._def.innerType;t[n]=e}})),new ql({...this._def,shape:()=>t})}keyof(){return ic(Rs.objectKeys(this.shape))}}ql.create=(e,t)=>new ql({shape:()=>e,unknownKeys:"strip",catchall:Ul.create(),typeName:xc.ZodObject,...pl(t)}),ql.strictCreate=(e,t)=>new ql({shape:()=>e,unknownKeys:"strict",catchall:Ul.create(),typeName:xc.ZodObject,...pl(t)}),ql.lazycreate=(e,t)=>new ql({shape:e,unknownKeys:"strip",catchall:Ul.create(),typeName:xc.ZodObject,...pl(t)});class Gl extends hl{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new qs(e.ctx.common.issues)));return Zs(t,{code:Ws.invalid_union,unionErrors:n}),Qs}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new qs(e)));return Zs(t,{code:Ws.invalid_union,unionErrors:o}),Qs}}get options(){return this._def.options}}Gl.create=(e,t)=>new Gl({options:e,typeName:xc.ZodUnion,...pl(t)});const Kl=e=>e instanceof rc?Kl(e.schema):e instanceof cc?Kl(e.innerType()):e instanceof oc?[e.value]:e instanceof ac?e.options:e instanceof sc?Rs.objectValues(e.enum):e instanceof fc?Kl(e._def.innerType):e instanceof Fl?[void 0]:e instanceof zl?[null]:e instanceof uc?[void 0,...Kl(e.unwrap())]:e instanceof dc?[null,...Kl(e.unwrap())]:e instanceof vc||e instanceof yc?Kl(e.unwrap()):e instanceof pc?Kl(e._def.innerType):[];class Xl extends hl{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Vs.object)return Zs(t,{code:Ws.invalid_type,expected:Vs.object,received:t.parsedType}),Qs;const n=this.discriminator,r=t.data[n],o=this.optionsMap.get(r);return o?t.common.async?o._parseAsync({data:t.data,path:t.path,parent:t}):o._parseSync({data:t.data,path:t.path,parent:t}):(Zs(t,{code:Ws.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qs)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=Kl(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const o of t){if(r.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);r.set(o,n)}}return new Xl({typeName:xc.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...pl(n)})}}function Yl(e,t){const n=Hs(e),r=Hs(t);if(e===t)return{valid:!0,data:e};if(n===Vs.object&&r===Vs.object){const n=Rs.objectKeys(t),r=Rs.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const n of r){const r=Yl(e[n],t[n]);if(!r.valid)return{valid:!1};o[n]=r.data}return{valid:!0,data:o}}if(n===Vs.array&&r===Vs.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=Yl(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===Vs.date&&r===Vs.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Zl extends hl{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(nl(e)||nl(r))return Qs;const o=Yl(e.value,r.value);return o.valid?((rl(e)||rl(r))&&t.dirty(),{status:t.value,value:o.data}):(Zs(n,{code:Ws.invalid_intersection_types}),Qs)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Zl.create=(e,t,n)=>new Zl({left:e,right:t,typeName:xc.ZodIntersection,...pl(n)});class Jl extends hl{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Vs.array)return Zs(n,{code:Ws.invalid_type,expected:Vs.array,received:n.parsedType}),Qs;if(n.data.length<this._def.items.length)return Zs(n,{code:Ws.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qs;!this._def.rest&&n.data.length>this._def.items.length&&(Zs(n,{code:Ws.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new dl(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Js.mergeArray(t,e))):Js.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Jl({...this._def,rest:e})}}Jl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jl({items:e,typeName:xc.ZodTuple,rest:null,...pl(t)})};class Ql extends hl{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Vs.object)return Zs(n,{code:Ws.invalid_type,expected:Vs.object,received:n.parsedType}),Qs;const r=[],o=this._def.keyType,i=this._def.valueType;for(const e in n.data)r.push({key:o._parse(new dl(n,e,n.path,e)),value:i._parse(new dl(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?Js.mergeObjectAsync(t,r):Js.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Ql(t instanceof hl?{keyType:e,valueType:t,typeName:xc.ZodRecord,...pl(n)}:{keyType:Al.create(),valueType:e,typeName:xc.ZodRecord,...pl(t)})}}class ec extends hl{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Vs.map)return Zs(n,{code:Ws.invalid_type,expected:Vs.map,received:n.parsedType}),Qs;const r=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map((([e,t],i)=>({key:r._parse(new dl(n,e,n.path,[i,"key"])),value:o._parse(new dl(n,t,n.path,[i,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return Qs;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return Qs;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}ec.create=(e,t,n)=>new ec({valueType:t,keyType:e,typeName:xc.ZodMap,...pl(n)});class tc extends hl{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Vs.set)return Zs(n,{code:Ws.invalid_type,expected:Vs.set,received:n.parsedType}),Qs;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Zs(n,{code:Ws.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Zs(n,{code:Ws.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return Qs;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map(((e,t)=>o._parse(new dl(n,e,n.path,t))));return n.common.async?Promise.all(a).then((e=>i(e))):i(a)}min(e,t){return new tc({...this._def,minSize:{value:e,message:ll.toString(t)}})}max(e,t){return new tc({...this._def,maxSize:{value:e,message:ll.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tc.create=(e,t)=>new tc({valueType:e,minSize:null,maxSize:null,typeName:xc.ZodSet,...pl(t)});class nc extends hl{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Vs.function)return Zs(t,{code:Ws.invalid_type,expected:Vs.function,received:t.parsedType}),Qs;function n(e,n){return Ys({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xs(),Gs].filter((e=>!!e)),issueData:{code:Ws.invalid_arguments,argumentsError:n}})}function r(e,n){return Ys({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xs(),Gs].filter((e=>!!e)),issueData:{code:Ws.invalid_return_type,returnTypeError:n}})}const o={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof lc){const e=this;return tl((async function(...t){const a=new qs([]),s=await e._def.args.parseAsync(t,o).catch((e=>{throw a.addIssue(n(t,e)),a})),l=await Reflect.apply(i,this,s),c=await e._def.returns._def.type.parseAsync(l,o).catch((e=>{throw a.addIssue(r(l,e)),a}));return c}))}{const e=this;return tl((function(...t){const a=e._def.args.safeParse(t,o);if(!a.success)throw new qs([n(t,a.error)]);const s=Reflect.apply(i,this,a.data),l=e._def.returns.safeParse(s,o);if(!l.success)throw new qs([r(s,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nc({...this._def,args:Jl.create(e).rest($l.create())})}returns(e){return new nc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new nc({args:e||Jl.create([]).rest($l.create()),returns:t||$l.create(),typeName:xc.ZodFunction,...pl(n)})}}class rc extends hl{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}rc.create=(e,t)=>new rc({getter:e,typeName:xc.ZodLazy,...pl(t)});class oc extends hl{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Zs(t,{received:t.data,code:Ws.invalid_literal,expected:this._def.value}),Qs}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ic(e,t){return new ac({values:e,typeName:xc.ZodEnum,...pl(t)})}oc.create=(e,t)=>new oc({value:e,typeName:xc.ZodLiteral,...pl(t)});class ac extends hl{constructor(){super(...arguments),cl.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Zs(t,{expected:Rs.joinValues(n),received:t.parsedType,code:Ws.invalid_type}),Qs}if(al(this,cl,"f")||sl(this,cl,new Set(this._def.values),"f"),!al(this,cl,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Zs(t,{received:t.data,code:Ws.invalid_enum_value,options:n}),Qs}return tl(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ac.create(e,{...this._def,...t})}exclude(e,t=this._def){return ac.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}cl=new WeakMap,ac.create=ic;class sc extends hl{constructor(){super(...arguments),ul.set(this,void 0)}_parse(e){const t=Rs.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Vs.string&&n.parsedType!==Vs.number){const e=Rs.objectValues(t);return Zs(n,{expected:Rs.joinValues(e),received:n.parsedType,code:Ws.invalid_type}),Qs}if(al(this,ul,"f")||sl(this,ul,new Set(Rs.getValidEnumValues(this._def.values)),"f"),!al(this,ul,"f").has(e.data)){const e=Rs.objectValues(t);return Zs(n,{received:n.data,code:Ws.invalid_enum_value,options:e}),Qs}return tl(e.data)}get enum(){return this._def.values}}ul=new WeakMap,sc.create=(e,t)=>new sc({values:e,typeName:xc.ZodNativeEnum,...pl(t)});class lc extends hl{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Vs.promise&&!1===t.common.async)return Zs(t,{code:Ws.invalid_type,expected:Vs.promise,received:t.parsedType}),Qs;const n=t.parsedType===Vs.promise?t.data:Promise.resolve(t.data);return tl(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}lc.create=(e,t)=>new lc({type:e,typeName:xc.ZodPromise,...pl(t)});class cc extends hl{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===xc.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{Zs(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return Qs;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?Qs:"dirty"===r.status||"dirty"===t.value?el(r.value):r}));{if("aborted"===t.value)return Qs;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?Qs:"dirty"===r.status||"dirty"===t.value?el(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?Qs:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?Qs:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ol(e))return e;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>ol(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}Rs.assertNever(r)}}cc.create=(e,t,n)=>new cc({schema:e,typeName:xc.ZodEffects,effect:t,...pl(n)}),cc.createWithPreprocess=(e,t,n)=>new cc({schema:t,effect:{type:"preprocess",transform:e},typeName:xc.ZodEffects,...pl(n)});class uc extends hl{_parse(e){return this._getType(e)===Vs.undefined?tl(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uc.create=(e,t)=>new uc({innerType:e,typeName:xc.ZodOptional,...pl(t)});class dc extends hl{_parse(e){return this._getType(e)===Vs.null?tl(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}dc.create=(e,t)=>new dc({innerType:e,typeName:xc.ZodNullable,...pl(t)});class fc extends hl{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Vs.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}fc.create=(e,t)=>new fc({innerType:e,typeName:xc.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...pl(t)});class pc extends hl{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return il(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new qs(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new qs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}pc.create=(e,t)=>new pc({innerType:e,typeName:xc.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...pl(t)});class hc extends hl{_parse(e){if(this._getType(e)!==Vs.nan){const t=this._getOrReturnCtx(e);return Zs(t,{code:Ws.invalid_type,expected:Vs.nan,received:t.parsedType}),Qs}return{status:"valid",value:e.data}}}hc.create=e=>new hc({typeName:xc.ZodNaN,...pl(e)});const mc=Symbol("zod_brand");class vc extends hl{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class gc extends hl{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Qs:"dirty"===e.status?(t.dirty(),el(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Qs:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new gc({in:e,out:t,typeName:xc.ZodPipeline})}}class yc extends hl{_parse(e){const t=this._def.innerType._parse(e),n=e=>(ol(e)&&(e.value=Object.freeze(e.value)),e);return il(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function bc(e,t={},n){return e?Bl.create().superRefine(((r,o)=>{var i,a;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=null===(a=null!==(i=e.fatal)&&void 0!==i?i:n)||void 0===a||a,l="string"==typeof e?{message:e}:e;o.addIssue({code:"custom",...l,fatal:s})}})):Bl.create()}yc.create=(e,t)=>new yc({innerType:e,typeName:xc.ZodReadonly,...pl(t)});const wc={object:ql.lazycreate};var xc;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(xc||(xc={}));const Sc=Al.create,kc=Ml.create,Ec=hc.create,Oc=Il.create,jc=Rl.create,_c=Ll.create,Cc=Dl.create,Tc=Fl.create,Pc=zl.create,Ac=Bl.create,Nc=$l.create,Mc=Ul.create,Ic=Vl.create,Rc=Hl.create,Lc=ql.create,Dc=ql.strictCreate,Fc=Gl.create,zc=Xl.create,Bc=Zl.create,$c=Jl.create,Uc=Ql.create,Vc=ec.create,Hc=tc.create,Wc=nc.create,qc=rc.create,Gc=oc.create,Kc=ac.create,Xc=sc.create,Yc=lc.create,Zc=cc.create,Jc=uc.create,Qc=dc.create,eu=cc.createWithPreprocess,tu=gc.create,nu={string:e=>Al.create({...e,coerce:!0}),number:e=>Ml.create({...e,coerce:!0}),boolean:e=>Rl.create({...e,coerce:!0}),bigint:e=>Il.create({...e,coerce:!0}),date:e=>Ll.create({...e,coerce:!0})},ru=Qs;var ou=Object.freeze({__proto__:null,defaultErrorMap:Gs,setErrorMap:function(e){Ks=e},getErrorMap:Xs,makeIssue:Ys,EMPTY_PATH:[],addIssueToContext:Zs,ParseStatus:Js,INVALID:Qs,DIRTY:el,OK:tl,isAborted:nl,isDirty:rl,isValid:ol,isAsync:il,get util(){return Rs},get objectUtil(){return Ls},ZodParsedType:Vs,getParsedType:Hs,ZodType:hl,datetimeRegex:Tl,ZodString:Al,ZodNumber:Ml,ZodBigInt:Il,ZodBoolean:Rl,ZodDate:Ll,ZodSymbol:Dl,ZodUndefined:Fl,ZodNull:zl,ZodAny:Bl,ZodUnknown:$l,ZodNever:Ul,ZodVoid:Vl,ZodArray:Hl,ZodObject:ql,ZodUnion:Gl,ZodDiscriminatedUnion:Xl,ZodIntersection:Zl,ZodTuple:Jl,ZodRecord:Ql,ZodMap:ec,ZodSet:tc,ZodFunction:nc,ZodLazy:rc,ZodLiteral:oc,ZodEnum:ac,ZodNativeEnum:sc,ZodPromise:lc,ZodEffects:cc,ZodTransformer:cc,ZodOptional:uc,ZodNullable:dc,ZodDefault:fc,ZodCatch:pc,ZodNaN:hc,BRAND:mc,ZodBranded:vc,ZodPipeline:gc,ZodReadonly:yc,custom:bc,Schema:hl,ZodSchema:hl,late:wc,get ZodFirstPartyTypeKind(){return xc},coerce:nu,any:Ac,array:Rc,bigint:Oc,boolean:jc,date:_c,discriminatedUnion:zc,effect:Zc,enum:Kc,function:Wc,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>bc((t=>t instanceof e),t),intersection:Bc,lazy:qc,literal:Gc,map:Vc,nan:Ec,nativeEnum:Xc,never:Mc,null:Pc,nullable:Qc,number:kc,object:Lc,oboolean:()=>jc().optional(),onumber:()=>kc().optional(),optional:Jc,ostring:()=>Sc().optional(),pipeline:tu,preprocess:eu,promise:Yc,record:Uc,set:Hc,strictObject:Dc,string:Sc,symbol:Cc,transformer:Zc,tuple:$c,undefined:Tc,union:Fc,unknown:Nc,void:Ic,NEVER:ru,ZodIssueCode:Ws,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:qs}),iu=ou.object({text:ou.string().catch(""),audioUrl:ou.string(),voiceName:ou.string().nullable(),lengthMs:ou.number()}),au=ou.enum(["manual","auto","descendants","none"]),su=ou.object({mode:au,narration:iu.nullable()}),lu=ou.object({mode:au,narration:iu.nullable(),narrationMap:ou.record(ou.string(),su).nullable()}),cu=ou.object({title:ou.string().catch(""),items:ou.array(ou.object({header:ou.string().catch(""),content:ou.string().catch("")}))}).catch({title:"",items:[]}),uu=ou.enum(["Upload","Generated","Unsplash","Giphy","Web","Document","Unknown"]),du=ou.enum(["Unknown","NonCommercialUse","CommercialUse","Unsplash","Royalty Free","Generated","Uploaded"]).default("Unknown"),fu=(ou.enum(["Generated","All","Share","ShareCommercially","FromDocument","Unsplash","none"]),ou.enum(["All","Share","ShareCommercially"]),ou.enum(["Empty","Loading","Available"]),ou.object({altText:ou.string().optional().catch(""),aspectRatio:ou.number().nullable().catch(null),imageId:ou.string().optional().catch(""),sourceId:ou.string().optional().catch(""),searchTerm:ou.string().optional().catch(""),sourceType:ou.string().optional().catch(""),rightsType:ou.string().optional().catch(""),layout:ou.string().optional().catch(""),attribution:ou.object({name:ou.string().optional().catch(""),url:ou.string().optional().catch("")}).optional().catch({name:"",url:""}),source:ou.string(),name:ou.string().optional().catch(""),thumbnail:ou.string().optional().catch("")})),pu=ou.object({altText:ou.string().optional(),aspectRatio:ou.number().nullable(),imageId:ou.string().optional(),sourceId:ou.string().optional(),searchTerm:ou.string().optional(),sourceType:uu.default("Unknown"),rightsType:du.default("Unknown"),layout:ou.string().optional(),position:ou.object({x:ou.number(),y:ou.number(),zoom:ou.number()}).optional(),attribution:ou.object({name:ou.string().optional(),url:ou.string().optional()}).optional(),source:ou.string(),name:ou.string().optional(),thumbnail:ou.string().optional()}),hu=ou.object({altText:ou.string().optional(),aspectRatio:ou.number().nullable(),searchTerm:ou.string().optional(),model:ou.string(),sourceType:ou.string().default("Unknown"),rightsType:ou.string().default("Unknown")}),mu=fu.nullable().catch(null),vu=pu.nullable().default(null),gu=hu.nullable().default(null),yu=ou.object({description:ou.string().optional(),context:ou.string().optional(),title:ou.string().catch(""),headerImage:mu.optional().catch(void 0)}).strict(),bu=ou.object({source:ou.string(),description:ou.string().optional()}).strict(),wu=ou.object({title:ou.string().catch(""),items:ou.array(ou.object({front:ou.string().catch(""),back:ou.string().catch("")}).strict())}).strict(),xu=ou.object({type:ou.literal("image"),attrs:ou.object({src:ou.string(),alt:ou.string().optional(),title:ou.string().optional()})}),Su=ou.object({type:ou.literal("katex-inline"),attrs:ou.object({id:ou.null(),"katex-data":ou.string().default("")})}),ku=ou.object({type:ou.literal("bold")}),Eu=ou.object({type:ou.literal("strike")}),Ou=ou.object({type:ou.union([ou.literal("inline-code"),ou.literal("code")]).transform((function(){return"code"}))}),ju=ou.object({type:ou.literal("underline")}),_u=ou.object({type:ou.literal("highlight")}),Cu=ou.object({type:ou.literal("italic")}),Tu=ou.object({type:ou.literal("superscript")}),Pu=ou.object({type:ou.literal("subscript")}),Au=ou.object({type:ou.literal("display")}),Nu=ou.object({type:ou.literal("cite"),attrs:ou.object({documentId:ou.string().optional(),citationText:ou.string().optional(),text:ou.string().optional(),index:ou.string().optional(),pageRange:ou.array(ou.union([ou.number(),ou.tuple([ou.number(),ou.number()])])).optional(),title:ou.string().optional(),url:ou.string().optional(),fileType:ou.string().optional(),id:ou.string().optional()})}),Mu=ou.object({type:ou.literal("link"),attrs:ou.object({href:ou.string().optional(),rel:ou.string().optional(),target:ou.string().optional(),class:ou.string().nullable().optional(),title:ou.string().nullable().optional()})}),Iu=ou.union([ku,Eu,ju,_u,Mu,Cu,Ou,Tu,Pu,Au]),Ru=ou.object({type:ou.literal("text"),text:ou.string(),marks:ou.array(Iu).optional()}),Lu=ou.object({type:ou.union([ou.literal("hardBreak"),ou.literal("hard_break")]).transform((function(e){return"hardBreak"===e?"hard_break":e}))}),Du=ou.object({type:ou.literal("display"),text:ou.string()}),Fu=ou.union([Ru,Lu,Su,Nu,xu,Du]),zu=ou.object({type:ou.literal("paragraph"),content:ou.array(Fu).optional()}),Bu=ou.object({type:ou.union([ou.literal("heading"),ou.literal("h4")]).transform((function(e){return"h4"===e?"heading":e})),content:ou.array(Fu).optional(),attrs:ou.object({level:ou.number().optional()}).optional()}),$u=ou.object({type:ou.literal("display"),content:ou.array(Fu).optional()}),Uu=ou.object({type:ou.literal("caption"),content:ou.array(Fu).optional()}),Vu=ou.object({type:ou.union([ou.literal("bulletList"),ou.literal("orderedList")]),attrs:ou.object({order:ou.number().optional(),start:ou.number().optional()}).optional()}).extend({content:ou.array(ou.object({type:ou.literal("listItem"),content:ou.array(ou.lazy((function(){return ou.union([zu,Bu,$u,Vu,Uu,Nu])})))}))}),Hu=ou.object({type:ou.literal("codeBlock"),content:ou.array(Ru).optional()}),Wu=ou.object({type:ou.literal("tableCell"),content:ou.array(ou.lazy((function(){return ou.union([zu,Bu,$u,Vu,Uu])}))).optional(),attrs:ou.object({colspan:ou.number().optional(),rowspan:ou.number().optional(),colwidth:ou.array(ou.number()).optional(),align:ou.enum(["left","center","right"]).optional()}).optional()}),qu=ou.object({type:ou.literal("tableHeader"),content:ou.array(ou.lazy((function(){return ou.union([zu,Bu,$u,Vu,Uu])}))).optional(),attrs:ou.object({colspan:ou.number().optional(),rowspan:ou.number().optional(),colwidth:ou.array(ou.number()).optional(),align:ou.enum(["left","center","right"]).optional()}).optional()}),Gu=ou.object({type:ou.literal("tableRow"),content:ou.array(ou.union([Wu,qu]))}),Ku=ou.object({type:ou.literal("table"),content:ou.array(Gu),attrs:ou.object({resizable:ou.boolean().optional(),columnAlignments:ou.array(ou.enum(["left","center","right"])).optional()}).optional()}),Xu=ou.union([zu,Bu,$u,Vu,Uu,Hu,Ku]),Yu=ou.object({type:ou.literal("doc"),content:ou.array(Xu).catch((function(e){throw console.log(JSON.stringify(e,null,2)),new Error("No content found in rich text")}))}).or(ou.string()),Zu=ou.object({id:ou.string(),text:Yu,header:ou.string().optional().nullable(),x:ou.number(),y:ou.number()}),Ju=ou.object({title:ou.string().catch(""),items:ou.array(Zu),headerImage:mu.nullable().catch(null),header:ou.undefined().catch(void 0)}).strict(),Qu=ou.object({link:ou.string(),title:ou.string(),newTab:ou.boolean().catch(!0),description:ou.string().optional()}).strict(),ed=ou.object({items:ou.array(Qu)}).strict();const td={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let nd;const rd=new Uint8Array(16);function od(){if(!nd&&(nd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nd(rd)}const id=[];for(let e=0;e<256;++e)id.push((e+256).toString(16).slice(1));function ad(e,t=0){return id[e[t+0]]+id[e[t+1]]+id[e[t+2]]+id[e[t+3]]+"-"+id[e[t+4]]+id[e[t+5]]+"-"+id[e[t+6]]+id[e[t+7]]+"-"+id[e[t+8]]+id[e[t+9]]+"-"+id[e[t+10]]+id[e[t+11]]+id[e[t+12]]+id[e[t+13]]+id[e[t+14]]+id[e[t+15]]}const sd=function(e,t,n){if(td.randomUUID&&!t&&!e)return td.randomUUID();const r=(e=e||{}).random||(e.rng||od)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ad(r)};var ld=ou.object({choice:ou.string(),match:ou.string(),id:ou.string().catch((function(){return sd()}))}).catch((function(){return{choice:"",match:"",id:sd()}})),cd=ou.object({title:ou.string(),items:ou.array(ld)}).strict(),ud=ou.enum(["correct","incorrect","partial"]),dd=ou.object({answer:ou.string(),feedback:ou.string(),grade:ud}),fd=(ou.object({feedback:ou.string().optional(),grade:ud}),ou.enum(["BOLD","CODE","ITALIC","STRIKETHROUGH","UNDERLINE","HIGHLIGHT"])),pd=ou.object({offset:ou.number(),length:ou.number(),style:fd}).strict(),hd=ou.object({type:ou.string(),data:ou.record(ou.any()).optional(),text:ou.string(),depth:ou.number().catch(0),key:ou.string().optional(),inlineStyleRanges:ou.array(pd),entityRanges:ou.array(ou.object({offset:ou.number(),length:ou.number(),key:ou.number()}).strict())}).strict(),md=(ou.object({offset:ou.number(),length:ou.number(),key:ou.number()}).strict(),ou.union([ou.object({blocks:ou.array(hd),entityMap:ou.record(ou.string(),ou.any())}).strict(),ou.string()])),vd=ou.object({question:md,answer:ou.string(),examples:ou.array(dd),headerImage:mu.optional().catch(void 0),graded:ou.boolean().optional().default(!0)}),gd=ou.object({id:ou.string(),text:ou.any(),correct:ou.boolean(),feedback:ou.string().optional().default(""),image:ou.custom().optional()}),yd=ou.object({options:ou.array(gd),feedback:ou.string().catch(""),feedbackWhenCorrect:ou.string().optional().default(""),selectMultiple:ou.boolean().catch(!1),feedbackMode:ou.enum(["correct / incorrect","granular"]).default("correct / incorrect"),ifCorrect:ou.string().optional().catch(void 0),ifIncorrect:ou.string().optional().catch(void 0),headerImage:mu.optional().catch(void 0),question:md,graded:ou.boolean().catch(!1)}),bd=ou.object({content:ou.string().default(""),id:ou.string()}),wd=ou.object({content:ou.string().default(""),id:ou.string().default((function(){return sd()})),items:ou.array(bd)}).strict(),xd=ou.object({title:ou.string().catch(""),categories:ou.array(wd)}).strict(),Sd=ou.enum(["none","highlight","box","title"]),kd=ou.object({text:ou.string().catch(""),hideText:ou.boolean().optional().default(!1),hideHeader:ou.boolean().optional().default(!1),subtext:md,headerImage:mu.optional().catch(void 0),textAdornment:Sd.optional().default("none")}),Ed=ou.object({tileId:ou.string(),relativeWidth:ou.number().nullable()}),Od=ou.object({rowId:ou.string(),relativeHeight:ou.number().nullable(),relativeWidth:ou.number().nullable().catch(1),tiles:ou.array(Ed)}),jd=ou.object({rows:ou.array(Od)}),_d=ou.object({video:ou.object({source:ou.string().optional(),aspectRatio:ou.number().nullable(),transcript:ou.string().optional(),captions:ou.record(ou.string(),ou.string()).optional()}),type:ou.string().optional().catch(void 0),captions:ou.undefined().catch(void 0)}).strict(),Cd=ou.object({x:ou.number(),y:ou.number()}),Td=ou.enum(["angry","happy","asking","alarmed","neutral","talking","worried","confused","stressed","thinking","surprised","disappointed"]),Pd=ou.object({characterId:ou.string(),emotion:Td,type:ou.literal("preset").default("preset")}),Ad=ou.object({image:pu,type:ou.literal("uploaded"),layout:ou.enum(["default","full-body"])}),Nd=ou.union([Pd,Ad]),Md=ou.object({id:ou.string()}),Id=ou.object({type:ou.literal("node"),id:ou.string()}),Rd=ou.object({type:ou.literal("retry")}),Ld=ou.object({type:ou.literal("restart")}),Dd=ou.object({type:ou.literal("complete"),result:ud.default("correct")}),Fd=(ou.union([Id,Ld,Dd]),ou.object({character:ou.string(),learner:ou.string(),instructions:ou.string()})),zd=ou.object({root:Id});const Bd=ou.union([Fd,zd]);var $d=ou.union([Id,Rd,Ld,Dd]),Ud=ou.object({next:$d,text:Yu,feedback:ou.string().nullable(),id:ou.string(),characterReaction:Nd.nullable()}),Vd=ou.object({scene:Md,text:Yu,characterPose:Nd,options:ou.array(Ud),randomizeOptions:ou.boolean().nullable().optional(),showMessageHistory:ou.boolean().nullable().optional()}),Hd=ou.object({background:pu,name:ou.string(),order:ou.string()}),Wd=ou.object({text:Yu,next:ou.union([Id,Ld,Dd]),characterPose:Nd.nullable(),scene:Md}),qd=ou.enum(["start","center","end","fill"]).default("start"),Gd=ou.object({header:ou.string().default(""),image:vu,imageAlign:qd,content:Yu,id:ou.string().default((function(){return sd()}))}),Kd=ou.object({items:ou.array(Gd),align:ou.enum(["start","center","end"]).default("start")}),Xd=ou.object({source:ou.string().default(""),transcript:ou.string().optional(),fileName:ou.string().default(""),length:ou.number().default(0)}),Yd=ou.object({audio:Xd.default({source:""}),content:Yu,image:pu.nullable().default(null)}),Zd=ou.object({id:ou.string().default((function(){return sd()})),label:ou.string().default(""),destination:ou.object({type:ou.enum(["url","next","file"]),value:ou.string()}),style:ou.enum(["primary"])});const Jd=ou.object({items:ou.array(Zd),justify:ou.enum(["left","center","right"]).default("left"),align:ou.enum(["start","center","end"]).default("start"),size:ou.enum(["small","medium","large"]).default("medium"),fullWidth:ou.boolean().catch(!1)});var Qd=ou.object({id:ou.string().default((function(){return sd()})),image:vu,objectFit:ou.enum(["cover","contain"]).default("cover")});const ef=ou.object({images:ou.array(Qd)});const tf=ou.object({variant:ou.enum(["spacer","line-break"]).default("spacer"),align:ou.enum(["start","center","end"]).default("center")});var nf=[{id:"Georgia_sitting_office_front",name:"Georgia",type:"avatar",defaultVoiceId:"XrExE9yKIg1WjnnlVkGX",groupId:"1727672614",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_36a0cabc-a3a4-42a1-8980-cca3983c24bc.mp4"},{id:"Raul_standing_casualsofa_front",name:"Raul",type:"avatar",defaultVoiceId:"UgBBYS2sOqTuMpoF3BR0",groupId:"1727698066",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_8d6bf8d2-8aef-43be-bec9-b633d69bc690.mp4"},{id:"Abigail_standing_office_front",name:"Abigail",type:"avatar",defaultVoiceId:"tpFVjZdYBvOaWaUIRHRz",groupId:"1727646977",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_af6b3fe7-a01a-410f-8fba-d38b05a09d90.mp4"},{id:"Chloe_standing_lounge_front",name:"Chloe",type:"avatar",defaultVoiceId:"C3x1TEM7scV4p2AXJyrp",groupId:"1727655152",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_c869d5ce-6b6a-4495-9d56-a3c1db682cb5.mp4"},{id:"June_sitting_office_front",name:"June",type:"avatar",defaultVoiceId:"SDNKIYEpTz0h56jQX8rA",groupId:"1727686832",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_511907eb-cac7-4411-b005-60b504ecf4f5.mp4"},{id:"Miles_standing_sofa_front",name:"Miles",type:"avatar",defaultVoiceId:"1SM7GgM6IMuvQlz2BwM3",groupId:"1727042161",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_2e54c794-825d-4e35-bb6b-aa61a41e9dee.mp4"},{id:"Oxana_standing_sofa_front",name:"Oxana",type:"avatar",defaultVoiceId:"dMyQqiVXTU80dDl2eNK8",groupId:"1727636915",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_d7c3b60d-963c-46d8-8953-aa57ee79f0f3.mp4"},{id:"Riley_sitting_office_side",name:"Riley",type:"avatar",defaultVoiceId:"1SM7GgM6IMuvQlz2BwM3",groupId:"1727072829",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_1d7401ab-6a99-4d9a-aa68-da6781877025.mp4"},{id:"Teodor_sitting_sofa_front",name:"Teodor",type:"avatar",defaultVoiceId:"wP7XBmkAmRwrjtfK2KeY",groupId:"1727404227",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_d0db5611-7513-454d-9900-061980e6500f.mp4"},{id:"Vemon_standing_office_front",name:"Vemon",type:"avatar",defaultVoiceId:"CVRACyqNcQefTlxMj9bt",groupId:"1727069245",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_cd0c362a-1eb5-4af2-ad48-121e539538b5.mp4"},{id:"Nico_public",name:"Nico",type:"avatar",defaultVoiceId:"CVRACyqNcQefTlxMj9bt",groupId:"1727069245",provider:"heygen",exampleVideoUrl:"https://storage.googleapis.com/mindsmith/generated-videos/final/final_output_cd0c362a-1eb5-4af2-ad48-121e539538b5.mp4",transparentBackground:!0}],rf=ou.object({source:ou.string(),aspectRatio:ou.number().nullable(),transcript:ou.string().optional(),captions:ou.record(ou.string(),ou.string()).optional(),thumbnail:ou.string().optional(),duration:ou.number().optional(),trimStart:ou.number().optional(),trimEnd:ou.number().optional(),objectFitCover:ou.boolean().optional()}),of=ou.object({video:rf,requireCompletion:ou.boolean().optional(),restrictSkipAhead:ou.boolean().optional()});const af=ou.object({image:ou.union([vu,gu]),objectFit:ou.enum(["cover","contain","custom"]).default("cover"),status:ou.enum(["Available","Generating","Failed","Empty"]).default("Available").optional()});var sf=function(e){return e&&"image"===e.type&&"string"==typeof e.imageUrl&&"number"==typeof e.opacity},lf=ou.object({type:ou.literal("image"),imageUrl:ou.string(),opacity:ou.number().min(0).max(1)}),cf=ou.object({baseColor:ou.string(),overlay:ou.union([lf,hu]).nullable()}),uf=ou.object({type:ou.literal("text"),text:ou.string()}),df=ou.object({type:ou.literal("delay"),duration:ou.number(),id:ou.string()}),ff=ou.object({type:ou.literal("mark"),id:ou.string()}),pf=ou.union([uf,ff,df]),hf=ou.object({text:ou.array(pf),characterId:ou.string(),voiceId:ou.string().nullable()}),mf=ou.object({transcript:ou.array(hf),audios:ou.array(iu).nullable(),background:cf,textColor:ou.string(),animation:ou.object({type:ou.enum(["none","zoomIn","zoomOut","slideRight","slideLeft","slideUp","slideDown"]),distance:ou.number()}).optional()}),vf=ou.object({text:Yu,textColor:ou.string(),textAlignment:ou.enum(["center","left","right"])}),gf=ou.object({video:rf}),yf=ou.object({imageUrl:ou.string(),imageDescription:ou.string().nullable(),objectFit:ou.enum(["contain","cover"])}),bf=ou.union([yf,af]),wf=ou.object({characterId:ou.string().default("Georgia_sitting_office_front"),backgroundImageUrl:ou.string().nullable().optional()}),xf=ou.object({renderInformation:ou.object({id:ou.string(),createdAt:ou.string().nullable().default(null),status:ou.enum(["RENDERING","PENDING","PROCESSING","COMPLETE","FAILED"])}).nullable(),video:rf.nullable(),requireCompletion:ou.boolean().optional(),restrictSkipAhead:ou.boolean().optional()});const Sf=xf;var kf=ou.object({source:ou.string().default(""),description:ou.string().default(""),title:ou.string().default("").nullable()}),Ef=ou.object({source:ou.string().default(""),description:ou.string().default(""),title:ou.string().default("").nullable()}),Of=ou.object({source:ou.string().default(""),fileName:ou.string().default(""),displayName:ou.string().nullable().default(null),fileSize:ou.number().nullable().default(null)}),jf=ou.object({file:Of.nullable()});var _f=ou.enum(["text","image-cover","image-contain"]).default("text"),Cf=ou.object({front:Yu,frontType:_f,frontImage:vu,back:Yu,backType:_f,backImage:vu,id:ou.string().default((function(){return sd()}))}),Tf=ou.object({items:ou.array(Cf),mode:ou.enum(["grid","carousel"]).catch("grid")}),Pf=ou.object({items:ou.array(Zu),image:vu}),Af=ou.object({sequenceLabel:ou.string().optional(),text:Yu,id:ou.string().default((function(){return sd()}))}),Nf=ou.object({items:ou.array(Af),columns:ou.enum(["1","2","3","4"]).default("1"),mode:ou.enum(["Numbered","Bulleted","Checkbox","Pyramid","Staircase","Circle"]).default("Numbered")}),Mf=ou.object({choice:ou.string(),match:ou.string(),id:ou.string()}),If=ou.object({title:Yu,items:ou.array(Mf)}),Rf=ou.discriminatedUnion("type",[ou.object({type:ou.literal("image"),data:vu,imageAlignment:qd}),ou.object({type:ou.literal("video"),data:rf}),ou.object({type:ou.literal("embed"),data:Ef})]),Lf=ou.object({content:Yu,media:Rf.nullable().default(null),id:ou.string().default((function(){return sd()})),justify:ou.enum(["left","center","right"]).nullable()}),Df=ou.object({elements:ou.array(Lf),hasIntro:ou.boolean().default(!1),hasOutro:ou.boolean().default(!1),intro:Lf,outro:Lf}),Ff=ou.object({id:ou.string().default((function(){return sd()})),text:Yu,correct:ou.boolean(),feedback:ou.string().optional().default(""),image:ou.custom().optional().default(null)}),zf=ou.object({options:ou.array(Ff),feedback:ou.string().default(""),feedbackWhenCorrect:ou.string().default(""),selectMultiple:ou.boolean().default(!1),feedbackMode:ou.enum(["correct / incorrect","granular"]).default("correct / incorrect"),question:Yu,ifCorrect:ou.string().optional(),ifIncorrect:ou.string().optional(),graded:ou.boolean().default(!0)}),Bf=ou.object({quote:Yu,attribution:Yu,image:pu.nullable().default(null),backgroundImage:pu.nullable(),overlayColor:ou.string().optional()});const $f=ou.object({justify:ou.enum(["left","center","right"]).default("left"),align:ou.enum(["start","center","end"]).default("start")});var Uf=ou.object({question:Yu,answer:ou.string(),examples:ou.array(dd),grader:ou.enum(["ai","text-match"]).default("ai"),gradingInstructions:ou.string().default(""),closeMatch:ou.boolean().default(!0),graded:ou.boolean().default(!0)}),Vf=ou.object({categories:ou.array(wd)}),Hf=ou.object({content:Yu}),Wf=ou.object({cells:ou.array(ou.array(Hf)),columnWidths:ou.array(ou.number()).default([]),hasHeaderRow:ou.boolean().default(!1),hasHeaderColumn:ou.boolean().default(!1)}),qf=ou.object({content:Yu,table:Wf}),Gf=ou.discriminatedUnion("type",[ou.object({type:ou.literal("image"),data:vu,imageAlignment:qd}),ou.object({type:ou.literal("video"),data:rf}),ou.object({type:ou.literal("embed"),data:Ef})]),Kf=ou.object({label:ou.string().default(""),content:Yu,media:Gf.nullable().default(null),id:ou.string().default((function(){return sd()}))}),Xf=ou.object({items:ou.array(Kf)}),Yf=ou.enum(["page","accent-1","accent-2","header","body","element","transparent"]),Zf=ou.object({alias:Yf}),Jf=ou.string().or(Zf),Qf=ou.object({text:Yu,justify:ou.enum(["left","center","right"]).catch("left"),align:ou.enum(["start","center","end"]).catch("start"),backgroundImage:ou.union([pu,hu]).nullable().optional().transform((function(e){return e})),backgroundColor:Jf.nullable().optional(),textColor:Jf.optional(),overlayColor:ou.string().nullable().optional(),capWidth:ou.number().nullable().default(null),textAdornment:ou.enum(["none","highlight","box","title"]).default("none")});const ep=Qf;var tp=ou.discriminatedUnion("type",[ou.object({type:ou.literal("image"),data:vu}),ou.object({type:ou.literal("video"),data:rf}),ou.object({type:ou.literal("embed"),data:Ef})]),np=ou.object({id:ou.string().default((function(){return sd()})),date:ou.string().nullable(),content:Yu,media:tp.nullable().default(null),alignment:qd.nullable().default(null)}),rp=ou.object({events:ou.array(np),alignment:qd.default("center"),cyclical:ou.boolean().default(!1),showDates:ou.boolean().default(!0)}),op=ou.object({content:Yu}),ip=ou.object({label:ou.string(),data:ou.array(ou.number().nullable()),color:Jf.nullable()}),ap=ou.object({columns:ou.array(ip).default([]),chartType:ou.enum(["bar","line","pie","scatter","radar","area"]).default("bar"),rowLabels:ou.array(ou.string()).default([])});const sp=ou.object({code:Yu,syntaxHighlighting:ou.boolean().default(!0)});var lp=ou.object({id:ou.string(),text:ou.string(),next:ou.union([Id,Rd,Ld,Dd]),isPrimary:ou.boolean().optional().default(!0)}),cp=ou.object({text:Yu,buttons:ou.array(lp)}),up=ou.object({id:ou.string(),type:ou.enum(["default","textExplore","point"]),x:ou.number(),y:ou.number(),width:ou.number(),height:ou.number(),borderRadius:ou.number()}),dp=up.extend({type:ou.literal("default"),next:ou.union([Id,Dd])}),fp=up.extend({type:ou.literal("textExplore"),richText:ou.any(),next:ou.union([Id,Dd])}),pp=up.extend({type:ou.literal("point"),icon:ou.string().optional(),isTooltip:ou.boolean().optional(),alwaysShowTooltip:ou.boolean().optional(),tooltipText:ou.any().optional(),next:ou.union([Id,Dd]).optional()}),hp=ou.discriminatedUnion("type",[dp,fp,pp]),mp=ou.object({image:ou.any().optional(),explores:ou.array(hp)}),vp=ou.object({video:rf,next:ou.union([Id,Dd]).optional()}),gp=ou.object({id:ou.string(),text:Yu}),yp=ou.object({question:Yu,items:ou.array(gp),graded:ou.boolean().default(!0),feedback:ou.string().optional(),feedbackWhenCorrect:ou.string().optional()}),bp=(ou.enum(["text","divider","question","shortAnswer","link","video","flashcards","accordion","matching","sorting","embed","hotButton","tiledLayout"]),ou.object({narration:lu.optional()})),wp=bp.extend({order:ou.string(),parentId:ou.string()}),xp={text:bp.extend({type:ou.literal("text"),data:kd}),divider:bp.extend({type:ou.literal("divider"),data:yu}),question:bp.extend({type:ou.literal("question"),data:yd}),shortAnswer:bp.extend({type:ou.literal("shortAnswer"),data:vd}),rankingTile:bp.extend({type:ou.literal("rankingTile"),data:yp}),link:bp.extend({type:ou.literal("link"),data:ed}),video:bp.extend({type:ou.literal("video"),data:_d}),flashcards:bp.extend({type:ou.literal("flashcards"),data:wu}),accordion:bp.extend({type:ou.literal("accordion"),data:cu}),matching:bp.extend({type:ou.literal("matching"),data:cd}),sorting:bp.extend({type:ou.literal("sorting"),data:xd}),embed:bp.extend({type:ou.literal("embed"),data:bu}),hotButton:bp.extend({type:ou.literal("hotButton"),data:Ju}),tiledLayout:bp.extend({type:ou.literal("tiledLayout"),data:ou.object({}),layout:jd,sectionDivider:ou.boolean().default(!1)}),imageTile:bp.extend({type:ou.literal("imageTile"),data:af}),textTile:bp.extend({type:ou.literal("textTile"),data:ep}),flashcardsTile:bp.extend({type:ou.literal("flashcardsTile"),data:Tf}),questionTile:bp.extend({type:ou.literal("questionTile"),data:zf}),videoTile:bp.extend({type:ou.literal("videoTile"),data:of}),embedTile:bp.extend({type:ou.literal("embedTile"),data:kf}),accordionTile:bp.extend({type:ou.literal("accordionTile"),data:Kd}),shortAnswerTile:bp.extend({type:ou.literal("shortAnswerTile"),data:Uf}),matchingTile:bp.extend({type:ou.literal("matchingTile"),data:If}),sortingTile:bp.extend({type:ou.literal("sortingTile"),data:Vf}),hotButtonTile:bp.extend({type:ou.literal("hotButtonTile"),data:Pf}),buttonsTile:bp.extend({type:ou.literal("buttonsTile"),data:Jd}),sectionCalloutTile:bp.extend({type:ou.literal("sectionCalloutTile"),data:$f}),listTile:bp.extend({type:ou.literal("listTile"),data:Nf}),experienceTile:bp.extend({type:ou.literal("experienceTile"),data:Bd}),textNode:bp.extend({type:ou.literal("textNode"),data:Wd,position:Cd,parentId:ou.string()}),dialogueNode:bp.extend({type:ou.literal("dialogueNode"),data:Vd,position:Cd,parentId:ou.string()}),sceneNode:bp.extend({type:ou.literal("sceneNode"),data:Hd,parentId:ou.string()}),dividerTile:bp.extend({type:ou.literal("dividerTile"),data:tf}),tabsTile:bp.extend({type:ou.literal("tabsTile"),data:Xf}),carouselTile:bp.extend({type:ou.literal("carouselTile"),data:ef}),timelineTile:bp.extend({type:ou.literal("timelineTile"),data:rp}),audioTile:bp.extend({type:ou.literal("audioTile"),data:Yd,elementColor:Jf.nullable()}),quoteTile:bp.extend({type:ou.literal("quoteTile"),data:Bf,elementColor:Jf.nullable()}),editableVideoTile:bp.extend({type:ou.literal("editableVideoTile"),data:Sf}),videoScene:wp.extend({type:ou.literal("videoScene"),data:mf}),textElement:wp.extend({type:ou.literal("textElement"),data:vf}),imageElement:wp.extend({type:ou.literal("imageElement"),data:bf}),speakerElement:wp.extend({type:ou.literal("speakerElement"),data:wf}),videoElement:wp.extend({type:ou.literal("videoElement"),data:gf}),fileDownloadTile:bp.extend({type:ou.literal("fileDownloadTile"),data:jf}),processTile:bp.extend({type:ou.literal("processTile"),data:Df,elementColor:Jf.nullable()}),tableTile:bp.extend({type:ou.literal("tableTile"),data:qf}),noteTile:bp.extend({type:ou.literal("noteTile"),data:op,elementColor:Jf.nullable()}),chartTile:bp.extend({type:ou.literal("chartTile"),data:ap,elementColor:Jf.nullable()}),codeTile:bp.extend({type:ou.literal("codeTile"),data:sp}),modalNode:bp.extend({type:ou.literal("modalNode"),data:cp,position:Cd,parentId:ou.string()}),exploreNode:bp.extend({type:ou.literal("exploreNode"),data:mp,position:Cd,parentId:ou.string()}),videoNode:bp.extend({type:ou.literal("videoNode"),data:vp,position:Cd,parentId:ou.string()})},Sp=(ou.discriminatedUnion("type",[xp.text,xp.divider,xp.question,xp.shortAnswer,xp.link,xp.video,xp.flashcards,xp.accordion,xp.matching,xp.sorting,xp.embed,xp.hotButton,xp.modalNode,xp.tiledLayout,xp.imageTile,xp.textTile,xp.flashcardsTile,xp.questionTile,xp.videoTile,xp.embedTile,xp.accordionTile,xp.shortAnswerTile,xp.rankingTile,xp.matchingTile,xp.sortingTile,xp.hotButtonTile,xp.buttonsTile,xp.sectionCalloutTile,xp.listTile,xp.experienceTile,xp.textNode,xp.dialogueNode,xp.sceneNode,xp.dividerTile,xp.tabsTile,xp.carouselTile,xp.timelineTile,xp.audioTile,xp.quoteTile,xp.editableVideoTile,xp.videoScene,xp.textElement,xp.imageElement,xp.speakerElement,xp.fileDownloadTile,xp.processTile,xp.tableTile,xp.noteTile,xp.chartTile,xp.codeTile,xp.videoElement,xp.exploreNode,xp.videoNode]),["title"]),kp=["textTile","imageTile","flashcardsTile","questionTile","videoTile","embedTile","accordionTile","shortAnswerTile","matchingTile","sortingTile","hotButtonTile","buttonsTile","sectionCalloutTile","listTile","experienceTile","tabsTile","dividerTile","carouselTile","timelineTile","audioTile","quoteTile","editableVideoTile","fileDownloadTile","processTile","tableTile","noteTile","chartTile","codeTile","rankingTile"],Ep=["textNode","dialogueNode","sceneNode","modalNode","exploreNode","videoNode"],Op=["textElement","imageElement","speakerElement","videoElement"],jp=(ou.discriminatedUnion("type",[xp.textElement,xp.imageElement,xp.speakerElement,xp.videoElement]),{textTile:1,imageTile:1,flashcardsTile:1,questionTile:1,videoTile:1,embedTile:1,accordionTile:1,shortAnswerTile:1,matchingTile:1,sortingTile:1,hotButtonTile:1,buttonsTile:1,sectionCalloutTile:1,listTile:1,experienceTile:null,tabsTile:1,dividerTile:1,carouselTile:1,timelineTile:1,audioTile:1,quoteTile:1,editableVideoTile:1,fileDownloadTile:1,processTile:1,tableTile:1,noteTile:1,chartTile:1,codeTile:1,rankingTile:1}),_p={experienceTile:1,textTile:null,imageTile:.666,flashcardsTile:null,questionTile:null,videoTile:null,embedTile:1,accordionTile:null,shortAnswerTile:null,matchingTile:null,sortingTile:null,hotButtonTile:null,buttonsTile:null,sectionCalloutTile:null,listTile:null,tabsTile:null,dividerTile:null,carouselTile:.666,timelineTile:null,audioTile:null,quoteTile:null,editableVideoTile:null,fileDownloadTile:null,processTile:null,tableTile:null,noteTile:null,chartTile:1,codeTile:.15,rankingTile:null},Cp=function(e,t,n,r,o){if("question"===e.type)return t&&t.submitted?$s(e,t)?1:0:null;if("shortAnswer"===e.type||"shortAnswerTile"===e.type){var i=null==t?void 0:t.grade;if(!i)return null;if("correct"===i)return 1;if("incorrect"===i)return 0;if("partial"===i)return.5}if("matching"===e.type||"matchingTile"===e.type){var a,s;if(!t)return null;if(!t.submitted)return null;var l=null==t||null===(a=t.connections)||void 0===a?void 0:a.filter((function(e){return e.choiceId===e.matchId}));return((null==l?void 0:l.length)||0)/(null===(s=e.data.items)||void 0===s?void 0:s.length)}return"sorting"===e.type||"sortingTile"===e.type?null:kp.includes(e.type)?(0,Us[e.type])(e,t,n,r,o):null},Tp=function(e,t){var n=zs(t.settings),r=t.blockOrder;n.scoredSectionId&&"section"===n.scoredContent&&(r=Io(t,n.scoredSectionId));var o=t.blockOrder.filter((function(e){return t.blocks[e]&&r.includes(e)})).map((function(r){var o=e[r],i=t.blocks[r];return"tiledLayout"===i.type?function(e){var t=e.block,n=zs(e.lesson.settings),r=t.layout.rows.flatMap((function(e){return e.tiles})),o=e.lesson.blocks;return r.map((function(t){var r=e.blockStates[t.tileId],i=o[t.tileId];return i?(0,Us[i.type])(i,r,n,e.lesson,e.blockStates):null}))}({block:i,blockStates:e,lesson:t}):[Cp(i,o,n,t,e)]})).flat().filter((function(e){return null!==e})),i=o.reduce((function(e,t){return e+t}),0)/o.length;return 0===o.length&&(i=1),{score:i,passed:i>=n.passingPercentage/100,numberOfQuestions:o.length}};function Pp(e,t){var n=null==e?void 0:e.map((function(e){var n=t[e.id];return Tp(n.blockStates,e)})),r=null==n?void 0:n.reduce((function(e,t){return{totalWeightedScore:e.totalWeightedScore+t.score*t.numberOfQuestions,totalQuestions:e.totalQuestions+t.numberOfQuestions}}),{totalWeightedScore:0,totalQuestions:0}),o=r?r.totalWeightedScore/r.totalQuestions:0;return{score:Math.round(100*o)/100,numberOfCorrectQuestions:r.totalQuestions*o,numberOfQuestions:r.totalQuestions}}var Ap=o(867);function Np(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Mp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mp(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ip=["questionTile","shortAnswerTile","matchingTile","sortingTile","experienceTile","rankingTile","tabsTile","processTile","carouselTile","hotButtonTile","accordionTile","flashcardsTile"],Rp={textTile:function(){return!0},noteTile:function(){return!0},codeTile:function(){return!0},imageTile:function(){return!0},carouselTile:function(e,t,n){return!n.requireInteractives||(!t||!e.data.images||e.data.images.every((function(e,n){var r;return null==t||null===(r=t.itemsCompleted)||void 0===r?void 0:r[n]})))},fileDownloadTile:function(){return!0},quoteTile:function(){return!0},flashcardsTile:function(e,t,n){if(!n.requireInteractives)return!0;var r=(null==t?void 0:t.itemsCompleted)||{},o=e.data.items.every((function(e,t){return r[t]}));return o},questionTile:function(e,t,n){var r,o,i,a=n.assessmentRetries;return!!t&&(0===(null===(r=e.data)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.length)||!(null==t||!t.submitted)&&(null===(o=e.data)||void 0===o||!o.graded||(!!$s(e,t)||-1!==a&&(null!==(i=null==t?void 0:t.attemptIndex)&&void 0!==i?i:0)>=a)))},rankingTile:function(e,t,n){var r;n.assessmentRetries;if(!t)return!1;if(null==t||!t.submitted)return!1;if(null===(r=e.data)||void 0===r||!r.graded)return!0;var o=t.learnerOrder.every((function(t,n){var r;return(null===(r=e.data.items[n])||void 0===r?void 0:r.id)===t}));return!!o},videoTile:function(e,t){return!e.data.requireCompletion||!!t&&t.watchedProportion>.98},embedTile:function(){return!0},accordionTile:function(e,t,n){if(!n.requireInteractives)return!0;var r=(null==t?void 0:t.itemsCompleted)||{},o=e.data.items.every((function(e,t){return r[t]}));return o},shortAnswerTile:function(e,t,n){var r,o,i=n.assessmentRetries;return!!t&&(!(null==t||!t.submitted)&&(null===(r=e.data)||void 0===r||!r.graded||("correct"===(null==t?void 0:t.grade)||"partial"===(null==t?void 0:t.grade)||-1!==i&&(null!==(o=null==t?void 0:t.attemptIndex)&&void 0!==o?o:0)>=i)))},matchingTile:function(e,t){return(null==t?void 0:t.submitted)||!1},sortingTile:function(e,t){return-1===(null==t?void 0:t.itemIndex)},hotButtonTile:function(e,t,n){return!n.requireInteractives||!!t&&((null==t?void 0:t.items.map((function(e){return e.viewed})))||[]).every((function(e){return e}))},buttonsTile:function(){return!0},sectionCalloutTile:function(){return!0},listTile:function(){return!0},experienceTile:function(e,t,n,r,o){var i;if(!t)return!1;if(t.hasCompleted)return!0;if(!("root"in e.data))return!0;if(!r.blocks[e.data.root.id])return!0;if(!Lp(e.data.root.id,r))return!0;var a=null==t?void 0:t.nodeHistory[t.nodeHistory.length-1];if("completed"===a)return!0;var s=r.blocks[a];if(!s)return!1;switch(s.type){case"dialogueNode":case"modalNode":default:return!1;case"textNode":return"complete"===(null===(i=s.data)||void 0===i||null===(i=i.next)||void 0===i?void 0:i.type)}},dividerTile:function(){return!0},timelineTile:function(){return!0},processTile:function(e,t,n){if(!n.requireInteractives)return!0;if(!t)return!1;var r=(null==t?void 0:t.itemsCompleted)||{},o=e.data.elements.length+(e.data.hasIntro?1:0)+(e.data.hasOutro?1:0),i=Array.from({length:o}).every((function(e,t){return r[t]}));return i},tabsTile:function(e,t,n){if(!n.requireInteractives)return!0;if(!t)return!1;var r=(null==t?void 0:t.itemsCompleted)||{},o=e.data.items.every((function(e,t){return r[t]}));return o},audioTile:function(){return!0},editableVideoTile:function(e,t){return!e.data.requireCompletion||!!t&&t.watchedProportion>.98},tableTile:function(){return!0},chartTile:function(){return!0}},Lp=function(e,t){for(var n,r,o,i,a=new Set,s=[e];s.length>0;){var l=s.shift();if(!a.has(l)){a.add(l);var c=t.blocks[l];if(c)switch(c.type){case"textNode":if("complete"===(null===(n=c.data)||void 0===n||null===(n=n.next)||void 0===n?void 0:n.type))return!0;"node"===(null===(r=c.data)||void 0===r||null===(r=r.next)||void 0===r?void 0:r.type)&&s.push(c.data.next.id);break;case"dialogueNode":var u,d=Np(c.data.options);try{for(d.s();!(u=d.n()).done;){var f,p,h=u.value;if("complete"===(null===(f=h.next)||void 0===f?void 0:f.type))return!0;"node"===(null===(p=h.next)||void 0===p?void 0:p.type)&&s.push(h.next.id)}}catch(e){d.e(e)}finally{d.f()}break;case"modalNode":var m,v=Np(c.data.buttons);try{for(v.s();!(m=v.n()).done;){var g,y,b=m.value;if("complete"===(null===(g=b.next)||void 0===g?void 0:g.type))return!0;"node"===(null===(y=b.next)||void 0===y?void 0:y.type)&&s.push(b.next.id)}}catch(e){v.e(e)}finally{v.f()}break;case"exploreNode":var w,x=Np(c.data.explores||[]);try{for(x.s();!(w=x.n()).done;){var S,k,E=w.value;if("complete"===(null===(S=E.next)||void 0===S?void 0:S.type))return!0;"node"===(null===(k=E.next)||void 0===k?void 0:k.type)&&s.push(E.next.id)}}catch(e){x.e(e)}finally{x.f()}break;case"videoNode":if("complete"===(null===(o=c.data)||void 0===o||null===(o=o.next)||void 0===o?void 0:o.type))return!0;"node"===(null===(i=c.data)||void 0===i||null===(i=i.next)||void 0===i?void 0:i.type)&&s.push(c.data.next.id)}}}return!1},Dp=function(e){var t=e.block,n=zs(e.lesson.settings),r=t.layout.rows.flatMap((function(e){return e.tiles})),o=e.lesson.blocks,i=0,a=0;return r.filter((function(e){var t=o[e.tileId];return!!t&&function(e){return!!Ip.includes(e.type)||!("videoTile"!==e.type&&"editableVideoTile"!==e.type||!e.data.requireCompletion)}(t)})).forEach((function(t){var r,s=o[t.tileId];if(s){a++;var l=e.blockStates[t.tileId],c=Rp[s.type];(null===(r=null==c?void 0:c(s,l,n,e.lesson,e.blockStates))||void 0===r||r)&&i++}})),{completedTiles:i,totalTiles:a}},Fp=["question","shortAnswer","matching","sorting","tiledLayout"],zp=function(e){var t,n=e.lesson,r=e.blockStates,o=e.blockId;if("completed"===o||"title"===o)return!0;var i=zs(n.settings).assessmentRetries,a=o,s=null==n||null===(t=n.blocks)||void 0===t?void 0:t[a];if(!s)return!0;var l,c,u,d,f,p=null==r?void 0:r[a];if(!Fp.includes(s.type))return!0;if("tiledLayout"===s.type){var h,m=null===(h=n.settings)||void 0===h?void 0:h.completionCriteria,v=(c=(l={block:s,lesson:n,blockStates:r}).block,u=zs(l.lesson.settings),d=c.layout.rows.flatMap((function(e){return e.tiles})),f=l.lesson.blocks,d.every((function(e){var t,n=l.blockStates[e.tileId],r=f[e.tileId];if(!r)return!0;var o=Rp[r.type];return null===(t=null==o?void 0:o(r,n,u,l.lesson,l.blockStates))||void 0===t||t})));if("assessmentAndView"===m){var g=r[o];return v&&(null==g?void 0:g.hasReachedBottom)}return v}if(!p)return!1;if("sorting"===s.type)return-1===p.itemIndex;if("matching"===s.type)return p.submitted;if(p.submitted){if("shortAnswer"===s.type)return!0;if("question"===s.type){var y;if($s(s,p))return!0;if(s.data.ifIncorrect)return!1;if(-1===i)return!1;if((null!==(y=null==p?void 0:p.attemptIndex)&&void 0!==y?y:0)>=i)return!0}}return!1},Bp=function(){return be((function(e){var t=e.selectedBlockId,n=e.lessonContent;return!n||(null===t||("quiz"===t?Tp(e.blockStates,n).passed:zp({lesson:n,blockStates:e.blockStates,blockId:t})))}))},$p=o(2543);function Up(e){return function(e){if(Array.isArray(e))return Hp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vp(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vp(e,t){if(e){if("string"==typeof e)return Hp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hp(e,t):void 0}}function Hp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Wp=function(e){var t=e.lessonContent,n=e.selectedBlockId,r=e.blockStates,o=e.clipAtCompleted,i=Ro(t),a=zs(t.settings),s=Tp(r,t),l=i,c=l.findIndex((function(e){return e===n})),u=[],d=null,f=null;if("section"===a.scoredContent&&a.scoredSectionId){var p=To(t,_o(t,a.scoredSectionId));d=p[p.length-1]}for(var h=0;h<l.length;h++){var m=l[h],v=t.blocks[m],g=zp({lesson:t,blockStates:r,blockId:m});if(!(null!==f&&h<f)){if("question"===(null==v?void 0:v.type)&&g){var y,b,w=null!==(y=null===(b=r[m])||void 0===b?void 0:b.submitted)&&void 0!==y&&y,x=$s(v,r[m]);if(x&&v.data.ifCorrect&&w){var S=v.data.ifCorrect;f=l.indexOf(S)}if(!x&&v.data.ifIncorrect&&w){var k=v.data.ifIncorrect;f=l.indexOf(k)}}if("tiledLayout"===(null==v?void 0:v.type)&&g){var E=v.layout.rows.flatMap((function(e){return e.tiles.map((function(e){return e.tileId}))})).filter((function(e){var n;return"questionTile"===(null===(n=t.blocks[e])||void 0===n?void 0:n.type)}));if(1===E.length){var O,j,_=E[0],C=t.blocks[_],T=$s(C,r[_]),P=null!==(O=null===(j=r[_])||void 0===j?void 0:j.submitted)&&void 0!==O&&O;if(T&&C.data.ifCorrect&&P){var A=C.data.ifCorrect;f=l.indexOf(A)}if(!T&&C.data.ifIncorrect&&P){var N=C.data.ifIncorrect;f=l.indexOf(N)}}}if(o)if(h<c)u.push(m);else{if(!s.passed&&m===d){u.push(m);break}if(!g){u.push(m);break}u.push(m)}else u.push(m)}}return u},qp=function(e,t,n,r){return be((function(o){if(!e)return{percentProgressData:[],navigablePages:[],completedPages:[]};var i=r||e.settings,a=i.navigationFreedom||"restricted",s=i.completionCriteria||"assessmentAndView",l=Ro(e),c=l.map((function(n){return Gp(n,e,t,s)}));if(n)return{percentProgressData:[],navigablePages:l,completedPages:l};var u=Kp(c,s,a);return{percentProgressData:c,navigablePages:Xp(c,u,a),completedPages:u}}))},Gp=function(e,t,n,r){var o=n[e]||{},i=o.furthestScrollDistance,a=o.bottomScrollDistance,s=o.hasReachedBottom,l=t.blocks[e];if(!l)return{blockId:e,progress:100,blockIsAssessment:!1};var c=Dp({block:l,lesson:t,blockStates:n}),u=c.completedTiles,d=c.totalTiles,f=d>0,p=60;return p=f?60+40*u/d:100,"assessmentAndView"===r?s?{blockId:e,progress:p,blockIsAssessment:!0}:(0,$p.isNumber)(i)&&(0,$p.isNumber)(a)?{blockId:e,progress:i/a*p,blockIsAssessment:!0,furthestScrollDistance:i,bottomScrollDistance:a}:{blockId:e,progress:0,blockIsAssessment:!0,furthestScrollDistance:i,bottomScrollDistance:a}:f?{blockId:e,progress:u/d*100,blockIsAssessment:!0}:{blockId:e,progress:100,blockIsAssessment:!1}},Kp=function(e,t,n){if("open"===n)return e.filter((function(e){return e.progress>=95})).map((function(e){return e.blockId}));if("assessmentAndView"===t)return e.filter((function(e){return e.progress>=95})).map((function(e){return e.blockId}));if("assessmentOnly"===t){var r,o=[],i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(100!==a.progress)break;o.push(a.blockId)}}catch(e){i.e(e)}finally{i.f()}return o}return[]},Xp=function(e,t,n){if("open"===n)return e.map((function(e){return e.blockId}));var r=Up(t);return r.length<e.length&&r.push(e[r.length].blockId),r};function Yp(e){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(e)}function Zp(){Zp=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Yp(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Yp(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Jp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jp(Object(n),!0).forEach((function(t){eh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Yp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Yp(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function th(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nh(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){th(i,r,o,a,s,"next",e)}function s(e){th(i,r,o,a,s,"throw",e)}a(void 0)}))}}var rh=function(){var e=nh(Zp().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g;return Zp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.getState(),r=n.blockStates,o=n.completed,i=n.launchToken,a=n.attemptNumber,s=n.selectedBlockId,l=n.accumulatedTime,"print"!==(c=n.launchType)){e.next=3;break}return e.abrupt("return");case 3:if(!i){e.next=25;break}if(be.setState((function(e){e.saving=!0,e.saveError=null})),u=be.getState().blockStates,d=be.getState().lessonContent){e.next=9;break}return e.abrupt("return");case 9:return f=Tp(u,d),e.prev=10,p=o,be.setState((function(e){var t=e.lessonId;if(e.courseAttempt&&t){var n=e.courseAttempt.lessonAttempts[t];p=(null==n?void 0:n.completed)||o,e.courseAttempt.lessonAttempts[t]=Qp(Qp({},e.courseAttempt.lessonAttempts[t]),{},{blockStates:r,selectedBlockId:s,completed:p,score:f.score||0,accumulatedTime:l,startedAt:e.startedAt}),e.courseAttempt.selectedLessonId=t}})),e.next=15,Fs.learn.updateProgressData.mutate({token:i,blockStates:r,selectedBlockId:s,completed:p,score:f.score||0,attemptNumber:a,accumulatedTime:l,startedAt:be.getState().startedAt,context:t,lessonId:be.getState().lessonId});case 15:h=be.getState(),h.courseAttempt||(m=lh(),window.parent&&window.parent!==window&&window.parent.postMessage({type:"progress",progressMeasure:m/100},"*")),be.setState((function(e){e.saving=!1})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),be.setState((function(t){t.saving=!1,t.saveError=e.t0.message}));case 23:e.next=44;break;case 25:if("static"!==c){e.next=38;break}if(!be.getState().course){e.next=31;break}return e.next=30,ah();case 30:return e.abrupt("return");case 31:if(!be.getState().completed){e.next=34;break}return e.abrupt("return");case 34:return e.next=36,oh();case 36:e.next=44;break;case 38:if("website"!==c){e.next=44;break}return e.next=41,(0,Ap.zip)(JSON.stringify({blockStates:r,selectedBlockId:s}));case 41:v=e.sent,g=JSON.stringify(v),localStorage.setItem("lesson-progress",g);case 44:case"end":return e.stop()}}),e,null,[[10,20]])})));return function(t){return e.apply(this,arguments)}}();function oh(){return ih.apply(this,arguments)}function ih(){return(ih=nh(Zp().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d,f,p;return Zp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=be.getState(),o=r.blockStates,i=r.selectedBlockId,e.next=3,(0,Ap.zip)(JSON.stringify({blockStates:o,selectedBlockId:i}));case 3:a=e.sent,s=JSON.stringify(a),"1.2"===(null===(t=window)||void 0===t?void 0:t.scorm_type)&&(null===(l=window)||void 0===l||l.scorm_api.LMSSetValue("cmi.suspend_data",s),null===(c=window)||void 0===c||c.scorm_api.LMSCommit("")),"2004"===(null===(n=window)||void 0===n?void 0:n.scorm_type)&&(p=lh(),null===(u=window)||void 0===u||u.scorm_api.SetValue("cmi.suspend_data",s),null===(d=window)||void 0===d||d.scorm_api.SetValue("cmi.progress_measure",p/100),null===(f=window)||void 0===f||f.scorm_api.Commit(""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(){return sh.apply(this,arguments)}function sh(){return(sh=nh(Zp().mark((function e(){var t,n,r,o,i,a,s,l,c,u;return Zp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be.setState((function(e){var t=e.lessonId;if(e.courseAttempt&&t){var n=e.courseAttempt.lessonAttempts[t],r=(null==n?void 0:n.completed)||e.completed;e.courseAttempt.lessonAttempts[t]=Qp(Qp({},e.courseAttempt.lessonAttempts[t]),{},{blockStates:e.blockStates,selectedBlockId:e.selectedBlockId,completed:r,score:e.score,accumulatedTime:e.accumulatedTime,startedAt:e.startedAt}),e.courseAttempt.selectedLessonId=t}})),r=be.getState(),o=r.courseAttempt,e.next=4,(0,Ap.zip)(JSON.stringify({courseAttempt:o}));case 4:i=e.sent,a=JSON.stringify(i),"1.2"===(null===(t=window)||void 0===t?void 0:t.scorm_type)&&(null===(s=window)||void 0===s||s.scorm_api.LMSSetValue("cmi.suspend_data",a),null===(l=window)||void 0===l||l.scorm_api.LMSCommit("")),"2004"===(null===(n=window)||void 0===n?void 0:n.scorm_type)&&(null===(c=window)||void 0===c||c.scorm_api.SetValue("cmi.suspend_data",a),null===(u=window)||void 0===u||u.scorm_api.Commit("")),be.setState((function(e){e.saving=!1}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lh(){var e,t=be.getState().blockStates,n=be.getState().lessonContent,r=(null==n||null===(e=n.settings)||void 0===e?void 0:e.completionCriteria)||"assessmentAndView",o=Ro(n).map((function(e){return Gp(e,n,t,r)})).filter((function(e){return e.blockIsAssessment})),i=o.length>0?Math.round(o.map((function(e){return e.progress})).reduce((function(e,t){return e+t}),0)/o.length):100;return be.getState().completed?100:i}var ch=Do()(rh,500);const uh=function(e,t){be.setState((function(n){var r;n.lessonContent&&(n.blockStates[e]=t),n.lessonId&&null!==(r=n.courseAttempt)&&void 0!==r&&r.lessonAttempts[n.lessonId]&&(n.courseAttempt.lessonAttempts[n.lessonId].blockStates[e]=t)})),ch()};var dh=function(e){return e[e.EDIT=0]="EDIT",e[e.THUMBNAIL=1]="THUMBNAIL",e[e.VIEW=2]="VIEW",e[e.DRAG=3]="DRAG",e[e.PRINT=4]="PRINT",e}({});const fh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dh.VIEW,n=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e]})),r=be((function(t){return t.blockStates[e]})),o=null==n?void 0:n.type;return{data:null==n?void 0:n.data,type:o,id:e,state:r,updateState:function(t){uh(e,t)},mode:t}};var ph=function(e){return(299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16))/1e3>128};function hh(e){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(e)}function mh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mh(Object(n),!0).forEach((function(t){gh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=hh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hh(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yh=function(){return be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.theme}))},bh=function(e,t){var n,r,o=e.pageColor,i=!ph(o);e.imageUrl&&!t&&(i=ph(e.bodyColor));var a=e.accentColor;return ph(a)&&!ph(o)&&(a=o),{theme:e,whiteContrastColor:a,buttonColor:null!==(n=e.secondaryAccentColor)&&void 0!==n?n:e.accentColor,buttonText:ph(null!==(r=e.secondaryAccentColor)&&void 0!==r?r:e.accentColor)?"#000000":"#ffffff",elementColor:e.accentColor,elementText:ph(e.accentColor)?"#000000":"#ffffff",isDarkTheme:i}},wh=function(){var e=be((function(e){var t;return null===(t=e.course)||void 0===t?void 0:t.courseContent.theme})),t=be((function(e){return e.course})),n=null==t?void 0:t.courseContent.isHeaderHighContrast;return vh(vh({},bh(e,n)),{},{isHeaderHighContrast:!!n})},xh=function(){var e=yh();return bh(e)};const Sh=yh;var kh=o(7350),Eh=o.n(kh),Oh=function(e,t){if(e.type!==t.type)throw new Error("Mutation types do not match and cannot be merged.");var n=e.type;if("blockRemoval"===n)throw new Error("Block removal mutations cannot be merged.");if("blockAddition"===n)throw new Error("Block addition mutations cannot be merged.");if("themeDelete"===n)throw new Error("Theme delete mutations cannot be merged.");if("themeSelect"===n)throw new Error("Theme select mutations cannot be merged.");if("storyboardPageDelete"===n)throw new Error("Storyboard page delete mutations cannot be merged.");if("storyboardPageAddition"===n)throw new Error("Storyboard page addition mutations cannot be merged.");return"lessonTitleUpdate"===n?function(e,t){return{type:"lessonTitleUpdate",before:e.before,after:t.after}}(e,t):"blockContentUpdate"===n?function(e,t){if(e.blockId!==t.blockId)throw new Error("Block IDs do not match and cannot be merged.");return{type:"blockContentUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):"blockDataUpdate"===n?function(e,t){if(e.blockId!==t.blockId)throw new Error("Block IDs do not match and cannot be merged.");return{type:"blockDataUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):"blockLayoutUpdate"===n?function(e,t){if(e.blockId!==t.blockId)throw new Error("Block IDs do not match and cannot be merged.");return{type:"blockLayoutUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):"blockNarrationUpdate"===n?function(e,t){if(e.blockId!==t.blockId)throw new Error("Block IDs do not match and cannot be merged.");return{type:"blockNarrationUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):"blockTypeUpdate"===n?function(e,t){return{type:"blockTypeUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):"lessonBlockOrderUpdate"===n?function(e,t){return{type:"lessonBlockOrderUpdate",before:e.before,after:t.after}}(e,t):"lessonSettingsUpdate"===n?function(e,t){return{type:"lessonSettingsUpdate",before:e.before,after:t.after}}(e,t):"lessonThemeIdUpdate"===n?function(e,t){return{type:"lessonThemeIdUpdate",before:e.before,after:t.after}}(e,t):"themeUpsert"===n?function(e,t){return{type:"themeUpsert",before:e.before,after:t.after}}(e,t):"lessonLanguageUpdate"===n?function(e,t){return{type:"lessonLanguageUpdate",before:e.before,after:t.after}}(e,t):"lessonThumbnailUpdate"===n?function(e,t){return{type:"lessonThumbnailUpdate",before:e.before,after:t.after}}(e,t):"storyboardOptionsUpdate"===n?function(e,t){return{type:"storyboardOptionsUpdate",before:e.before,after:t.after}}(e,t):"storyboardPageOrderUpdate"===n?function(e,t){return{type:"storyboardPageOrderUpdate",before:e.before,after:t.after}}(e,t):"storyboardPageUpdate"===n?function(e,t){return{type:"storyboardPageUpdate",blockId:e.blockId,before:e.before,after:t.after}}(e,t):function(e,t){return{type:"lessonBackgroundInfoUpdate",before:e.before,after:t.after}}(e,t)},jh={open:!1,targetType:"lesson",targetValue:null,destination:"overwrite",loadedContext:!1,associatedPartitionedDocuments:[],postGenIds:[],resizingImage:null,phase:"open",action:null,followUp:null,openFieldValue:"",redoState:null,assistantOpen:!1,assistantInstructions:"",assistantSelectedOption:"",assistantDecision:"",assistantIsFollowUpState:!1,assistantFiles:[],assistantAbortController:null,assistantIsLoading:!1,assistantIsDeciding:!1,assistantGenerationComplete:!1,contextMode:null,tileContextData:null,sidebarExpanded:!0,sequentialGenerationData:null,collapsedMap:{},isRegenerating:!1},_h=h()(ge(g((function(e,t){return jh})))),Ch=function(){_h.setState((function(e){e.contextMode=null})),be.setState((function(e){e.contextMenuPosition=null}))};const Th=_h;var Ph=function(e,t){return"lessonTitleUpdate"===t.type?function(e,t){e.title=t.after}(e,t):"lessonSettingsUpdate"===t.type?function(e,t){e.settings=t.after}(e,t):"lessonThemeIdUpdate"===t.type?function(e,t){e.themeId=t.after}(e,t):"lessonBlockOrderUpdate"===t.type?function(e,t){e.blockOrder=t.after}(e,t):"blockLayoutUpdate"===t.type?function(e,t){var n=e.blocks[t.blockId];if("tiledLayout"!==n.type)throw new Error("Invalid block type for block layout update");n.layout=t.after}(e,t):"blockAddition"===t.type?function(e,t){e.blocks[t.blockId]=t.after}(e,t):"blockNarrationUpdate"===t.type?function(e,t){var n;e.blocks[t.blockId].narration=null!==(n=t.after)&&void 0!==n?n:void 0}(e,t):"blockTypeUpdate"===t.type?function(e,t){e.blocks[t.blockId].type=t.after}(e,t):"blockRemoval"===t.type?function(e,t){delete e.blocks[t.blockId]}(e,t):"blockDataUpdate"===t.type?function(e,t){e.blocks[t.blockId].data=t.after}(e,t):"themeUpsert"===t.type||"themeSelect"===t.type?function(e,t){e.theme=t.after,e.themeId=t.after.id}(e,t):"lessonLanguageUpdate"===t.type?function(e,t){e.language=t.after}(e,t):"lessonBackgroundInfoUpdate"===t.type?function(e,t){e.backgroundInfo=t.after}(e,t):"lessonThumbnailUpdate"===t.type?function(e,t){e.userUploadedThumbnailUrl=t.after}(e,t):"themeDelete"!==t.type?"storyboardPageUpdate"===t.type?function(e,t){e.storyboardItems[t.blockId]=t.after}(e,t):"storyboardPageOrderUpdate"===t.type?function(e,t){e.storyboardOrder=t.after}(e,t):"storyboardOptionsUpdate"===t.type?function(e,t){e.storyboardOptions=t.after}(e,t):"storyboardPageDelete"===t.type?function(e,t){delete e.storyboardItems[t.blockId]}(e,t):"storyboardPageAddition"===t.type?function(e,t){e.storyboardItems[t.blockId]=t.after}(e,t):function(e,t){e.blocks[t.blockId]=t.after}(e,t):void 0};function Ah(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Nh(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function Mh(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}function Ih(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}function Rh({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[o]=r,i=n.useRef(o),a=Ih(t);return n.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=Ih(r);return[s,n.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l])]}var Lh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function Dh(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Fh(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}function zh(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function Bh(...e){return n.useCallback(zh(...e),e)}function $h(e){const t=e+"CollectionProvider",[r,o]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=r?.[e][a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e][a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},Fh(o,...t)]}(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:r}=e,o=n.useRef(null),a=n.useRef(new Map).current;return(0,Ut.jsx)(i,{scope:t,itemMap:a,collectionRef:o,children:r})};s.displayName=t;const l=e+"CollectionSlot",c=n.forwardRef(((e,t)=>{const{scope:n,children:r}=e,o=Bh(t,a(l,n).collectionRef);return(0,Ut.jsx)(xn,{ref:o,children:r})}));c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=n.forwardRef(((e,t)=>{const{scope:r,children:o,...i}=e,s=n.useRef(null),l=Bh(t,s),c=a(u,r);return n.useEffect((()=>(c.itemMap.set(s,{ref:s,...i}),()=>{c.itemMap.delete(s)}))),(0,Ut.jsx)(xn,{[d]:"",ref:l,children:o})}));return f.displayName=u,[{Provider:s,Slot:c,ItemSlot:f},function(t){const r=a(e+"CollectionConsumer",t),o=n.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),n=Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return n}),[r.collectionRef,r.itemMap]);return o},o]}function Uh(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}var Vh=n.createContext(void 0);function Hh(e){const t=n.useContext(Vh);return e||t||"ltr"}var Wh=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function qh(e,t){e&&Zr.flushSync((()=>e.dispatchEvent(t)))}function Gh(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}var Kh,Xh="dismissableLayer.update",Yh="dismissableLayer.pointerDownOutside",Zh="dismissableLayer.focusOutside",Jh=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qh=n.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=n.useContext(Jh),[d,f]=n.useState(null),p=d?.ownerDocument??globalThis?.document,[,h]=n.useState({}),m=Bh(t,(e=>f(e))),v=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),b=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=y,S=function(e,t=globalThis?.document){const r=Gh(e),o=n.useRef(!1),i=n.useRef((()=>{}));return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let n=function(){nm(Yh,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);o.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));x&&!n&&(i?.(e),s?.(e),e.defaultPrevented||l?.())}),p),k=function(e,t=globalThis?.document){const r=Gh(e),o=n.useRef(!1);return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){nm(Zh,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(a?.(e),s?.(e),e.defaultPrevented||l?.())}),p);return function(e,t=globalThis?.document){const r=Gh(e);n.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}((e=>{b===u.layers.size-1&&(o?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),p),n.useEffect((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(Kh=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tm(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=Kh)}}),[d,p,r,u]),n.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tm())}),[d,u]),n.useEffect((()=>{const e=()=>h({});return document.addEventListener(Xh,e),()=>document.removeEventListener(Xh,e)}),[]),(0,Ut.jsx)(Wh.div,{...c,ref:m,style:{pointerEvents:w?x?"auto":"none":void 0,...e.style},onFocusCapture:Dh(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Dh(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Dh(e.onPointerDownCapture,S.onPointerDownCapture)})}));Qh.displayName="DismissableLayer";var em=n.forwardRef(((e,t)=>{const r=n.useContext(Jh),o=n.useRef(null),i=Bh(t,o);return n.useEffect((()=>{const e=o.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,Ut.jsx)(Wh.div,{...e,ref:i})}));function tm(){const e=new CustomEvent(Xh);document.dispatchEvent(e)}function nm(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?qh(o,i):o.dispatchEvent(i)}em.displayName="DismissableLayerBranch";var rm=0;function om(){n.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??im()),document.body.insertAdjacentElement("beforeend",e[1]??im()),rm++,()=>{1===rm&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),rm--}}),[])}function im(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var am="focusScope.autoFocusOnMount",sm="focusScope.autoFocusOnUnmount",lm={bubbles:!1,cancelable:!0},cm=n.forwardRef(((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=n.useState(null),u=Gh(i),d=Gh(a),f=n.useRef(null),p=Bh(t,(e=>c(e))),h=n.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;n.useEffect((()=>{if(o){let e=function(e){if(h.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:pm(f.current,{select:!0})},t=function(e){if(h.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||pm(f.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&pm(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,l,h.paused]),n.useEffect((()=>{if(l){hm.add(h);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(am,lm);l.addEventListener(am,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(pm(r,{select:t}),document.activeElement!==n)return}((e=um(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&pm(l))}return()=>{l.removeEventListener(am,u),setTimeout((()=>{const e=new CustomEvent(sm,lm);l.addEventListener(sm,d),l.dispatchEvent(e),e.defaultPrevented||pm(t??document.body,{select:!0}),l.removeEventListener(sm,d),hm.remove(h)}),0)}}var e}),[l,u,d,h]);const m=n.useCallback((e=>{if(!r&&!o)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=um(e),n=dm(t,e),r=dm(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&pm(i,{select:!0})):(e.preventDefault(),r&&pm(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,h.paused]);return(0,Ut.jsx)(Wh.div,{tabIndex:-1,...s,ref:p,onKeyDown:m})}));function um(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dm(e,t){for(const n of e)if(!fm(n,{upTo:t}))return n}function fm(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function pm(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}cm.displayName="FocusScope";var hm=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=mm(e,t),e.unshift(t)},remove(t){e=mm(e,t),e[0]?.resume()}}}();function mm(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var vm=Boolean(globalThis?.document)?n.useLayoutEffect:()=>{},gm=r["useId".toString()]||(()=>{}),ym=0;function bm(e){const[t,r]=n.useState(gm());return vm((()=>{e||r((e=>e??String(ym++)))}),[e]),e||(t?`radix-${t}`:"")}const wm=["top","right","bottom","left"],xm=Math.min,Sm=Math.max,km=Math.round,Em=Math.floor,Om=e=>({x:e,y:e}),jm={left:"right",right:"left",bottom:"top",top:"bottom"},_m={start:"end",end:"start"};function Cm(e,t,n){return Sm(e,xm(t,n))}function Tm(e,t){return"function"==typeof e?e(t):e}function Pm(e){return e.split("-")[0]}function Am(e){return e.split("-")[1]}function Nm(e){return"x"===e?"y":"x"}function Mm(e){return"y"===e?"height":"width"}function Im(e){return["top","bottom"].includes(Pm(e))?"y":"x"}function Rm(e){return Nm(Im(e))}function Lm(e){return e.replace(/start|end/g,(e=>_m[e]))}function Dm(e){return e.replace(/left|right|bottom|top/g,(e=>jm[e]))}function Fm(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function zm(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Bm(e,t,n){let{reference:r,floating:o}=e;const i=Im(t),a=Rm(t),s=Mm(a),l=Pm(t),c="y"===i,u=r.x+r.width/2-o.width/2,d=r.y+r.height/2-o.height/2,f=r[s]/2-o[s]/2;let p;switch(l){case"top":p={x:u,y:r.y-o.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-o.width,y:d};break;default:p={x:r.x,y:r.y}}switch(Am(t)){case"start":p[a]-=f*(n&&c?-1:1);break;case"end":p[a]+=f*(n&&c?-1:1)}return p}async function $m(e,t){var n;void 0===t&&(t={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:p=0}=Tm(t,e),h=Fm(p),m=s[f?"floating"===d?"reference":"floating":d],v=zm(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(m)))||n?m:m.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),g="floating"===d?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),b=await(null==i.isElement?void 0:i.isElement(y))&&await(null==i.getScale?void 0:i.getScale(y))||{x:1,y:1},w=zm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:g,offsetParent:y,strategy:l}):g);return{top:(v.top-w.top+h.top)/b.y,bottom:(w.bottom-v.bottom+h.bottom)/b.y,left:(v.left-w.left+h.left)/b.x,right:(w.right-v.right+h.right)/b.x}}function Um(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Vm(e){return wm.some((t=>e[t]>=0))}function Hm(e){return Gm(e)?(e.nodeName||"").toLowerCase():"#document"}function Wm(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function qm(e){var t;return null==(t=(Gm(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Gm(e){return e instanceof Node||e instanceof Wm(e).Node}function Km(e){return e instanceof Element||e instanceof Wm(e).Element}function Xm(e){return e instanceof HTMLElement||e instanceof Wm(e).HTMLElement}function Ym(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof Wm(e).ShadowRoot)}function Zm(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=nv(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Jm(e){return["table","td","th"].includes(Hm(e))}function Qm(e){const t=ev(),n=nv(e);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function ev(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function tv(e){return["html","body","#document"].includes(Hm(e))}function nv(e){return Wm(e).getComputedStyle(e)}function rv(e){return Km(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ov(e){if("html"===Hm(e))return e;const t=e.assignedSlot||e.parentNode||Ym(e)&&e.host||qm(e);return Ym(t)?t.host:t}function iv(e){const t=ov(e);return tv(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xm(t)&&Zm(t)?t:iv(t)}function av(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=iv(e),i=o===(null==(r=e.ownerDocument)?void 0:r.body),a=Wm(o);return i?t.concat(a,a.visualViewport||[],Zm(o)?o:[],a.frameElement&&n?av(a.frameElement):[]):t.concat(o,av(o,[],n))}function sv(e){const t=nv(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Xm(e),i=o?e.offsetWidth:n,a=o?e.offsetHeight:r,s=km(n)!==i||km(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function lv(e){return Km(e)?e:e.contextElement}function cv(e){const t=lv(e);if(!Xm(t))return Om(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=sv(t);let a=(i?km(n.width):n.width)/r,s=(i?km(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const uv=Om(0);function dv(e){const t=Wm(e);return ev()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:uv}function fv(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const o=e.getBoundingClientRect(),i=lv(e);let a=Om(1);t&&(r?Km(r)&&(a=cv(r)):a=cv(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Wm(e))&&t}(i,n,r)?dv(i):Om(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,d=o.height/a.y;if(i){const e=Wm(i),t=r&&Km(r)?Wm(r):r;let n=e,o=n.frameElement;for(;o&&r&&t!==n;){const e=cv(o),t=o.getBoundingClientRect(),r=nv(o),i=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=i,c+=a,n=Wm(o),o=n.frameElement}}return zm({width:u,height:d,x:l,y:c})}const pv=[":popover-open",":modal"];function hv(e){return pv.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function mv(e){return fv(qm(e)).left+rv(e).scrollLeft}function vv(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Wm(e),r=qm(e),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const e=ev();(!e||e&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=qm(e),n=rv(e),r=e.ownerDocument.body,o=Sm(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Sm(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+mv(e);const s=-n.scrollTop;return"rtl"===nv(r).direction&&(a+=Sm(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(qm(e));else if(Km(t))r=function(e,t){const n=fv(e,!0,"fixed"===t),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Xm(e)?cv(e):Om(1);return{width:e.clientWidth*i.x,height:e.clientHeight*i.y,x:o*i.x,y:r*i.y}}(t,n);else{const n=dv(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return zm(r)}function gv(e,t){const n=ov(e);return!(n===t||!Km(n)||tv(n))&&("fixed"===nv(n).position||gv(n,t))}function yv(e,t,n){const r=Xm(t),o=qm(t),i="fixed"===n,a=fv(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const l=Om(0);if(r||!r&&!i)if(("body"!==Hm(t)||Zm(o))&&(s=rv(t)),r){const e=fv(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else o&&(l.x=mv(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function bv(e){return"static"===nv(e).position}function wv(e,t){return Xm(e)&&"fixed"!==nv(e).position?t?t(e):e.offsetParent:null}function xv(e,t){const n=Wm(e);if(hv(e))return n;if(!Xm(e)){let t=ov(e);for(;t&&!tv(t);){if(Km(t)&&!bv(t))return t;t=ov(t)}return n}let r=wv(e,t);for(;r&&Jm(r)&&bv(r);)r=wv(r,t);return r&&tv(r)&&bv(r)&&!Qm(r)?n:r||function(e){let t=ov(e);for(;Xm(t)&&!tv(t);){if(Qm(t))return t;t=ov(t)}return null}(e)||n}const Sv={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i="fixed"===o,a=qm(r),s=!!t&&hv(t.floating);if(r===a||s&&i)return n;let l={scrollLeft:0,scrollTop:0},c=Om(1);const u=Om(0),d=Xm(r);if((d||!d&&!i)&&(("body"!==Hm(r)||Zm(a))&&(l=rv(r)),Xm(r))){const e=fv(r);c=cv(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:qm,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i="clippingAncestors"===n?hv(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=av(e,[],!1).filter((e=>Km(e)&&"body"!==Hm(e))),o=null;const i="fixed"===nv(e).position;let a=i?ov(e):e;for(;Km(a)&&!tv(a);){const t=nv(a),n=Qm(a);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||Zm(a)&&!n&&gv(e,a))?r=r.filter((e=>e!==a)):o=t,a=ov(a)}return t.set(e,r),r}(t,this._c):[].concat(n),a=[...i,r],s=a[0],l=a.reduce(((e,n)=>{const r=vv(t,n,o);return e.top=Sm(r.top,e.top),e.right=xm(r.right,e.right),e.bottom=xm(r.bottom,e.bottom),e.left=Sm(r.left,e.left),e}),vv(t,s,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:xv,getElementRects:async function(e){const t=this.getOffsetParent||xv,n=this.getDimensions,r=await n(e.floating);return{reference:yv(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=sv(e);return{width:t,height:n}},getScale:cv,isElement:Km,isRTL:function(e){return"rtl"===nv(e).direction}};function kv(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=lv(e),u=o||i?[...c?av(c):[],...av(t)]:[];u.forEach((e=>{o&&e.addEventListener("scroll",n,{passive:!0}),i&&e.addEventListener("resize",n)}));const d=c&&s?function(e,t){let n,r=null;const o=qm(e);function i(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const{left:c,top:u,width:d,height:f}=e.getBoundingClientRect();if(s||t(),!d||!f)return;const p={rootMargin:-Em(u)+"px "+-Em(o.clientWidth-(c+d))+"px "+-Em(o.clientHeight-(u+f))+"px "+-Em(c)+"px",threshold:Sm(0,xm(1,l))||1};let h=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!h)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}h=!1}try{r=new IntersectionObserver(m,{...p,root:o.ownerDocument})}catch(e){r=new IntersectionObserver(m,p)}r.observe(e)}(!0),i}(c,n):null;let f,p=-1,h=null;a&&(h=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),n()})),c&&!l&&h.observe(c),h.observe(t));let m=l?fv(e):null;return l&&function t(){const r=fv(e);!m||r.x===m.x&&r.y===m.y&&r.width===m.width&&r.height===m.height||n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{o&&e.removeEventListener("scroll",n),i&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,l&&cancelAnimationFrame(f)}}const Ev=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:o}=e,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=Pm(n),s=Am(n),l="y"===Im(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,d=Tm(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return s&&"number"==typeof h&&(p="end"===s?-1*h:h),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:o+l.x,y:i+l.y,data:{...l,placement:a}}}}},Ov=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=Tm(e,t),c={x:n,y:r},u=await $m(t,l),d=Im(Pm(o)),f=Nm(d);let p=c[f],h=c[d];if(i){const e="y"===f?"bottom":"right";p=Cm(p+u["y"===f?"top":"left"],p,p-u[e])}if(a){const e="y"===d?"bottom":"right";h=Cm(h+u["y"===d?"top":"left"],h,h-u[e])}const m=s.fn({...t,[f]:p,[d]:h});return{...m,data:{x:m.x-n,y:m.y-r}}}}},jv=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:m=!0,...v}=Tm(e,t);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const g=Pm(o),y=Pm(s)===s,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),w=f||(y||!m?[Dm(s)]:function(e){const t=Dm(e);return[Lm(e),t,Lm(t)]}(s));f||"none"===h||w.push(...function(e,t,n,r){const o=Am(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:a;default:return[]}}(Pm(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(Lm)))),i}(s,m,h,b));const x=[s,...w],S=await $m(t,v),k=[];let E=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&k.push(S[g]),d){const e=function(e,t,n){void 0===n&&(n=!1);const r=Am(e),o=Rm(e),i=Mm(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(a=Dm(a)),[a,Dm(a)]}(o,a,b);k.push(S[e[0]],S[e[1]])}if(E=[...E,{placement:o,overflows:k}],!k.every((e=>e<=0))){var O,j;const e=((null==(O=i.flip)?void 0:O.index)||0)+1,t=x[e];if(t)return{data:{index:e,overflows:E},reset:{placement:t}};let n=null==(j=E.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:j.placement;if(!n)switch(p){case"bestFit":{var _;const e=null==(_=E.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:_[0];e&&(n=e);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}},_v=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:a=()=>{},...s}=Tm(e,t),l=await $m(t,s),c=Pm(n),u=Am(n),d="y"===Im(n),{width:f,height:p}=r.floating;let h,m;"top"===c||"bottom"===c?(h=c,m=u===(await(null==o.isRTL?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(m=c,h="end"===u?"top":"bottom");const v=p-l.top-l.bottom,g=f-l.left-l.right,y=xm(p-l[h],v),b=xm(f-l[m],g),w=!t.middlewareData.shift;let x=y,S=b;if(d?S=u||w?xm(b,g):g:x=u||w?xm(y,v):v,w&&!u){const e=Sm(l.left,0),t=Sm(l.right,0),n=Sm(l.top,0),r=Sm(l.bottom,0);d?S=f-2*(0!==e||0!==t?e+t:Sm(l.left,l.right)):x=p-2*(0!==n||0!==r?n+r:Sm(l.top,l.bottom))}await a({...t,availableWidth:S,availableHeight:x});const k=await o.getDimensions(i.floating);return f!==k.width||p!==k.height?{reset:{rects:!0}}:{}}}},Cv=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=Tm(e,t);switch(r){case"referenceHidden":{const e=Um(await $m(t,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Vm(e)}}}case"escaped":{const e=Um(await $m(t,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Vm(e)}}}default:return{}}}}},Tv=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=Tm(e,t)||{};if(null==c)return{};const d=Fm(u),f={x:n,y:r},p=Rm(o),h=Mm(p),m=await a.getDimensions(c),v="y"===p,g=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=i.reference[h]+i.reference[p]-f[p]-i.floating[h],x=f[p]-i.reference[p],S=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let k=S?S[b]:0;k&&await(null==a.isElement?void 0:a.isElement(S))||(k=s.floating[b]||i.floating[h]);const E=w/2-x/2,O=k/2-m[h]/2-1,j=xm(d[g],O),_=xm(d[y],O),C=j,T=k-m[h]-_,P=k/2-m[h]/2+E,A=Cm(C,P,T),N=!l.arrow&&null!=Am(o)&&P!==A&&i.reference[h]/2-(P<C?j:_)-m[h]/2<0,M=N?P<C?P-C:P-T:0;return{[p]:f[p]+M,data:{[p]:A,centerOffset:P-A-M,...N&&{alignmentOffset:M}},reset:N}}}),Pv=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Tm(e,t),u={x:n,y:r},d=Im(o),f=Nm(d);let p=u[f],h=u[d];const m=Tm(s,t),v="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===f?"height":"width",t=i.reference[f]-i.floating[e]+v.mainAxis,n=i.reference[f]+i.reference[e]-v.mainAxis;p<t?p=t:p>n&&(p=n)}if(c){var g,y;const e="y"===f?"width":"height",t=["top","left"].includes(Pm(o)),n=i.reference[d]-i.floating[e]+(t&&(null==(g=a.offset)?void 0:g[d])||0)+(t?0:v.crossAxis),r=i.reference[d]+i.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[d])||0)-(t?v.crossAxis:0);h<n?h=n:h>r&&(h=r)}return{[f]:p,[d]:h}}}},Av=(e,t,n)=>{const r=new Map,o={platform:Sv,...n},i={...o.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:u,y:d}=Bm(c,r,l),f=r,p={},h=0;for(let n=0;n<s.length;n++){const{name:i,fn:m}=s[n],{x:v,y:g,data:y,reset:b}=await m({x:u,y:d,initialPlacement:r,placement:f,strategy:o,middlewareData:p,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=v?v:u,d=null!=g?g:d,p={...p,[i]:{...p[i],...y}},b&&h<=50&&(h++,"object"==typeof b&&(b.placement&&(f=b.placement),b.rects&&(c=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:o}):b.rects),({x:u,y:d}=Bm(c,f,l))),n=-1)}return{x:u,y:d,placement:f,strategy:o,middlewareData:p}})(e,t,{...o,platform:i})},Nv=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"==typeof e?e(t):e;return n&&function(e){return{}.hasOwnProperty.call(e,"current")}(n)?null!=n.current?Tv({element:n.current,padding:r}).fn(t):{}:n?Tv({element:n,padding:r}).fn(t):{}}});var Mv="undefined"!=typeof document?n.useLayoutEffect:n.useEffect;function Iv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!=r--;)if(!Iv(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!=r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!Iv(e[n],t[n]))return!1}return!0}return e!=e&&t!=t}function Rv(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Lv(e,t){const n=Rv(e);return Math.round(t*n)/n}function Dv(e){const t=n.useRef(e);return Mv((()=>{t.current=e})),t}function Fv(e){void 0===e&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:i,elements:{reference:a,floating:s}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=n.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,h]=n.useState(o);Iv(p,o)||h(o);const[m,v]=n.useState(null),[g,y]=n.useState(null),b=n.useCallback((e=>{e!==k.current&&(k.current=e,v(e))}),[]),w=n.useCallback((e=>{e!==E.current&&(E.current=e,y(e))}),[]),x=a||m,S=s||g,k=n.useRef(null),E=n.useRef(null),O=n.useRef(d),j=null!=c,_=Dv(c),C=Dv(i),T=n.useCallback((()=>{if(!k.current||!E.current)return;const e={placement:t,strategy:r,middleware:p};C.current&&(e.platform=C.current),Av(k.current,E.current,e).then((e=>{const t={...e,isPositioned:!0};P.current&&!Iv(O.current,t)&&(O.current=t,Zr.flushSync((()=>{f(t)})))}))}),[p,t,r,C]);Mv((()=>{!1===u&&O.current.isPositioned&&(O.current.isPositioned=!1,f((e=>({...e,isPositioned:!1}))))}),[u]);const P=n.useRef(!1);Mv((()=>(P.current=!0,()=>{P.current=!1})),[]),Mv((()=>{if(x&&(k.current=x),S&&(E.current=S),x&&S){if(_.current)return _.current(x,S,T);T()}}),[x,S,T,_,j]);const A=n.useMemo((()=>({reference:k,floating:E,setReference:b,setFloating:w})),[b,w]),N=n.useMemo((()=>({reference:x,floating:S})),[x,S]),M=n.useMemo((()=>{const e={position:r,left:0,top:0};if(!N.floating)return e;const t=Lv(N.floating,d.x),n=Lv(N.floating,d.y);return l?{...e,transform:"translate("+t+"px, "+n+"px)",...Rv(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,l,N.floating,d.x,d.y]);return n.useMemo((()=>({...d,update:T,refs:A,elements:N,floatingStyles:M})),[d,T,A,N,M])}var zv=n.forwardRef(((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return(0,Ut.jsx)(Wh.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Ut.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));zv.displayName="Arrow";var Bv=zv;function $v(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}var Uv="Popper",[Vv,Hv]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=r?.[e][a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e][a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},$v(o,...t)]}(Uv),[Wv,qv]=Vv(Uv),Gv=e=>{const{__scopePopper:t,children:r}=e,[o,i]=n.useState(null);return(0,Ut.jsx)(Wv,{scope:t,anchor:o,onAnchorChange:i,children:r})};Gv.displayName=Uv;var Kv="PopperAnchor",Xv=n.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:o,...i}=e,a=qv(Kv,r),s=n.useRef(null),l=Bh(t,s);return n.useEffect((()=>{a.onAnchorChange(o?.current||s.current)})),o?null:(0,Ut.jsx)(Wh.div,{...i,ref:l})}));Xv.displayName=Kv;var Yv="PopperContent",[Zv,Jv]=Vv(Yv),Qv=n.forwardRef(((e,t)=>{const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=e,g=qv(Yv,r),[y,b]=n.useState(null),w=Bh(t,(e=>b(e))),[x,S]=n.useState(null),k=function(e){const[t,r]=n.useState(void 0);return vm((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let o,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;r({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}(x),E=k?.width??0,O=k?.height??0,j=o+("center"!==a?"-"+a:""),_="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],T=C.length>0,P={padding:_,boundary:C.filter(rg),altBoundary:T},{refs:A,floatingStyles:N,placement:M,isPositioned:I,middlewareData:R}=Fv({strategy:"fixed",placement:j,whileElementsMounted:(...e)=>kv(...e,{animationFrame:"always"===h}),elements:{reference:g.anchor},middleware:[Ev({mainAxis:i+O,alignmentAxis:s}),c&&Ov({mainAxis:!0,crossAxis:!1,limiter:"partial"===f?Pv():void 0,...P}),c&&jv({...P}),_v({...P,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),x&&Nv({element:x,padding:l}),og({arrowWidth:E,arrowHeight:O}),p&&Cv({strategy:"referenceHidden",...P})]}),[L,D]=ig(M),F=Gh(m);vm((()=>{I&&F?.()}),[I,F]);const z=R.arrow?.x,B=R.arrow?.y,$=0!==R.arrow?.centerOffset,[U,V]=n.useState();return vm((()=>{y&&V(window.getComputedStyle(y).zIndex)}),[y]),(0,Ut.jsx)("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:I?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,Ut.jsx)(Zv,{scope:r,placedSide:L,onArrowChange:S,arrowX:z,arrowY:B,shouldHideArrow:$,children:(0,Ut.jsx)(Wh.div,{"data-side":L,"data-align":D,...v,ref:w,style:{...v.style,animation:I?void 0:"none"}})})})}));Qv.displayName=Yv;var eg="PopperArrow",tg={top:"bottom",right:"left",bottom:"top",left:"right"},ng=n.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,o=Jv(eg,n),i=tg[o.placedSide];return(0,Ut.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,Ut.jsx)(Bv,{...r,ref:t,style:{...r.style,display:"block"}})})}));function rg(e){return null!==e}ng.displayName=eg;var og=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,i=0!==o.arrow?.centerOffset,a=i?0:e.arrowWidth,s=i?0:e.arrowHeight,[l,c]=ig(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(o.arrow?.x??0)+a/2,f=(o.arrow?.y??0)+s/2;let p="",h="";return"bottom"===l?(p=i?u:`${d}px`,h=-s+"px"):"top"===l?(p=i?u:`${d}px`,h=`${r.floating.height+s}px`):"right"===l?(p=-s+"px",h=i?u:`${f}px`):"left"===l&&(p=`${r.floating.width+s}px`,h=i?u:`${f}px`),{data:{x:p,y:h}}}});function ig(e){const[t,n="center"]=e.split("-");return[t,n]}var ag=Gv,sg=Xv,lg=Qv,cg=ng,ug=n.forwardRef(((e,t)=>{const{container:r,...o}=e,[i,a]=n.useState(!1);vm((()=>a(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?Zr.createPortal((0,Ut.jsx)(Wh.div,{...o,ref:t}),s):null}));ug.displayName="Portal";var dg=e=>{const{present:t,children:r}=e,o=function(e){const[t,r]=n.useState(),o=n.useRef({}),i=n.useRef(e),a=n.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect((()=>{const e=fg(o.current);a.current="mounted"===l?e:"none"}),[l]),vm((()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=fg(t);if(e)c("MOUNT");else if("none"===o||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),vm((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const a=fg(o.current).includes(r.animationName);if(r.target===t&&a&&(c("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},s=e=>{e.target===t&&(a.current=fg(o.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback((e=>{e&&(o.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=Bh(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof r||o.isPresent?n.cloneElement(i,{ref:a}):null};function fg(e){return e?.animationName||"none"}function pg(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}function hg({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[o]=r,i=n.useRef(o),a=Gh(t);return n.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=Gh(r);return[s,n.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l])]}dg.displayName="Presence";var mg="rovingFocusGroup.onEntryFocus",vg={bubbles:!1,cancelable:!0},gg="RovingFocusGroup",[yg,bg,wg]=$h(gg),[xg,Sg]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=r?.[e][a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e][a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},pg(o,...t)]}(gg,[wg]),[kg,Eg]=xg(gg),Og=n.forwardRef(((e,t)=>(0,Ut.jsx)(yg.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,Ut.jsx)(yg.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,Ut.jsx)(jg,{...e,ref:t})})})));Og.displayName=gg;var jg=n.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=n.useRef(null),h=Bh(t,p),m=Hh(a),[v=null,g]=hg({prop:s,defaultProp:l,onChange:c}),[y,b]=n.useState(!1),w=Gh(u),x=bg(r),S=n.useRef(!1),[k,E]=n.useState(0);return n.useEffect((()=>{const e=p.current;if(e)return e.addEventListener(mg,w),()=>e.removeEventListener(mg,w)}),[w]),(0,Ut.jsx)(kg,{scope:r,orientation:o,dir:m,loop:i,currentTabStopId:v,onItemFocus:n.useCallback((e=>g(e)),[g]),onItemShiftTab:n.useCallback((()=>b(!0)),[]),onFocusableItemAdd:n.useCallback((()=>E((e=>e+1))),[]),onFocusableItemRemove:n.useCallback((()=>E((e=>e-1))),[]),children:(0,Ut.jsx)(Wh.div,{tabIndex:y||0===k?-1:0,"data-orientation":o,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:Dh(e.onMouseDown,(()=>{S.current=!0})),onFocus:Dh(e.onFocus,(e=>{const t=!S.current;if(e.target===e.currentTarget&&t&&!y){const t=new CustomEvent(mg,vg);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=x().filter((e=>e.focusable));Pg([e.find((e=>e.active)),e.find((e=>e.id===v)),...e].filter(Boolean).map((e=>e.ref.current)),d)}}S.current=!1})),onBlur:Dh(e.onBlur,(()=>b(!1)))})})})),_g="RovingFocusGroupItem",Cg=n.forwardRef(((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:a,...s}=e,l=bm(),c=a||l,u=Eg(_g,r),d=u.currentTabStopId===c,f=bg(r),{onFocusableItemAdd:p,onFocusableItemRemove:h}=u;return n.useEffect((()=>{if(o)return p(),()=>h()}),[o,p,h]),(0,Ut.jsx)(yg.ItemSlot,{scope:r,id:c,focusable:o,active:i,children:(0,Ut.jsx)(Wh.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...s,ref:t,onMouseDown:Dh(e.onMouseDown,(e=>{o?u.onItemFocus(c):e.preventDefault()})),onFocus:Dh(e.onFocus,(()=>u.onItemFocus(c))),onKeyDown:Dh(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:Tg[r]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let n=f().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const r=n.indexOf(e.currentTarget);n=u.loop?function(e,t){return e.map(((n,r)=>e[(t+r)%e.length]))}(n,r+1):n.slice(r+1)}setTimeout((()=>Pg(n)))}}))})})}));Cg.displayName=_g;var Tg={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pg(e,t=!1){const n=document.activeElement;for(const r of e){if(r===n)return;if(r.focus({preventScroll:t}),document.activeElement!==n)return}}var Ag=Og,Ng=Cg,Mg=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},Ig=new WeakMap,Rg=new WeakMap,Lg={},Dg=0,Fg=function(e){return e&&(e.host||Fg(e.parentNode))},zg=function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Fg(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);Lg[n]||(Lg[n]=new WeakMap);var i=Lg[n],a=[],s=new Set,l=new Set(o),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};o.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,l=(Ig.get(e)||0)+1,c=(i.get(e)||0)+1;Ig.set(e,l),i.set(e,c),a.push(e),1===l&&o&&Rg.set(e,!0),1===c&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}}))};return u(t),s.clear(),Dg++,function(){a.forEach((function(e){var t=Ig.get(e)-1,o=i.get(e)-1;Ig.set(e,t),i.set(e,o),t||(Rg.has(e)||e.removeAttribute(r),Rg.delete(e)),o||e.removeAttribute(n)})),--Dg||(Ig=new WeakMap,Ig=new WeakMap,Rg=new WeakMap,Lg={})}},Bg=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||Mg(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),zg(r,o,n,"aria-hidden")):function(){return null}};var $g=function(){return $g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},$g.apply(this,arguments)};function Ug(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Object.create;function Vg(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError;var Hg="right-scroll-bar-position",Wg="width-before-scroll-bar";function qg(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var Gg="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,Kg=new WeakMap;function Xg(e,t){var r,o,i,a=(r=t||null,o=function(t){return e.forEach((function(e){return qg(e,t)}))},i=(0,n.useState)((function(){return{value:r,callback:o,facade:{get current(){return i.value},set current(e){var t=i.value;t!==e&&(i.value=e,i.callback(e,t))}}}}))[0],i.callback=o,i.facade);return Gg((function(){var t=Kg.get(a);if(t){var n=new Set(t),r=new Set(e),o=a.current;n.forEach((function(e){r.has(e)||qg(e,null)})),r.forEach((function(e){n.has(e)||qg(e,o)}))}Kg.set(a,e)}),[e]),a}function Yg(e){return e}function Zg(e,t){void 0===t&&(t=Yg);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},a=function(){return Promise.resolve().then(i)};a(),n={push:function(e){t.push(e),a()},filter:function(e){return t=t.filter(e),n}}}};return o}function Jg(e){void 0===e&&(e={});var t=Zg(null);return t.options=$g({async:!0,ssr:!1},e),t}var Qg=Jg(),ey=function(){},ty=n.forwardRef((function(e,t){var r=n.useRef(null),o=n.useState({onScrollCapture:ey,onWheelCapture:ey,onTouchMoveCapture:ey}),i=o[0],a=o[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,v=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=e.gapMode,w=Ug(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=p,S=Xg([r,t]),k=$g($g({},w),i);return n.createElement(n.Fragment,null,d&&n.createElement(x,{sideCar:Qg,removeScrollBar:u,shards:f,noIsolation:h,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r,gapMode:b}),s?n.cloneElement(n.Children.only(l),$g($g({},k),{ref:S})):n.createElement(y,$g({},k,{className:c,ref:S}),l))}));ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ty.classNames={fullWidth:Wg,zeroRight:Hg};var ny,ry=function(e){var t=e.sideCar,r=Ug(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return n.createElement(o,$g({},r))};function oy(e,t){return e.useMedium(t),ry}ry.isSideCarExport=!0;function iy(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ny||o.nc;return t&&e.setAttribute("nonce",t),e}var ay=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=iy())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sy=function(){var e,t=(e=ay(),function(t,r){n.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&r])});return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},ly={left:0,top:0,right:0,gap:0},cy=function(e){return parseInt(e||"",10)||0},uy=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return ly;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[cy(n),cy(r),cy(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},dy=sy(),fy="data-scroll-locked",py=function(e,t,n,r){var o=e.left,i=e.top,a=e.right,s=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(s,"px ").concat(r,";\n  }\n  body[").concat(fy,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(a,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(s,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Hg," {\n    right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Wg," {\n    margin-right: ").concat(s,"px ").concat(r,";\n  }\n  \n  .").concat(Hg," .").concat(Hg," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(Wg," .").concat(Wg," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(fy,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(s,"px;\n  }\n")},hy=function(){var e=parseInt(document.body.getAttribute(fy)||"0",10);return isFinite(e)?e:0},my=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,i=void 0===o?"margin":o;n.useEffect((function(){return document.body.setAttribute(fy,(hy()+1).toString()),function(){var e=hy()-1;e<=0?document.body.removeAttribute(fy):document.body.setAttribute(fy,e.toString())}}),[]);var a=n.useMemo((function(){return uy(i)}),[i]);return n.createElement(dy,{styles:py(a,!t,i,r?"":"!important")})},vy=!1;if("undefined"!=typeof window)try{var gy=Object.defineProperty({},"passive",{get:function(){return vy=!0,!0}});window.addEventListener("test",gy,gy),window.removeEventListener("test",gy,gy)}catch(Wet){vy=!1}var yy=!!vy&&{passive:!1},by=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},wy=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!=typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),xy(e,r)){var o=Sy(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xy=function(e,t){return"v"===e?function(e){return by(e,"overflowY")}(t):function(e){return by(e,"overflowX")}(t)},Sy=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},ky=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ey=function(e){return[e.deltaX,e.deltaY]},Oy=function(e){return e&&"current"in e?e.current:e},jy=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},_y=0,Cy=[];function Ty(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Py=oy(Qg,(function(e){var t=n.useRef([]),r=n.useRef([0,0]),o=n.useRef(),i=n.useState(_y++)[0],a=n.useState(sy)[0],s=n.useRef(e);n.useEffect((function(){s.current=e}),[e]),n.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=Vg([e.lockRef.current],(e.shards||[]).map(Oy),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=n.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var n,i=ky(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=wy(d,u);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=wy(d,u)),!f)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=n),!n)return!0;var p=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{var p=Sy(e,s),h=p[0],m=p[1]-p[2]-i*h;(h||m)&&xy(e,s)&&(d+=m,f+=h),s=s instanceof ShadowRoot?s.host:s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&Math.abs(d)<1||!o&&a>d)||!u&&(o&&Math.abs(f)<1||!o&&-a>f))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=n.useCallback((function(e){var n=e;if(Cy.length&&Cy[Cy.length-1]===a){var r="deltaY"in n?Ey(n):ky(n),o=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var i=(s.current.shards||[]).map(Oy).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?l(n,i[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=n.useCallback((function(e,n,r,o){var i={name:e,delta:n,target:r,should:o,shadowParent:Ty(r)};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=n.useCallback((function(e){r.current=ky(e),o.current=void 0}),[]),f=n.useCallback((function(t){u(t.type,Ey(t),t.target,l(t,e.lockRef.current))}),[]),p=n.useCallback((function(t){u(t.type,ky(t),t.target,l(t,e.lockRef.current))}),[]);n.useEffect((function(){return Cy.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,yy),document.addEventListener("touchmove",c,yy),document.addEventListener("touchstart",d,yy),function(){Cy=Cy.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,yy),document.removeEventListener("touchmove",c,yy),document.removeEventListener("touchstart",d,yy)}}),[]);var h=e.removeScrollBar,m=e.inert;return n.createElement(n.Fragment,null,m?n.createElement(a,{styles:jy(i)}):null,h?n.createElement(my,{gapMode:e.gapMode}):null)}));var Ay=n.forwardRef((function(e,t){return n.createElement(ty,$g({},e,{ref:t,sideCar:Py}))}));Ay.classNames=ty.classNames;const Ny=Ay;var My=["Enter"," "],Iy=["ArrowUp","PageDown","End"],Ry=["ArrowDown","PageUp","Home",...Iy],Ly={ltr:[...My,"ArrowRight"],rtl:[...My,"ArrowLeft"]},Dy={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fy="Menu",[zy,By,$y]=$h(Fy),[Uy,Vy]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;r=[...r,o];const s=t=>{const{scope:r,children:o,...s}=t,l=r?.[e]?.[a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})};return s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e]?.[a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},Uh(o,...t)]}(Fy,[$y,Hv,Sg]),Hy=Hv(),Wy=Sg(),[qy,Gy]=Uy(Fy),[Ky,Xy]=Uy(Fy),Yy=e=>{const{__scopeMenu:t,open:r=!1,children:o,dir:i,onOpenChange:a,modal:s=!0}=e,l=Hy(t),[c,u]=n.useState(null),d=n.useRef(!1),f=Gh(a),p=Hh(i);return n.useEffect((()=>{const e=()=>{d.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>d.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}}),[]),(0,Ut.jsx)(ag,{...l,children:(0,Ut.jsx)(qy,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:(0,Ut.jsx)(Ky,{scope:t,onClose:n.useCallback((()=>f(!1)),[f]),isUsingKeyboardRef:d,dir:p,modal:s,children:o})})})};Yy.displayName=Fy;var Zy=n.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e,o=Hy(n);return(0,Ut.jsx)(sg,{...o,...r,ref:t})}));Zy.displayName="MenuAnchor";var Jy="MenuPortal",[Qy,eb]=Uy(Jy,{forceMount:void 0}),tb=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:o}=e,i=Gy(Jy,t);return(0,Ut.jsx)(Qy,{scope:t,forceMount:n,children:(0,Ut.jsx)(dg,{present:n||i.open,children:(0,Ut.jsx)(ug,{asChild:!0,container:o,children:r})})})};tb.displayName=Jy;var nb="MenuContent",[rb,ob]=Uy(nb),ib=n.forwardRef(((e,t)=>{const n=eb(nb,e.__scopeMenu),{forceMount:r=n.forceMount,...o}=e,i=Gy(nb,e.__scopeMenu),a=Xy(nb,e.__scopeMenu);return(0,Ut.jsx)(zy.Provider,{scope:e.__scopeMenu,children:(0,Ut.jsx)(dg,{present:r||i.open,children:(0,Ut.jsx)(zy.Slot,{scope:e.__scopeMenu,children:a.modal?(0,Ut.jsx)(ab,{...o,ref:t}):(0,Ut.jsx)(sb,{...o,ref:t})})})})})),ab=n.forwardRef(((e,t)=>{const r=Gy(nb,e.__scopeMenu),o=n.useRef(null),i=Bh(t,o);return n.useEffect((()=>{const e=o.current;if(e)return Bg(e)}),[]),(0,Ut.jsx)(lb,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Dh(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})})),sb=n.forwardRef(((e,t)=>{const n=Gy(nb,e.__scopeMenu);return(0,Ut.jsx)(lb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})})),lb=n.forwardRef(((e,t)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,disableOutsideScroll:m,...v}=e,g=Gy(nb,r),y=Xy(nb,r),b=Hy(r),w=Wy(r),x=By(r),[S,k]=n.useState(null),E=n.useRef(null),O=Bh(t,E,g.onContentChange),j=n.useRef(0),_=n.useRef(""),C=n.useRef(0),T=n.useRef(null),P=n.useRef("right"),A=n.useRef(0),N=m?Ny:n.Fragment,M=m?{as:xn,allowPinchZoom:!0}:void 0,I=e=>{const t=_.current+e,n=x().filter((e=>!e.disabled)),r=document.activeElement,o=n.find((e=>e.ref.current===r))?.textValue,i=function(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0])),o=r?t[0]:t,i=n?e.indexOf(n):-1;let a=function(e,t){return e.map(((n,r)=>e[(t+r)%e.length]))}(e,Math.max(i,0));1===o.length&&(a=a.filter((e=>e!==n)));const s=a.find((e=>e.toLowerCase().startsWith(o.toLowerCase())));return s!==n?s:void 0}(n.map((e=>e.textValue)),t,o),a=n.find((e=>e.textValue===i))?.ref.current;!function e(t){_.current=t,window.clearTimeout(j.current),""!==t&&(j.current=window.setTimeout((()=>e("")),1e3))}(t),a&&setTimeout((()=>a.focus()))};n.useEffect((()=>()=>window.clearTimeout(j.current)),[]),om();const R=n.useCallback((e=>P.current===T.current?.side&&function(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return function(e,t){const{x:n,y:r}=e;let o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e].x,s=t[e].y,l=t[i].x,c=t[i].y;s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(o=!o)}return o}(n,t)}(e,T.current?.area)),[]);return(0,Ut.jsx)(rb,{scope:r,searchRef:_,onItemEnter:n.useCallback((e=>{R(e)&&e.preventDefault()}),[R]),onItemLeave:n.useCallback((e=>{R(e)||(E.current?.focus(),k(null))}),[R]),onTriggerLeave:n.useCallback((e=>{R(e)&&e.preventDefault()}),[R]),pointerGraceTimerRef:C,onPointerGraceIntentChange:n.useCallback((e=>{T.current=e}),[]),children:(0,Ut.jsx)(N,{...M,children:(0,Ut.jsx)(cm,{asChild:!0,trapped:i,onMountAutoFocus:Dh(a,(e=>{e.preventDefault(),E.current?.focus({preventScroll:!0})})),onUnmountAutoFocus:s,children:(0,Ut.jsx)(Qh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:h,children:(0,Ut.jsx)(Ag,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:o,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:Dh(c,(e=>{y.isUsingKeyboardRef.current||e.preventDefault()})),preventScrollOnEntryFocus:!0,children:(0,Ut.jsx)(lg,{role:"menu","aria-orientation":"vertical","data-state":Lb(g.open),"data-radix-menu-content":"",dir:y.dir,...b,...v,ref:O,style:{outline:"none",...v.style},onKeyDown:Dh(v.onKeyDown,(e=>{const t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,n=e.ctrlKey||e.altKey||e.metaKey,r=1===e.key.length;t&&("Tab"===e.key&&e.preventDefault(),!n&&r&&I(e.key));const o=E.current;if(e.target!==o)return;if(!Ry.includes(e.key))return;e.preventDefault();const i=x().filter((e=>!e.disabled)).map((e=>e.ref.current));Iy.includes(e.key)&&i.reverse(),function(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}(i)})),onBlur:Dh(e.onBlur,(e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(j.current),_.current="")})),onPointerMove:Dh(e.onPointerMove,zb((e=>{const t=e.target,n=A.current!==e.clientX;if(e.currentTarget.contains(t)&&n){const t=e.clientX>A.current?"right":"left";P.current=t,A.current=e.clientX}})))})})})})})})}));ib.displayName=nb;var cb=n.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,Ut.jsx)(Wh.div,{role:"group",...r,ref:t})}));cb.displayName="MenuGroup";var ub=n.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,Ut.jsx)(Wh.div,{...r,ref:t})}));ub.displayName="MenuLabel";var db="MenuItem",fb="menu.itemSelect",pb=n.forwardRef(((e,t)=>{const{disabled:r=!1,onSelect:o,...i}=e,a=n.useRef(null),s=Xy(db,e.__scopeMenu),l=ob(db,e.__scopeMenu),c=Bh(t,a),u=n.useRef(!1);return(0,Ut.jsx)(hb,{...i,ref:c,disabled:r,onClick:Dh(e.onClick,(()=>{const e=a.current;if(!r&&e){const t=new CustomEvent(fb,{bubbles:!0,cancelable:!0});e.addEventListener(fb,(e=>o?.(e)),{once:!0}),qh(e,t),t.defaultPrevented?u.current=!1:s.onClose()}})),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:Dh(e.onPointerUp,(e=>{u.current||e.currentTarget?.click()})),onKeyDown:Dh(e.onKeyDown,(e=>{const t=""!==l.searchRef.current;r||t&&" "===e.key||My.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())}))})}));pb.displayName=db;var hb=n.forwardRef(((e,t)=>{const{__scopeMenu:r,disabled:o=!1,textValue:i,...a}=e,s=ob(db,r),l=Wy(r),c=n.useRef(null),u=Bh(t,c),[d,f]=n.useState(!1),[p,h]=n.useState("");return n.useEffect((()=>{const e=c.current;e&&h((e.textContent??"").trim())}),[a.children]),(0,Ut.jsx)(zy.ItemSlot,{scope:r,disabled:o,textValue:i??p,children:(0,Ut.jsx)(Ng,{asChild:!0,...l,focusable:!o,children:(0,Ut.jsx)(Wh.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...a,ref:u,onPointerMove:Dh(e.onPointerMove,zb((e=>{if(o)s.onItemLeave(e);else if(s.onItemEnter(e),!e.defaultPrevented){e.currentTarget.focus({preventScroll:!0})}}))),onPointerLeave:Dh(e.onPointerLeave,zb((e=>s.onItemLeave(e)))),onFocus:Dh(e.onFocus,(()=>f(!0))),onBlur:Dh(e.onBlur,(()=>f(!1)))})})})})),mb=n.forwardRef(((e,t)=>{const{checked:n=!1,onCheckedChange:r,...o}=e;return(0,Ut.jsx)(kb,{scope:e.__scopeMenu,checked:n,children:(0,Ut.jsx)(pb,{role:"menuitemcheckbox","aria-checked":Db(n)?"mixed":n,...o,ref:t,"data-state":Fb(n),onSelect:Dh(o.onSelect,(()=>r?.(!!Db(n)||!n)),{checkForDefaultPrevented:!1})})})}));mb.displayName="MenuCheckboxItem";var vb="MenuRadioGroup",[gb,yb]=Uy(vb,{value:void 0,onValueChange:()=>{}}),bb=n.forwardRef(((e,t)=>{const{value:n,onValueChange:r,...o}=e,i=Gh(r);return(0,Ut.jsx)(gb,{scope:e.__scopeMenu,value:n,onValueChange:i,children:(0,Ut.jsx)(cb,{...o,ref:t})})}));bb.displayName=vb;var wb="MenuRadioItem",xb=n.forwardRef(((e,t)=>{const{value:n,...r}=e,o=yb(wb,e.__scopeMenu),i=n===o.value;return(0,Ut.jsx)(kb,{scope:e.__scopeMenu,checked:i,children:(0,Ut.jsx)(pb,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":Fb(i),onSelect:Dh(r.onSelect,(()=>o.onValueChange?.(n)),{checkForDefaultPrevented:!1})})})}));xb.displayName=wb;var Sb="MenuItemIndicator",[kb,Eb]=Uy(Sb,{checked:!1}),Ob=n.forwardRef(((e,t)=>{const{__scopeMenu:n,forceMount:r,...o}=e,i=Eb(Sb,n);return(0,Ut.jsx)(dg,{present:r||Db(i.checked)||!0===i.checked,children:(0,Ut.jsx)(Wh.span,{...o,ref:t,"data-state":Fb(i.checked)})})}));Ob.displayName=Sb;var jb=n.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e;return(0,Ut.jsx)(Wh.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})}));jb.displayName="MenuSeparator";var _b=n.forwardRef(((e,t)=>{const{__scopeMenu:n,...r}=e,o=Hy(n);return(0,Ut.jsx)(cg,{...o,...r,ref:t})}));_b.displayName="MenuArrow";var Cb="MenuSub",[Tb,Pb]=Uy(Cb),Ab=e=>{const{__scopeMenu:t,children:r,open:o=!1,onOpenChange:i}=e,a=Gy(Cb,t),s=Hy(t),[l,c]=n.useState(null),[u,d]=n.useState(null),f=Gh(i);return n.useEffect((()=>(!1===a.open&&f(!1),()=>f(!1))),[a.open,f]),(0,Ut.jsx)(ag,{...s,children:(0,Ut.jsx)(qy,{scope:t,open:o,onOpenChange:f,content:u,onContentChange:d,children:(0,Ut.jsx)(Tb,{scope:t,contentId:bm(),triggerId:bm(),trigger:l,onTriggerChange:c,children:r})})})};Ab.displayName=Cb;var Nb="MenuSubTrigger",Mb=n.forwardRef(((e,t)=>{const r=Gy(Nb,e.__scopeMenu),o=Xy(Nb,e.__scopeMenu),i=Pb(Nb,e.__scopeMenu),a=ob(Nb,e.__scopeMenu),s=n.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=n.useCallback((()=>{s.current&&window.clearTimeout(s.current),s.current=null}),[]);return n.useEffect((()=>d),[d]),n.useEffect((()=>{const e=l.current;return()=>{window.clearTimeout(e),c(null)}}),[l,c]),(0,Ut.jsx)(Zy,{asChild:!0,...u,children:(0,Ut.jsx)(hb,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Lb(r.open),...e,ref:zh(t,i.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Dh(e.onPointerMove,zb((t=>{a.onItemEnter(t),t.defaultPrevented||e.disabled||r.open||s.current||(a.onPointerGraceIntentChange(null),s.current=window.setTimeout((()=>{r.onOpenChange(!0),d()}),100))}))),onPointerLeave:Dh(e.onPointerLeave,zb((e=>{d();const t=r.content?.getBoundingClientRect();if(t){const n=r.content?.dataset.side,o="right"===n,i=o?-5:5,s=t[o?"left":"right"],c=t[o?"right":"left"];a.onPointerGraceIntentChange({area:[{x:e.clientX+i,y:e.clientY},{x:s,y:t.top},{x:c,y:t.top},{x:c,y:t.bottom},{x:s,y:t.bottom}],side:n}),window.clearTimeout(l.current),l.current=window.setTimeout((()=>a.onPointerGraceIntentChange(null)),300)}else{if(a.onTriggerLeave(e),e.defaultPrevented)return;a.onPointerGraceIntentChange(null)}}))),onKeyDown:Dh(e.onKeyDown,(t=>{const n=""!==a.searchRef.current;e.disabled||n&&" "===t.key||Ly[o.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())}))})})}));Mb.displayName=Nb;var Ib="MenuSubContent",Rb=n.forwardRef(((e,t)=>{const r=eb(nb,e.__scopeMenu),{forceMount:o=r.forceMount,...i}=e,a=Gy(nb,e.__scopeMenu),s=Xy(nb,e.__scopeMenu),l=Pb(Ib,e.__scopeMenu),c=n.useRef(null),u=Bh(t,c);return(0,Ut.jsx)(zy.Provider,{scope:e.__scopeMenu,children:(0,Ut.jsx)(dg,{present:o||a.open,children:(0,Ut.jsx)(zy.Slot,{scope:e.__scopeMenu,children:(0,Ut.jsx)(lb,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:"rtl"===s.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{s.isUsingKeyboardRef.current&&c.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:Dh(e.onFocusOutside,(e=>{e.target!==l.trigger&&a.onOpenChange(!1)})),onEscapeKeyDown:Dh(e.onEscapeKeyDown,(e=>{s.onClose(),e.preventDefault()})),onKeyDown:Dh(e.onKeyDown,(e=>{const t=e.currentTarget.contains(e.target),n=Dy[s.dir].includes(e.key);t&&n&&(a.onOpenChange(!1),l.trigger?.focus(),e.preventDefault())}))})})})})}));function Lb(e){return e?"open":"closed"}function Db(e){return"indeterminate"===e}function Fb(e){return Db(e)?"indeterminate":e?"checked":"unchecked"}function zb(e){return t=>"mouse"===t.pointerType?e(t):void 0}Rb.displayName=Ib;var Bb=Yy,$b=Zy,Ub=tb,Vb=ib,Hb=cb,Wb=ub,qb=pb,Gb=mb,Kb=bb,Xb=xb,Yb=Ob,Zb=jb,Jb=_b,Qb=Ab,ew=Mb,tw=Rb,nw=Boolean(globalThis?.document)?n.useLayoutEffect:()=>{},rw=r["useId".toString()]||(()=>{}),ow=0;function iw(e){const[t,r]=n.useState(rw());return nw((()=>{e||r((e=>e??String(ow++)))}),[e]),e||(t?`radix-${t}`:"")}var aw="DropdownMenu",[sw,lw]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;r=[...r,o];const s=t=>{const{scope:r,children:o,...s}=t,l=r?.[e]?.[a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})};return s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e]?.[a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},Mh(o,...t)]}(aw,[Vy]),cw=Vy(),[uw,dw]=sw(aw),fw=e=>{const{__scopeDropdownMenu:t,children:r,dir:o,open:i,defaultOpen:a,onOpenChange:s,modal:l=!0}=e,c=cw(t),u=n.useRef(null),[d=!1,f]=Rh({prop:i,defaultProp:a,onChange:s});return(0,Ut.jsx)(uw,{scope:t,triggerId:iw(),triggerRef:u,contentId:iw(),open:d,onOpenChange:f,onOpenToggle:n.useCallback((()=>f((e=>!e))),[f]),modal:l,children:(0,Ut.jsx)(Bb,{...c,open:d,onOpenChange:f,dir:o,modal:l,children:r})})};fw.displayName=aw;var pw="DropdownMenuTrigger",hw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...o}=e,i=dw(pw,n),a=cw(n);return(0,Ut.jsx)($b,{asChild:!0,...a,children:(0,Ut.jsx)(Lh.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Nh(t,i.triggerRef),onPointerDown:Ah(e.onPointerDown,(e=>{r||0!==e.button||!1!==e.ctrlKey||(i.onOpenToggle(),i.open||e.preventDefault())})),onKeyDown:Ah(e.onKeyDown,(e=>{r||(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())}))})})}));hw.displayName=pw;var mw=e=>{const{__scopeDropdownMenu:t,...n}=e,r=cw(t);return(0,Ut.jsx)(Ub,{...r,...n})};mw.displayName="DropdownMenuPortal";var vw="DropdownMenuContent",gw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:r,...o}=e,i=dw(vw,r),a=cw(r),s=n.useRef(!1);return(0,Ut.jsx)(Vb,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...o,ref:t,onCloseAutoFocus:Ah(e.onCloseAutoFocus,(e=>{s.current||i.triggerRef.current?.focus(),s.current=!1,e.preventDefault()})),onInteractOutside:Ah(e.onInteractOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;i.modal&&!r||(s.current=!0)})),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));gw.displayName=vw;var yw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Hb,{...o,...r,ref:t})}));yw.displayName="DropdownMenuGroup";var bw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Wb,{...o,...r,ref:t})}));bw.displayName="DropdownMenuLabel";var ww=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(qb,{...o,...r,ref:t})}));ww.displayName="DropdownMenuItem";var xw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Gb,{...o,...r,ref:t})}));xw.displayName="DropdownMenuCheckboxItem";var Sw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Kb,{...o,...r,ref:t})}));Sw.displayName="DropdownMenuRadioGroup";var kw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Xb,{...o,...r,ref:t})}));kw.displayName="DropdownMenuRadioItem";var Ew=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Yb,{...o,...r,ref:t})}));Ew.displayName="DropdownMenuItemIndicator";var Ow=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Zb,{...o,...r,ref:t})}));Ow.displayName="DropdownMenuSeparator";var jw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(Jb,{...o,...r,ref:t})}));jw.displayName="DropdownMenuArrow";var _w=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(ew,{...o,...r,ref:t})}));_w.displayName="DropdownMenuSubTrigger";var Cw=n.forwardRef(((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,o=cw(n);return(0,Ut.jsx)(tw,{...o,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}));Cw.displayName="DropdownMenuSubContent";var Tw=fw,Pw=hw,Aw=mw,Nw=gw,Mw=yw,Iw=bw,Rw=ww,Lw=xw,Dw=kw,Fw=Ew,zw=Ow,Bw=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:o,defaultOpen:i}=e,a=cw(t),[s=!1,l]=Rh({prop:r,defaultProp:i,onChange:o});return(0,Ut.jsx)(Qb,{...a,open:s,onOpenChange:l,children:n})},$w=_w,Uw=Cw;
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Vw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hw=(...e)=>e.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ");
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var Ww={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const qw=(0,n.forwardRef)((({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:i="",children:a,iconNode:s,...l},c)=>(0,n.createElement)("svg",{ref:c,...Ww,width:t,height:t,stroke:e,strokeWidth:o?24*Number(r)/Number(t):r,className:Hw("lucide",i),...l},[...s.map((([e,t])=>(0,n.createElement)(e,t))),...Array.isArray(a)?a:[a]]))),Gw=(e,t)=>{const r=(0,n.forwardRef)((({className:r,...o},i)=>(0,n.createElement)(qw,{ref:i,iconNode:t,className:Hw(`lucide-${Vw(e)}`,r),...o})));return r.displayName=`${e}`,r},Kw=Gw("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Xw=Gw("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Yw=Gw("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function Zw(e){return Zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(e)}var Jw=["className","inset","children"],Qw=["className"],ex=["className","sideOffset"],tx=["className","variant","inset"],nx=["variant","className","checked"],rx=["className","children","checked"],ox=["className","children"],ix=["className","inset"],ax=["className"];function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach((function(t){cx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Zw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zw(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ux(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var dx=Tw,fx=Pw,px=Mw,hx=Aw,mx=Bw,vx=n.forwardRef((function(e,t){var n=e.className,r=e.inset,o=e.children,i=ux(e,Jw);return(0,Ut.jsxs)($w,lx(lx({ref:t,className:vr("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",n)},i),{},{children:[o,(0,Ut.jsx)(Kw,{className:"ml-auto h-4 w-4"})]}))}));vx.displayName=$w.displayName;var gx=n.forwardRef((function(e,t){var n=e.className,r=ux(e,Qw);return(0,Ut.jsx)(Uw,lx({ref:t,className:vr("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},r))}));gx.displayName=Uw.displayName;var yx=n.forwardRef((function(e,t){var n=e.className,r=e.sideOffset,o=void 0===r?4:r,i=ux(e,ex);return(0,Ut.jsx)(Aw,{children:(0,Ut.jsx)(Nw,lx({ref:t,sideOffset:o,className:vr("z-[100] min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},i))})}));yx.displayName=Nw.displayName;var bx=Pn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",{variants:{variant:{default:"bg-background hover:bg-accent/70 focus:text-accent-foreground",destructive:"bg-background text-red-700"}},defaultVariants:{variant:"default"}}),wx=n.forwardRef((function(e,t){var n=e.className,r=e.variant,o=e.inset,i=ux(e,tx);return(0,Ut.jsx)(Rw,lx({ref:t,className:vr(bx({variant:r,className:n}),o&&"pl-8",n)},i))}));wx.displayName=Rw.displayName;var xx=n.forwardRef((function(e,t){var n=e.variant,r=e.className,o=e.checked,i=ux(e,nx);return(0,Ut.jsxs)("div",lx(lx({ref:t,className:vr(bx({variant:n,className:r}))},i),{},{children:[e.children,o&&(0,Ut.jsx)("div",{className:"absolute bottom-0 right-2 top-0 flex h-full w-3.5 flex-col items-center justify-center",children:(0,Ut.jsx)("span",{children:(0,Ut.jsx)(Xw,{className:"h-4 w-4"})})})]}))}));xx.displayName="MenuItem";var Sx=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.checked,i=ux(e,rx);return(0,Ut.jsxs)(Lw,lx(lx({ref:t,className:vr("relative flex cursor-default hover:bg-accent select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:o},i),{},{children:[(0,Ut.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Ut.jsx)(Fw,{children:(0,Ut.jsx)(Xw,{className:"h-4 w-4"})})}),r]}))}));Sx.displayName=Lw.displayName;var kx=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=ux(e,ox);return(0,Ut.jsxs)(Dw,lx(lx({ref:t,className:vr("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},o),{},{children:[(0,Ut.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Ut.jsx)(Fw,{children:(0,Ut.jsx)(Yw,{className:"h-2 w-2 fill-current"})})}),r]}))}));kx.displayName=Dw.displayName;var Ex=n.forwardRef((function(e,t){var n=e.className,r=e.inset,o=ux(e,ix);return(0,Ut.jsx)(Iw,lx({ref:t,className:vr("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",n)},o))}));Ex.displayName=Iw.displayName;var Ox=n.forwardRef((function(e,t){var n=e.className,r=ux(e,ax);return(0,Ut.jsx)(zw,lx({ref:t,className:vr("-mx-1 my-1 h-px bg-muted",n)},r))}));Ox.displayName=zw.displayName;const jx="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function _x(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function Cx(e){return"nodeType"in e}function Tx(e){var t,n;return e?_x(e)?e:Cx(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Px(e){const{Document:t}=Tx(e);return e instanceof t}function Ax(e){return!_x(e)&&e instanceof Tx(e).HTMLElement}function Nx(e){return e instanceof Tx(e).SVGElement}function Mx(e){return e?_x(e)?e.document:Cx(e)?Px(e)?e:Ax(e)||Nx(e)?e.ownerDocument:document:document:document}const Ix=jx?n.useLayoutEffect:n.useEffect;function Rx(e){const t=(0,n.useRef)(e);return Ix((()=>{t.current=e})),(0,n.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function Lx(e,t){void 0===t&&(t=[e]);const r=(0,n.useRef)(e);return Ix((()=>{r.current!==e&&(r.current=e)}),t),r}function Dx(e,t){const r=(0,n.useRef)();return(0,n.useMemo)((()=>{const t=e(r.current);return r.current=t,t}),[...t])}function Fx(e){const t=Rx(e),r=(0,n.useRef)(null),o=(0,n.useCallback)((e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e}),[]);return[r,o]}function zx(e){const t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current}let Bx={};function $x(e,t){return(0,n.useMemo)((()=>{if(t)return t;const n=null==Bx[e]?0:Bx[e]+1;return Bx[e]=n,e+"-"+n}),[e,t])}function Ux(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t}),{...t})}}const Vx=Ux(1),Hx=Ux(-1);function Wx(e){if(!e)return!1;const{KeyboardEvent:t}=Tx(e.target);return t&&e instanceof t}function qx(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Tx(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const Gx=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Gx.Translate.toString(e),Gx.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Kx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Xx(e){return e.matches(Kx)?e:e.querySelector(Kx)}const Yx={display:"none"};function Zx(e){let{id:t,value:r}=e;return n.createElement("div",{id:t,style:Yx},r)}function Jx(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;return n.createElement("div",{id:t,style:{position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const Qx=(0,n.createContext)(null);const eS={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},tS={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function nS(e){let{announcements:t=tS,container:r,hiddenTextDescribedById:o,screenReaderInstructions:i=eS}=e;const{announce:a,announcement:s}=function(){const[e,t]=(0,n.useState)(""),r=(0,n.useCallback)((e=>{null!=e&&t(e)}),[]);return{announce:r,announcement:e}}(),l=$x("DndLiveRegion"),[c,u]=(0,n.useState)(!1);if((0,n.useEffect)((()=>{u(!0)}),[]),function(e){const t=(0,n.useContext)(Qx);(0,n.useEffect)((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}((0,n.useMemo)((()=>({onDragStart(e){let{active:n}=e;a(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&a(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;a(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;a(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;a(t.onDragCancel({active:n,over:r}))}})),[a,t])),!c)return null;const d=n.createElement(n.Fragment,null,n.createElement(Zx,{id:o,value:i.draggable}),n.createElement(Jx,{id:l,announcement:s}));return r?(0,Zr.createPortal)(d,r):d}var rS;function oS(){}function iS(e,t){return(0,n.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function aS(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(rS||(rS={}));const sS=Object.freeze({x:0,y:0});function lS(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function cS(e,t){const n=qx(e);if(!n)return"0 0";return(n.x-t.left)/t.width*100+"% "+(n.y-t.top)/t.height*100+"%"}function uS(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function dS(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function fS(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const pS=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=fS(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=lS(fS(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(uS)};function hS(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const mS=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=hS(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(dS)};function vS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:sS}function gS(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const yS=gS(1);function bS(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}const wS={ignoreTransform:!1};function xS(e,t){void 0===t&&(t=wS);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Tx(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=bS(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=i?e.height/i:e.height;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function SS(e){return xS(e,{ignoreTransform:!0})}function kS(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(Px(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ax(o)||Nx(o))return n;if(n.includes(o))return n;const i=Tx(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=Tx(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=Tx(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function ES(e){const[t]=kS(e,1);return null!=t?t:null}function OS(e){return jx&&e?_x(e)?e:Cx(e)?Px(e)||e===Mx(e).scrollingElement?window:Ax(e)?e:null:null:null}function jS(e){return _x(e)?e.scrollX:e.scrollLeft}function _S(e){return _x(e)?e.scrollY:e.scrollTop}function CS(e){return{x:jS(e),y:_S(e)}}var TS;function PS(e){return!(!jx||!e)&&e===document.scrollingElement}function AS(e){const t={x:0,y:0},n=PS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(TS||(TS={}));const NS={x:.2,y:.2};function MS(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=NS);const{isTop:c,isBottom:u,isLeft:d,isRight:f}=AS(e),p={x:0,y:0},h={x:0,y:0},m=t.height*o.y,v=t.width*o.x;return!c&&i<=t.top+m?(p.y=TS.Backward,h.y=r*Math.abs((t.top+m-i)/m)):!u&&l>=t.bottom-m&&(p.y=TS.Forward,h.y=r*Math.abs((t.bottom-m-l)/m)),!f&&s>=t.right-v?(p.x=TS.Forward,h.x=r*Math.abs((t.right-v-s)/v)):!d&&a<=t.left+v&&(p.x=TS.Backward,h.x=r*Math.abs((t.left+v-a)/v)),{direction:p,speed:h}}function IS(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function RS(e){return e.reduce(((e,t)=>Vx(e,CS(t))),sS)}function LS(e,t){if(void 0===t&&(t=xS),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);ES(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const DS=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+jS(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+_S(t)),0)}]];class FS{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=kS(t),r=RS(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of DS)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class zS{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function BS(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var $S,US;function VS(e){e.preventDefault()}function HS(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}($S||($S={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(US||(US={}));const WS={start:[US.Space,US.Enter],cancel:[US.Esc],end:[US.Space,US.Enter]},qS=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case US.Right:return{...n,x:n.x+25};case US.Left:return{...n,x:n.x-25};case US.Down:return{...n,y:n.y+25};case US.Up:return{...n,y:n.y-25}}};class GS{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new zS(Mx(t)),this.windowListeners=new zS(Tx(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($S.Resize,this.handleCancel),this.windowListeners.add($S.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add($S.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&LS(n),t(sS)}handleKeyDown(e){if(Wx(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=WS,coordinateGetter:i=qS,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:sS;this.referenceCoordinates||(this.referenceCoordinates=c);const u=i(e,{active:t,context:n.current,currentCoordinates:c});if(u){const t=Hx(u,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:d,minScroll:f}=AS(n),p=IS(n),h={x:Math.min(o===US.Right?p.right-p.width/2:p.right,Math.max(o===US.Right?p.left:p.left+p.width/2,u.x)),y:Math.min(o===US.Down?p.bottom-p.height/2:p.bottom,Math.max(o===US.Down?p.top:p.top+p.height/2,u.y))},m=o===US.Right&&!s||o===US.Left&&!l,v=o===US.Down&&!c||o===US.Up&&!i;if(m&&h.x!==u.x){const e=n.scrollLeft+t.x,i=o===US.Right&&e<=d.x||o===US.Left&&e>=f.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===US.Right?n.scrollLeft-d.x:n.scrollLeft-f.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(v&&h.y!==u.y){const e=n.scrollTop+t.y,i=o===US.Down&&e<=d.y||o===US.Up&&e>=f.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===US.Down?n.scrollTop-d.y:n.scrollTop-f.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,Vx(Hx(u,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function KS(e){return Boolean(e&&"distance"in e)}function XS(e){return Boolean(e&&"delay"in e)}GS.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=WS,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==o||o({event:e.nativeEvent}),!0)}return!1}}];class YS{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Tx(e);return e instanceof t?e:Mx(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=Mx(i),this.documentListeners=new zS(this.document),this.listeners=new zS(n),this.windowListeners=new zS(Tx(i)),this.initialCoordinates=null!=(r=qx(o))?r:sS,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add($S.Resize,this.handleCancel),this.windowListeners.add($S.DragStart,VS),this.windowListeners.add($S.VisibilityChange,this.handleCancel),this.windowListeners.add($S.ContextMenu,VS),this.documentListeners.add($S.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(XS(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay));if(KS(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add($S.Click,HS,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($S.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=qx(e))?t:sS,l=Hx(r,s);if(!n&&a){if(KS(a)){if(null!=a.tolerance&&BS(l,a.tolerance))return this.handleCancel();if(BS(l,a.distance))return this.handleStart()}return XS(a)&&BS(l,a.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===US.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const ZS={move:{name:"pointermove"},end:{name:"pointerup"}};class JS extends YS{constructor(e){const{event:t}=e,n=Mx(t.target);super(e,ZS,n)}}JS.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const QS={move:{name:"mousemove"},end:{name:"mouseup"}};var ek;!function(e){e[e.RightClick=2]="RightClick"}(ek||(ek={}));class tk extends YS{constructor(e){super(e,QS,Mx(e.event.target))}}tk.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==ek.RightClick&&(null==r||r({event:n}),!0)}}];const nk={move:{name:"touchmove"},end:{name:"touchend"}};class rk extends YS{constructor(e){super(e,nk)}static setup(){return window.addEventListener(nk.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(nk.move.name,e)};function e(){}}}var ok,ik;function ak(e){let{acceleration:t,activator:r=ok.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=ik.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const h=function(e){let{delta:t,disabled:n}=e;const r=zx(t);return Dx((e=>{if(n||!r||!e)return sk;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[TS.Backward]:e.x[TS.Backward]||-1===o.x,[TS.Forward]:e.x[TS.Forward]||1===o.x},y:{[TS.Backward]:e.y[TS.Backward]||-1===o.y,[TS.Forward]:e.y[TS.Forward]||1===o.y}}}),[n,t,r])}({delta:f,disabled:!a}),[m,v]=function(){const e=(0,n.useRef)(null),t=(0,n.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]);return[t,(0,n.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),g=(0,n.useRef)({x:0,y:0}),y=(0,n.useRef)({x:0,y:0}),b=(0,n.useMemo)((()=>{switch(r){case ok.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case ok.DraggableRect:return i}}),[r,i,c]),w=(0,n.useRef)(null),x=(0,n.useCallback)((()=>{const e=w.current;if(!e)return;const t=g.current.x*y.current.x,n=g.current.y*y.current.y;e.scrollBy(t,n)}),[]),S=(0,n.useMemo)((()=>l===ik.TreeOrder?[...u].reverse():u),[l,u]);(0,n.useEffect)((()=>{if(a&&u.length&&b){for(const e of S){if(!1===(null==o?void 0:o(e)))continue;const n=u.indexOf(e),r=d[n];if(!r)continue;const{direction:i,speed:a}=MS(e,r,b,t,p);for(const e of["x","y"])h[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return v(),w.current=e,m(x,s),g.current=a,void(y.current=i)}g.current={x:0,y:0},y.current={x:0,y:0},v()}else v()}),[t,x,o,v,a,s,JSON.stringify(b),JSON.stringify(h),m,u,S,d,JSON.stringify(p)])}rk.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1)&&(null==r||r({event:n}),!0)}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(ok||(ok={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(ik||(ik={}));const sk={x:{[TS.Backward]:!1,[TS.Forward]:!1},y:{[TS.Backward]:!1,[TS.Forward]:!1}};var lk,ck;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(lk||(lk={})),function(e){e.Optimized="optimized"}(ck||(ck={}));const uk=new Map;function dk(e,t){return Dx((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function fk(e){let{callback:t,disabled:r}=e;const o=Rx(t),i=(0,n.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)}),[r]);return(0,n.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function pk(e){return new FS(xS(e),e)}function hk(e,t,r){void 0===t&&(t=pk);const[o,i]=(0,n.useReducer)((function(n){if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=n?n:r)?o:null;const i=t(e);if(JSON.stringify(n)===JSON.stringify(i))return n;return i}),null),a=function(e){let{callback:t,disabled:r}=e;const o=Rx(t),i=(0,n.useMemo)((()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)}),[o,r]);return(0,n.useEffect)((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){i();break}}}}),s=fk({callback:i});return Ix((()=>{i(),e?(null==s||s.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==s||s.disconnect(),null==a||a.disconnect())}),[e]),o}const mk=[];function vk(e,t){void 0===t&&(t=[]);const r=(0,n.useRef)(null);return(0,n.useEffect)((()=>{r.current=null}),t),(0,n.useEffect)((()=>{const t=e!==sS;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)}),[e]),r.current?Hx(e,r.current):sS}function gk(e){return(0,n.useMemo)((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const yk=[];function bk(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ax(t)?t:e}const wk=[{sensor:JS,options:{}},{sensor:GS,options:{}}],xk={current:{}},Sk={draggable:{measure:SS},droppable:{measure:SS,strategy:lk.WhileDragging,frequency:ck.Optimized},dragOverlay:{measure:xS}};class kk extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const Ek={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new kk,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:oS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Sk,measureDroppableContainers:oS,windowRect:null,measuringScheduled:!1},Ok={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:oS,draggableNodes:new Map,over:null,measureDroppableContainers:oS},jk=(0,n.createContext)(Ok),_k=(0,n.createContext)(Ek);function Ck(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new kk}}}function Tk(e,t){switch(t.type){case rS.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case rS.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case rS.DragEnd:case rS.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case rS.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new kk(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case rS.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new kk(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case rS.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new kk(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Pk(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:i}=(0,n.useContext)(jk),a=zx(o),s=zx(null==r?void 0:r.id);return(0,n.useEffect)((()=>{if(!t&&!o&&a&&null!=s){if(!Wx(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Xx(e);if(t){t.focus();break}}}))}}),[o,t,i,s,a]),null}function Ak(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}const Nk=(0,n.createContext)({...sS,scaleX:1,scaleY:1});var Mk;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(Mk||(Mk={}));const Ik=(0,n.memo)((function(e){var t,r,o,i;let{id:a,accessibility:s,autoScroll:l=!0,children:c,sensors:u=wk,collisionDetection:d=mS,measuring:f,modifiers:p,...h}=e;const m=(0,n.useReducer)(Tk,void 0,Ck),[v,g]=m,[y,b]=function(){const[e]=(0,n.useState)((()=>new Set)),t=(0,n.useCallback)((t=>(e.add(t),()=>e.delete(t))),[e]);return[(0,n.useCallback)((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[w,x]=(0,n.useState)(Mk.Uninitialized),S=w===Mk.Initialized,{draggable:{active:k,nodes:E,translate:O},droppable:{containers:j}}=v,_=k?E.get(k):null,C=(0,n.useRef)({initial:null,translated:null}),T=(0,n.useMemo)((()=>{var e;return null!=k?{id:k,data:null!=(e=null==_?void 0:_.data)?e:xk,rect:C}:null}),[k,_]),P=(0,n.useRef)(null),[A,N]=(0,n.useState)(null),[M,I]=(0,n.useState)(null),R=Lx(h,Object.values(h)),L=$x("DndDescribedBy",a),D=(0,n.useMemo)((()=>j.getEnabled()),[j]),F=function(e){return(0,n.useMemo)((()=>({draggable:{...Sk.draggable,...null==e?void 0:e.draggable},droppable:{...Sk.droppable,...null==e?void 0:e.droppable},dragOverlay:{...Sk.dragOverlay,...null==e?void 0:e.dragOverlay}})),[null==e?void 0:e.draggable,null==e?void 0:e.droppable,null==e?void 0:e.dragOverlay])}(f),{droppableRects:z,measureDroppableContainers:B,measuringScheduled:$}=function(e,t){let{dragging:r,dependencies:o,config:i}=t;const[a,s]=(0,n.useState)(null),{frequency:l,measure:c,strategy:u}=i,d=(0,n.useRef)(e),f=function(){switch(u){case lk.Always:return!1;case lk.BeforeDragging:return r;default:return!r}}(),p=Lx(f),h=(0,n.useCallback)((function(e){void 0===e&&(e=[]),p.current||s((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[p]),m=(0,n.useRef)(null),v=Dx((t=>{if(f&&!r)return uk;if(!t||t===uk||d.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new FS(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,a,r,f,c]);return(0,n.useEffect)((()=>{d.current=e}),[e]),(0,n.useEffect)((()=>{f||h()}),[r,f]),(0,n.useEffect)((()=>{a&&a.length>0&&s(null)}),[JSON.stringify(a)]),(0,n.useEffect)((()=>{f||"number"!=typeof l||null!==m.current||(m.current=setTimeout((()=>{h(),m.current=null}),l))}),[l,f,h,...o]),{droppableRects:v,measureDroppableContainers:h,measuringScheduled:null!=a}}(D,{dragging:S,dependencies:[O.x,O.y],config:F.droppable}),U=function(e,t){const n=null!==t?e.get(t):void 0,r=n?n.node.current:null;return Dx((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(E,k),V=(0,n.useMemo)((()=>M?qx(M):null),[M]),H=function(){const e=!1===(null==A?void 0:A.autoScrollEnabled),t="object"==typeof l?!1===l.enabled:!1===l,n=S&&!e&&!t;if("object"==typeof l)return{...l,enabled:n};return{enabled:n}}(),W=function(e,t){return dk(e,t)}(U,F.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:o,config:i=!0}=e;const a=(0,n.useRef)(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;Ix((()=>{if(!s&&!l||!t)return void(a.current=!1);if(a.current||!o)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const n=vS(r(e),o);if(s||(n.x=0),l||(n.y=0),a.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){const t=ES(e);t&&t.scrollBy({top:n.y,left:n.x})}}),[t,s,l,o,r])}({activeNode:k?E.get(k):null,config:H.layoutShiftCompensation,initialRect:W,measure:F.draggable.measure});const q=hk(U,F.draggable.measure,W),G=hk(U?U.parentElement:null),K=(0,n.useRef)({activatorEvent:null,active:null,activeNode:U,collisionRect:null,collisions:null,droppableRects:z,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:j,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),X=j.getNodeFor(null==(t=K.current.over)?void 0:t.id),Y=function(e){let{measure:t}=e;const[r,o]=(0,n.useState)(null),i=fk({callback:(0,n.useCallback)((e=>{for(const{target:n}of e)if(Ax(n)){o((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),a=(0,n.useCallback)((e=>{const n=bk(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),o(n?t(n):null)}),[t,i]),[s,l]=Fx(a);return(0,n.useMemo)((()=>({nodeRef:s,rect:r,setRef:l})),[r,s,l])}({measure:F.dragOverlay.measure}),Z=null!=(r=Y.nodeRef.current)?r:U,J=S?null!=(o=Y.rect)?o:q:null,Q=Boolean(Y.nodeRef.current&&Y.rect),ee=vS(te=Q?null:q,dk(te));var te;const ne=gk(Z?Tx(Z):null),re=function(e){const t=(0,n.useRef)(e),r=Dx((n=>e?n&&n!==mk&&e&&t.current&&e.parentNode===t.current.parentNode?n:kS(e):mk),[e]);return(0,n.useEffect)((()=>{t.current=e}),[e]),r}(S?null!=X?X:U:null),oe=function(e,t){void 0===t&&(t=xS);const[r]=e,o=gk(r?Tx(r):null),[i,a]=(0,n.useReducer)((function(){return e.length?e.map((e=>PS(e)?o:new FS(t(e),e))):yk}),yk),s=fk({callback:a});return e.length>0&&i===yk&&a(),Ix((()=>{e.length?e.forEach((e=>null==s?void 0:s.observe(e))):(null==s||s.disconnect(),a())}),[e]),i}(re),ie=Ak(p,{transform:{x:O.x-ee.x,y:O.y-ee.y,scaleX:1,scaleY:1},activatorEvent:M,active:T,activeNodeRect:q,containerNodeRect:G,draggingNodeRect:J,over:K.current.over,overlayNodeRect:Y.rect,scrollableAncestors:re,scrollableAncestorRects:oe,windowRect:ne}),ae=V?Vx(V,O):null,se=function(e){const[t,r]=(0,n.useState)(null),o=(0,n.useRef)(e),i=(0,n.useCallback)((e=>{const t=OS(e.target);t&&r((e=>e?(e.set(t,CS(t)),new Map(e)):null))}),[]);return(0,n.useEffect)((()=>{const t=o.current;if(e!==t){n(t);const a=e.map((e=>{const t=OS(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,CS(t)]):null})).filter((e=>null!=e));r(a.length?new Map(a):null),o.current=e}return()=>{n(e),n(t)};function n(e){e.forEach((e=>{const t=OS(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,n.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>Vx(e,t)),sS):RS(e):sS),[e,t])}(re),le=vk(se),ce=vk(se,[q]),ue=Vx(ie,le),de=J?yS(J,ie):null,fe=T&&de?d({active:T,collisionRect:de,droppableRects:z,droppableContainers:D,pointerCoordinates:ae}):null,pe=function(e,t){if(!e||0===e.length)return null;const[n]=e;return t?n[t]:n}(fe,"id"),[he,me]=(0,n.useState)(null),ve=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Q?ie:Vx(ie,ce),null!=(i=null==he?void 0:he.rect)?i:null,q),ge=(0,n.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(null==P.current)return;const o=E.get(P.current);if(!o)return;const i=e.nativeEvent,a=new n({active:P.current,activeNode:o,event:i,options:r,context:K,onStart(e){const t=P.current;if(null==t)return;const n=E.get(t);if(!n)return;const{onDragStart:r}=R.current,o={active:{id:t,data:n.data,rect:C}};(0,Zr.unstable_batchedUpdates)((()=>{null==r||r(o),x(Mk.Initializing),g({type:rS.DragStart,initialCoordinates:e,active:t}),y({type:"onDragStart",event:o})}))},onMove(e){g({type:rS.DragMove,coordinates:e})},onEnd:s(rS.DragEnd),onCancel:s(rS.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:o}=K.current;let a=null;if(t&&o){const{cancelDrop:s}=R.current;if(a={activatorEvent:i,active:t,collisions:n,delta:o,over:r},e===rS.DragEnd&&"function"==typeof s){await Promise.resolve(s(a))&&(e=rS.DragCancel)}}P.current=null,(0,Zr.unstable_batchedUpdates)((()=>{g({type:e}),x(Mk.Uninitialized),me(null),N(null),I(null);const t=e===rS.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=R.current[t];null==e||e(a),y({type:t,event:a})}}))}}(0,Zr.unstable_batchedUpdates)((()=>{N(a),I(e.nativeEvent)}))}),[E]),ye=(0,n.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent,i=E.get(r);if(null!==P.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},P.current=r,ge(n,t))}),[E,ge]),be=function(e,t){return(0,n.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(u,ye);!function(e){(0,n.useEffect)((()=>{if(!jx)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(u),Ix((()=>{q&&w===Mk.Initializing&&x(Mk.Initialized)}),[q,w]),(0,n.useEffect)((()=>{const{onDragMove:e}=R.current,{active:t,activatorEvent:n,collisions:r,over:o}=K.current;if(!t||!n)return;const i={active:t,activatorEvent:n,collisions:r,delta:{x:ue.x,y:ue.y},over:o};(0,Zr.unstable_batchedUpdates)((()=>{null==e||e(i),y({type:"onDragMove",event:i})}))}),[ue.x,ue.y]),(0,n.useEffect)((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:o}=K.current;if(!e||null==P.current||!t||!o)return;const{onDragOver:i}=R.current,a=r.get(pe),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:o.x,y:o.y},over:s};(0,Zr.unstable_batchedUpdates)((()=>{me(s),null==i||i(l),y({type:"onDragOver",event:l})}))}),[pe]),Ix((()=>{K.current={activatorEvent:M,active:T,activeNode:U,collisionRect:de,collisions:fe,droppableRects:z,draggableNodes:E,draggingNode:Z,draggingNodeRect:J,droppableContainers:j,over:he,scrollableAncestors:re,scrollAdjustedTranslate:ue},C.current={initial:J,translated:de}}),[T,U,fe,de,E,Z,J,z,j,he,re,ue]),ak({...H,delta:O,draggingRect:de,pointerCoordinates:ae,scrollableAncestors:re,scrollableAncestorRects:oe});const we=(0,n.useMemo)((()=>({active:T,activeNode:U,activeNodeRect:q,activatorEvent:M,collisions:fe,containerNodeRect:G,dragOverlay:Y,draggableNodes:E,droppableContainers:j,droppableRects:z,over:he,measureDroppableContainers:B,scrollableAncestors:re,scrollableAncestorRects:oe,measuringConfiguration:F,measuringScheduled:$,windowRect:ne})),[T,U,q,M,fe,G,Y,E,j,z,he,B,re,oe,F,$,ne]),xe=(0,n.useMemo)((()=>({activatorEvent:M,activators:be,active:T,activeNodeRect:q,ariaDescribedById:{draggable:L},dispatch:g,draggableNodes:E,over:he,measureDroppableContainers:B})),[M,be,T,q,g,L,E,he,B]);return n.createElement(Qx.Provider,{value:b},n.createElement(jk.Provider,{value:xe},n.createElement(_k.Provider,{value:we},n.createElement(Nk.Provider,{value:ve},c)),n.createElement(Pk,{disabled:!1===(null==s?void 0:s.restoreFocus)})),n.createElement(nS,{...s,hiddenTextDescribedById:L}))})),Rk=(0,n.createContext)(null),Lk="button";function Dk(e){let{id:t,data:r,disabled:o=!1,attributes:i}=e;const a=$x("Droppable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=(0,n.useContext)(jk),{role:h=Lk,roleDescription:m="draggable",tabIndex:v=0}=null!=i?i:{},g=(null==c?void 0:c.id)===t,y=(0,n.useContext)(g?Nk:Rk),[b,w]=Fx(),[x,S]=Fx(),k=function(e,t){return(0,n.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e}),{})),[e,t])}(s,t),E=Lx(r);Ix((()=>(f.set(t,{id:t,key:a,node:b,activatorNode:x,data:E}),()=>{const e=f.get(t);e&&e.key===a&&f.delete(t)})),[f,t]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:(0,n.useMemo)((()=>({role:h,tabIndex:v,"aria-disabled":o,"aria-pressed":!(!g||h!==Lk)||void 0,"aria-roledescription":m,"aria-describedby":d.draggable})),[o,h,v,g,m,d.draggable]),isDragging:g,listeners:o?void 0:k,node:b,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function Fk(){return(0,n.useContext)(_k)}const zk={timeout:25};function Bk(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:i}=e;const a=$x("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:u}=(0,n.useContext)(jk),d=(0,n.useRef)({disabled:r}),f=(0,n.useRef)(!1),p=(0,n.useRef)(null),h=(0,n.useRef)(null),{disabled:m,updateMeasurementsFor:v,timeout:g}={...zk,...i},y=Lx(null!=v?v:o),b=fk({callback:(0,n.useCallback)((()=>{f.current?(null!=h.current&&clearTimeout(h.current),h.current=setTimeout((()=>{u(Array.isArray(y.current)?y.current:[y.current]),h.current=null}),g)):f.current=!0}),[g]),disabled:m||!s}),w=(0,n.useCallback)(((e,t)=>{b&&(t&&(b.unobserve(t),f.current=!1),e&&b.observe(e))}),[b]),[x,S]=Fx(w),k=Lx(t);return(0,n.useEffect)((()=>{b&&x.current&&(b.disconnect(),f.current=!1,b.observe(x.current))}),[x,b]),Ix((()=>(l({type:rS.RegisterDroppable,element:{id:o,key:a,disabled:r,node:x,rect:p,data:k}}),()=>l({type:rS.UnregisterDroppable,key:a,id:o}))),[o]),(0,n.useEffect)((()=>{r!==d.current.disabled&&(l({type:rS.SetDroppableDisabled,id:o,key:a,disabled:r}),d.current.disabled=r)}),[o,a,r,l]),{active:s,rect:p,isOver:(null==c?void 0:c.id)===o,node:x,over:c,setNodeRef:S}}function $k(e){let{animation:t,children:r}=e;const[o,i]=(0,n.useState)(null),[a,s]=(0,n.useState)(null),l=zx(r);return r||o||!l||i(l),Ix((()=>{if(!a)return;const e=null==o?void 0:o.key,n=null==o?void 0:o.props.id;null!=e&&null!=n?Promise.resolve(t(n,a)).then((()=>{i(null)})):i(null)}),[t,o,a]),n.createElement(n.Fragment,null,r,o?(0,n.cloneElement)(o,{ref:s}):null)}const Uk={x:0,y:0,scaleX:1,scaleY:1};function Vk(e){let{children:t}=e;return n.createElement(jk.Provider,{value:Ok},n.createElement(Nk.Provider,{value:Uk},t))}const Hk={position:"fixed",touchAction:"none"},Wk=e=>Wx(e)?"transform 250ms ease":void 0,qk=(0,n.forwardRef)(((e,t)=>{let{as:r,activatorEvent:o,adjustScale:i,children:a,className:s,rect:l,style:c,transform:u,transition:d=Wk}=e;if(!l)return null;const f=i?u:{...u,scaleX:1,scaleY:1},p={...Hk,width:l.width,height:l.height,top:l.top,left:l.left,transform:Gx.Transform.toString(f),transformOrigin:i&&o?cS(o,l):void 0,transition:"function"==typeof d?d(o):d,...c};return n.createElement(r,{className:s,style:p,ref:t},a)})),Gk=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:i,className:a}=e;if(null!=i&&i.active)for(const[e,t]of Object.entries(i.active))void 0!==t&&(o[e]=n.node.style.getPropertyValue(e),n.node.style.setProperty(e,t));if(null!=i&&i.dragOverlay)for(const[e,t]of Object.entries(i.dragOverlay))void 0!==t&&r.node.style.setProperty(e,t);return null!=a&&a.active&&n.node.classList.add(a.active),null!=a&&a.dragOverlay&&r.node.classList.add(a.dragOverlay),function(){for(const[e,t]of Object.entries(o))n.node.style.setProperty(e,t);null!=a&&a.active&&n.node.classList.remove(a.active)}},Kk={duration:250,easing:"ease",keyframes:e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Gx.Transform.toString(t)},{transform:Gx.Transform.toString(n)}]},sideEffects:Gk({styles:{active:{opacity:"0"}}})};function Xk(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return Rx(((e,i)=>{if(null===t)return;const a=n.get(e);if(!a)return;const s=a.node.current;if(!s)return;const l=bk(i);if(!l)return;const{transform:c}=Tx(i).getComputedStyle(i),u=bS(c);if(!u)return;const d="function"==typeof t?t:function(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...Kk,...e};return e=>{let{active:i,dragOverlay:a,transform:s,...l}=e;if(!t)return;const c={x:a.rect.left-i.rect.left,y:a.rect.top-i.rect.top},u={scaleX:1!==s.scaleX?i.rect.width*s.scaleX/a.rect.width:1,scaleY:1!==s.scaleY?i.rect.height*s.scaleY/a.rect.height:1},d={x:s.x-c.x,y:s.y-c.y,...u},f=o({...l,active:i,dragOverlay:a,transform:{initial:s,final:d}}),[p]=f,h=f[f.length-1];if(JSON.stringify(p)===JSON.stringify(h))return;const m=null==r?void 0:r({active:i,dragOverlay:a,...l}),v=a.node.animate(f,{duration:t,easing:n,fill:"forwards"});return new Promise((e=>{v.onfinish=()=>{null==m||m(),e()}}))}}(t);return LS(s,o.draggable.measure),d({active:{id:e,data:a.data,node:s,rect:o.draggable.measure(s)},draggableNodes:n,dragOverlay:{node:i,rect:o.dragOverlay.measure(l)},droppableContainers:r,measuringConfiguration:o,transform:u})}))}let Yk=0;function Zk(e){return(0,n.useMemo)((()=>{if(null!=e)return Yk++,Yk}),[e])}const Jk=n.memo((e=>{let{adjustScale:t=!1,children:r,dropAnimation:o,style:i,transition:a,modifiers:s,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:h,draggableNodes:m,droppableContainers:v,dragOverlay:g,over:y,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:x,windowRect:S}=Fk(),k=(0,n.useContext)(Nk),E=Zk(null==f?void 0:f.id),O=Ak(s,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:h,draggingNodeRect:g.rect,over:y,overlayNodeRect:g.rect,scrollableAncestors:w,scrollableAncestorRects:x,transform:k,windowRect:S}),j=dk(p),_=Xk({config:o,draggableNodes:m,droppableContainers:v,measuringConfiguration:b}),C=j?g.setRef:void 0;return n.createElement(Vk,null,n.createElement($k,{animation:_},f&&E?n.createElement(qk,{key:E,id:f.id,ref:C,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:j,style:{zIndex:u,...i},transform:O},r):null))}));function Qk(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function eE(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}function tE(e){return null!==e&&e>=0}const nE={scaleX:1,scaleY:1},rE=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:a}=e;const s=null!=(t=n[o])?t:r;if(!s)return null;const l=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];if(!r||!o&&!i)return 0;if(n<t)return o?r.left-(o.left+o.width):i.left-(r.left+r.width);return i?i.left-(r.left+r.width):r.left-(o.left+o.width)}(n,a,o);if(a===o){const e=n[i];return e?{x:o<i?e.left+e.width-(s.left+s.width):e.left-s.left,y:0,...nE}:null}return a>o&&a<=i?{x:-s.width-l,y:0,...nE}:a<o&&a>=i?{x:s.width+l,y:0,...nE}:{x:0,y:0,...nE}};const oE=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Qk(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null};const iE="Sortable",aE=n.createContext({activeIndex:-1,containerId:iE,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:oE,disabled:{draggable:!1,droppable:!1}});function sE(e){let{children:t,id:r,items:o,strategy:i=oE,disabled:a=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Fk(),f=$x(iE,r),p=Boolean(null!==l.rect),h=(0,n.useMemo)((()=>o.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[o]),m=null!=s,v=s?h.indexOf(s.id):-1,g=u?h.indexOf(u.id):-1,y=(0,n.useRef)(h),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,y.current),w=-1!==g&&-1===v||b,x=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);Ix((()=>{b&&m&&d(h)}),[b,h,m,d]),(0,n.useEffect)((()=>{y.current=h}),[h]);const S=(0,n.useMemo)((()=>({activeIndex:v,containerId:f,disabled:x,disableTransforms:w,items:h,overIndex:g,useDragOverlay:p,sortedRects:eE(h,c),strategy:i})),[v,f,x.draggable,x.droppable,w,h,g,c,p,i]);return n.createElement(aE.Provider,{value:S},t)}const lE=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Qk(n,r,o).indexOf(t)},cE=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((s===i||o!==a)&&(!!n||a!==o&&t===l))},uE={duration:200,easing:"ease"},dE="transform",fE=Gx.Transition.toString({property:dE,duration:0,easing:"linear"}),pE={roleDescription:"sortable"};function hE(e){let{animateLayoutChanges:t=cE,attributes:r,disabled:o,data:i,getNewIndex:a=lE,id:s,strategy:l,resizeObserverConfig:c,transition:u=uE}=e;const{items:d,containerId:f,activeIndex:p,disabled:h,disableTransforms:m,sortedRects:v,overIndex:g,useDragOverlay:y,strategy:b}=(0,n.useContext)(aE),w=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,h),x=d.indexOf(s),S=(0,n.useMemo)((()=>({sortable:{containerId:f,index:x,items:d},...i})),[f,i,x,d]),k=(0,n.useMemo)((()=>d.slice(d.indexOf(s))),[d,s]),{rect:E,node:O,isOver:j,setNodeRef:_}=Bk({id:s,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...c}}),{active:C,activatorEvent:T,activeNodeRect:P,attributes:A,setNodeRef:N,listeners:M,isDragging:I,over:R,setActivatorNodeRef:L,transform:D}=Dk({id:s,data:S,attributes:{...pE,...r},disabled:w.draggable}),F=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}(_,N),z=Boolean(C),B=z&&!m&&tE(p)&&tE(g),$=!y&&I,U=$&&B?D:null,V=B?null!=U?U:(null!=l?l:b)({rects:v,activeNodeRect:P,activeIndex:p,overIndex:g,index:x}):null,H=tE(p)&&tE(g)?a({id:s,items:d,activeIndex:p,overIndex:g}):x,W=null==C?void 0:C.id,q=(0,n.useRef)({activeId:W,items:d,newIndex:H,containerId:f}),G=d!==q.current.items,K=t({active:C,containerId:f,isDragging:I,isSorting:z,id:s,index:x,items:d,newIndex:q.current.newIndex,previousItems:q.current.items,previousContainerId:q.current.containerId,transition:u,wasDragging:null!=q.current.activeId}),X=function(e){let{disabled:t,index:r,node:o,rect:i}=e;const[a,s]=(0,n.useState)(null),l=(0,n.useRef)(r);return Ix((()=>{if(!t&&r!==l.current&&o.current){const e=i.current;if(e){const t=xS(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)}),[t,r,o,i]),(0,n.useEffect)((()=>{a&&s(null)}),[a]),a}({disabled:!K,index:x,node:O,rect:E});return(0,n.useEffect)((()=>{z&&q.current.newIndex!==H&&(q.current.newIndex=H),f!==q.current.containerId&&(q.current.containerId=f),d!==q.current.items&&(q.current.items=d)}),[z,H,f,d]),(0,n.useEffect)((()=>{if(W===q.current.activeId)return;if(W&&!q.current.activeId)return void(q.current.activeId=W);const e=setTimeout((()=>{q.current.activeId=W}),50);return()=>clearTimeout(e)}),[W]),{active:C,activeIndex:p,attributes:A,data:S,rect:E,index:x,newIndex:H,items:d,isOver:j,isSorting:z,isDragging:I,listeners:M,node:O,overIndex:g,over:R,setNodeRef:F,setActivatorNodeRef:L,setDroppableNodeRef:_,setDraggableNodeRef:N,transform:null!=X?X:V,transition:function(){if(X||G&&q.current.newIndex===x)return fE;if($&&!Wx(T)||!u)return;if(z||K)return Gx.Transition.toString({...u,property:dE});return}()}}US.Down,US.Right,US.Up,US.Left;const mE="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function vE(e,t,n){const r=n[0];if(null!=t&&e>=t)throw new Error(e+" >= "+t);if(e.slice(-1)===r||t&&t.slice(-1)===r)throw new Error("trailing zero");if(t){let o=0;for(;(e[o]||r)===t[o];)o++;if(o>0)return t.slice(0,o)+vE(e.slice(o),t.slice(o),n)}const o=e?n.indexOf(e[0]):0,i=null!=t?n.indexOf(t[0]):n.length;if(i-o>1){return n[Math.round(.5*(o+i))]}return t&&t.length>1?t.slice(0,1):n[o]+vE(e.slice(1),null,n)}function gE(e){if(e.length!==yE(e[0]))throw new Error("invalid integer part of order key: "+e)}function yE(e){if(e>="a"&&e<="z")return e.charCodeAt(0)-"a".charCodeAt(0)+2;if(e>="A"&&e<="Z")return"Z".charCodeAt(0)-e.charCodeAt(0)+2;throw new Error("invalid order key head: "+e)}function bE(e){const t=yE(e[0]);if(t>e.length)throw new Error("invalid order key: "+e);return e.slice(0,t)}function wE(e,t){if(e==="A"+t[0].repeat(26))throw new Error("invalid order key: "+e);const n=bE(e);if(e.slice(n.length).slice(-1)===t[0])throw new Error("invalid order key: "+e)}function xE(e,t){gE(e);const[n,...r]=e.split("");let o=!0;for(let e=r.length-1;o&&e>=0;e--){const n=t.indexOf(r[e])+1;n===t.length?r[e]=t[0]:(r[e]=t[n],o=!1)}if(o){if("Z"===n)return"a"+t[0];if("z"===n)return null;const e=String.fromCharCode(n.charCodeAt(0)+1);return e>"a"?r.push(t[0]):r.pop(),e+r.join("")}return n+r.join("")}function SE(e,t,n=mE){if(null!=e&&wE(e,n),null!=t&&wE(t,n),null!=e&&null!=t&&e>=t)throw new Error(e+" >= "+t);if(null==e){if(null==t)return"a"+n[0];const e=bE(t),r=t.slice(e.length);if(e==="A"+n[0].repeat(26))return e+vE("",r,n);if(e<t)return e;const o=function(e,t){gE(e);const[n,...r]=e.split("");let o=!0;for(let e=r.length-1;o&&e>=0;e--){const n=t.indexOf(r[e])-1;-1===n?r[e]=t.slice(-1):(r[e]=t[n],o=!1)}if(o){if("a"===n)return"Z"+t.slice(-1);if("A"===n)return null;const e=String.fromCharCode(n.charCodeAt(0)-1);return e<"Z"?r.push(t.slice(-1)):r.pop(),e+r.join("")}return n+r.join("")}(e,n);if(null==o)throw new Error("cannot decrement any more");return o}if(null==t){const t=bE(e),r=e.slice(t.length),o=xE(t,n);return null==o?t+vE(r,null,n):o}const r=bE(e),o=e.slice(r.length),i=bE(t),a=t.slice(i.length);if(r===i)return r+vE(o,a,n);const s=xE(r,n);if(null==s)throw new Error("cannot increment any more");return s<t?s:r+vE(o,null,n)}const kE=function(e,t,n){var r={label:"blockContentUpdate",mutations:[{type:"blockContentUpdate",blockId:e,after:t,before:be.getState().lessonContent.blocks[e]}]};Voe("blockContentUpdate-".concat(e,"-").concat(n),n?"debounce":"instant",r)};const EE=function(e,t,n){var r={label:"blockDataUpdate",mutations:[{type:"blockDataUpdate",blockId:e,before:be.getState().lessonContent.blocks[e].data,after:t}]};Voe("blockDataUpdate-".concat(e,"-").concat(n),n?"debounce":"instant",r)};const OE=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}));function jE(e,t){if(!e)return"";var n=parseInt(e.slice(1,3),16),r=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return t&&t>=0&&t<=1?"rgba(".concat(n,", ").concat(r,", ").concat(o,", ").concat(t,")"):"rgb(".concat(n,", ").concat(r,", ").concat(o,")")}var _E=o(3947);class CE{maxAge;maxSize;onEviction;_size;cache;oldCache;constructor(e){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"==typeof this.onEviction)for(const[t,n]of e)this.onEviction(t,n.value)}_deleteIfExpired(e,t){return void 0===t||"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){if(!1===this._deleteIfExpired(e,t))return t.value}_getItemValue(e,t){if(void 0!==t)return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const n=t.get(e);return this._getItemValue(e,n)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield e)}}for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:n=this.maxAge}={}){const r="number"==typeof n&&n!==Number.POSITIVE_INFINITY?Date.now()+n:void 0;this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r})}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],n=t.length-e;n<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(n>0&&this._emitEvictions(t.slice(0,n)),this.oldCache=new Map(t.slice(n)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,n]=e;!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}for(const e of this.oldCache){const[t,n]=e;if(!this.cache.has(t)){!1===this._deleteIfExpired(t,n)&&(yield[t,n.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,o]=n;!1===this._deleteIfExpired(r,o)&&(yield[r,o.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const n=e[t],[r,o]=n;if(!this.cache.has(r)){!1===this._deleteIfExpired(r,o)&&(yield[r,o.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}var TE=new CE({maxSize:30}),PE=new Map,AE=(e,t,n={},r=n)=>{if(Array.isArray(t))t.forEach((t=>AE(e,t,n,r)));else if("function"==typeof t)t(e,n,r,AE);else{const o=Object.keys(t)[0];Array.isArray(t[o])?(r[o]={},AE(e,t[o],n,r[o])):r[o]=t[o](e,n,r,AE)}return n},NE=(e,t)=>(n,r,o,i)=>{t(n,r,o)&&i(n,e,r,o)},ME=(e=0)=>t=>t.data[t.pos+e],IE=e=>t=>t.data.subarray(t.pos,t.pos+=e),RE=e=>t=>t.data.subarray(t.pos,t.pos+e),LE=e=>t=>Array.from(IE(e)(t)).map((e=>String.fromCharCode(e))).join(""),DE=e=>t=>{const n=IE(2)(t);return e?(n[1]<<8)+n[0]:(n[0]<<8)+n[1]},FE=(e,t)=>(n,r,o)=>{const i="function"==typeof t?t(n,r,o):t,a=IE(e),s=new Array(i);for(let e=0;e<i;e++)s[e]=a(n);return s},zE=e=>t=>{const n=(e=>e.data[e.pos++])(t),r=new Array(8);for(let e=0;e<8;e++)r[7-e]=Boolean(n&1<<e);return Object.keys(e).reduce(((t,n)=>{const o=e[n];return o.length?t[n]=((e,t,n)=>{let r=0;for(let o=0;o<n;o++)r+=Number(e[t+o]&&2**(n-o-1));return r})(r,o.index,o.length):t[n]=r[o.index],t}),{})},BE={blocks:e=>{const t=[],n=e.data.length;let r=0;for(let o=(e=>e.data[e.pos++])(e);0!==o&&o;o=(e=>e.data[e.pos++])(e)){if(e.pos+o>=n){const o=n-e.pos;t.push(IE(o)(e)),r+=o;break}t.push(IE(o)(e)),r+=o}const o=new Uint8Array(r);let i=0;for(let e=0;e<t.length;e++)o.set(t[e],i),i+=t[e].length;return o}},$E=NE({gce:[{codes:IE(2)},{byteSize:e=>e.data[e.pos++]},{extras:zE({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:DE(!0)},{transparentColorIndex:e=>e.data[e.pos++]},{terminator:e=>e.data[e.pos++]}]},(e=>{const t=RE(2)(e);return 33===t[0]&&249===t[1]})),UE=NE({image:[{code:e=>e.data[e.pos++]},{descriptor:[{left:DE(!0)},{top:DE(!0)},{width:DE(!0)},{height:DE(!0)},{lct:zE({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},NE({lct:FE(3,((e,t,n)=>2**(n.descriptor.lct.size+1)))},((e,t,n)=>n.descriptor.lct.exists)),{data:[{minCodeSize:e=>e.data[e.pos++]},BE]}]},(e=>44===ME()(e))),VE=NE({text:[{codes:IE(2)},{blockSize:e=>e.data[e.pos++]},{preData:(e,t,n)=>IE(n.text.blockSize)(e)},BE]},(e=>{const t=RE(2)(e);return 33===t[0]&&1===t[1]})),HE=NE({application:[{codes:IE(2)},{blockSize:e=>e.data[e.pos++]},{id:(e,t,n)=>LE(n.blockSize)(e)},BE]},(e=>{const t=RE(2)(e);return 33===t[0]&&255===t[1]})),WE=NE({comment:[{codes:IE(2)},BE]},(e=>{const t=RE(2)(e);return 33===t[0]&&254===t[1]})),qE=[{header:[{signature:LE(3)},{version:LE(3)}]},{lsd:[{width:DE(!0)},{height:DE(!0)},{gct:zE({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:e=>e.data[e.pos++]},{pixelAspectRatio:e=>e.data[e.pos++]}]},NE({gct:FE(3,((e,t)=>2**(t.lsd.gct.size+1)))},((e,t)=>t.lsd.gct.exists)),{frames:((e,t)=>function(n,r,o,i){const a=[];let s=n.pos;for(;t(n,r,o);){const t={};if(i(n,e,r,t),n.pos===s)break;s=n.pos,a.push(t)}return a})([$E,HE,WE,UE,VE],(e=>{const t=ME()(e);return 33===t||44===t}))}],GE=(e,t)=>{if(!e.image)return console.warn("gif frame does not have associated image."),null;const{image:n}=e,r=n.descriptor.width*n.descriptor.height;let o=((e,t,n)=>{const r=4096,o=n;let i,a,s,l,c,u,d;const f=new Array(n),p=new Array(r),h=new Array(r),m=new Array(4097),v=e,g=1<<v,y=g+1;for(i=g+2,c=-1,s=v+1,a=(1<<s)-1,u=0;u<g;u++)p[u]=0,h[u]=u;var b,w,x,S,k,E;for(b=w=x=S=k=E=0,d=0;d<o;){if(0===S){if(w<s){b+=t[E]<<w,w+=8,E++;continue}if(u=b&a,b>>=s,w-=s,u>i||u===y)break;if(u===g){s=v+1,a=(1<<s)-1,i=g+2,c=-1;continue}if(-1===c){m[S++]=h[u],c=u,x=u;continue}for(l=u,u===i&&(m[S++]=x,u=c);u>g;)m[S++]=h[u],u=p[u];x=255&h[u],m[S++]=x,i<r&&(p[i]=c,h[i]=x,i++,!(i&a)&&i<r&&(s++,a+=i)),c=l}S--,f[k++]=m[S],d++}for(d=k;d<o;d++)f[d]=0;return f})(n.data.minCodeSize,n.data.blocks,r);n.descriptor.lct?.interlaced&&(o=((e,t)=>{const n=new Array(e.length),r=e.length/t,o=function(r,o){const i=e.slice(o*t,(o+1)*t);n.splice(...[r*t,t].concat(i))},i=[0,4,2,1],a=[8,8,4,2];let s=0;for(let e=0;e<4;e++)for(let t=i[e];t<r;t+=a[e])o(t,s),s++;return n})(o,n.descriptor.width));return{pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height},colorTable:n.descriptor.lct?.exists?n.lct:t,delay:10*(e.gce?.delay??10),disposalType:e.gce?e.gce.extras.disposal:1,transparentIndex:e.gce&&e.gce.extras.transparentColorGiven?e.gce.transparentColorIndex:-1}},KE=({typedArray:e,dx:t,dy:n,width:r,height:o,gifWidth:i})=>{const a=n*i+t;for(let t=0;t<o;t++)for(let n=0;n<r;n++){const r=a+t*i+n;e[4*r]=0,e[4*r+1]=0,e[4*r+2]=0,e[4*r+3]=0}},XE=(e,t,n)=>{const{width:r,height:o,top:i,left:a}=t.dims,s=i*n.width+a;for(let i=0;i<o;i++)for(let o=0;o<r;o++){const a=i*r+o,l=t.pixels[a];if(l!==t.transparentIndex){const r=s+i*n.width+o,a=t.colorTable[l];e[4*r]=a[0],e[4*r+1]=a[1],e[4*r+2]=a[2],e[4*r+3]=l===t.transparentIndex?0:255}}},YE=(e,{signal:t})=>fetch(e,{signal:t}).then((e=>{if(!e.headers.get("Content-Type")?.includes("image/gif"))throw Error(`Wrong content type: "${e.headers.get("Content-Type")}"`);return e.arrayBuffer()})).then((e=>(e=>{const t=new Uint8Array(e);return AE({data:t,pos:0},qE)})(e))).then((e=>((e=>{let t=null;for(const n of e.frames)t=n.gce?n.gce:t,"image"in n&&!("gce"in n)&&null!==t&&(n.gce=t)})(e),e))).then((e=>{return Promise.all([(t=e,t.frames.filter((e=>"image"in e)).map((e=>GE(e,t.gct))).filter(Boolean).map((e=>e))),{width:e.lsd.width,height:e.lsd.height}]);var t})).then((([e,t])=>{const n=[],r=t.width*t.height*4;let o=new Uint8ClampedArray(r);for(let r=0;r<e.length;++r){const i=e[r],a=3===e[r].disposalType?o.slice():null;if(XE(o,i,t),n.push(o.slice()),2===e[r].disposalType)KE({typedArray:o,dx:i.dims.left,dy:i.dims.top,width:i.dims.width,height:i.dims.height,gifWidth:t.width});else if(3===e[r].disposalType){if(!a)throw Error("Disposal type 3 without previous frame");o=a}else o=n[r].slice()}return{...t,loaded:!0,delays:e.map((e=>e.delay)),frames:n}})),ZE=e=>({...e,frames:e.frames.map((t=>{const n=new ImageData(e.width,e.height);return n.data.set(new Uint8ClampedArray(t)),n}))}),JE=async({src:e,controller:t})=>{const n=await YE(e,{signal:t.signal});return ZE(n)},QE=e=>{const t=(()=>{const e=new Blob(['"use strict";(()=>{var P=(t,r,e={},n=e)=>{if(Array.isArray(r))r.forEach(o=>P(t,o,e,n));else if(typeof r=="function")r(t,e,n,P);else{let o=Object.keys(r)[0];Array.isArray(r[o])?(n[o]={},P(t,r[o],e,n[o])):n[o]=r[o](t,e,n,P)}return e},M=(t,r)=>function(e,n,o,c){let i=[],a=e.pos;for(;r(e,n,o);){let s={};if(c(e,t,n,s),e.pos===a)break;a=e.pos,i.push(s)}return i},g=(t,r)=>(e,n,o,c)=>{r(e,n,o)&&c(e,t,n,o)};var W=t=>({data:t,pos:0}),m=()=>t=>t.data[t.pos++],U=(t=0)=>r=>r.data[r.pos+t],f=t=>r=>r.data.subarray(r.pos,r.pos+=t),k=t=>r=>r.data.subarray(r.pos,r.pos+t),v=t=>r=>Array.from(f(t)(r)).map(e=>String.fromCharCode(e)).join(""),b=t=>r=>{let e=f(2)(r);return t?(e[1]<<8)+e[0]:(e[0]<<8)+e[1]},E=(t,r)=>(e,n,o)=>{let c=typeof r=="function"?r(e,n,o):r,i=f(t),a=new Array(c);for(let s=0;s<c;s++)a[s]=i(e);return a},$=(t,r,e)=>{let n=0;for(let o=0;o<e;o++)n+=Number(t[r+o]&&2**(e-o-1));return n},I=t=>r=>{let e=m()(r),n=new Array(8);for(let o=0;o<8;o++)n[7-o]=!!(e&1<<o);return Object.keys(t).reduce((o,c)=>{let i=t[c];return i.length?o[c]=$(n,i.index,i.length):o[c]=n[i.index],o},{})};var z={blocks:t=>{let e=[],n=t.data.length,o=0;for(let a=m()(t);a!==0&&a;a=m()(t)){if(t.pos+a>=n){let s=n-t.pos;e.push(f(s)(t)),o+=s;break}e.push(f(a)(t)),o+=a}let c=new Uint8Array(o),i=0;for(let a=0;a<e.length;a++)c.set(e[a],i),i+=e[a].length;return c}},q=g({gce:[{codes:f(2)},{byteSize:m()},{extras:I({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:b(!0)},{transparentColorIndex:m()},{terminator:m()}]},t=>{let r=k(2)(t);return r[0]===33&&r[1]===249}),H=g({image:[{code:m()},{descriptor:[{left:b(!0)},{top:b(!0)},{width:b(!0)},{height:b(!0)},{lct:I({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},g({lct:E(3,(t,r,e)=>2**(e.descriptor.lct.size+1))},(t,r,e)=>e.descriptor.lct.exists),{data:[{minCodeSize:m()},z]}]},t=>U()(t)===44),J=g({text:[{codes:f(2)},{blockSize:m()},{preData:(t,r,e)=>f(e.text.blockSize)(t)},z]},t=>{let r=k(2)(t);return r[0]===33&&r[1]===1}),Q=g({application:[{codes:f(2)},{blockSize:m()},{id:(t,r,e)=>v(e.blockSize)(t)},z]},t=>{let r=k(2)(t);return r[0]===33&&r[1]===255}),V=g({comment:[{codes:f(2)},z]},t=>{let r=k(2)(t);return r[0]===33&&r[1]===254}),K=[{header:[{signature:v(3)},{version:v(3)}]},{lsd:[{width:b(!0)},{height:b(!0)},{gct:I({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:m()},{pixelAspectRatio:m()}]},g({gct:E(3,(t,r)=>2**(r.lsd.gct.size+1))},(t,r)=>r.lsd.gct.exists),{frames:M([q,Q,V,H,J],t=>{let r=U()(t);return r===33||r===44})}];var X=(t,r)=>{let e=new Array(t.length),n=t.length/r,o=function(s,l){let u=t.slice(l*r,(l+1)*r);e.splice(...[s*r,r].concat(u))},c=[0,4,2,1],i=[8,8,4,2],a=0;for(let s=0;s<4;s++)for(let l=c[s];l<n;l+=i[s])o(l,a),a++;return e};var Z=(t,r,e)=>{let c=e,i,a,s,l,u;var w;let d,p;var C,y,h,_,G;let x=new Array(e),B=new Array(4096),T=new Array(4096),F=new Array(4097),R=t,S=1<<R,O=S+1;for(i=S+2,u=-1,s=R+1,a=(1<<s)-1,d=0;d<S;d++)B[d]=0,T[d]=d;var C,w,y,h,G,_;for(C=w=y=h=G=_=0,p=0;p<c;){if(h===0){if(w<s){C+=r[_]<<w,w+=8,_++;continue}if(d=C&a,C>>=s,w-=s,d>i||d===O)break;if(d===S){s=R+1,a=(1<<s)-1,i=S+2,u=-1;continue}if(u===-1){F[h++]=T[d],u=d,y=d;continue}for(l=d,d===i&&(F[h++]=y,d=u);d>S;)F[h++]=T[d],d=B[d];y=T[d]&255,F[h++]=y,i<4096&&(B[i]=u,T[i]=y,i++,(i&a)===0&&i<4096&&(s++,a+=i)),u=l}h--,x[G++]=F[h],p++}for(p=G;p<c;p++)x[p]=0;return x};var j=t=>{let r=new Uint8Array(t);return P(W(r),K)},D=(t,r)=>{var i,a,s,l;if(!t.image)return console.warn("gif frame does not have associated image."),null;let{image:e}=t,n=e.descriptor.width*e.descriptor.height,o=Z(e.data.minCodeSize,e.data.blocks,n);return(i=e.descriptor.lct)!=null&&i.interlaced&&(o=X(o,e.descriptor.width)),{pixels:o,dims:{top:t.image.descriptor.top,left:t.image.descriptor.left,width:t.image.descriptor.width,height:t.image.descriptor.height},colorTable:(a=e.descriptor.lct)!=null&&a.exists?e.lct:r,delay:((l=(s=t.gce)==null?void 0:s.delay)!=null?l:10)*10,disposalType:t.gce?t.gce.extras.disposal:1,transparentIndex:t.gce&&t.gce.extras.transparentColorGiven?t.gce.transparentColorIndex:-1}};var L=t=>t.frames.filter(r=>"image"in r).map(r=>D(r,t.gct)).filter(Boolean).map(r=>r);var Y=t=>{let r=null;for(let e of t.frames)r=e.gce?e.gce:r,"image"in e&&!("gce"in e)&&r!==null&&(e.gce=r)},ee=({typedArray:t,dx:r,dy:e,width:n,height:o,gifWidth:c})=>{let i=e*c+r;for(let a=0;a<o;a++)for(let s=0;s<n;s++){let l=i+a*c+s;t[l*4]=0,t[l*4+1]=0,t[l*4+2]=0,t[l*4+3]=0}},te=(t,r,e)=>{let{width:n,height:o,top:c,left:i}=r.dims,a=c*e.width+i;for(let s=0;s<o;s++)for(let l=0;l<n;l++){let u=s*n+l,d=r.pixels[u];if(d!==r.transparentIndex){let p=a+s*e.width+l,x=r.colorTable[d];t[p*4]=x[0],t[p*4+1]=x[1],t[p*4+2]=x[2],t[p*4+3]=d===r.transparentIndex?0:255}}},N=(t,{signal:r})=>fetch(t,{signal:r}).then(e=>{var n;if(!((n=e.headers.get("Content-Type"))!=null&&n.includes("image/gif")))throw Error(`Wrong content type: "${e.headers.get("Content-Type")}"`);return e.arrayBuffer()}).then(e=>j(e)).then(e=>(Y(e),e)).then(e=>Promise.all([L(e),{width:e.lsd.width,height:e.lsd.height}])).then(([e,n])=>{let o=[],c=n.width*n.height*4,i=new Uint8ClampedArray(c);for(let a=0;a<e.length;++a){let s=e[a],l=e[a].disposalType===3?i.slice():null;if(te(i,s,n),o.push(i.slice()),e[a].disposalType===2)ee({typedArray:i,dx:s.dims.left,dy:s.dims.top,width:s.dims.width,height:s.dims.height,gifWidth:n.width});else if(e[a].disposalType===3){if(!l)throw Error("Disposal type 3 without previous frame");i=l}else i=o[a].slice()}return{...n,loaded:!0,delays:e.map(a=>a.delay),frames:o}});var A=new Map;self.addEventListener("message",t=>{let{type:r,src:e}=t.data||t;switch(r){case"parse":{if(!A.has(e)){let n=new AbortController,o={signal:n.signal};A.set(e,n),N(e,o).then(c=>{self.postMessage(Object.assign(c,{src:e}),c.frames.map(i=>i.buffer))}).catch(c=>{self.postMessage({src:e,error:c,loaded:!0})}).finally(()=>{A.delete(e)})}break}case"cancel":{A.has(e)&&(A.get(e).abort(),A.delete(e));break}default:break}});})();\n'],{type:"application/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);return URL.revokeObjectURL(t),n})();let n=null;const r=new Promise(((r,o)=>{n=n=>{const i=n.data||n;if(i.src===e)if(i.error)o(new Error(i.error));else{const e=i.error?i:ZE(i);r(e),t.terminate()}},t.addEventListener("message",n),t.postMessage({src:e,type:"parse"})}));return{prom:r,cancel:()=>{t.postMessage({src:e,type:"cancel"}),t.removeEventListener("message",n),t.terminate()}}},eO=e=>"undefined"==typeof window?e:new URL(e,window.origin).href,tO=[],nO=(0,n.forwardRef)((({index:e,frames:t,width:r,height:o,fit:i,className:a,style:s},l)=>{const c=(0,n.useRef)(null),[u]=(0,n.useState)((()=>(()=>{if("undefined"==typeof document)return null;const e=document.createElement("canvas"),t=e.getContext("2d");return e.width=0,e.height=0,t})())),d=(e=>{const[t,r]=(0,n.useState)(null),o=(0,n.useMemo)((()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver((e=>{const{contentRect:t}=e[0],n=e[0].target.getClientRects();if(!n?.[0])return void r(null);const o=n[0].width/t.width,i=n[0].width*(1/o),a=n[0].height*(1/o);r({width:i,height:a})}))),[]),i=(0,n.useCallback)((()=>{if(!e.current)return;const t=e.current.getClientRects();t[0]?r({width:t[0].width,height:t[0].height}):r(null)}),[e]);return(0,n.useEffect)((()=>{if(!o)return;i();const{current:t}=e;return e.current&&o.observe(e.current),()=>{t&&o.unobserve(t)}}),[o,e,i]),(0,n.useEffect)((()=>(tO.push(i),()=>{tO=tO.filter((e=>e!==i))})),[i]),t})(c);return(0,n.useImperativeHandle)(l,(()=>c.current),[]),(0,n.useEffect)((()=>{if(!d)return;const n=t[e],r=c.current?.getContext("2d");n&&u&&r&&((u.canvas.width<n.width||u.canvas.height<n.height)&&(u.canvas.width=n.width,u.canvas.height=n.height),d.width>0&&d.height>0&&(r.clearRect(0,0,d.width,d.height),u.clearRect(0,0,u.canvas.width,u.canvas.height)),u.putImageData(n,0,0),r.drawImage(u.canvas,...((e,t,n)=>{switch(e){case"fill":return[0,0,t.width,t.height,0,0,n.width,n.height];case"contain":{const e=Math.min(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,o=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,o,t.width*e,t.height*e]}case"cover":{const e=Math.max(n.width/t.width,n.height/t.height),r=(n.width-t.width*e)/2,o=(n.height-t.height*e)/2;return[0,0,t.width,t.height,r,o,t.width*e,t.height*e]}default:throw new Error("Unknown fit: "+e)}})(i,n,{width:d.width,height:d.height})))}),[e,t,i,u,d]),(0,Ut.jsx)("canvas",{ref:c,className:a,style:s,width:r??d?.width,height:o??d?.height})})),rO=e=>e.message.includes("Failed to fetch")||e.message.includes("Load failed")||e.message.includes("NetworkError when attempting to fetch resource");function oO({delays:e,loopBehavior:t,playbackRate:r}){const o=(0,_E.UC)(),i=(0,_E.Bk)(),a=(0,n.useMemo)((()=>0!==e.length?e.reduce(((e,t)=>e+(t??0)),0):1),[e]);if(0===e.length)return 0;const s=o/(1/r)/i.fps*1e3;if("pause-after-finish"===t&&s>=a)return e.length-1;if("unmount-after-finish"===t&&s>=a)return-1;let l=s%a;for(let t=0;t<e.length;t++){const n=e[t];if(l<n)return t;l-=n}return 0}var iO=(0,n.forwardRef)((({src:e,width:t,height:r,onError:o,loopBehavior:i="loop",playbackRate:a=1,onLoad:s,fit:l="fill",...c},u)=>{const d=eO(e),[f,p]=(0,n.useState)((()=>{const e=TE.get(d)??PE.get(d);return void 0===e?{delays:[],frames:[],width:0,height:0}:e})),[h,m]=(0,n.useState)(null),[v]=(0,n.useState)((()=>(0,_E.IH)(`Rendering <Gif/> with src="${d}"`))),g=(0,n.useRef)(s),y=(0,n.useRef)(o);if(g.current=s,y.current=o,(0,n.useEffect)((()=>{let e=!1,t=!1;const{prom:n,cancel:r}=QE(d),o=(0,_E.IH)("Loading <Gif /> with src="+d);return n.then((t=>{g.current?.(t),p(t),TE.set(d,t),e=!0,(0,_E._8)(o),(0,_E._8)(v)})).catch((e=>{t?(0,_E._8)(o):y.current?y.current(e):m(e)})),()=>{e||(t=!0,r()),(0,_E._8)(o)}}),[v,d]),h){if(console.error(h.stack),rO(h))throw new Error(`Failed to render GIF with source ${e}: "${h.message}". You must enable CORS for this URL. Open the Developer Tools to see exactly why this fetch failed.`);throw new Error(`Failed to render GIF with source ${e}: "${h.message}".`)}const b=oO({delays:f.delays,loopBehavior:i,playbackRate:a});return-1===b?null:(0,Ut.jsx)(nO,{fit:l,index:b,frames:f.frames,width:t,height:r,...c,ref:u})})),aO=(0,n.forwardRef)((({src:e,width:t,height:r,onLoad:o,onError:i,loopBehavior:a="loop",playbackRate:s=1,fit:l="fill",...c},u)=>{const d=eO(e),[f,p]=(0,n.useState)((()=>{const e=TE.get(d);return void 0===e?{delays:[],frames:[],width:0,height:0}:e})),[h,m]=(0,n.useState)(null),[v]=(0,n.useState)((()=>(0,_E.IH)(`Rendering <Gif/> with src="${d}"`))),g=_E.Xp.useLogLevel();(0,n.useEffect)((()=>()=>{(0,_E._8)(v)}),[v]);const y=oO({delays:f.delays,loopBehavior:a,playbackRate:s}),b=(0,n.useRef)(o),w=(0,n.useRef)(i);if(b.current=o,w.current=i,(0,n.useEffect)((()=>{const e=new AbortController;let t=!1,n=!1;const r=(0,_E.IH)("Loading <Gif /> with src="+d);_E.Xp.Log.verbose(g,"Loading GIF with source",d);const o=Date.now();return JE({controller:e,src:d}).then((e=>{_E.Xp.Log.verbose(g,"Parsed GIF in",Date.now()-o,"ms"),b.current?.(e),p(e),TE.set(d,e),t=!0,(0,_E._8)(r),(0,_E._8)(v)})).catch((e=>{n?(0,_E._8)(r):(_E.Xp.Log.error("Failed to load GIF",e),w.current?w.current(e):m(e))})),()=>{t||(n=!0,e.abort()),(0,_E._8)(r),(0,_E._8)(v)}}),[v,g,d]),h){if(_E.Xp.Log.error(h.stack),rO(h))throw new Error(`Failed to render GIF with source ${e}: "${h.message}". You must enable CORS for this URL.`);throw new Error(`Failed to render GIF with source ${e}: "${h.message}". Render with --log=verbose to see the full stack.`)}return-1===y?null:(0,Ut.jsx)(nO,{fit:l,index:y,frames:f.frames,width:t,height:r,...c,ref:u})})),sO=(0,n.forwardRef)(((e,t)=>(0,_E.P1)().isRendering?(0,Ut.jsx)(aO,{...e,ref:t}):(0,Ut.jsx)(iO,{...e,ref:t}))),lO=function(e){try{if(!e)return!1;var t=new URL(e);return!!t.hostname.includes("giphy.com")||t.pathname.toLowerCase().endsWith(".gif")}catch(t){return e.toLowerCase().endsWith(".gif")}};function cO(e){this.content=e}cO.prototype={constructor:cO,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),i=r.content.slice();return-1==o?i.push(n||e,t):(i[o+1]=t,n&&(i[o]=n)),new cO(i)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new cO(n)},addToStart:function(e,t){return new cO([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new cO(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),i=r.find(e);return o.splice(-1==i?o.length:i,0,t,n),new cO(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=cO.from(e)).size?new cO(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=cO.from(e)).size?new cO(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=cO.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},cO.from=function(e){if(e instanceof cO)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new cO(t)};const uO=cO;function dO(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),i=t.child(r);if(o!=i){if(!o.sameMarkup(i))return n;if(o.isText&&o.text!=i.text){for(let e=0;o.text[e]==i.text[e];e++)n++;return n}if(o.content.size||i.content.size){let e=dO(o.content,i.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function fO(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let a=e.child(--o),s=t.child(--i),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){let e=0,t=Math.min(a.text.length,s.text.length);for(;e<t&&a.text[a.text.length-e-1]==s.text[s.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){let e=fO(a.content,s.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}class pO{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,a=0;a<t;i++){let s=this.content[i],l=a+s.nodeSize;if(l>e&&!1!==n(s,r+a,o||null,i)&&s.content.size){let o=a+1;s.nodesBetween(Math.max(0,e-o),Math.min(s.content.size,t-o),n,r+o)}a=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,((a,s)=>{let l=a.isText?a.text.slice(Math.max(e,s)-s,t-s):a.isLeaf?r?"function"==typeof r?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&l||a.isTextblock)&&n&&(i?i=!1:o+=n),o+=l}),0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new pO(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let a=this.content[o],s=i+a.nodeSize;s>e&&((i<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-i),Math.min(a.text.length,t-i)):a.cut(Math.max(0,e-i-1),Math.min(a.content.size,t-i-1))),n.push(a),r+=a.nodeSize),i=s}return new pO(n,r)}cutByIndex(e,t){return e==t?pO.empty:0==e&&t==this.content.length?this:new pO(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new pO(r,o)}addToStart(e){return new pO([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new pO(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return dO(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return fO(this,e,t,n)}findIndex(e,t=-1){if(0==e)return mO(0,e);if(e==this.size)return mO(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?mO(n+1,o):mO(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((e=>e.toJSON())):null}static fromJSON(e,t){if(!t)return pO.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new pO(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return pO.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new pO(t||e,n)}static from(e){if(!e)return pO.empty;if(e instanceof pO)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new pO([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}pO.empty=new pO([],0);const hO={index:0,offset:0};function mO(e,t){return hO.index=e,hO.offset=t,hO}function vO(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!vO(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!vO(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class gO{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&vO(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return gO.none;if(e instanceof gO)return[e];let t=e.slice();return t.sort(((e,t)=>e.type.rank-t.type.rank)),t}}gO.none=[];class yO extends Error{}class bO{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=xO(this.content,e+this.openStart,t);return n&&new bO(n,this.openStart,this.openEnd)}removeBetween(e,t){return new bO(wO(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return bO.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new bO(pO.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new bO(e,n,r)}}function wO(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:a,offset:s}=e.findIndex(n);if(o==t||i.isText){if(s!=n&&!e.child(a).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(wO(i.content,t-o-1,n-o-1)))}function xO(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),a=e.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let s=xO(a.content,t-i-1,n);return s&&e.replaceChild(o,a.copy(s))}function SO(e,t,n){if(n.openStart>e.depth)throw new yO("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new yO("Inconsistent open depths");return kO(e,t,n,0)}function kO(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let a=kO(e,t,n,r+1);return i.copy(i.content.replaceChild(o,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:a}=function(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(pO.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return CO(i,TO(e,o,a,t,r))}{let r=e.parent,o=r.content;return CO(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return CO(i,PO(e,t,r))}function EO(e,t){if(!t.type.compatibleContent(e.type))throw new yO("Cannot join "+t.type.name+" onto "+e.type.name)}function OO(e,t,n){let r=e.node(n);return EO(r,t.node(n)),r}function jO(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function _O(e,t,n,r){let o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(jO(e.nodeAfter,r),i++));for(let e=i;e<a;e++)jO(o.child(e),r);t&&t.depth==n&&t.textOffset&&jO(t.nodeBefore,r)}function CO(e,t){return e.type.checkContent(t),e.copy(t)}function TO(e,t,n,r,o){let i=e.depth>o&&OO(e,t,o+1),a=r.depth>o&&OO(n,r,o+1),s=[];return _O(null,e,o,s),i&&a&&t.index(o)==n.index(o)?(EO(i,a),jO(CO(i,TO(e,t,n,r,o+1)),s)):(i&&jO(CO(i,PO(e,t,o+1)),s),_O(t,n,o,s),a&&jO(CO(a,PO(n,r,o+1)),s)),_O(r,null,o,s),new pO(s)}function PO(e,t,n){let r=[];if(_O(null,e,n,r),e.depth>n){jO(CO(OO(e,t,n+1),PO(e,t,n+1)),r)}return _O(t,null,n,r),new pO(r)}bO.empty=new bO(pO.empty,0,0);class AO{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return gO.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new RO(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:i}=t.content.findIndex(o),a=o-i;if(n.push(t,e,r+i),!a)break;if(t=t.child(e),t.isText)break;o=a-1,r+=i+1}return new AO(t,n,o)}static resolveCached(e,t){let n=IO.get(e);if(n)for(let e=0;e<n.elts.length;e++){let r=n.elts[e];if(r.pos==t)return r}else IO.set(e,n=new NO);let r=n.elts[n.i]=AO.resolve(e,t);return n.i=(n.i+1)%MO,r}}class NO{constructor(){this.elts=[],this.i=0}}const MO=12,IO=new WeakMap;class RO{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const LO=Object.create(null);class DO{constructor(e,t,n,r=gO.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||pO.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&vO(this.attrs,t||e.defaultAttrs||LO)&&gO.sameSet(this.marks,n||gO.none)}copy(e=null){return e==this.content?this:new DO(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new DO(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return bO.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),s=r.node(i).content.cut(r.pos-a,o.pos-a);return new bO(s,r.depth-i,o.depth-i)}replace(e,t,n){return SO(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return AO.resolveCached(this,e)}resolveNoCache(e){return AO.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,(e=>(n.isInSet(e.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zO(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=pO.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),a=i&&i.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=gO.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!gO.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((e=>e.type.name))}`);this.content.forEach((e=>e.check()))}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((e=>e.toJSON()))),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=pO.fromJSON(e,t.content),o=e.nodeType(t.type).create(t.attrs,r,n);return o.type.checkAttrs(o.attrs),o}}DO.prototype.text=void 0;class FO extends DO{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zO(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new FO(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new FO(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function zO(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class BO{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new $O(e,t);if(null==n.next)return BO.empty;let r=UO(n);n.next&&n.err("Unexpected trailing text");let o=function(e){let t=Object.create(null);return n(KO(e,0));function n(r){let o=[];r.forEach((t=>{e[t].forEach((({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);KO(e,n).forEach((e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)}))}))}));let i=t[r.join(",")]=new BO(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(GO);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}(function(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((e=>e.to=t))}function i(e,t){if("choice"==e.type)return e.exprs.reduce(((e,n)=>e.concat(i(n,t))),[]);if("seq"!=e.type){if("star"==e.type){let a=n();return r(t,a),o(i(e.expr,a),a),[r(a)]}if("plus"==e.type){let a=n();return o(i(e.expr,t),a),o(i(e.expr,a),a),[r(a)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let a=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,a),t),a=t}if(-1==e.max)o(i(e.expr,a),a);else for(let t=e.min;t<e.max;t++){let t=n();r(a,t),o(i(e.expr,a),t),a=t}return[r(a)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=i(e.exprs[r],t);if(r==e.exprs.length-1)return a;o(a,t=n())}}}(r));return function(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:a}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(a)&&r.push(a)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(i,a){let s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return pO.from(a.map((e=>e.createAndFill())));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,a.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:a}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!a.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map(((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r})).join("\n")}}BO.empty=new BO(!0);class $O{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function UO(e){let t=[];do{t.push(VO(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function VO(e){let t=[];do{t.push(HO(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function HO(e){let t=function(e){if(e.eat("(")){let t=UO(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=function(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&o.push(r)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t})));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=qO(e,t)}return t}function WO(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function qO(e,t){let n=WO(e),r=n;return e.eat(",")&&(r="}"!=e.next?WO(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function GO(e,t){return t-e}function KO(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:i}=o[e];r||-1!=n.indexOf(i)||t(i)}}(t),n.sort(GO)}function XO(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function YO(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function ZO(e,t,n,r){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let n in e){let r=e[n];r.validate&&r.validate(t[n])}}function JO(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new ej(e,r,t[r]);return n}class QO{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=JO(e,n.attrs),this.defaultAttrs=XO(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==BO.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:YO(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new DO(this,this.computeAttrs(e),pO.from(t),gO.setFrom(n))}createChecked(e=null,t,n){return t=pO.from(t),this.checkContent(t),new DO(this,this.computeAttrs(e),t,gO.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=pO.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(pO.empty,!0);return o?new DO(this,e,t.append(o),gO.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){ZO(this.attrs,e,"node",this.name)}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:gO.none:e}static compile(e,t){let n=Object.create(null);e.forEach(((e,r)=>n[e]=new QO(e,t,r)));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class ej{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate="string"==typeof n.validate?function(e,t,n){let r=n.split("|");return n=>{let o=null===n?"null":typeof n;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class tj{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=JO(e,r.attrs),this.excluded=null;let o=XO(this.attrs);this.instance=o?new gO(this,o):null}create(e=null){return!e&&this.instance?this.instance:new gO(this,YO(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach(((e,o)=>n[e]=new tj(e,r++,t,o))),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){ZO(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class nj{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let n in e)t[n]=e[n];t.nodes=uO.from(e.nodes),t.marks=uO.from(e.marks||{}),this.nodes=QO.compile(this.spec.nodes,this),this.marks=tj.compile(this.spec.marks,this);let n=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let t=this.nodes[e],r=t.spec.content||"",o=t.spec.marks;if(t.contentMatch=n[r]||(n[r]=BO.parse(r,this.nodes)),t.inlineContent=t.contentMatch.inlineContent,t.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!t.isInline||!t.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=t}t.markSet="_"==o?null:o?rj(this,o.split(" ")):""!=o&&t.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:rj(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof QO))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new FO(n,n.defaultAttrs,e,gO.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return DO.fromJSON(this,e)}markFromJSON(e){return gO.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function rj(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class oj{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach((e=>{if(function(e){return null!=e.tag}(e))this.tags.push(e);else if(function(e){return null!=e.style}(e)){let t=/[^=]*/.exec(e.style)[0];n.indexOf(t)<0&&n.push(t),this.styles.push(e)}})),this.normalizeLists=!this.tags.some((t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}parse(e,t={}){let n=new uj(this,t,!1);return n.addAll(e,gO.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new uj(this,t,!0);return n.addAll(e,gO.none,t.from,t.to),bO.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(dj(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach((e=>{n(e=fj(e)),e.mark||e.ignore||e.clearMark||(e.mark=t)}))}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach((e=>{n(e=fj(e)),e.node||e.ignore||e.mark||(e.node=t)}))}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new oj(e,oj.schemaRules(e)))}}const ij={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},aj={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},sj={ol:!0,ul:!0};function lj(e,t,n){return null!=t?(t?1:0)|("full"===t?2:0):e&&"pre"==e.whitespace?3:-5&n}class cj{constructor(e,t,n,r,o,i){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=i,this.content=[],this.activeMarks=gO.none,this.match=o||(4&i?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(pO.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(1&this.options)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=pO.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(pO.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ij.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class uj{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=lj(null,t.preserveWhitespace,0)|(n?4:0);r=o?new cj(o.type,o.attrs,gO.none,!0,t.topMatch||o.type.contentMatch,i):new cj(n?null:e.schema.topNodeType,null,gO.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){3==e.nodeType?this.addTextNode(e,t):1==e.nodeType&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top;if(2&r.options||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(1&r.options)n=2&r.options?n.replace(/\r\n?/g,"\n"):n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let t=r.content[r.content.length-1],o=e.previousSibling;(!t||o&&"BR"==o.nodeName||t.isText&&/[ \t\r\n\u000c]$/.test(t.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r,o=e.nodeName.toLowerCase();sj.hasOwnProperty(o)&&this.parser.normalizeLists&&function(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&sj.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(r=this.parser.matchTag(e,this,n));if(i?i.ignore:aj.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let n,r=this.top,a=this.needsBlock;if(ij.hasOwnProperty(o))r.content.length&&r.content[0].isInline&&this.open&&(this.open--,r=this.top),n=!0,r.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e,t);let s=i&&i.skip?t:this.readStyles(e,t);s&&this.addAll(e,s),n&&this.sync(r),this.needsBlock=a}else{let n=this.readStyles(e,t);n&&this.addElementByRule(e,i,n,!1===i.consuming?r:void 0)}}leafFallback(e,t){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),t)}ignoreFallback(e,t){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let e=0;e<this.parser.matchedStyles.length;e++){let r=this.parser.matchedStyles[e],o=n.getPropertyValue(r);if(o)for(let e;;){let n=this.parser.matchStyle(r,o,this,e);if(!n)break;if(n.ignore)return null;if(t=n.clearMark?t.filter((e=>!n.clearMark(e))):t.concat(this.parser.schema.marks[n.mark].create(n.attrs)),!1!==n.consuming)break;e=n}}return t}addElementByRule(e,t,n,r){let o,i;if(t.node)if(i=this.parser.schema.nodes[t.node],i.isLeaf)this.insertNode(i.create(t.attrs),n)||this.leafFallback(e,n);else{let e=this.enter(i,t.attrs||null,n,t.preserveWhitespace);e&&(o=!0,n=e)}else{let e=this.parser.schema.marks[t.mark];n=n.concat(e.create(t.attrs))}let a=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((e=>this.insertNode(e,n)));else{let r=e;"string"==typeof t.contentElement?r=e.querySelector(t.contentElement):"function"==typeof t.contentElement?r=t.contentElement(e):t.contentElement&&(r=t.contentElement),this.findAround(e,r,!0),this.addAll(r,n)}o&&this.sync(a)&&this.open--}addAll(e,t,n,r){let o=n||0;for(let i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i,t);this.findAtPoint(e,o)}findPlace(e,t){let n,r;for(let t=this.open;t>=0;t--){let o=this.nodes[t],i=o.findWrapping(e);if(i&&(!n||n.length>i.length)&&(n=i,r=o,!i.length))break;if(o.solid)break}if(!n)return null;this.sync(r);for(let e=0;e<n.length;e++)t=this.enterInner(n[e],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&(t=this.enterInner(e,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let t=this.top;t.match&&(t.match=t.match.matchType(e.type));let r=gO.none;for(let o of n.concat(e.marks))(t.type?t.type.allowsMarkType(o.type):pj(o.type,e.type))&&(r=o.addToSet(r));return t.content.push(e.mark(r)),!0}return!1}enter(e,t,n,r){let o=this.findPlace(e.create(t),n);return o&&(o=this.enterInner(e,t,n,!0,r)),o}enterInner(e,t,n,r=!1,o){this.closeExtra();let i=this.top;i.match=i.match&&i.match.matchType(e);let a=lj(e,o,i.options);4&i.options&&0==i.content.length&&(a|=4);let s=gO.none;return n=n.filter((t=>!(i.type?i.type.allowsMarkType(t.type):pj(t.type,e))||(s=t.addToSet(s),!1))),this.nodes.push(new cj(e,t,s,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,a)=>{for(;e>=0;e--){let s=t[e];if(""==s){if(e==t.length-1||0==e)continue;for(;a>=o;a--)if(i(e-1,a))return!0;return!1}{let e=a>0||0==a&&r?this.nodes[a].type:n&&a>=o?n.node(a-o).type:null;if(!e||e.name!=s&&-1==e.groups.indexOf(s))return!1;a--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}}function dj(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function fj(e){let t={};for(let n in e)t[n]=e[n];return t}function pj(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],a=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&a(o))return!0}};if(a(o.contentMatch))return!0}}class hj{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=vj(t).createDocumentFragment());let r=n,o=[];return e.forEach((e=>{if(o.length||e.marks.length){let n=0,i=0;for(;n<o.length&&i<e.marks.length;){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}for(;n<o.length;)r=o.pop()[1];for(;i<e.marks.length;){let n=e.marks[i++],a=this.serializeMark(n,e.isInline,t);a&&(o.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(e,t))})),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=bj(vj(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&bj(vj(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return bj(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new hj(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=mj(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return mj(e.marks)}}function mj(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function vj(e){return e.document||window.document}const gj=new WeakMap;function yj(e){let t=gj.get(e);return void 0===t&&gj.set(e,t=function(e){let t=null;function n(e){if(e&&"object"==typeof e)if(Array.isArray(e))if("string"==typeof e[0])t||(t=[]),t.push(e);else for(let t=0;t<e.length;t++)n(e[t]);else for(let t in e)n(e[t])}return n(e),t}(e)),t}function bj(e,t,n,r){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let o,i=t[0];if("string"!=typeof i)throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=yj(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a,s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c)){u=2;for(let e in c)if(null!=c[e]){let t=e.indexOf(" ");t>0?l.setAttributeNS(e.slice(0,t),e.slice(t+1),c[e]):l.setAttribute(e,c[e])}}for(let o=u;o<t.length;o++){let i=t[o];if(0===i){if(o<t.length-1||o>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}{let{dom:t,contentDOM:o}=bj(e,i,n,r);if(l.appendChild(t),o){if(a)throw new RangeError("Multiple content holes");a=o}}}return{dom:l,contentDOM:a}}const wj=Math.pow(2,16);function xj(e,t){return e+t*wj}function Sj(e){return 65535&e}class kj{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class Ej{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Ej.empty)return Ej.empty}recover(e){let t=0,n=Sj(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/wj}(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let s=this.ranges[a]-(this.inverted?r:0);if(s>e)break;let l=this.ranges[a+o],c=this.ranges[a+i],u=s+l;if(e<=u){let o=s+r+((l?e==s?-1:e==u?1:t:t)<0?0:c);if(n)return o;let i=e==(t<0?s:u)?null:xj(a/3,e-s),d=e==s?2:e==u?1:4;return(t<0?e!=s:e!=u)&&(d|=8),new kj(o,d,i)}r+=c-l}return n?e+r:new kj(e+r,0,null)}touches(e,t){let n=0,r=Sj(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let a=this.ranges[t]-(this.inverted?n:0);if(a>e)break;let s=this.ranges[t+o];if(e<=a+s&&t==3*r)return!0;n+=this.ranges[t+i]-s}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}}invert(){return new Ej(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?Ej.empty:new Ej(e<0?[0,-e,0]:[0,0,e])}}Ej.empty=new Ej([]);class Oj{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Oj(this.maps,this.mirror,e,t)}copy(){return new Oj(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Oj;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this.maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new kj(e,r,null)}}const jj=Object.create(null);class _j{getMap(){return Ej.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=jj[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in jj)throw new RangeError("Duplicate use of step JSON ID "+e);return jj[e]=t,t.prototype.jsonID=e,t}}class Cj{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Cj(e,null)}static fail(e){return new Cj(null,e)}static fromReplace(e,t,n,r){try{return Cj.ok(e.replace(t,n,r))}catch(e){if(e instanceof yO)return Cj.fail(e.message);throw e}}}function Tj(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let i=e.child(o);i.content.size&&(i=i.copy(Tj(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return pO.fromArray(r)}class Pj extends _j{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new bO(Tj(t.content,((e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e),r),t.openStart,t.openEnd);return Cj.fromReplace(e,this.from,this.to,o)}invert(){return new Aj(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Pj(t.pos,n.pos,this.mark)}merge(e){return e instanceof Pj&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Pj(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pj(t.from,t.to,e.markFromJSON(t.mark))}}_j.jsonID("addMark",Pj);class Aj extends _j{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new bO(Tj(t.content,(e=>e.mark(this.mark.removeFromSet(e.marks))),e),t.openStart,t.openEnd);return Cj.fromReplace(e,this.from,this.to,n)}invert(){return new Pj(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Aj(t.pos,n.pos,this.mark)}merge(e){return e instanceof Aj&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Aj(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Aj(t.from,t.to,e.markFromJSON(t.mark))}}_j.jsonID("removeMark",Aj);class Nj extends _j{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Cj.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Cj.fromReplace(e,this.pos,this.pos+1,new bO(pO.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new Nj(this.pos,t.marks[n]);return new Nj(this.pos,this.mark)}}return new Mj(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Nj(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Nj(t.pos,e.markFromJSON(t.mark))}}_j.jsonID("addNodeMark",Nj);class Mj extends _j{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Cj.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Cj.fromReplace(e,this.pos,this.pos+1,new bO(pO.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new Nj(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Mj(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mj(t.pos,e.markFromJSON(t.mark))}}_j.jsonID("removeNodeMark",Mj);class Ij extends _j{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&Lj(e,this.from,this.to)?Cj.fail("Structure replace would overwrite content"):Cj.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Ej([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ij(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new Ij(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof Ij)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?bO.empty:new bO(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ij(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?bO.empty:new bO(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ij(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ij(t.from,t.to,bO.fromJSON(e,t.slice),!!t.structure)}}_j.jsonID("replace",Ij);class Rj extends _j{constructor(e,t,n,r,o,i,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Lj(e,this.from,this.gapFrom)||Lj(e,this.gapTo,this.to)))return Cj.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Cj.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Cj.fromReplace(e,this.from,this.to,n):Cj.fail("Content does not fit in gap")}getMap(){return new Ej([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Rj(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new Rj(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Rj(t.from,t.to,t.gapFrom,t.gapTo,bO.fromJSON(e,t.slice),t.insert,!!t.structure)}}function Lj(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function Dj(e,t,n,r=n.contentMatch,o=!0){let i=e.doc.nodeAt(t),a=[],s=t+1;for(let t=0;t<i.childCount;t++){let l=i.child(t),c=s+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(let t=0;t<l.marks.length;t++)n.allowsMarkType(l.marks[t].type)||e.step(new Aj(s,c,l.marks[t]));if(o&&l.isText&&"pre"!=n.whitespace){let e,t,r=/\r?\n|\r/g;for(;e=r.exec(l.text);)t||(t=new bO(pO.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),a.push(new Ij(s+e.index,s+e.index+e[0].length,t))}}else a.push(new Ij(s,c,bO.empty));s=c}if(!r.validEnd){let t=r.fillBefore(pO.empty,!0);e.replace(s,s,new bO(t,0,0))}for(let t=a.length-1;t>=0;t--)e.step(a[t])}function Fj(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function zj(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!Fj(r,o,i))break}return null}function Bj(e,t,n=null,r=e){let o=function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let s=(a.length?a[a.length-1]:t).contentMatch;for(let e=r;s&&e<o;e++)s=s.matchType(n.child(e).type);return s&&s.validEnd?a:null}(r,t);return i?o.map($j).concat({type:t,attrs:n}).concat(i.map($j)):null}function $j(e){return{type:e,attrs:null}}function Uj(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>i;e--,t--){let n=o.node(e),i=o.index(e);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(i,n.childCount),s=r&&r[t+1];s&&(a=a.replaceChild(0,s.type.create(s.attrs)));let l=r&&r[t]||n;if(!n.canReplace(i+1,n.childCount)||!l.type.validContent(a))return!1}let s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function Vj(e,t){let n=e.resolve(t),r=n.index();return Hj(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Hj(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function Wj(e,t,n=-1){let r=e.resolve(t);for(let e=r.depth;;e--){let o,i,a=r.index(e);if(e==r.depth?(o=r.nodeBefore,i=r.nodeAfter):n>0?(o=r.node(e+1),a++,i=r.node(e).maybeChild(a)):(o=r.node(e).maybeChild(a-1),i=r.node(e+1)),o&&!o.isTextblock&&Hj(o,i)&&r.node(e).canReplace(a,a+1))return t;if(0==e)break;t=n<0?r.before(e):r.after(e)}}function qj(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,i=r.index(t)+(n>0?1:0),a=r.node(t),s=!1;if(1==e)s=a.canReplace(i,i,o);else{let e=a.contentMatchAt(i).findWrapping(o.firstChild.type);s=e&&a.canReplaceWith(i,i,e[0])}if(s)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function Gj(e,t,n=t,r=bO.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),i=e.resolve(n);return Kj(o,i,r)?new Ij(t,n,r):new Xj(o,i,r).fit()}function Kj(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}_j.jsonID("replaceAround",Rj);class Xj{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=pO.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=pO.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,i=n.depth,a=r.depth;for(;i&&a&&1==o.childCount;)o=o.firstChild.content,i--,a--;let s=new bO(o,i,a);return e>-1?new Rj(n.pos,e,this.$to.pos,this.$to.end(),s,t):s.size||n.pos!=this.$to.pos?new Ij(n.pos,r.pos,s):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let o=t.firstChild;if(t.childCount>1&&(r=0),o.type.spec.isolating&&r<=n){e=n;break}t=o.content}for(let t=1;t<=2;t++)for(let n=1==t?e:this.unplaced.openStart;n>=0;n--){let e,r=null;n?(r=Jj(this.unplaced.content,n-1).firstChild,e=r.content):e=this.unplaced.content;let o=e.firstChild;for(let e=this.depth;e>=0;e--){let i,{type:a,match:s}=this.frontier[e],l=null;if(1==t&&(o?s.matchType(o.type)||(l=s.fillBefore(pO.from(o),!1)):r&&a.compatibleContent(r.type)))return{sliceDepth:n,frontierDepth:e,parent:r,inject:l};if(2==t&&o&&(i=s.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:e,parent:r,wrap:i};if(r&&s.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Jj(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new bO(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=Jj(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new bO(Yj(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new bO(Yj(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let i=this.unplaced,a=n?n.content:i.content,s=i.openStart-e,l=0,c=[],{match:u,type:d}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));u=u.matchFragment(r)}let f=a.size+e-(i.content.size-i.openEnd);for(;l<a.childCount;){let e=a.child(l),t=u.matchType(e.type);if(!t)break;l++,(l>1||0==s||e.content.size)&&(u=t,c.push(Qj(e.mark(d.allowedMarks(e.marks)),1==l?s:0,l==a.childCount?f:-1)))}let p=l==a.childCount;p||(f=-1),this.placed=Zj(this.placed,t,pO.from(c)),this.frontier[t].match=u,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=a;e<f;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=p?0==e?bO.empty:new bO(Yj(i.content,e-1,1),e-1,f<0?i.openEnd:e-1):new bO(Yj(i.content,e,l),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!e_(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=e_(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=e_(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Zj(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Zj(this.placed,this.depth,pO.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(pO.empty,!0);e.childCount&&(this.placed=Zj(this.placed,this.frontier.length,e))}}function Yj(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Yj(e.firstChild.content,t-1,n)))}function Zj(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Zj(e.lastChild.content,t-1,n)))}function Jj(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function Qj(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,Qj(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(pO.empty,!0)))),e.copy(r)}function e_(e,t,n,r,o){let i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;let s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function t_(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(t_(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(pO.empty,!0))}return e}function n_(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class r_ extends _j{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Cj.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Cj.fromReplace(e,this.pos,this.pos+1,new bO(pO.from(r),0,t.isLeaf?0:1))}getMap(){return Ej.empty}invert(e){return new r_(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new r_(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new r_(t.pos,t.attr,t.value)}}_j.jsonID("attr",r_);class o_ extends _j{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let n in e.attrs)t[n]=e.attrs[n];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Cj.ok(n)}getMap(){return Ej.empty}invert(e){return new o_(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if("string"!=typeof t.attr)throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new o_(t.attr,t.value)}}_j.jsonID("docAttr",o_);let i_=class extends Error{};i_=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},(i_.prototype=Object.create(Error.prototype)).constructor=i_,i_.prototype.name="TransformError";class a_{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oj}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new i_(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=bO.empty){let r=Gj(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new bO(pO.from(n),0,0))}delete(e,t){return this.replace(e,t,bO.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return function(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),i=e.doc.resolve(n);if(Kj(o,i,r))return e.step(new Ij(t,n,r));let a=n_(o,e.doc.resolve(n));0==a[a.length-1]&&a.pop();let s=-(o.depth+1);a.unshift(s);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;a.indexOf(e)>-1?s=e:o.before(e)==t&&a.splice(1,0,-e)}let l=a.indexOf(s),c=[],u=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=u-1;e>=0;e--){let t=c[e],n=(d=t.type).spec.defining||d.spec.definingForContent;if(n&&!t.sameMarkup(o.node(Math.abs(s)-1)))u=e;else if(n||!t.type.isTextblock)break}var d;for(let t=r.openStart;t>=0;t--){let s=(t+u+1)%(r.openStart+1),d=c[s];if(d)for(let t=0;t<a.length;t++){let c=a[(t+l)%a.length],u=!0;c<0&&(u=!1,c=-c);let f=o.node(c-1),p=o.index(c-1);if(f.canReplaceWith(p,p,d.type,d.marks))return e.replace(o.before(c),u?i.after(c):n,new bO(t_(r.content,0,r.openStart,s),s,r.openEnd))}}let f=e.steps.length;for(let s=a.length-1;s>=0&&(e.replace(t,n,r),!(e.steps.length>f));s--){let e=a[s];e<0||(t=o.before(e),n=i.after(e))}}(this,e,t,n),this}replaceRangeWith(e,t,n){return function(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=function(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new bO(pO.from(r),0,0))}(this,e,t,n),this}deleteRange(e,t){return function(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=n_(r,o);for(let t=0;t<i.length;t++){let n=i[t],a=t==i.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(t-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i)return e.delete(r.before(i),n);e.delete(t,n)}(this,e,t),this}lift(e,t){return function(e,t,n){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),s=o.after(i+1),l=a,c=s,u=pO.empty,d=0;for(let e=i,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,u=pO.from(r.node(e).copy(u)),d++):l--;let f=pO.empty,p=0;for(let e=i,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,f=pO.from(o.node(e).copy(f)),p++):c++;e.step(new Rj(l,c,a,s,new bO(u.append(f),d,p),u.size-d,!0))}(this,e,t),this}join(e,t=1){return function(e,t,n){let r=new Ij(t-n,t+n,bO.empty,!0);e.step(r)}(this,e,t),this}wrap(e,t){return function(e,t,n){let r=pO.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=pO.from(n[e].type.create(n[e].attrs,r))}let o=t.start,i=t.end;e.step(new Rj(o,i,o,i,new bO(r,0,0),n.length,!0))}(this,e,t),this}setBlockType(e,t=e,n,r=null){return function(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=e.steps.length;e.doc.nodesBetween(t,n,((t,n)=>{let a="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,a)&&function(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(e.doc,e.mapping.slice(i).map(n),r)){let o=null;if(r.schema.linebreakReplacement){let e="pre"==r.whitespace,t=!!r.contentMatch.matchType(r.schema.linebreakReplacement);e&&!t?o=!1:!e&&t&&(o=!0)}!1===o&&function(e,t,n,r){t.forEach(((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let o=e.mapping.slice(r).map(n+1+i);e.replaceWith(o,o+1,t.type.schema.text("\n"))}}))}(e,t,n,i),Dj(e,e.mapping.slice(i).map(n,1),r,void 0,null===o);let s=e.mapping.slice(i),l=s.map(n,1),c=s.map(n+t.nodeSize,1);return e.step(new Rj(l,c,l+1,c-1,new bO(pO.from(r.create(a,null,t.marks)),0,0),1,!0)),!0===o&&function(e,t,n,r){t.forEach(((o,i)=>{if(o.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(o.text);){let o=e.mapping.slice(r).map(n+1+i+a.index);e.replaceWith(o,o+1,t.type.schema.linebreakReplacement.create())}}}))}(e,t,n,i),!1}}))}(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return function(e,t,n,r,o){let i=e.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let a=n.create(r,null,o||i.marks);if(i.isLeaf)return e.replaceWith(t,t+i.nodeSize,a);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Rj(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new bO(pO.from(a),0,0),1,!0))}(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new r_(e,t,n)),this}setDocAttribute(e,t){return this.step(new o_(e,t)),this}addNodeMark(e,t){return this.step(new Nj(e,t)),this}removeNodeMark(e,t){if(!(t instanceof gO)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new Mj(e,t)),this}split(e,t=1,n){return function(e,t,n=1,r){let o=e.doc.resolve(t),i=pO.empty,a=pO.empty;for(let e=o.depth,t=o.depth-n,s=n-1;e>t;e--,s--){i=pO.from(o.node(e).copy(i));let t=r&&r[s];a=pO.from(t?t.type.create(t.attrs,a):o.node(e).copy(a))}e.step(new Ij(t,t,new bO(i.append(a),n,n),!0))}(this,e,t,n),this}addMark(e,t,n){return function(e,t,n,r){let o,i,a=[],s=[];e.doc.nodesBetween(t,n,((e,l,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),d=Math.min(l+e.nodeSize,n),f=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(f)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:a.push(o=new Aj(c,d,u[e])));i&&i.to==c?i.to=d:s.push(i=new Pj(c,d,r))}})),a.forEach((t=>e.step(t))),s.forEach((t=>e.step(t)))}(this,e,t,n),this}removeMark(e,t,n){return function(e,t,n,r){let o=[],i=0;e.doc.nodesBetween(t,n,((e,a)=>{if(!e.isInline)return;i++;let s=null;if(r instanceof tj){let t,n=e.marks;for(;t=r.isInSet(n);)(s||(s=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(s=[r]):s=e.marks;if(s&&s.length){let r=Math.min(a+e.nodeSize,n);for(let e=0;e<s.length;e++){let n,l=s[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==i-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=i):o.push({style:l,from:Math.max(a,t),to:r,step:i})}}})),o.forEach((t=>e.step(new Aj(t.from,t.to,t.style))))}(this,e,t,n),this}clearIncompatible(e,t,n){return Dj(this,e,t,n),this}}const s_=Object.create(null);class l_{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new c_(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=bO.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:l}=i[a],c=e.mapping.slice(o);e.replaceRange(c.map(s.pos),c.map(l.pos),a?bO.empty:t),0==a&&b_(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:a}=r[o],s=e.mapping.slice(n),l=s.map(i.pos),c=s.map(a.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),b_(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new f_(e):y_(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?y_(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):y_(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new v_(e.node(0))}static atStart(e){return y_(e,e,0,0,1)||new v_(e)}static atEnd(e){return y_(e,e,e.content.size,e.childCount,-1)||new v_(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=s_[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in s_)throw new RangeError("Duplicate use of selection JSON ID "+e);return s_[e]=t,t.prototype.jsonID=e,t}getBookmark(){return f_.between(this.$anchor,this.$head).getBookmark()}}l_.prototype.visible=!0;class c_{constructor(e,t){this.$from=e,this.$to=t}}let u_=!1;function d_(e){u_||e.parent.inlineContent||(u_=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class f_ extends l_{constructor(e,t=e){d_(e),d_(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return l_.near(n);let r=e.resolve(t.map(this.anchor));return new f_(r.parent.inlineContent?r:n,n)}replace(e,t=bO.empty){if(super.replace(e,t),t==bO.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof f_&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new p_(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new f_(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=l_.findFrom(t,n,!0)||l_.findFrom(t,-n,!0);if(!e)return l_.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r||(e=(l_.findFrom(e,-n,!0)||l_.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0)&&(e=t),new f_(e,t)}}l_.jsonID("text",f_);class p_{constructor(e,t){this.anchor=e,this.head=t}map(e){return new p_(e.map(this.anchor),e.map(this.head))}resolve(e){return f_.between(e.resolve(this.anchor),e.resolve(this.head))}}class h_ extends l_{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?l_.near(o):new h_(o)}content(){return new bO(pO.from(this.node),0,0)}eq(e){return e instanceof h_&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new m_(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new h_(e.resolve(t.anchor))}static create(e,t){return new h_(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}h_.prototype.visible=!1,l_.jsonID("node",h_);class m_{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new p_(n,n):new m_(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&h_.isSelectable(n)?new h_(t):l_.near(t)}}class v_ extends l_{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=bO.empty){if(t==bO.empty){e.delete(0,e.doc.content.size);let t=l_.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new v_(e)}map(e){return new v_(e)}eq(e){return e instanceof v_}getBookmark(){return g_}}l_.jsonID("all",v_);const g_={map(){return this},resolve:e=>new v_(e)};function y_(e,t,n,r,o,i=!1){if(t.inlineContent)return f_.create(e,n);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let r=t.child(a);if(r.isAtom){if(!i&&h_.isSelectable(r))return h_.create(e,n-(o<0?r.nodeSize:0))}else{let t=y_(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function b_(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,i=e.steps[r];(i instanceof Ij||i instanceof Rj)&&(e.mapping.maps[r].forEach(((e,t,n,r)=>{null==o&&(o=r)})),e.setSelection(l_.near(e.doc.resolve(o),n)))}class w_ extends a_{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&this.updated|1,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=2,this}ensureMarks(e){return gO.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(e,t){super.addStep(e,t),this.updated=-3&this.updated,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||gO.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(l_.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function x_(e,t){return t&&e?e.bind(t):e}class S_{constructor(e,t,n){this.name=e,this.init=x_(t.init,n),this.apply=x_(t.apply,n)}}const k_=[new S_("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new S_("selection",{init:(e,t)=>e.selection||l_.atStart(t.doc),apply:e=>e.selection}),new S_("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new S_("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class E_{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k_.slice(),t&&t.forEach((e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new S_(e.key,e.spec.state,e))}))}}class O_{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let s=r?r[i].n:0,l=r?r[i].state:this,c=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,l,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new O_(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new w_(this)}static create(e){let t=new E_(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new O_(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new E_(this.schema,e.plugins),n=t.fields,r=new O_(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((e=>e.toJSON()))),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new E_(e.schema,e.plugins),o=new O_(r);return r.fields.forEach((r=>{if("doc"==r.name)o.doc=DO.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=l_.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let i in n){let a=n[i],s=a.spec.state;if(a.key==r.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,i))return void(o[r.name]=s.fromJSON.call(a,e,t[i],o))}o[r.name]=r.init(e,o)}})),o}}function j_(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=j_(o,t,{})),n[r]=o}return n}class __{constructor(e){this.spec=e,this.props={},e.props&&j_(e.props,this,this.props),this.key=e.key?e.key.key:T_("plugin")}getState(e){return e[this.key]}}const C_=Object.create(null);function T_(e){return e in C_?e+"$"+ ++C_[e]:(C_[e]=0,e+"$")}class P_{constructor(e="key"){this.key=T_(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const A_=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},N_=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let M_=null;const I_=function(e,t,n){let r=M_||(M_=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},R_=function(e,t,n,r){return n&&(D_(e,t,n,r,-1)||D_(e,t,n,r,1))},L_=/^(img|br|input|textarea|hr)$/i;function D_(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:F_(e))){let n=e.parentNode;if(!n||1!=n.nodeType||z_(e)||L_.test(e.nodeName)||"false"==e.contentEditable)return!1;t=A_(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?F_(e):0}}}function F_(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function z_(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const B_=function(e){return e.focusNode&&R_(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function $_(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}const U_="undefined"!=typeof navigator?navigator:null,V_="undefined"!=typeof document?document:null,H_=U_&&U_.userAgent||"",W_=/Edge\/(\d+)/.exec(H_),q_=/MSIE \d/.exec(H_),G_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(H_),K_=!!(q_||G_||W_),X_=q_?document.documentMode:G_?+G_[1]:W_?+W_[1]:0,Y_=!K_&&/gecko\/(\d+)/i.test(H_);Y_&&(/Firefox\/(\d+)/.exec(H_)||[0,0])[1];const Z_=!K_&&/Chrome\/(\d+)/.exec(H_),J_=!!Z_,Q_=Z_?+Z_[1]:0,eC=!K_&&!!U_&&/Apple Computer/.test(U_.vendor),tC=eC&&(/Mobile\/\w+/.test(H_)||!!U_&&U_.maxTouchPoints>2),nC=tC||!!U_&&/Mac/.test(U_.platform),rC=!!U_&&/Win/.test(U_.platform),oC=/Android \d/.test(H_),iC=!!V_&&"webkitFontSmoothing"in V_.documentElement.style,aC=iC?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function sC(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function lC(e,t){return"number"==typeof e?e:e[t]}function cC(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function uC(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let a=n||e.dom;a;a=N_(a)){if(1!=a.nodeType)continue;let e=a,n=e==i.body,s=n?sC(i):cC(e),l=0,c=0;if(t.top<s.top+lC(r,"top")?c=-(s.top-t.top+lC(o,"top")):t.bottom>s.bottom-lC(r,"bottom")&&(c=t.bottom-t.top>s.bottom-s.top?t.top+lC(o,"top")-s.top:t.bottom-s.bottom+lC(o,"bottom")),t.left<s.left+lC(r,"left")?l=-(s.left-t.left+lC(o,"left")):t.right>s.right-lC(r,"right")&&(l=t.right-s.right+lC(o,"right")),l||c)if(n)i.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function dC(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=N_(r));return t}function fC(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let pC=null;function hC(e,t){let n,r,o,i,a=2e8,s=0,l=t.top,c=t.top;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let e;if(1==u.nodeType)e=u.getClientRects();else{if(3!=u.nodeType)continue;e=I_(u).getClientRects()}for(let f=0;f<e.length;f++){let p=e[f];if(p.top<=l&&p.bottom>=c){l=Math.max(p.bottom,l),c=Math.min(p.top,c);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<a){n=u,a=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==u.nodeType&&e&&(s=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!o&&p.left<=t.left&&p.right>=t.left&&(o=u,i={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=d+1)}}return!n&&o&&(n=o,r=i,a=0),n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=bC(r,1);if(n.top!=n.bottom&&mC(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||a&&1==n.nodeType?{node:e,offset:s}:hC(n,r)}function mC(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function vC(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(mC(t,o))return vC(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function gC(e,t){let n,r=e.dom.ownerDocument,o=0,i=function(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(F_(r.offsetNode),r.offset)}}catch(e){}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(F_(r.startContainer),r.startOffset)}}}(r,t.left,t.top);i&&({node:n,offset:o}=i);let a,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!mC(t,n))return null;if(s=vC(e.dom,t,n),!s)return null}if(eC)for(let e=s;n&&e;e=N_(e))e.draggable&&(n=void 0);if(s=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(s,t),n){if(Y_&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}let r;iC&&o&&1==n.nodeType&&1==(r=n.childNodes[o-1]).nodeType&&"false"==r.contentEditable&&r.getBoundingClientRect().top>=t.top&&o--,n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(a=function(e,t,n,r){let o=-1;for(let n=t,i=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent||!t.contentDOM)){let e=t.dom.getBoundingClientRect();if(t.node.isBlock&&t.parent&&(!i&&e.left>r.left||e.top>r.top?o=t.posBefore:(!i&&e.right<r.left||e.bottom<r.top)&&(o=t.posAfter),i=!0),!t.contentDOM&&o<0&&!t.node.isText)return(t.node.isBlock?r.top<(e.top+e.bottom)/2:r.left<(e.left+e.right)/2)?t.posBefore:t.posAfter}n=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,-1)}(e,n,o,t))}null==a&&(a=function(e,t,n){let{node:r,offset:o}=hC(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function yC(e){return e.top<e.bottom||e.left<e.right}function bC(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(yC(e))return e}return Array.prototype.find.call(n,yC)||e.getBoundingClientRect()}const wC=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function xC(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),a=iC||Y_;if(3==r.nodeType){if(!a||!wC.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,SC(bC(I_(r,e,t),i),i<0)}{let e=bC(I_(r,o,o),n);if(Y_&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=bC(I_(r,o-1,o-1),-1);if(t.top==e.top){let n=bC(I_(r,o,o+1),-1);if(n.top!=e.top)return SC(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(i||0)).parent.inlineContent){if(null==i&&o&&(n<0||o==F_(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return kC(e.getBoundingClientRect(),!1)}if(null==i&&o<F_(r)){let e=r.childNodes[o];if(1==e.nodeType)return kC(e.getBoundingClientRect(),!0)}return kC(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==F_(r))){let e=r.childNodes[o-1],t=3==e.nodeType?I_(e,F_(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return SC(bC(t,1),!1)}if(null==i&&o<F_(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?I_(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return SC(bC(t,-1),!0)}return SC(bC(3==r.nodeType?I_(r):r,-n),n>=0)}function SC(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function kC(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function EC(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}const OC=/[\u0590-\u08ac]/;let jC=null,_C=null,CC=!1;function TC(e,t,n){return jC==t&&_C==n?CC:(jC=t,_C=n,CC="up"==n||"down"==n?function(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return EC(e,t,(()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.contentDOM||n.dom;break}t=n.dom.parentNode}let r=xC(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=I_(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=e.domSelection();return s?OC.test(r.parent.textContent)&&s.modify?EC(e,t,(()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:a}=e.domSelectionRange(),l=s.caretBidiLevel;s.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),f=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{s.collapse(i,a),t&&(t!=i||o!=a)&&s.extend&&s.extend(t,o)}catch(e){}return null!=l&&(s.caretBidiLevel=l),f})):"left"==n||"backward"==n?i:a:r.pos==r.start()||r.pos==r.end()}(e,t,n))}class PC{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>A_(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let t=0;n<this.children.length;n++){let o=this.children[n],i=t+o.size;if(i>e||o instanceof DC){r=e-t;break}t=i}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof AC&&e.side>=0;n--);if(t<=0){let e,r=!0;for(;e=n?this.children[n-1]:null,e&&e.dom.parentNode!=this.contentDOM;n--,r=!1);return e&&t&&r&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?A_(e.dom)+1:0}}{let e,r=!0;for(;e=n<this.children.length?this.children[n]:null,e&&e.dom.parentNode!=this.contentDOM;n++,r=!1);return e&&r&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?A_(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,a=0;;a++){let n=this.children[a],s=i+n.size;if(-1==r&&e<=s){let o=i+n.border;if(e>=o&&t<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=a;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=A_(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(let e=a+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=A_(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(o>s&&i<c)return l.setSelection(e-s-l.border,t-s-l.border,n,r);s=c}let a=this.domFromPos(e,e?-1:1),s=t==e?a:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((Y_||eC)&&e==t){let{node:e,offset:t}=a;if(3==e.nodeType){if(c=!(!t||"\n"!=e.nodeValue[t-1]),c&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(a=s={node:t.parentNode,offset:A_(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(Y_&&l.focusNode&&l.focusNode!=s.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&eC)&&R_(a.node,a.offset,l.anchorNode,l.anchorOffset)&&R_(s.node,s.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||e==t)&&!c){l.collapse(a.node,a.offset);try{e!=t&&l.extend(s.node,s.offset),u=!0}catch(e){}}if(!u){if(e>t){let e=a;a=s,s=e}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,a=i-o.border;if(e>=r&&t<=a)return this.dirty=e==n||t==i?2:1,void(e!=r||t!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class AC extends PC{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,(()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r))),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class NC extends PC{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class MC extends PC{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],i=o&&o(t,r,n);return i&&i.dom||(i=hj.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new MC(e,t,i.dom,i.contentDOM||i.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let r=MC.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=YC(o,t,i,n)),e>0&&(o=YC(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class IC extends PC{constructor(e,t,n,r,o,i,a,s,l){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,o,i){let a,s=o.nodeViews[t.type.name],l=s&&s(t,o,(()=>a?a.parent?a.parent.posBeforeChild(a):void 0:i),n,r),c=l&&l.dom,u=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else if(!c){let e=hj.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:u}=e)}u||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return c=WC(c,n,t),l?a=new FC(e,t,n,r,c,u||null,d,l,o,i+1):t.isText?new LC(e,t,n,r,c,d,o):new IC(e,t,n,r,c,u||null,d,o,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>pO.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&qC(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,i=o&&o.pos>-1?o:null,a=o&&o.pos<0,s=new KC(this,i&&i.node,e);!function(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);r(a,o,t.forChild(i,a),n),i+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){let u,d,f,p;for(;a<o.length&&o[a].to==i;){let e=o[a++];e.widget&&(u?(d||(d=[u])).push(e):u=e)}if(u)if(d){d.sort(XC);for(let e=0;e<d.length;e++)n(d[e],c,!!l)}else n(u,c,!!l);if(l)p=-1,f=l,l=null;else{if(!(c<e.childCount))break;p=c,f=e.child(c++)}for(let e=0;e<s.length;e++)s[e].to<=i&&s.splice(e--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);let h=i+f.nodeSize;if(f.isText){let e=h;a<o.length&&o[a].from<e&&(e=o[a].from);for(let t=0;t<s.length;t++)s[t].to<e&&(e=s[t].to);e<h&&(l=f.cut(e-i),f=f.cut(0,e-i),h=e,p=-1)}else for(;a<o.length&&o[a].to<h;)a++;let m=f.isInline&&!f.isLeaf?s.filter((e=>!e.inline)):s.slice();r(f,m,t.forChild(i,f),p),i=h}}(this.node,this.innerDeco,((t,o,i)=>{t.spec.marks?s.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!i&&s.syncToMarks(o==this.node.childCount?gO.none:this.node.child(o).marks,n,e),s.placeWidget(t,e,r)}),((t,i,l,c)=>{let u;s.syncToMarks(t.marks,n,e),s.findNodeMatch(t,i,l,c)||a&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=s.findIndexWithChild(o.node))>-1&&s.updateNodeAt(t,i,l,u,e)||s.updateNextNode(t,i,l,e,c,r)||s.addNode(t,i,l,e,r),r+=t.nodeSize})),s.syncToMarks([],n,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(i&&this.protectLocalComposition(e,i),zC(this.contentDOM,this.children,e),tC&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof f_)||n<t||r>t+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let e=o.nodeValue,i=function(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let a=e.child(o++),s=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<e.childCount;){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;l+=t.text}if(i>=n){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let e=s<r?l.lastIndexOf(t,r-s-1):-1;if(e>=0&&e+t.length+s>=n)return s+e;if(n==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}(this.node.content,e,n-t,r-t);return i<0?null:{node:o,pos:i,text:e}}return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new NC(this,o,t,r);e.input.compositionNodes.push(i),this.children=YC(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(qC(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=VC(this.dom,this.nodeDOM,UC(this.outerDeco,this.node,t),UC(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function RC(e,t,n,r,o){WC(r,t,e);let i=new IC(void 0,e,t,n,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class LC extends IC{constructor(e,t,n,r,o,i,a){super(e,t,n,r,o,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new LC(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class DC extends PC{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class FC extends IC{constructor(e,t,n,r,o,i,a,s,l,c){super(e,t,n,r,o,i,a,l,c),this.spec=s}update(e,t,n,r){if(3==this.dirty)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zC(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=GC(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof MC){let t=r?r.previousSibling:e.lastChild;zC(a.contentDOM,a.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=GC(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const BC=function(e){e&&(this.nodeName=e)};BC.prototype=Object.create(null);const $C=[new BC];function UC(e,t,n){if(0==e.length)return $C;let r=n?$C[0]:new BC,o=[r];for(let i=0;i<e.length;i++){let a=e[i].type.attrs;if(a){a.nodeName&&o.push(r=new BC(a.nodeName));for(let e in a){let i=a[e];null!=i&&(n&&1==o.length&&o.push(r=new BC(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function VC(e,t,n,r){if(n==$C&&r==$C)return t;let o=t;for(let t=0;t<r.length;t++){let i=r[t],a=n[t];if(t){let t;a&&a.nodeName==i.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==i.nodeName||(t=document.createElement(i.nodeName),t.pmIsDeco=!0,t.appendChild(o),a=$C[0]),o=t}HC(o,a||$C[0],i)}return o}function HC(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function WC(e,t,n){return VC(e,e,$C,UC(t,n,1!=e.nodeType))}function qC(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function GC(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class KC{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){let s;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof MC)){s=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=e.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);for(;r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[o])&&!this.isLocked(n.dom)){r=t;break}}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=MC.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){i=r;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return 3==i.dirty&&i.dom==i.contentDOM&&(i.dirty=2),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o,i){for(let a=this.index;a<this.top.children.length;a++){let s=this.top.children[a];if(s instanceof IC){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let c,u=s.dom,d=this.isLocked(u)&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&3!=s.dirty&&qC(t,s.outerDeco));if(!d&&s.update(e,t,n,r))return this.destroyBetween(this.index,a),s.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(c=this.recreateWrapper(s,e,t,n,r,i)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(r,i+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,o,i){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!qC(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=IC.create(this.top,t,n,r,o,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let e of a.children)e.parent=a}return e.destroy(),a}addNode(e,t,n,r,o){let i=IC.create(this.top,e,t,n,r,o);i.contentDOM&&i.updateChildren(r,o+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new AC(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof MC;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof LC)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((eC||J_)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new DC(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function XC(e,t){return e.type.side-t.type.side}function YC(e,t,n,r,o){let i=[];for(let a=0,s=0;a<e.length;a++){let l=e[a],c=s,u=s+=l.size;c>=n||u<=t?i.push(l):(c<t&&i.push(l.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(l.slice(n-c,l.size,r)))}return i}function ZC(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;let s,l,c=r.resolve(a);if(B_(n)){for(s=a;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&h_.isSelectable(e)&&o.parent&&(!e.isInline||!function(e,t,n){for(let r=0==t,o=t==F_(e);r||o;){if(e==n)return!0;let t=A_(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==F_(e)}}(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new h_(a==e?c:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=a,o=a;for(let r=0;r<n.rangeCount;r++){let i=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(i.startContainer,i.startOffset,1)),o=Math.max(o,e.docView.posFromDOM(i.endContainer,i.endOffset,-1))}if(t<0)return null;[s,a]=o==e.state.selection.anchor?[o,t]:[t,o],c=r.resolve(a)}else s=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(s<0)return null}let u=r.resolve(s);if(!l){l=aT(e,u,c,"pointer"==t||e.state.selection.head<c.pos&&!i?1:-1)}return l}function JC(e){return e.editable?e.hasFocus():lT(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function QC(e,t=!1){let n=e.state.selection;if(oT(e,n),JC(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&J_){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&R_(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setStart(r.parentNode,A_(r)+1):n.setStart(r,0);n.collapse(!0),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&K_&&X_<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{let r,o,{anchor:i,head:a}=n;!eT||n instanceof f_||(n.$from.parent.inlineContent||(r=tT(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=tT(e,n.to))),e.docView.setSelection(i,a,e.root,t),eT&&(r&&rT(r),o&&rT(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{JC(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const eT=eC||J_&&Q_<63;function tT(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(eC&&o&&"false"==o.contentEditable)return nT(o);if(!(o&&"false"!=o.contentEditable||i&&"false"!=i.contentEditable)){if(o)return nT(o);if(i)return nT(i)}}function nT(e){return e.contentEditable="true",eC&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function rT(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function oT(e,t){if(t instanceof h_){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(iT(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else iT(e)}function iT(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function aT(e,t,n,r){return e.someProp("createSelectionBetween",(r=>r(e,t,n)))||f_.between(t,n,r)}function sT(e){return!(e.editable&&!e.hasFocus())&&lT(e)}function lT(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function cT(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),i=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return i&&l_.findFrom(i,t)}function uT(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function dT(e,t,n){let r=e.state.selection;if(!(r instanceof f_)){if(r instanceof h_&&r.node.isInline)return uT(e,new f_(t>0?r.$to:r.$from));{let n=cT(e.state,t);return!!n&&uT(e,n)}}if(n.indexOf("s")>-1){let{$head:n}=r,o=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let i=e.state.doc.resolve(n.pos+o.nodeSize*(t<0?-1:1));return uT(e,new f_(r.$anchor,i))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=cT(e.state,t);return!!(n&&n instanceof h_)&&uT(e,n)}if(!(nC&&n.indexOf("m")>-1)){let n,o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText)return!1;let a=t<0?o.pos-i.nodeSize:o.pos;return!!(i.isAtom||(n=e.docView.descAt(a))&&!n.contentDOM)&&(h_.isSelectable(i)?uT(e,new h_(t<0?e.state.doc.resolve(o.pos-i.nodeSize):o)):!!iC&&uT(e,new f_(e.state.doc.resolve(t<0?a:a+i.nodeSize))))}}function fT(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function pT(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function hT(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=!1;Y_&&1==n.nodeType&&r<fT(n)&&pT(n.childNodes[r],-1)&&(a=!0);for(;;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(pT(e,-1))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(mT(n))break;{let t=n.previousSibling;for(;t&&pT(t,-1);)o=n.parentNode,i=A_(t),t=t.previousSibling;if(t)n=t,r=fT(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}a?vT(e,n,r):o&&vT(e,o,i)}(e):function(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,a=fT(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!pT(n.childNodes[r],1))break;o=n,i=++r}else{if(mT(n))break;{let t=n.nextSibling;for(;t&&pT(t,1);)o=t.parentNode,i=A_(t)+1,t=t.nextSibling;if(t)n=t,r=0,a=fT(n);else{if(n=n.parentNode,n==e.dom)break;r=a=0}}}o&&vT(e,o,i)}(e)}function mT(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function vT(e,t,n){if(3!=t.nodeType){let e,r;(r=function(e,t){for(;e&&t==e.childNodes.length&&!z_(e);)t=A_(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=r,n=0):(e=function(e,t){for(;e&&!t&&!z_(e);)t=A_(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let r=e.domSelection();if(!r)return;if(B_(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout((()=>{e.state==o&&QC(e)}),50)}function gT(e,t){let n=e.state.doc.resolve(t);if(!J_&&!rC&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left<r.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),o=(n.top+n.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(n.left-r.left)>1)return n.left>r.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function yT(e,t,n){let r=e.state.selection;if(r instanceof f_&&!r.empty||n.indexOf("s")>-1)return!1;if(nC&&n.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=cT(e.state,t);if(n&&n instanceof h_)return uT(e,n)}if(!o.parent.inlineContent){let n=t<0?o:i,a=r instanceof v_?l_.near(n,t):l_.findFrom(n,t);return!!a&&uT(e,a)}return!1}function bT(e,t){if(!(e.state.selection instanceof f_))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let r=e.state.tr;return t<0?r.delete(n.pos-i.nodeSize,n.pos):r.delete(n.pos,n.pos+i.nodeSize),e.dispatch(r),!0}return!1}function wT(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function xT(e,t){let n=t.keyCode,r=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);if(8==n||nC&&72==n&&"c"==r)return bT(e,-1)||hT(e,-1);if(46==n&&!t.shiftKey||nC&&68==n&&"c"==r)return bT(e,1)||hT(e,1);if(13==n||27==n)return!0;if(37==n||nC&&66==n&&"c"==r){let t=37==n?"ltr"==gT(e,e.state.selection.from)?-1:1:-1;return dT(e,t,r)||hT(e,t)}if(39==n||nC&&70==n&&"c"==r){let t=39==n?"ltr"==gT(e,e.state.selection.from)?1:-1:1;return dT(e,t,r)||hT(e,t)}return 38==n||nC&&80==n&&"c"==r?yT(e,-1,r)||hT(e,-1):40==n||nC&&78==n&&"c"==r?function(e){if(!eC||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;wT(e,n,"true"),setTimeout((()=>wT(e,n,"false")),20)}return!1}(e)||yT(e,1,r)||hT(e,1):r==(nC?"m":"c")&&(66==n||73==n||89==n||90==n)}function ST(e,t){e.someProp("transformCopied",(n=>{t=n(t,e)}));let n=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let a=e.someProp("clipboardSerializer")||hj.fromSchema(e.state.schema),s=NT(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let c,u=l.firstChild,d=0;for(;u&&1==u.nodeType&&(c=PT[u.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=s.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),d++}u=l.firstChild}u&&1==u.nodeType&&u.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=e.someProp("clipboardTextSerializer",(n=>n(t,e)))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:l,text:f,slice:t}}function kT(e,t,n,r,o){let i,a,s=o.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||s||!n);if(l){if(e.someProp("transformPastedText",(n=>{t=n(t,s||r,e)})),s)return t?new bO(pO.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):bO.empty;let n=e.someProp("clipboardTextParser",(n=>n(t,o,r,e)));if(n)a=n;else{let n=o.marks(),{schema:r}=e.state,a=hj.fromSchema(r);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=i.appendChild(document.createElement("p"));e&&t.appendChild(a.serializeNode(r.text(e,n)))}))}}else e.someProp("transformPastedHTML",(t=>{n=t(n,e)})),i=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=NT().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&PT[o[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join(""));if(r.innerHTML=function(e){let t=window.trustedTypes;return t?t.createPolicy("detachedDocument",{createHTML:e=>e}).createHTML(e):e}(e),n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}(n),iC&&function(e){let t=e.querySelectorAll(J_?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let e=+u[3];e>0;e--){let e=i.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;i=e}if(!a){let t=e.someProp("clipboardParser")||e.someProp("domParser")||oj.fromSchema(e.state.schema);a=t.parseSlice(i,{preserveWhitespace:!(!l&&!u),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||ET.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(u)a=function(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:i,openEnd:a}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=pO.from(t.create(n[e+1],o)),i++,a++}return new bO(o,i,a)}(TT(a,+u[1],+u[2]),u[4]);else if(a=bO.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),i=[];if(e.forEach((e=>{if(!i)return;let t,n=o.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&r.length&&jT(n,r,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=_T(i[i.length-1],r.length));let t=OT(e,n);i.push(t),o=o.matchType(t.type),r=n}})),i)return pO.from(i)}return e}(a.content,o),!0),a.openStart||a.openEnd){let e=0,t=0;for(let t=a.content.firstChild;e<a.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=a.content.lastChild;t<a.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);a=TT(a,e,t)}return e.someProp("transformPasted",(t=>{a=t(a,e)})),a}const ET=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function OT(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,pO.from(e));return e}function jT(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let i=jT(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(pO.from(OT(n,e,o+1))))}}function _T(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,_T(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(pO.empty,!0);return e.copy(n.append(r))}function CT(e,t,n,r,o,i){let a=t<0?e.firstChild:e.lastChild,s=a.content;return e.childCount>1&&(i=0),o<r-1&&(s=CT(s,t,n,r,o+1,i)),o>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(pO.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function TT(e,t,n){return t<e.openStart&&(e=new bO(CT(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new bO(CT(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const PT={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let AT=null;function NT(){return AT||(AT=document.implementation.createHTMLDocument("title"))}const MT={},IT={},RT={touchstart:!0,touchmove:!0};class LT{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function DT(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function FT(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>zT(e,t))}))}function zT(e,t){return e.someProp("handleDOMEvents",(n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function BT(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function $T(e){return{left:e.clientX,top:e.clientY}}function UT(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let r=i.depth+1;r>0;r--)if(e.someProp(t,(t=>r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1))))return!0;return!1}function VT(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function HT(e,t,n,r,o){return UT(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(n=>n(e,t,r)))||(o?function(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof h_&&(n=o.node);let i=e.state.doc.resolve(t);for(let e=i.depth+1;e>0;e--){let t=e>i.depth?i.nodeAfter:i.node(e);if(h_.isSelectable(t)){r=n&&o.$from.depth>0&&e>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(e);break}}return null!=r&&(VT(e,h_.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&h_.isSelectable(r))&&(VT(e,new h_(n),"pointer"),!0)}(e,n))}function WT(e,t,n,r){return UT(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(n=>n(e,t,r)))}function qT(e,t,n,r){return UT(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(n=>n(e,t,r)))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(VT(e,f_.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),i=o.before(t);if(n.inlineContent)VT(e,f_.create(r,i+1,i+1+n.content.size),"pointer");else{if(!h_.isSelectable(n))continue;VT(e,h_.create(r,i),"pointer")}return!0}}(e,n,r)}function GT(e){return tP(e)}IT.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!YT(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!oC||!J_||13!=n.keyCode))if(e.domObserver.selectionChanged(e.domSelectionRange())?e.domObserver.flush():229!=n.keyCode&&e.domObserver.forceFlush(),!tC||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||xT(e,n)?n.preventDefault():DT(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,$_(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},IT.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},IT.keypress=(e,t)=>{let n=t;if(YT(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||nC&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof f_&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode);/[\r\n]/.test(t)||e.someProp("handleTextInput",(n=>n(e,r.$from.pos,r.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const KT=nC?"metaKey":"ctrlKey";MT.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=GT(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(n,e.input.lastClick)&&!n[KT]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let a=e.posAtCoords($T(n));a&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new XT(e,a,n,!!r)):("doubleClick"==i?WT:qT)(e,a.pos,a.inside,n)?n.preventDefault():DT(e,"pointer"))};class XT{constructor(e,t,n,r){let o,i;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[KT],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,i=n.depth?n.before():0}const a=r?null:n.target,s=a?e.docView.nearestDesc(a,!0):null;this.target=s&&1==s.dom.nodeType?s.dom:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof h_&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!Y_||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),DT(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>QC(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords($T(e))),this.updateAllowDefault(e),this.allowDefault||!t?DT(this.view,"pointer"):HT(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||eC&&this.mightDrag&&!this.mightDrag.node.isAtom||J_&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(VT(this.view,l_.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):DT(this.view,"pointer")}move(e){this.updateAllowDefault(e),DT(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function YT(e,t){return!!e.composing||!!(eC&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}MT.touchstart=e=>{e.input.lastTouch=Date.now(),GT(e),DT(e,"pointer")},MT.touchmove=e=>{e.input.lastTouch=Date.now(),DT(e,"pointer")},MT.contextmenu=e=>GT(e);const ZT=oC?5e3:-1;function JT(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>tP(e)),t))}function QT(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function eP(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=F_(e=e.childNodes[t-1])}else{if(!e.parentNode||z_(e))return null;t=A_(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),r=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||z_(e))return null;t=A_(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let t=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!t||!t.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let e=n.pmViewDesc;if(e&&e.isText(n.nodeValue))return r}}return n||r}function tP(e,t=!1){if(!(oC&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),QT(e),t||e.docView&&e.docView.dirty){let n=ZC(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):!e.markCursor&&!t||e.state.selection.empty?e.updateState(e.state):e.dispatch(e.state.tr.deleteSelection()),!0}return!1}}IT.compositionstart=IT.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof f_&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),tP(e,!0),e.markCursor=null;else if(tP(e,!t.selection.empty),Y_&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}JT(e,ZT)},IT.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then((()=>e.domObserver.flush())),e.input.compositionID++,JT(e,20))};const nP=K_&&X_<15||tC&&aC<604;function rP(e,t,n,r,o){let i=kT(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,i||bO.empty))))return!0;if(!i)return!1;let a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),s=a?e.state.tr.replaceSelectionWith(a,r):e.state.tr.replaceSelection(i);return e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function oP(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}MT.copy=IT.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=nP?null:n.clipboardData,a=r.content(),{dom:s,text:l}=ST(e,a);i?(n.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,s),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},IT.paste=(e,t)=>{let n=t;if(e.composing&&!oC)return;let r=nP?null:n.clipboardData,o=e.input.shiftKey&&45!=e.input.lastKeyCode;r&&rP(e,oP(r),r.getData("text/html"),o,n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout((()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?rP(e,r.value,null,o,t):rP(e,r.textContent,r.innerHTML,o,t)}),50)}(e,n)};class iP{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const aP=nC?"altKey":"ctrlKey";MT.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o,i=e.state.selection,a=i.empty?null:e.posAtCoords($T(n));if(a&&a.pos>=i.from&&a.pos<=(i instanceof h_?i.to-1:i.to));else if(r&&r.mightDrag)o=h_.create(e.state.doc,r.mightDrag.pos);else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&(o=h_.create(e.state.doc,t.posBefore))}let s=(o||e.state.selection).content(),{dom:l,text:c,slice:u}=ST(e,s);(!n.dataTransfer.files.length||!J_||Q_>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(nP?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",nP||n.dataTransfer.setData("text/plain",c),e.dragging=new iP(u,!n[aP],o)},MT.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},IT.dragover=IT.dragenter=(e,t)=>t.preventDefault(),IT.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords($T(n));if(!o)return;let i=e.state.doc.resolve(o.pos),a=r&&r.slice;a?e.someProp("transformPasted",(t=>{a=t(a,e)})):a=kT(e,oP(n.dataTransfer),nP?null:n.dataTransfer.getData("text/html"),!1,i);let s=!(!r||n[aP]);if(e.someProp("handleDrop",(t=>t(e,n,a||bO.empty,s))))return void n.preventDefault();if(!a)return;n.preventDefault();let l=a?qj(e.state.doc,i.pos,a):i.pos;null==l&&(l=i.pos);let c=e.state.tr;if(s){let{node:e}=r;e?e.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,f=c.doc;if(d?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&h_.isSelectable(a.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new h_(p));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach(((e,n,r,o)=>t=o)),c.setSelection(aT(e,p,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))},MT.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&QC(e)}),20))},MT.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},MT.beforeinput=(e,t)=>{if(J_&&oC&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,$_(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in IT)MT[e]=IT[e];function sP(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class lP{constructor(e,t){this.toDOM=e,this.spec=t||pP,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new dP(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof lP&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&sP(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class cP{constructor(e,t){this.attrs=e,this.spec=t||pP}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new dP(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof cP&&sP(this.attrs,e.attrs)&&sP(this.spec,e.spec)}static is(e){return e.type instanceof cP}destroy(){}}class uP{constructor(e,t){this.attrs=e,this.spec=t||pP}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new dP(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof uP&&sP(this.attrs,e.attrs)&&sP(this.spec,e.spec)}destroy(){}}class dP{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new dP(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new dP(e,e,new lP(t,n))}static inline(e,t,n,r){return new dP(e,t,new cP(n,r))}static node(e,t,n,r){return new dP(e,t,new uP(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof cP}get widget(){return this.type instanceof lP}}const fP=[],pP={};class hP{constructor(e,t){this.local=e.length?e:fP,this.children=t.length?t:fP}static create(e,t){return t.length?wP(t,e,0,pP):mP}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,t-a,n,r+a,o)}}map(e,t,n){return this==mP||0==e.maps.length?this:this.mapInner(e,t,0,0,n||pP)}mapInner(e,t,n,r,o){let i;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){let s=e.slice();for(let e=0,t=i;e<n.maps.length;e++){let r=0;n.maps[e].forEach(((e,n,o,i)=>{let a=i-o-(n-e);for(let o=0;o<s.length;o+=3){let i=s[o+1];if(i<0||e>i+t-r)continue;let l=s[o]+t-r;n>=l?s[o+1]=e<=l?-2:-1:e>=t&&a&&(s[o]+=a,s[o+1]+=a)}r+=a})),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<s.length;t+=3)if(s[t+1]<0){if(-2==s[t+1]){l=!0,s[t+1]=-1;continue}let c=n.map(e[t]+i),u=c-o;if(u<0||u>=r.content.size){l=!0;continue}let d=n.map(e[t+1]+i,-1)-o,{index:f,offset:p}=r.content.findIndex(u),h=r.maybeChild(f);if(h&&p==u&&p+h.nodeSize==d){let r=s[t+2].mapInner(n,h,c+1,e[t]+i+1,a);r!=mP?(s[t]=u,s[t+1]=d,s[t+2]=r):(s[t+1]=-2,l=!0)}else l=!0}if(l){let l=function(e,t,n,r,o,i,a){function s(e,t){for(let i=0;i<e.local.length;i++){let s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)s(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&s(e[n+2],t[n]+i+1);return n}(s,e,t,n,o,i,a),c=wP(l,r,0,a);t=c.local;for(let e=0;e<s.length;e+=3)s[e+1]<0&&(s.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];for(;t<s.length&&s[t]<n;)t+=3;s.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new hP(t.sort(xP),s)}(this.children,i||[],e,t,n,r,o):i?new hP(i.sort(xP),fP):mP}add(e,t){return t.length?this==mP?hP.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach(((e,i)=>{let a,s=i+n;if(a=yP(t,e,s)){for(r||(r=this.children.slice());o<r.length&&r[o]<i;)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,a,s+1):r.splice(o,0,i,i+e.nodeSize,wP(a,e,s+1,pP)),o+=3}}));let i=gP(o?bP(t):t,-n);for(let t=0;t<i.length;t++)i[t].type.valid(e,i[t])||i.splice(t--,1);return new hP(i.length?this.local.concat(i).sort(xP):this.local,r||this.children)}remove(e){return 0==e.length||this==mP?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,i=n[r]+t,a=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<a&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(o,i+1);s!=mP?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new hP(r,n):mP}forChild(e,t){if(this==mP)return this;if(t.isLeaf)return hP.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,i=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<i&&t.to>o&&t.type instanceof cP){let e=Math.max(o,t.from)-o,n=Math.min(i,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new hP(r.sort(xP),fP);return n?new vP([e,n]):e}return n||mP}eq(e){if(this==e)return!0;if(!(e instanceof hP)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return SP(this.localsInner(e))}localsInner(e){if(this==mP)return fP;if(e.inlineContent||!this.local.some(cP.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof cP||t.push(this.local[e]);return t}forEachSet(e){e(this)}}hP.empty=new hP([],[]),hP.removeOverlap=SP;const mP=hP.empty;class vP{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,pP)));return vP.from(n)}forChild(e,t){if(t.isLeaf)return hP.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=mP&&(o instanceof vP?n=n.concat(o.members):n.push(o))}return vP.from(n)}eq(e){if(!(e instanceof vP)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?SP(n?t:t.sort(xP)):fP}static from(e){switch(e.length){case 0:return mP;case 1:return e[0];default:return new vP(e.every((e=>e instanceof hP))?e:e.reduce(((e,t)=>e.concat(t instanceof hP?t:t.members)),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function gP(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new dP(o.from+t,o.to+t,o.type))}return n}function yP(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,i=0;i<e.length;i++)(t=e[i])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[i]=null);return o}function bP(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function wP(e,t,n,r){let o=[],i=!1;t.forEach(((t,a)=>{let s=yP(e,t,a+n);if(s){i=!0;let e=wP(s,t,n+a+1,r);e!=mP&&o.push(a,a+t.nodeSize,e)}}));let a=gP(i?bP(e):e,-n).sort(xP);for(let e=0;e<a.length;e++)a[e].type.valid(t,a[e])||(r.onRemove&&r.onRemove(a[e].spec),a.splice(e--,1));return a.length||o.length?new hP(a,o):mP}function xP(e,t){return e.from-t.from||e.to-t.to}function SP(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),kP(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),kP(t,o+1,i.copy(r.to,i.to)))}}return t}function kP(e,t,n){for(;t<e.length&&xP(n,e[t])>0;)t++;e.splice(t,0,n)}function EP(e){let t=[];return e.someProp("decorations",(n=>{let r=n(e.state);r&&r!=mP&&t.push(r)})),e.cursorWrapper&&t.push(hP.create(e.state.doc,[e.cursorWrapper.deco])),vP.from(t)}const OP={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},jP=K_&&X_<=11;class _P{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class CP{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _P,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);K_&&X_<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),jP&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,OP)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(sT(this.view)){if(this.suppressingSelectionUpdates)return QC(this.view);if(K_&&X_<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&R_(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=N_(t))n.add(t);for(let r=e.anchorNode;r;r=N_(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}selectionChanged(e){return!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&sT(this.view)&&!this.ignoreSelectionChange(e)}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=this.selectionChanged(n),o=-1,i=-1,a=!1,s=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],s);n&&(o=o<0?n.from:Math.min(n.from,o),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(a=!0))}if(Y_&&s.length){let t=s.filter((e=>"BR"==e.nodeName));if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let r of t){let t=r.parentNode;!t||"LI"!=t.nodeName||n&&NP(e,n)==t||r.remove()}}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&B_(n)&&(l=ZC(e))&&l.eq(l_.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,QC(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,i),function(e){if(TP.has(e))return;if(TP.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)){if(e.requiresGeckoHackNode=Y_,PP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),PP=!0}}(e)),this.handleDOMChange(o,i,a,s),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||QC(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let r=e.addedNodes[n];t.push(r),3==r.nodeType&&(this.lastChangedTextNode=r)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(K_&&X_<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?A_(r)+1:0,a=n.localPosFromDOM(e.target,i,-1),s=o&&o.parentNode==e.target?A_(o):e.target.childNodes.length;return{from:a,to:n.localPosFromDOM(e.target,s,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let TP=new WeakMap,PP=!1;function AP(e,t){let n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return R_(a.node,a.offset,o,i)&&([n,r,o,i]=[o,i,n,r]),{anchorNode:n,anchorOffset:r,focusNode:o,focusOffset:i}}function NP(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}function MP(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(eC&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||eC&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const IP=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function RP(e,t,n,r,o){let i=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=ZC(e,t);if(n&&!e.state.selection.eq(n)){if(J_&&oC&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",(t=>t(e,$_(13,"Enter")))))return;let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),i&&r.setMeta("composition",i),e.dispatch(r)}return}let a=e.state.doc.resolve(t),s=a.sharedDepth(n);t=a.before(s+1),n=e.state.doc.resolve(n).after(s+1);let l,c,u=e.state.selection,d=function(e,t,n){let r,{node:o,fromOffset:i,toOffset:a,from:s,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),u=c.anchorNode;if(u&&e.dom.contains(1==u.nodeType?u:u.parentNode)&&(r=[{node:u,offset:c.anchorOffset}],B_(c)||r.push({node:c.focusNode,offset:c.focusOffset})),J_&&8===e.input.lastKeyCode)for(let e=a;e>i;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){a=e;break}if(!n||n.size)break}let d=e.state.doc,f=e.someProp("domParser")||oj.fromSchema(e.state.schema),p=d.resolve(s),h=null,m=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:a,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:MP,context:p});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),h={anchor:e+s,head:t+s}}return{doc:m,sel:h,from:s,to:l}}(e,t,n),f=e.state.doc,p=f.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(l=e.state.selection.to,c="end"):(l=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let h=function(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a,b:s}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=a+Math.max(0,i-Math.min(a,s))-i}if(a<i&&e.size<t.size){let e=r<=i&&r>=a?i-r:0;i-=e,i&&i<t.size&&FP(t.textBetween(i-1,i+1))&&(i+=e?1:-1),s=i+(s-a),a=i}else if(s<i){let t=r<=i&&r>=s?i-r:0;i-=t,i&&i<e.size&&FP(e.textBetween(i-1,i+1))&&(i+=t?1:-1),a=i+(a-s),s=i}return{start:i,endA:a,endB:s}}(p.content,d.doc.content,d.from,l,c);if(h&&e.input.domChangeCount++,(tC&&e.input.lastIOSEnter>Date.now()-225||oC)&&o.some((e=>1==e.nodeType&&!IP.test(e.nodeName)))&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",(t=>t(e,$_(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&u instanceof f_&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=LP(e,e.state.doc,d.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);i&&n.setMeta("composition",i),e.dispatch(n)}}return}h={start:u.from,endA:u.to,endB:u.to}}e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof f_&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),K_&&X_<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&"  "==d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)&&(h.start--,h.endA--,h.endB--);let m,v=d.doc.resolveNoCache(h.start-d.from),g=d.doc.resolveNoCache(h.endB-d.from),y=f.resolve(h.start),b=v.sameParent(g)&&v.parent.inlineContent&&y.end()>=h.endA;if((tC&&e.input.lastIOSEnter>Date.now()-225&&(!b||o.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!b&&v.pos<d.doc.content.size&&!v.sameParent(g)&&(m=l_.findFrom(d.doc.resolve(v.pos+1),1,!0))&&m.head==g.pos)&&e.someProp("handleKeyDown",(t=>t(e,$_(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&function(e,t,n,r,o){if(n-t<=o.pos-r.pos||DP(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(!r.parent.isTextblock){let e=i.nodeAfter;return null!=e&&n==t+e.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=e.resolve(DP(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||DP(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(f,h.start,h.endA,v,g)&&e.someProp("handleKeyDown",(t=>t(e,$_(8,"Backspace")))))return void(oC&&J_&&e.domObserver.suppressSelectionUpdates());J_&&oC&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),oC&&!b&&v.start()!=g.start()&&0==g.parentOffset&&v.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,g=d.doc.resolveNoCache(h.endB-d.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,$_(13,"Enter"))}))}),20));let w,x,S,k=h.start,E=h.endA;if(b)if(v.pos==g.pos)K_&&X_<=11&&0==v.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>QC(e)),20)),w=e.state.tr.delete(k,E),x=f.resolve(h.start).marksAcross(f.resolve(h.endA));else if(h.endA==h.endB&&(S=function(e,t){let n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,s=i,l=a;for(let e=0;e<a.length;e++)s=a[e].removeFromSet(s);for(let e=0;e<i.length;e++)l=i[e].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",o=e=>e.mark(r.addToSet(e.marks));else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",o=e=>e.mark(r.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(pO.from(c).eq(e))return{mark:r,type:n}}(v.parent.content.cut(v.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))w=e.state.tr,"add"==S.type?w.addMark(k,E,S.mark):w.removeMark(k,E,S.mark);else if(v.parent.child(v.index()).isText&&v.index()==g.index()-(g.textOffset?0:1)){let t=v.parent.textBetween(v.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,k,E,t))))return;w=e.state.tr.insertText(t,k,E)}if(w||(w=e.state.tr.replace(k,E,d.doc.slice(h.start-d.from,h.endB-d.from))),d.sel){let t=LP(e,w.doc,d.sel);t&&!(J_&&oC&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==k||t.head==w.mapping.map(E)-1)||K_&&t.empty&&t.head==k)&&w.setSelection(t)}x&&w.ensureMarks(x),i&&w.setMeta("composition",i),e.dispatch(w.scrollIntoView())}function LP(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:aT(e,t.resolve(n.anchor),t.resolve(n.head))}function DP(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function FP(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class zP{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new LT,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(HP),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=UP(this),$P(this),this.nodeViews=VP(this),this.docView=RC(this.state.doc,BP(this),EP(this),this.dom,this),this.domObserver=new CP(this,((e,t,n,r)=>RP(this,e,t,n,r))),this.domObserver.start(),function(e){for(let t in MT){let n=MT[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!BT(e,t)||zT(e,t)||!e.editable&&t.type in IT||n(e,t)},RT[t]?{passive:!0}:void 0)}eC&&e.dom.addEventListener("input",(()=>null)),FT(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&FT(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(HP),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,o=!1,i=!1;e.storedMarks&&this.composing&&(QT(this),i=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=VP(this);(function(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&FT(this),this.editable=UP(this),$P(this);let s=EP(this),l=BP(this),c=r.plugins==e.plugins||r.doc.eq(e.doc)?e.scrollToSelection>r.scrollToSelection?"to selection":"preserve":"reset",u=o||!this.docView.matchesNode(e.doc,l,s);!u&&e.selection.eq(r.selection)||(i=!0);let d="preserve"==c&&i&&null==this.dom.style.overflowAnchor&&function(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=e.root.elementFromPoint(i,a);if(!r||r==e.dom||!e.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=o-20){t=r,n=s.top;break}}return{refDOM:t,refTop:n,stack:dC(e.dom)}}(this);if(i){this.domObserver.stop();let t=u&&(K_||J_)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(r.selection,e.selection);if(u){let n=J_?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=eP(this)),!o&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco(l),this.docView.destroy(),this.docView=RC(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return R_(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?QC(this,t):(oT(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),"reset"==c?this.dom.scrollTop=0:"to selection"==c?this.scrollToSelection():d&&function({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;fC(n,0==r?0:r-t)}(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(this.state.selection instanceof h_){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&uC(this,t.getBoundingClientRect(),e)}else uC(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new iP(e.slice,e.move,r<0?void 0:h_.create(this.state.doc,r))}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let i=o[r].props[e];if(null!=i&&(n=t?t(i):i))return n}}hasFocus(){if(K_){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(pC)return e.focus(pC);let t=dC(e);e.focus(null==pC?{get preventScroll(){return pC={preventScroll:!0},!0}}:void 0),pC||(pC=!1,fC(t,0))}(this.dom),QC(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}updateRoot(){this._root=null}posAtCoords(e){return gC(this,e)}coordsAtPos(e,t=1){return xC(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return TC(this,t||this.state,e)}pasteHTML(e,t){return rP(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return rP(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(!function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],EP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,M_=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){zT(e,t)||!MT[t.type]||!e.editable&&t.type in IT||MT[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?eC&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return AP(e,n)}let n;function r(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?AP(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function BP(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),t.translate||(t.translate="no"),[dP.node(0,e.state.doc.content.size,t)]}function $P(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:dP.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function UP(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function VP(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function HP(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var WP={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},qP={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},GP="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),KP="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),XP=0;XP<10;XP++)WP[48+XP]=WP[96+XP]=String(XP);for(XP=1;XP<=24;XP++)WP[XP+111]="F"+XP;for(XP=65;XP<=90;XP++)WP[XP]=String.fromCharCode(XP+32),qP[XP]=String.fromCharCode(XP);for(var YP in WP)qP.hasOwnProperty(YP)||(qP[YP]=WP[YP]);const ZP="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function JP(e){let t,n,r,o,i=e.split(/-(?!$)/),a=i[i.length-1];"Space"==a&&(a=" ");for(let e=0;e<i.length-1;e++){let a=i[e];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);ZP?o=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),o&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function QP(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function eA(e){let t=function(e){let t=Object.create(null);for(let n in e)t[JP(n)]=e[n];return t}(e);return function(e,n){let r,o=function(e){var t=!(GP&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||KP&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?qP:WP)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),i=t[QP(o,n)];if(i&&i(e.state,e.dispatch,e))return!0;if(1==o.length&&" "!=o){if(n.shiftKey){let r=t[QP(o,n,!1)];if(r&&r(e.state,e.dispatch,e))return!0}if((n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=WP[n.keyCode])&&r!=o){let o=t[QP(r,n)];if(o&&o(e.state,e.dispatch,e))return!0}}return!1}}const tA=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function nA(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const rA=(e,t,n)=>{let r=nA(e,n);if(!r)return!1;let o=sA(r);if(!o){let n=r.blockRange(),o=n&&zj(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let i=o.nodeBefore;if(bA(e,o,t,-1))return!0;if(0==r.parent.content.size&&(iA(i,"end")||h_.isSelectable(i)))for(let n=r.depth;;n--){let a=Gj(e.doc,r.before(n),r.after(n),bO.empty);if(a&&a.slice.size<a.to-a.from){if(t){let n=e.tr.step(a);n.setSelection(iA(i,"end")?l_.findFrom(n.doc.resolve(n.mapping.map(o.pos,-1)),-1):h_.create(n.doc,o.pos-i.nodeSize)),t(n.scrollIntoView())}return!0}if(1==n||r.node(n-1).childCount>1)break}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0)};function oA(e,t,n){let r=t.nodeBefore,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let e=r.lastChild;if(!e)return!1;r=e}let i=t.nodeAfter,a=t.pos+1;for(;!i.isTextblock;a++){if(i.type.spec.isolating)return!1;let e=i.firstChild;if(!e)return!1;i=e}let s=Gj(e.doc,o,a,bO.empty);if(!s||s.from!=o||s instanceof Ij&&s.slice.size>=a-o)return!1;if(n){let t=e.tr.step(s);t.setSelection(f_.create(t.doc,o)),n(t.scrollIntoView())}return!0}function iA(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const aA=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;i=sA(r)}let a=i&&i.nodeBefore;return!(!a||!h_.isSelectable(a))&&(t&&t(e.tr.setSelection(h_.create(e.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function sA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function lA(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const cA=(e,t,n)=>{let r=lA(e,n);if(!r)return!1;let o=dA(r);if(!o)return!1;let i=o.nodeAfter;if(bA(e,o,t,1))return!0;if(0==r.parent.content.size&&(iA(i,"start")||h_.isSelectable(i))){let n=Gj(e.doc,r.before(),r.after(),bO.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(iA(i,"start")?l_.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):h_.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)},uA=(e,t,n)=>{let{$head:r,empty:o}=e.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;i=dA(r)}let a=i&&i.nodeAfter;return!(!a||!h_.isSelectable(a))&&(t&&t(e.tr.setSelection(h_.create(e.doc,i.pos)).scrollIntoView()),!0)};function dA(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const fA=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function pA(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const hA=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),i=n.indexAfter(-1),a=pA(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,a.createAndFill());o.setSelection(l_.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},mA=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof v_||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=pA(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(n,i.createAndFill());a.setSelection(f_.create(a.doc,n+1)),t(a.scrollIntoView())}return!0},vA=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(Uj(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&zj(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)};const gA=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof h_&&e.selection.node.isBlock)return!(!n.parentOffset||!Uj(e.doc,n.pos)||(t&&t(e.tr.split(n.pos).scrollIntoView()),0));if(!n.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,i=e.tr;(e.selection instanceof f_||e.selection instanceof v_)&&i.deleteSelection();let a=0==n.depth?null:pA(n.node(-1).contentMatchAt(n.indexAfter(-1))),s=yA&&yA(r.parent,o,n),l=s?[s]:o&&a?[{type:a}]:void 0,c=Uj(i.doc,i.mapping.map(n.pos),1,l);if(l||c||!Uj(i.doc,i.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(l=[{type:a}]),c=!0),c&&(i.split(i.mapping.map(n.pos),1,l),!o&&!n.parentOffset&&n.parent.type!=a)){let e=i.mapping.map(n.before()),t=i.doc.resolve(e);a&&n.node(-1).canReplaceWith(t.index(),t.index()+1,a)&&i.setNodeMarkup(i.mapping.map(n.before()),a)}t(i.scrollIntoView())}return!0};var yA;function bA(e,t,n,r){let o,i,a=t.nodeBefore,s=t.nodeAfter,l=a.type.spec.isolating||s.type.spec.isolating;if(!l&&function(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!(!(r&&o&&r.type.compatibleContent(o.type))||(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(i,i+1)||!o.isTextblock&&!Vj(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(o=(i=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&i.matchType(o[0]||s.type).validEnd){if(n){let r=t.pos+s.nodeSize,i=pO.empty;for(let e=o.length-1;e>=0;e--)i=pO.from(o[e].create(null,i));i=pO.from(a.copy(i));let l=e.tr.step(new Rj(t.pos-1,r,t.pos,r,new bO(i,1,0),o.length,!0)),c=r+2*o.length;Vj(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:l_.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),f=d&&zj(d);if(null!=f&&f>=t.depth)return n&&n(e.tr.lift(d,f).scrollIntoView()),!0;if(c&&iA(s,"start",!0)&&iA(a,"end")){let r=a,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let i=s,l=1;for(;!i.isTextblock;i=i.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,i.content)){if(n){let r=pO.empty;for(let e=o.length-1;e>=0;e--)r=pO.from(o[e].copy(r));n(e.tr.step(new Rj(t.pos-o.length,t.pos+s.nodeSize,t.pos+l,t.pos+s.nodeSize-l,new bO(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function wA(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return!!o.node(i).isTextblock&&(n&&n(t.tr.setSelection(f_.create(t.doc,e<0?o.start(i):o.end(i)))),!0)}}const xA=wA(-1),SA=wA(1);function kA(e,t=null){return function(n,r){let o=!1;for(let r=0;r<n.selection.ranges.length&&!o;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];n.doc.nodesBetween(i,a,((r,i)=>{if(o)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)o=!0;else{let t=n.doc.resolve(i),r=t.index();o=t.parent.canReplaceWith(r,r+1,e)}}))}if(!o)return!1;if(r){let o=n.tr;for(let r=0;r<n.selection.ranges.length;r++){let{$from:{pos:i},$to:{pos:a}}=n.selection.ranges[r];o.setBlockType(i,a,e,t)}r(o.scrollIntoView())}return!0}}function EA(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let OA=EA(tA,rA,aA),jA=EA(tA,cA,uA);const _A={Enter:EA(fA,mA,vA,gA),"Mod-Enter":hA,Backspace:OA,"Mod-Backspace":OA,"Shift-Backspace":OA,Delete:jA,"Mod-Delete":jA,"Mod-a":(e,t)=>(t&&t(e.tr.setSelection(new v_(e.doc))),!0)},CA={"Ctrl-h":_A.Backspace,"Alt-Backspace":_A["Mod-Backspace"],"Ctrl-d":_A.Delete,"Ctrl-Alt-Backspace":_A["Mod-Delete"],"Alt-Delete":_A["Mod-Delete"],"Alt-d":_A["Mod-Delete"],"Ctrl-a":xA,"Ctrl-e":SA};for(let e in _A)CA[e]=_A[e];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&os.platform();function TA(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),s=!1,l=a;if(!a)return!1;if(a.depth>=2&&o.node(a.depth-1).type.compatibleContent(e)&&0==a.startIndex){if(0==o.index(a.depth-1))return!1;let e=n.doc.resolve(a.start-2);l=new RO(e,e,a.depth),a.endIndex<a.parent.childCount&&(a=new RO(o,n.doc.resolve(i.end(a.depth)),a.depth)),s=!0}let c=Bj(l,e,t,a);return!!c&&(r&&r(function(e,t,n,r,o){let i=pO.empty;for(let e=n.length-1;e>=0;e--)i=pO.from(n[e].type.create(n[e].attrs,i));e.step(new Rj(t.start-(r?2:0),t.end,t.start,t.end,new bO(i,0,0),n.length,!0));let a=0;for(let e=0;e<n.length;e++)n[e].type==o&&(a=e+1);let s=n.length-a,l=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&Uj(e.doc,l,s)&&(e.split(l,s),l+=2*s),l+=c.child(n).nodeSize;return e}(n.tr,a,c,s,e).scrollIntoView()),!0)}}function PA(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,(t=>t.childCount>0&&t.firstChild.type==e));return!!i&&(!n||(r.node(i.depth-1).type==e?function(e,t,n,r){let o=e.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new Rj(i-1,a,i,a,new bO(pO.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new RO(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const s=zj(r);if(null==s)return!1;o.lift(r,s);let l=o.mapping.map(i,-1)-1;Vj(o.doc,l)&&o.join(l);return t(o.scrollIntoView()),!0}(t,n,e,i):function(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,i=n.startIndex;t>i;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let i=r.doc.resolve(n.start),a=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==o.childCount,c=i.node(-1),u=i.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?pO.empty:pO.from(o))))return!1;let d=i.pos,f=d+a.nodeSize;return r.step(new Rj(d-(s?1:0),f+(l?1:0),d+1,f-1,new bO((s?pO.empty:pO.from(o.copy(pO.empty))).append(l?pO.empty:pO.from(o.copy(pO.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}(t,n,i)))}}function AA(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:i}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,i=n.storedMarks,n}}}class NA{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(e).map((([e,t])=>[e,(...e)=>{const n=t(...e)(i);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}])))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a=[],s=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map((([e,n])=>[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return a.push(o),c}]))),run:()=>(s||!t||l.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(l),a.every((e=>!0===e)))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=!1,o=e||n.tr,i=this.buildProps(o,r),a=Object.fromEntries(Object.entries(t).map((([e,t])=>[e,(...e)=>t(...e)({...i,dispatch:void 0})])));return{...a,chain:()=>this.createChain(o,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:i}=r,a={tr:e,editor:r,view:i,state:AA({state:o,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map((([e,t])=>[e,(...e)=>t(...e)(a)])))}};return a}}class MA{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach((e=>e.apply(this,t))),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter((e=>e!==t)):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function IA(e,t,n){if(void 0===e.config[t]&&e.parent)return IA(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?IA(e.parent,t,n):null})}return e.config[t]}function RA(e){return{baseExtensions:e.filter((e=>"extension"===e.type)),nodeExtensions:e.filter((e=>"node"===e.type)),markExtensions:e.filter((e=>"mark"===e.type))}}function LA(e){const t=[],{nodeExtensions:n,markExtensions:r}=RA(e),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach((e=>{const n=IA(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage,extensions:o});if(!n)return;n().forEach((e=>{e.types.forEach((n=>{Object.entries(e.attributes).forEach((([e,r])=>{t.push({type:n,name:e,attribute:{...i,...r}})}))}))}))})),o.forEach((e=>{const n={name:e.name,options:e.options,storage:e.storage},r=IA(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach((([n,r])=>{const o={...i,...r};"function"==typeof(null==o?void 0:o.default)&&(o.default=o.default()),(null==o?void 0:o.isRequired)&&void 0===(null==o?void 0:o.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})}))})),t}function DA(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function FA(...e){return e.filter((e=>!!e)).reduce(((e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{if(n[e])if("class"===e){const r=t?t.split(" "):[],o=n[e]?n[e].split(" "):[],i=r.filter((e=>!o.includes(e)));n[e]=[...o,...i].join(" ")}else if("style"===e){const r=t?t.split(";").map((e=>e.trim())).filter(Boolean):[],o=n[e]?n[e].split(";").map((e=>e.trim())).filter(Boolean):[],i=new Map;o.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));i.set(t,n)})),r.forEach((e=>{const[t,n]=e.split(":").map((e=>e.trim()));i.set(t,n)})),n[e]=Array.from(i.entries()).map((([e,t])=>`${e}: ${t}`)).join("; ")}else n[e]=t;else n[e]=t})),n}),{})}function zA(e,t){return t.filter((t=>t.type===e.type.name)).filter((e=>e.attribute.rendered)).map((t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]})).reduce(((e,t)=>FA(e,t)),{})}function BA(e){return"function"==typeof e}function $A(e,t=void 0,...n){return BA(e)?t?e.bind(t)(...n):e(...n):e}function UA(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce(((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):function(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}}),{});return{...r,...o}}}}function VA(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>("attrs"!==e||!function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t)))}function HA(e,t){var n;const r=LA(e),{nodeExtensions:o,markExtensions:i}=RA(e),a=null===(n=o.find((e=>IA(e,"topNode"))))||void 0===n?void 0:n.name,s=Object.fromEntries(o.map((n=>{const o=r.filter((e=>e.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce(((e,t)=>{const r=IA(t,"extendNodeSchema",i);return{...e,...r?r(n):{}}}),{}),s=VA({...a,content:$A(IA(n,"content",i)),marks:$A(IA(n,"marks",i)),group:$A(IA(n,"group",i)),inline:$A(IA(n,"inline",i)),atom:$A(IA(n,"atom",i)),selectable:$A(IA(n,"selectable",i)),draggable:$A(IA(n,"draggable",i)),code:$A(IA(n,"code",i)),whitespace:$A(IA(n,"whitespace",i)),defining:$A(IA(n,"defining",i)),isolating:$A(IA(n,"isolating",i)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),l=$A(IA(n,"parseHTML",i));l&&(s.parseDOM=l.map((e=>UA(e,o))));const c=IA(n,"renderHTML",i);c&&(s.toDOM=e=>c({node:e,HTMLAttributes:zA(e,o)}));const u=IA(n,"renderText",i);return u&&(s.toText=u),[n.name,s]}))),l=Object.fromEntries(i.map((n=>{const o=r.filter((e=>e.type===n.name)),i={name:n.name,options:n.options,storage:n.storage,editor:t},a=e.reduce(((e,t)=>{const r=IA(t,"extendMarkSchema",i);return{...e,...r?r(n):{}}}),{}),s=VA({...a,inclusive:$A(IA(n,"inclusive",i)),excludes:$A(IA(n,"excludes",i)),group:$A(IA(n,"group",i)),spanning:$A(IA(n,"spanning",i)),code:$A(IA(n,"code",i)),attrs:Object.fromEntries(o.map((e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]})))}),l=$A(IA(n,"parseHTML",i));l&&(s.parseDOM=l.map((e=>UA(e,o))));const c=IA(n,"renderHTML",i);return c&&(s.toDOM=e=>c({mark:e,HTMLAttributes:zA(e,o)})),[n.name,s]})));return new nj({topNode:a,nodes:s,marks:l})}function WA(e,t){return t.nodes[e]||t.marks[e]||null}function qA(e,t){return Array.isArray(t)?t.some((t=>("string"==typeof t?t:t.name)===e.name)):t}function GA(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class KA{constructor(e){this.find=e.find,this.handler=e.handler}}function XA(e){var t;const{editor:n,from:r,to:o,text:i,rules:a,plugin:s}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find((e=>e.type.spec.code))))return!1;let u=!1;const d=((e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,((e,t,o,i)=>{var a,s;const l=(null===(s=(a=e.type.spec).toText)||void 0===s?void 0:s.call(a,{node:e,pos:t,parent:o,index:i}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,r-t))})),n})(c)+i;return a.forEach((e=>{if(u)return;const t=((e,t)=>{if(GA(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r})(d,e.find);if(!t)return;const a=l.state.tr,c=AA({state:l.state,transaction:a}),f={from:r-(t[0].length-i.length),to:o},{commands:p,chain:h,can:m}=new NA({editor:n,state:c});null!==e.handler({state:c,range:f,match:t,commands:p,chain:h,can:m})&&a.steps.length&&(a.setMeta(s,{transform:a,from:r,to:o,text:i}),l.dispatch(a),u=!0)})),u}function YA(e){const{editor:t,rules:n}=e,r=new __({state:{init:()=>null,apply(e,o){const i=e.getMeta(r);if(i)return i;const a=e.getMeta("applyInputRules");return!!a&&setTimeout((()=>{const{from:e,text:o}=a,i=e+o.length;XA({editor:t,from:e,to:i,text:o,rules:n,plugin:r})})),e.selectionSet||e.docChanged?null:o}},props:{handleTextInput:(e,o,i,a)=>XA({editor:t,from:o,to:i,text:a,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout((()=>{const{$cursor:o}=e.state.selection;o&&XA({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})})),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:i}=e.state.selection;return!!i&&XA({editor:t,from:i.pos,to:i.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function ZA(e){return"Object"===function(e){return Object.prototype.toString.call(e).slice(8,-1)}(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function JA(e,t){const n={...e};return ZA(e)&&ZA(t)&&Object.keys(t).forEach((r=>{ZA(t[r])&&ZA(e[r])?n[r]=JA(e[r],t[r]):n[r]=t[r]})),n}class QA{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$A(IA(this,"addOptions",{name:this.name}))),this.storage=$A(IA(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new QA(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>JA(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new QA(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=$A(IA(t,"addOptions",{name:t.name})),t.storage=$A(IA(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks(),i=!!o.find((e=>(null==e?void 0:e.type.name)===t.name));if(!i)return!1;const a=o.find((e=>(null==e?void 0:e.type.name)===t.name));return a&&n.removeStoredMark(a),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class eN{constructor(e){this.find=e.find,this.handler=e.handler}}function tN(e){const{editor:t,state:n,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=e,{commands:l,chain:c,can:u}=new NA({editor:t,state:n}),d=[];n.doc.nodesBetween(r,o,((e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const f=Math.max(r,t),p=Math.min(o,t+e.content.size),h=((e,t,n)=>{if(GA(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map((t=>{const n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n})):[]})(e.textBetween(f-t,p-t,void 0,"￼"),i.find,a);h.forEach((e=>{if(void 0===e.index)return;const t=f+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=i.handler({state:n,range:o,match:e,commands:l,chain:c,can:u,pasteEvent:a,dropEvent:s});d.push(p)}))}));return d.every((e=>null!==e))}function nN(e){const{editor:t,rules:n}=e;let r=null,o=!1,i=!1,a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,s="undefined"!=typeof DragEvent?new DragEvent("drop"):null;const l=({state:e,from:n,to:r,rule:o,pasteEvt:i})=>{const l=e.tr,c=AA({state:e,transaction:l});if(tN({editor:t,state:c,from:Math.max(n-1,0),to:r.b-1,rule:o,pasteEvent:i,dropEvent:s})&&l.steps.length)return s="undefined"!=typeof DragEvent?new DragEvent("drop"):null,a="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,l},c=n.map((e=>new __({view(e){const t=t=>{var n;r=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:(e,t)=>(i=r===e.dom.parentElement,s=t,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return a=t,o=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,r)=>{const s=t[0],c="paste"===s.getMeta("uiEvent")&&!o,u="drop"===s.getMeta("uiEvent")&&!i,d=s.getMeta("applyPasteRules"),f=!!d;if(!c&&!u&&!f)return;if(f){const{from:t,text:n}=d,o=t+n.length,i=(e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(t=n.clipboardData)||void 0===t||t.setData("text/html",e),n})(n);return l({rule:e,state:r,from:t,to:{b:o},pasteEvt:i})}const p=n.doc.content.findDiffStart(r.doc.content),h=n.doc.content.findDiffEnd(r.doc.content);return function(e){return"number"==typeof e}(p)&&h&&p!==h.b?l({rule:e,state:r,from:p,to:h,pasteEvt:a}):void 0}})));return c}class rN{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=rN.resolve(e),this.schema=HA(this.extensions,t),this.setupExtensions()}static resolve(e){const t=rN.sort(rN.flatten(e)),n=function(e){const t=e.filter(((t,n)=>e.indexOf(t)!==n));return Array.from(new Set(t))}(t.map((e=>e.name)));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map((e=>`'${e}'`)).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map((e=>{const t=IA(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e})).flat(10)}static sort(e){return e.sort(((e,t)=>{const n=IA(e,"priority")||100,r=IA(t,"priority")||100;return n>r?-1:n<r?1:0}))}get commands(){return this.extensions.reduce(((e,t)=>{const n=IA(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:WA(t.name,this.schema)});return n?{...e,...n()}:e}),{})}get plugins(){const{editor:e}=this,t=rN.sort([...this.extensions].reverse()),n=[],r=[],o=t.map((t=>{const o={name:t.name,options:t.options,storage:t.storage,editor:e,type:WA(t.name,this.schema)},i=[],a=IA(t,"addKeyboardShortcuts",o);let s={};if("mark"===t.type&&IA(t,"exitable",o)&&(s.ArrowRight=()=>QA.handleExit({editor:e,mark:t})),a){const t=Object.fromEntries(Object.entries(a()).map((([t,n])=>[t,()=>n({editor:e})])));s={...s,...t}}const l=new __({props:{handleKeyDown:eA(s)}});i.push(l);const c=IA(t,"addInputRules",o);qA(t,e.options.enableInputRules)&&c&&n.push(...c());const u=IA(t,"addPasteRules",o);qA(t,e.options.enablePasteRules)&&u&&r.push(...u());const d=IA(t,"addProseMirrorPlugins",o);if(d){const e=d();i.push(...e)}return i})).flat();return[YA({editor:e,rules:n}),...nN({editor:e,rules:r}),...o]}get attributes(){return LA(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=RA(this.extensions);return Object.fromEntries(t.filter((e=>!!IA(e,"addNodeView"))).map((t=>{const n=this.attributes.filter((e=>e.type===t.name)),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:DA(t.name,this.schema)},o=IA(t,"addNodeView",r);if(!o)return[];return[t.name,(r,i,a,s,l)=>{const c=zA(r,n);return o()({node:r,view:i,getPos:a,decorations:s,innerDecorations:l,editor:e,extension:t,HTMLAttributes:c})}]})))}setupExtensions(){this.extensions.forEach((e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:WA(e.name,this.schema)};if("mark"===e.type){(null===(t=$A(IA(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=IA(e,"onBeforeCreate",n),o=IA(e,"onCreate",n),i=IA(e,"onUpdate",n),a=IA(e,"onSelectionUpdate",n),s=IA(e,"onTransaction",n),l=IA(e,"onFocus",n),c=IA(e,"onBlur",n),u=IA(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),i&&this.editor.on("update",i),a&&this.editor.on("selectionUpdate",a),s&&this.editor.on("transaction",s),l&&this.editor.on("focus",l),c&&this.editor.on("blur",c),u&&this.editor.on("destroy",u)}))}}class oN{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$A(IA(this,"addOptions",{name:this.name}))),this.storage=$A(IA(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new oN(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>JA(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new oN({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=$A(IA(t,"addOptions",{name:t.name})),t.storage=$A(IA(t,"addStorage",{name:t.name,options:t.options})),t}}function iN(e,t,n){const{from:r,to:o}=t,{blockSeparator:i="\n\n",textSerializers:a={}}=n||{};let s="";return e.nodesBetween(r,o,((e,n,l,c)=>{var u;e.isBlock&&n>r&&(s+=i);const d=null==a?void 0:a[e.type.name];if(d)return l&&(s+=d({node:e,pos:n,parent:l,index:c,range:t})),!1;e.isText&&(s+=null===(u=null==e?void 0:e.text)||void 0===u?void 0:u.slice(Math.max(r,n)-n,o-n))})),s}function aN(e){return Object.fromEntries(Object.entries(e.nodes).filter((([,e])=>e.spec.toText)).map((([e,t])=>[e,t.spec.toText])))}const sN=oN.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new __({key:new P_("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map((e=>e.$from.pos))),s=Math.max(...i.map((e=>e.$to.pos))),l=aN(n);return iN(r,{from:a,to:s},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function lN(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every((r=>n.strict?t[r]===e[r]:GA(t[r])?t[r].test(e[r]):t[r]===e[r]))}function cN(e,t,n={}){return e.find((e=>e.type===t&&lN(e.attrs,n)))}function uN(e,t,n={}){return!!cN(e,t,n)}function dN(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const o=cN([...r.node.marks],t,n);if(!o)return;let i=r.index,a=e.start()+r.offset,s=i+1,l=a+r.node.nodeSize;for(cN([...r.node.marks],t,n);i>0&&o.isInSet(e.parent.child(i-1).marks);)i-=1,a-=e.parent.child(i).nodeSize;for(;s<e.parent.childCount&&uN([...e.parent.child(s).marks],t,n);)l+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:l}}function fN(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function pN(e){return e instanceof f_}function hN(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function mN(e,t=null){if(!t)return null;const n=l_.atStart(e),r=l_.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,i=r.to;return"all"===t?f_.create(e,hN(0,o,i),hN(e.content.size,o,i)):f_.create(e,hN(t,o,i),hN(t,o,i))}function vN(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const gN=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];3===r.nodeType&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):1===r.nodeType&&gN(r)}return e};function yN(e){const t=`<body>${e}</body>`,n=(new window.DOMParser).parseFromString(t,"text/html").body;return gN(n)}function bN(e,t,n){n={slice:!0,parseOptions:{},...n};const r="string"==typeof e;if("object"==typeof e&&null!==e)try{if(Array.isArray(e)&&e.length>0)return pO.fromArray(e.map((e=>t.nodeFromJSON(e))));const r=t.nodeFromJSON(e);return n.errorOnInvalidContent&&r.check(),r}catch(r){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:r});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),bN("",t,n)}if(r){if(n.errorOnInvalidContent){let r=!1,o="";const i=new nj({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(r=!0,o="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?oj.fromSchema(i).parseSlice(yN(e),n.parseOptions):oj.fromSchema(i).parse(yN(e),n.parseOptions),n.errorOnInvalidContent&&r)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const r=oj.fromSchema(t);return n.slice?r.parseSlice(yN(e),n.parseOptions).content:r.parse(yN(e),n.parseOptions)}return bN("",t,n)}function wN(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function xN(e,t,n={}){const{from:r,to:o,empty:i}=e.selection,a=t?DA(t,e.schema):null,s=[];e.doc.nodesBetween(r,o,((e,t)=>{if(e.isText)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);s.push({node:e,from:n,to:i})}));const l=o-r,c=s.filter((e=>!a||a.name===e.node.type.name)).filter((e=>lN(e.node.attrs,n,{strict:!1})));if(i)return!!c.length;return c.reduce(((e,t)=>e+t.to-t.from),0)>=l}function SN(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function kN(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce(((t,r)=>(n.includes(r)||(t[r]=e[r]),t)),{})}function EN(e,t,n={},r={}){return bN(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}function ON(e,t){const n=fN(t,e.schema),{from:r,to:o,empty:i}=e.selection,a=[];i?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,(e=>{a.push(...e.marks)}));const s=a.find((e=>e.type.name===n.name));return s?{...s.attrs}:{}}function jN(e,t){const n=[];return e.descendants(((e,r)=>{t(e)&&n.push({node:e,pos:r})})),n}function _N(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function CN(e){return t=>_N(t.$from,e)}function TN(e,t){const n=hj.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function PN(e,t){return iN(e,{from:0,to:e.content.size},t)}function AN(e,t){const n=SN("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){const n=DA(t,e.schema),{from:r,to:o}=e.selection,i=[];e.doc.nodesBetween(r,o,(e=>{i.push(e)}));const a=i.reverse().find((e=>e.type.name===n.name));return a?{...a.attrs}:{}}(e,t):"mark"===n?ON(e,t):{}}function NN(e){const t=function(e,t=JSON.stringify){const n={};return e.filter((e=>{const r=t(e);return!Object.prototype.hasOwnProperty.call(n,r)&&(n[r]=!0)}))}(e);return 1===t.length?t:t.filter(((e,n)=>{const r=t.filter(((e,t)=>t!==n));return!r.some((t=>e.oldRange.from>=t.oldRange.from&&e.oldRange.to<=t.oldRange.to&&e.newRange.from>=t.newRange.from&&e.newRange.to<=t.newRange.to))}))}function MN(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach((t=>{const o=dN(n.resolve(e),t.type);o&&r.push({mark:t,...o})})):n.nodesBetween(e,t,((e,t)=>{e&&void 0!==(null==e?void 0:e.nodeSize)&&r.push(...e.marks.map((n=>({from:t,to:t+e.nodeSize,mark:n}))))})),r}function IN(e,t,n){return Object.fromEntries(Object.entries(n).filter((([n])=>{const r=e.find((e=>e.type===t&&e.name===n));return!!r&&r.attribute.keepOnSplit})))}function RN(e,t,n={}){const{empty:r,ranges:o}=e.selection,i=t?fN(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter((e=>!i||i.name===e.type.name)).find((e=>lN(e.attrs,n,{strict:!1})));let a=0;const s=[];if(o.forEach((({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,((e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),i=Math.min(o,t+e.nodeSize);a+=i-n,s.push(...e.marks.map((e=>({mark:e,from:n,to:i}))))}))})),0===a)return!1;const l=s.filter((e=>!i||i.name===e.mark.type.name)).filter((e=>lN(e.mark.attrs,n,{strict:!1}))).reduce(((e,t)=>e+t.to-t.from),0),c=s.filter((e=>!i||e.mark.type!==i&&e.mark.type.excludes(i))).reduce(((e,t)=>e+t.to-t.from),0);return(l>0?l+c:l)>=a}function LN(e,t){const{nodeExtensions:n}=RA(t),r=n.find((t=>t.name===e));if(!r)return!1;const o=$A(IA(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function DN(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!==(r=e.text)&&void 0!==r?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let r=!0;return e.content.forEach((e=>{!1!==r&&(DN(e,{ignoreWhitespace:n,checkChildren:t})||(r=!1))})),r}return!1}function FN(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter((e=>null==t?void 0:t.includes(e.type.name)));e.tr.ensureMarks(r)}}const zN=(e,t)=>{const n=CN((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!Vj(e.doc,n.pos)||(e.join(n.pos),!0)},BN=(e,t)=>{const n=CN((e=>e.type===t))(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!Vj(e.doc,r)||(e.join(r),!0)};var $N=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame((()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())})),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach((({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,((e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,i=r.resolve(o.map(n)),a=r.resolve(o.map(n+e.nodeSize)),s=i.blockRange(a);if(!s)return;const l=zj(s);if(e.type.isTextblock){const{defaultType:e}=i.parent.contentMatchAt(i.index());t.setNodeMarkup(s.start,e)}(l||0===l)&&t.lift(s,l)}))})),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>mA(e,t),cut:(e,t)=>({editor:n,tr:r})=>{const{state:o}=n,i=o.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new f_(r.doc.resolve(a-1))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const o=e.selection.$anchor;for(let n=o.depth;n>0;n-=1){if(o.node(n).type===r.type){if(t){const t=o.before(n),r=o.after(n);e.delete(t,r).scrollIntoView()}return!0}}return!1},deleteNode:e=>({tr:t,state:n,dispatch:r})=>{const o=DA(e,n.schema),i=t.selection.$anchor;for(let e=i.depth;e>0;e-=1){if(i.node(e).type===o){if(r){const n=i.before(e),r=i.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},deleteSelection:()=>({state:e,dispatch:t})=>tA(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>hA(e,t),extendMarkRange:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const i=fN(e,r.schema),{doc:a,selection:s}=n,{$from:l,from:c,to:u}=s;if(o){const e=dN(l,i,t);if(e&&e.from<=c&&e.to>=u){const t=f_.create(a,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{vN()&&r.dom.focus(),requestAnimationFrame((()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())}))};if(r.hasFocus()&&null===e||!1===e)return!0;if(i&&null===e&&!pN(n.state.selection))return a(),!0;const s=mN(o.doc,e)||n.state.selection,l=n.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},forEach:(e,t)=>n=>e.every(((e,r)=>t(e,{...n,index:r}))),insertContent:(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){let o;n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};try{o=bN(t,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:null!==(a=n.errorOnInvalidContent)&&void 0!==a?a:i.options.enableContentCheck})}catch(e){return i.emit("contentError",{editor:i,error:e,disableCollaboration:()=>{console.error("[tiptap error]: Unable to disable collaboration at this point in time")}}),!1}let{from:s,to:l}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},c=!0,u=!0;if(("type"in o?[o]:o).forEach((e=>{e.check(),c=!!c&&(e.isText&&0===e.marks.length),u=!!u&&e.isBlock})),s===l&&u){const{parent:e}=r.doc.resolve(s);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(s-=1,l+=1)}let d;c?(d=Array.isArray(t)?t.map((e=>e.text||"")).join(""):"object"==typeof t&&t&&t.text?t.text:t,r.insertText(d,s,l)):(d=o,r.replaceWith(s,l,d)),n.updateSelection&&function(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof Ij||o instanceof Rj))return;const i=e.mapping.maps[r];let a=0;i.forEach(((e,t,n,r)=>{0===a&&(a=r)})),e.setSelection(l_.near(e.doc.resolve(a),n))}(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:s,text:d}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:s,text:d})}return!0},joinBackward:()=>({state:e,dispatch:t})=>rA(e,t),joinDown:()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection;if(r instanceof h_){if(r.node.isTextblock||!Vj(e.doc,r.to))return!1;n=r.to}else if(n=Wj(e.doc,r.to,1),null==n)return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0})(e,t),joinForward:()=>({state:e,dispatch:t})=>cA(e,t),joinItemBackward:()=>({state:e,dispatch:t,tr:n})=>{try{const r=Wj(e.doc,e.selection.$from.pos,-1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(e){return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{const r=Wj(e.doc,e.selection.$from.pos,1);return null!=r&&(n.join(r,2),t&&t(n),!0)}catch(e){return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=nA(e,n);if(!r)return!1;let o=sA(r);return!!o&&oA(e,o,t)})(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>((e,t,n)=>{let r=lA(e,n);if(!r)return!1;let o=dA(r);return!!o&&oA(e,o,t)})(e,t),joinUp:()=>({state:e,dispatch:t})=>((e,t)=>{let n,r=e.selection,o=r instanceof h_;if(o){if(r.node.isTextblock||!Vj(e.doc,r.from))return!1;n=r.from}else if(n=Wj(e.doc,r.from,-1),null==n)return!1;if(t){let r=e.tr.join(n);o&&r.setSelection(h_.create(r.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(r.scrollIntoView())}return!0})(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:r,dispatch:o})=>{const i=function(e){const t=e.split(/-(?!$)/);let n,r,o,i,a=t[t.length-1];"Space"===a&&(a=" ");for(let e=0;e<t.length-1;e+=1){const a=t[e];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))o=!0;else{if(!/^mod$/i.test(a))throw new Error(`Unrecognized modifier name: ${a}`);vN()||wN()?i=!0:r=!0}}return n&&(a=`Alt-${a}`),r&&(a=`Ctrl-${a}`),i&&(a=`Meta-${a}`),o&&(a=`Shift-${a}`),a}(e).split(/-(?!$)/),a=i.find((e=>!["Alt","Ctrl","Meta","Shift"].includes(e))),s=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction((()=>{n.someProp("handleKeyDown",(e=>e(n,s)))}));return null==l||l.steps.forEach((e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)})),!0},lift:(e,t={})=>({state:n,dispatch:r})=>!!xN(n,DA(e,n.schema),t)&&((e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),i=o&&zj(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)})(n,r),liftEmptyBlock:()=>({state:e,dispatch:t})=>vA(e,t),liftListItem:e=>({state:t,dispatch:n})=>PA(DA(e,t.schema))(t,n),newlineInCode:()=>({state:e,dispatch:t})=>fA(e,t),resetAttributes:(e,t)=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=SN("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=DA(e,r.schema)),"mark"===s&&(a=fN(e,r.schema)),o&&n.selection.ranges.forEach((e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,kN(e.attrs,t)),a&&e.marks.length&&e.marks.forEach((o=>{a===o.type&&n.addMark(r,r+e.nodeSize,a.create(kN(o.attrs,t)))}))}))})),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward:()=>({state:e,dispatch:t})=>aA(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>uA(e,t),selectParentNode:()=>({state:e,dispatch:t})=>((e,t)=>{let n,{$from:r,to:o}=e.selection,i=r.sharedDepth(o);return 0!=i&&(n=r.before(i),t&&t(e.tr.setSelection(h_.create(e.doc,n))),!0)})(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>SA(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>xA(e,t),setContent:(e,t=!1,n={},r={})=>({editor:o,tr:i,dispatch:a,commands:s})=>{var l,c;const{doc:u}=i;if("full"!==n.preserveWhitespace){const s=EN(e,o.schema,n,{errorOnInvalidContent:null!==(l=r.errorOnInvalidContent)&&void 0!==l?l:o.options.enableContentCheck});return a&&i.replaceWith(0,u.content.size,s).setMeta("preventUpdate",!t),!0}return a&&i.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:u.content.size},e,{parseOptions:n,errorOnInvalidContent:null!==(c=r.errorOnInvalidContent)&&void 0!==c?c:o.options.enableContentCheck})},setMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:a,ranges:s}=i,l=fN(e,r.schema);if(o)if(a){const e=ON(r,l);n.addStoredMark(l.create({...e,...t}))}else s.forEach((e=>{const o=e.$from.pos,i=e.$to.pos;r.doc.nodesBetween(o,i,((e,r)=>{const a=Math.max(r,o),s=Math.min(r+e.nodeSize,i);e.marks.find((e=>e.type===l))?e.marks.forEach((e=>{l===e.type&&n.addMark(a,s,l.create({...e.attrs,...t}))})):n.addMark(a,s,l.create(t))}))}));return function(e,t,n){var r;const{selection:o}=t;let i=null;if(pN(o)&&(i=o.$cursor),i){const t=null!==(r=e.storedMarks)&&void 0!==r?r:i.marks();return!!n.isInSet(t)||!t.some((e=>e.type.excludes(n)))}const{ranges:a}=o;return a.some((({$from:t,$to:r})=>{let o=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,r.pos,((e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),i=!!n.isInSet(e.marks)||!e.marks.some((e=>e.type.excludes(n)));o=t&&i}return!o})),o}))}(r,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:r,chain:o})=>{const i=DA(e,n.schema);return i.isTextblock?o().command((({commands:e})=>!!kA(i,t)(n)||e.clearNodes())).command((({state:e})=>kA(i,t)(e,r))).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=hN(e,0,n.content.size),o=h_.create(n,r);t.setSelection(o)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,i=f_.atStart(n).from,a=f_.atEnd(n).to,s=hN(r,i,a),l=hN(o,i,a),c=f_.create(n,s,l);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{const r=DA(e,t.schema);return(o=r,function(e,t){let{$from:n,$to:r}=e.selection,i=n.blockRange(r,(e=>e.childCount>0&&e.firstChild.type==o));if(!i)return!1;let a=i.startIndex;if(0==a)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=o)return!1;if(t){let n=l.lastChild&&l.lastChild.type==s.type,r=pO.from(n?o.create():null),a=new bO(pO.from(o.create(null,pO.from(s.type.create(null,r)))),n?3:1,0),c=i.start,u=i.end;t(e.tr.step(new Rj(c-(n?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0})(t,n);var o},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,c=IN(o.extensionManager.attributes,s.node().type.name,s.node().attrs);if(i instanceof h_&&i.node.isBlock)return!(!s.parentOffset||!Uj(a,s.pos))&&(r&&(e&&FN(n,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,d=0===s.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(s.node(-1).contentMatchAt(s.indexAfter(-1)));let f=u&&d?[{type:d,attrs:c}]:void 0,p=Uj(t.doc,t.mapping.map(s.pos),1,f);if(f||p||!Uj(t.doc,t.mapping.map(s.pos),1,d?[{type:d}]:void 0)||(p=!0,f=d?[{type:d,attrs:c}]:void 0),r){if(p&&(i instanceof f_&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,f),d&&!u&&!s.parentOffset&&s.parent.type!==d)){const e=t.mapping.map(s.before()),n=t.doc.resolve(e);s.node(-1).canReplaceWith(n.index(),n.index()+1,d)&&t.setNodeMarkup(t.mapping.map(s.before()),d)}e&&FN(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return p},splitListItem:(e,t={})=>({tr:n,state:r,dispatch:o,editor:i})=>{var a;const s=DA(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==s)return!1;const f=i.extensionManager.attributes;if(0===l.parent.content.size&&l.node(-1).childCount===l.indexAfter(-1)){if(2===l.depth||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let e=pO.empty;const r=l.index(-1)?1:l.index(-2)?2:3;for(let t=l.depth-r;t>=l.depth-3;t-=1)e=pO.from(l.node(t).copy(e));const o=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,i={...IN(f,l.node().type.name,l.node().attrs),...t},c=(null===(a=s.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(i))||void 0;e=e.append(pO.from(s.createAndFill(null,c)||void 0));const u=l.before(l.depth-(r-1));n.replace(u,l.after(-o),new bO(e,4-r,0));let d=-1;n.doc.nodesBetween(u,n.doc.content.size,((e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)})),d>-1&&n.setSelection(f_.near(n.doc.resolve(d))),n.scrollIntoView()}return!0}const p=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,h={...IN(f,d.type.name,d.attrs),...t},m={...IN(f,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const v=p?[{type:s,attrs:h},{type:p,attrs:m}]:[{type:s,attrs:h}];if(!Uj(n.doc,l.pos,2))return!1;if(o){const{selection:e,storedMarks:t}=r,{splittableMarks:a}=i.extensionManager,s=t||e.$to.parentOffset&&e.$from.marks();if(n.split(l.pos,2,v).scrollIntoView(),!s||!o)return!0;const c=s.filter((e=>a.includes(e.type.name)));n.ensureMarks(c)}return!0},toggleList:(e,t,n,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,p=DA(e,a.schema),h=DA(t,a.schema),{selection:m,storedMarks:v}=a,{$from:g,$to:y}=m,b=g.blockRange(y),w=v||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;const x=CN((e=>LN(e.type.name,d)))(m);if(b.depth>=1&&x&&b.depth-x.depth<=1){if(x.node.type===p)return c.liftListItem(h);if(LN(x.node.type.name,d)&&p.validContent(x.node.content)&&s)return l().command((()=>(i.setNodeMarkup(x.pos,p),!0))).command((()=>zN(i,p))).command((()=>BN(i,p))).run()}return n&&w&&s?l().command((()=>{const e=u().wrapInList(p,r),t=w.filter((e=>f.includes(e.type.name)));return i.ensureMarks(t),!!e||c.clearNodes()})).wrapInList(p,r).command((()=>zN(i,p))).command((()=>BN(i,p))).run():l().command((()=>!!u().wrapInList(p,r)||c.clearNodes())).wrapInList(p,r).command((()=>zN(i,p))).command((()=>BN(i,p))).run()},toggleMark:(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=n,a=fN(e,r.schema);return RN(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},toggleNode:(e,t,n={})=>({state:r,commands:o})=>{const i=DA(e,r.schema),a=DA(t,r.schema),s=xN(r,i,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?o.setNode(a,l):o.setNode(i,{...l,...n})},toggleWrap:(e,t={})=>({state:n,commands:r})=>{const o=DA(e,n.schema);return xN(n,o,t)?r.lift(o):r.wrapIn(o,t)},undoInputRule:()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let i;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){const t=e.tr,n=i.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(i.text){const n=t.doc.resolve(i.from).marks();t.replaceWith(i.from,i.to,e.schema.text(i.text,n))}else t.delete(i.from,i.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return r||t&&o.forEach((t=>{e.removeMark(t.$from.pos,t.$to.pos)})),!0},unsetMark:(e,t={})=>({tr:n,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=n,l=fN(e,r.schema),{$from:c,empty:u,ranges:d}=s;if(!o)return!0;if(u&&a){let{from:e,to:t}=s;const r=null===(i=c.marks().find((e=>e.type===l)))||void 0===i?void 0:i.attrs,o=dN(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else d.forEach((e=>{n.removeMark(e.$from.pos,e.$to.pos,l)}));return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:r,dispatch:o})=>{let i=null,a=null;const s=SN("string"==typeof e?e:e.name,r.schema);return!!s&&("node"===s&&(i=DA(e,r.schema)),"mark"===s&&(a=fN(e,r.schema)),o&&n.selection.ranges.forEach((e=>{const o=e.$from.pos,s=e.$to.pos;r.doc.nodesBetween(o,s,((e,r)=>{i&&i===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach((i=>{if(a===i.type){const l=Math.max(r,o),c=Math.min(r+e.nodeSize,s);n.addMark(l,c,a.create({...i.attrs,...t}))}}))}))})),!0)},wrapIn:(e,t={})=>({state:n,dispatch:r})=>function(e,t=null){return function(n,r){let{$from:o,$to:i}=n.selection,a=o.blockRange(i),s=a&&Bj(a,e,t);return!!s&&(r&&r(n.tr.wrap(a,s).scrollIntoView()),!0)}}(DA(e,n.schema),t)(n,r),wrapInList:(e,t={})=>({state:n,dispatch:r})=>TA(DA(e,n.schema),t)(n,r)});const UN=oN.create({name:"commands",addCommands:()=>({...$N})}),VN=oN.create({name:"drop",addProseMirrorPlugins(){return[new __({key:new P_("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),HN=oN.create({name:"editable",addProseMirrorPlugins(){return[new __({key:new P_("editable"),props:{editable:()=>this.editor.options.editable}})]}}),WN=oN.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new __({key:new P_("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),qN=oN.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first((({commands:e})=>[()=>e.undoInputRule(),()=>e.command((({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:i}=n,{pos:a,parent:s}=i,l=i.parent.isTextblock&&a>0?t.doc.resolve(a-1):i,c=l.parent.type.spec.isolating,u=i.pos-i.parentOffset,d=c&&1===l.parent.childCount?u===i.pos:l_.atStart(r).from===a;return!(!o||!s.type.isTextblock||s.textContent.length||!d||d&&"paragraph"===i.parent.type.name)&&e.clearNodes()})),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()])),t=()=>this.editor.commands.first((({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()])),n={Enter:()=>this.editor.commands.first((({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()])),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return vN()||wN()?o:r},addProseMirrorPlugins(){return[new __({key:new P_("clearDocument"),appendTransaction:(e,t,n)=>{const r=e.some((e=>e.docChanged))&&!t.doc.eq(n.doc),o=e.some((e=>e.getMeta("preventClearDocument")));if(!r||o)return;const{empty:i,from:a,to:s}=t.selection,l=l_.atStart(t.doc).from,c=l_.atEnd(t.doc).to;if(i||!(a===l&&s===c))return;if(!DN(n.doc))return;const u=n.tr,d=AA({state:n,transaction:u}),{commands:f}=new NA({editor:this.editor,state:d});return f.clearNodes(),u.steps.length?u:void 0}})]}}),GN=oN.create({name:"paste",addProseMirrorPlugins(){return[new __({key:new P_("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),KN=oN.create({name:"tabindex",addProseMirrorPlugins(){return[new __({key:new P_("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class XN{get name(){return this.node.type.name}constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size)return void console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new XN(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new XN(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new XN(e,this.editor)}get children(){const e=[];return this.node.content.forEach(((t,n)=>{const r=t.isBlock&&!t.isTextblock,o=this.pos+n+1,i=this.resolvedPos.doc.resolve(o);if(!r&&i.depth<=this.depth)return;const a=new XN(i,this.editor,r,r?t:null);r&&(a.actualDepth=this.depth+1),e.push(new XN(i,this.editor,r,r?t:null))})),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const e=r.node.attrs,n=Object.keys(t);for(let r=0;r<n.length;r+=1){const o=n[r];if(e[o]!==t[o])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||0===this.children.length)return r;const o=Object.keys(t);return this.children.forEach((i=>{if(!(n&&r.length>0)){if(i.node.type.name===e){const e=o.every((e=>t[e]===i.node.attrs[e]));e&&r.push(i)}n&&r.length>0||(r=r.concat(i.querySelectorAll(e,t,n)))}})),r}setAttribute(e){const t=this.editor.state.selection;this.editor.chain().setTextSelection(this.from).updateAttributes(this.node.type.name,e).setTextSelection(t.from).run()}}class YN extends MA{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",(({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n))),this.on("paste",(({event:e,slice:t})=>this.options.onPaste(e,t))),window.setTimeout((()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)}),0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t,n){const r=document.querySelector(`style[data-tiptap-style${n?`-${n}`:""}]`);if(null!==r)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style"+(n?`-${n}`:""),""),o.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(o),o}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}',this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=BA(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter((e=>!e.key.startsWith(t)))});return this.view.updateState(n),n}createExtensionManager(){var e,t;const n=[...this.options.enableCoreExtensions?[HN,sN.configure({blockSeparator:null===(t=null===(e=this.options.coreExtensionOptions)||void 0===e?void 0:e.clipboardTextSerializer)||void 0===t?void 0:t.blockSeparator}),UN,WN,qN,KN,VN,GN].filter((e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name])):[],...this.options.extensions].filter((e=>["extension","node","mark"].includes(null==e?void 0:e.type)));this.extensionManager=new rN(n,this)}createCommandManager(){this.commandManager=new NA({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=EN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error&&["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message)))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{this.options.extensions=this.options.extensions.filter((e=>"collaboration"!==e.name)),this.createExtensionManager()}}),e=EN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const t=mN(e,this.options.autofocus);this.view=new zP(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:O_.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach((e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)})):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return AN(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return xN(e,null,n)||RN(e,null,n);const r=SN(t,e.schema);return"node"===r?xN(e,t,n):"mark"===r&&RN(e,t,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return TN(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return PN(this.state.doc,{blockSeparator:t,textSerializers:{...aN(this.schema),...n}})}get isEmpty(){return DN(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new XN(t,this)}get $doc(){return this.$pos(0)}}function ZN(e){return new KA({find:e.find,handler:({state:t,range:n,match:r})=>{const o=$A(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const r=s.search(/\S/),l=n.from+s.indexOf(a),c=l+a.length;if(MN(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>l)).length)return null;c<n.to&&i.delete(c,n.to),l>n.from&&i.delete(n.from+r,l);const u=n.from+r+a.length;i.addMark(n.from+r,u,e.type.create(o||{})),i.removeStoredMark(e.type)}}})}function JN(e){return new KA({find:e.find,handler:({state:t,range:n,match:r})=>{const o=$A(e.getAttributes,void 0,r)||{},{tr:i}=t,a=n.from;let s=n.to;const l=e.type.create(o);if(r[1]){let e=a+r[0].lastIndexOf(r[1]);e>s?e=s:s=e+r[1].length;const t=r[0][r[0].length-1];i.insertText(t,a+r[0].length-1),i.replaceWith(e,s,l)}else if(r[0]){const t=e.type.isInline?a:a-1;i.insert(t,e.type.create(o)).delete(i.mapping.map(a),i.mapping.map(s))}i.scrollIntoView()}})}function QN(e){return new KA({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),i=$A(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,i)}})}function eM(e){return new KA({find:e.find,handler:({state:t,range:n,match:r,chain:o})=>{const i=$A(e.getAttributes,void 0,r)||{},a=t.tr.delete(n.from,n.to),s=a.doc.resolve(n.from).blockRange(),l=s&&Bj(s,e.type,i);if(!l)return null;if(a.wrap(s,l),e.keepMarks&&e.editor){const{selection:n,storedMarks:r}=t,{splittableMarks:o}=e.editor.extensionManager,i=r||n.$to.parentOffset&&n.$from.marks();if(i){const e=i.filter((e=>o.includes(e.type.name)));a.ensureMarks(e)}}if(e.keepAttributes){const t="bulletList"===e.type.name||"orderedList"===e.type.name?"listItem":"taskList";o().updateAttributes(t,i).run()}const c=a.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&Vj(a.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,c))&&a.join(n.from-1)}})}class tM{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=$A(IA(this,"addOptions",{name:this.name}))),this.storage=$A(IA(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new tM(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>JA(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new tM(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=$A(IA(t,"addOptions",{name:t.name})),t.storage=$A(IA(t,"addStorage",{name:t.name,options:t.options})),t}}class nM{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,o,i,a,s;const{view:l}=this.editor,c=e.target,u=3===c.nodeType?null===(t=c.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(c))||!u)return;let d=0,f=0;if(this.dom!==u){const t=this.dom.getBoundingClientRect(),n=u.getBoundingClientRect(),s=null!==(r=e.offsetX)&&void 0!==r?r:null===(o=e.nativeEvent)||void 0===o?void 0:o.offsetX,l=null!==(i=e.offsetY)&&void 0!==i?i:null===(a=e.nativeEvent)||void 0===a?void 0:a.offsetY;d=n.x-t.x+s,f=n.y-t.y+l}null===(s=e.dataTransfer)||void 0===s||s.setDragImage(this.dom,d,f);const p=this.getPos();if("number"!=typeof p)return;const h=h_.create(l.state.doc,p),m=l.state.tr.setSelection(h);l.dispatch(m)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});const n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;const r=e.type.startsWith("drag"),o="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!o&&!r)return!0;const{isEditable:i}=this.editor,{isDragging:a}=this,s=!!this.node.type.spec.draggable,l=h_.isSelectable(this.node),c="copy"===e.type,u="paste"===e.type,d="cut"===e.type,f="mousedown"===e.type;if(!s&&l&&r&&e.preventDefault(),s&&r&&!a)return e.preventDefault(),!1;if(s&&i&&!a&&f){const e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("drop",(()=>{this.isDragging=!1}),{once:!0}),document.addEventListener("mouseup",(()=>{this.isDragging=!1}),{once:!0}))}return!(a||o||c||u||d||f&&l)}ignoreMutation(e){if(!this.dom||!this.contentDOM)return!0;if("function"==typeof this.options.ignoreMutation)return this.options.ignoreMutation({mutation:e});if(this.node.isLeaf||this.node.isAtom)return!0;if("selection"===e.type)return!1;if(this.dom.contains(e.target)&&"childList"===e.type&&(vN()||"Android"===navigator.platform||/android/i.test(navigator.userAgent))&&this.editor.isFocused){if([...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every((e=>e.isContentEditable)))return!1}return this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command((({tr:t})=>{const n=this.getPos();return"number"==typeof n&&(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)}))}deleteNode(){const e=this.getPos();if("number"!=typeof e)return;const t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function rM(e){return new eN({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:o})=>{const i=$A(e.getAttributes,void 0,r,o);if(!1===i||null===i)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let c=n.to;if(s){const r=l.search(/\S/),o=n.from+l.indexOf(s),u=o+s.length;if(MN(n.from,n.to,t.doc).filter((t=>t.mark.type.excluded.find((n=>n===e.type&&n!==t.mark.type)))).filter((e=>e.to>o)).length)return null;u<n.to&&a.delete(u,n.to),o>n.from&&a.delete(n.from+r,o),c=n.from+r+s.length,a.addMark(n.from+r,c,e.type.create(i||{})),a.removeStoredMark(e.type)}}})}function oM(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function iM(e){return e instanceof oM(e).Element||e instanceof Element}function aM(e){return e instanceof oM(e).HTMLElement||e instanceof HTMLElement}function sM(e){return"undefined"!=typeof ShadowRoot&&(e instanceof oM(e).ShadowRoot||e instanceof ShadowRoot)}var lM=Math.max,cM=Math.min,uM=Math.round;function dM(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function fM(){return!/^((?!chrome|android).)*safari/i.test(dM())}function pM(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&aM(e)&&(o=e.offsetWidth>0&&uM(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&uM(r.height)/e.offsetHeight||1);var a=(iM(e)?oM(e):window).visualViewport,s=!fM()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,c=(r.top+(s&&a?a.offsetTop:0))/i,u=r.width/o,d=r.height/i;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function hM(e){var t=oM(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mM(e){return e?(e.nodeName||"").toLowerCase():null}function vM(e){return((iM(e)?e.ownerDocument:e.document)||window.document).documentElement}function gM(e){return pM(vM(e)).left+hM(e).scrollLeft}function yM(e){return oM(e).getComputedStyle(e)}function bM(e){var t=yM(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function wM(e,t,n){void 0===n&&(n=!1);var r,o,i=aM(t),a=aM(t)&&function(e){var t=e.getBoundingClientRect(),n=uM(t.width)/e.offsetWidth||1,r=uM(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=vM(t),l=pM(e,a,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(i||!i&&!n)&&(("body"!==mM(t)||bM(s))&&(c=(r=t)!==oM(r)&&aM(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:hM(r)),aM(t)?((u=pM(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=gM(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function xM(e){var t=pM(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function SM(e){return"html"===mM(e)?e:e.assignedSlot||e.parentNode||(sM(e)?e.host:null)||vM(e)}function kM(e){return["html","body","#document"].indexOf(mM(e))>=0?e.ownerDocument.body:aM(e)&&bM(e)?e:kM(SM(e))}function EM(e,t){var n;void 0===t&&(t=[]);var r=kM(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=oM(r),a=o?[i].concat(i.visualViewport||[],bM(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(EM(SM(a)))}function OM(e){return["table","td","th"].indexOf(mM(e))>=0}function jM(e){return aM(e)&&"fixed"!==yM(e).position?e.offsetParent:null}function _M(e){for(var t=oM(e),n=jM(e);n&&OM(n)&&"static"===yM(n).position;)n=jM(n);return n&&("html"===mM(n)||"body"===mM(n)&&"static"===yM(n).position)?t:n||function(e){var t=/firefox/i.test(dM());if(/Trident/i.test(dM())&&aM(e)&&"fixed"===yM(e).position)return null;var n=SM(e);for(sM(n)&&(n=n.host);aM(n)&&["html","body"].indexOf(mM(n))<0;){var r=yM(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var CM="top",TM="bottom",PM="right",AM="left",NM="auto",MM=[CM,TM,PM,AM],IM="start",RM="end",LM="viewport",DM="popper",FM=MM.reduce((function(e,t){return e.concat([t+"-"+IM,t+"-"+RM])}),[]),zM=[].concat(MM,[NM]).reduce((function(e,t){return e.concat([t,t+"-"+IM,t+"-"+RM])}),[]),BM=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $M(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function UM(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var VM={placement:"bottom",modifiers:[],strategy:"absolute"};function HM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function WM(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?VM:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},VM,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:o,setOptions:function(n){var s="function"==typeof n?n(o.options):n;c(),o.options=Object.assign({},i,o.options,s),o.scrollParents={reference:iM(e)?EM(e):e.contextElement?EM(e.contextElement):[],popper:EM(t)};var u=function(e){var t=$M(e);return BM.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=u.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var s=i({state:o,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(HM(t,n)){o.rects={reference:wM(t,_M(n),"fixed"===o.options.strategy),popper:xM(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],a=i.fn,c=i.options,u=void 0===c?{}:c,d=i.name;"function"==typeof a&&(o=a({state:o,options:u,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:UM((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),s=!0}};if(!HM(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var qM={passive:!0};const GM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=oM(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach((function(e){e.addEventListener("scroll",n.update,qM)})),s&&l.addEventListener("resize",n.update,qM),function(){i&&c.forEach((function(e){e.removeEventListener("scroll",n.update,qM)})),s&&l.removeEventListener("resize",n.update,qM)}},data:{}};function KM(e){return e.split("-")[0]}function XM(e){return e.split("-")[1]}function YM(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ZM(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?KM(o):null,a=o?XM(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case CM:t={x:s,y:n.y-r.height};break;case TM:t={x:s,y:n.y+n.height};break;case PM:t={x:n.x+n.width,y:l};break;case AM:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=i?YM(i):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case IM:t[c]=t[c]-(n[u]/2-r[u]/2);break;case RM:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var JM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function QM(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,f=a.x,p=void 0===f?0:f,h=a.y,m=void 0===h?0:h,v="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=v.x,m=v.y;var g=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=AM,w=CM,x=window;if(c){var S=_M(n),k="clientHeight",E="clientWidth";if(S===oM(n)&&"static"!==yM(S=vM(n)).position&&"absolute"===s&&(k="scrollHeight",E="scrollWidth"),o===CM||(o===AM||o===PM)&&i===RM)w=TM,m-=(d&&S===x&&x.visualViewport?x.visualViewport.height:S[k])-r.height,m*=l?1:-1;if(o===AM||(o===CM||o===TM)&&i===RM)b=PM,p-=(d&&S===x&&x.visualViewport?x.visualViewport.width:S[E])-r.width,p*=l?1:-1}var O,j=Object.assign({position:s},c&&JM),_=!0===u?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:uM(n*o)/o||0,y:uM(r*o)/o||0}}({x:p,y:m},oM(n)):{x:p,y:m};return p=_.x,m=_.y,l?Object.assign({},j,((O={})[w]=y?"0":"",O[b]=g?"0":"",O.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",O)):Object.assign({},j,((t={})[w]=y?m+"px":"",t[b]=g?p+"px":"",t.transform="",t))}const eI={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,c={placement:KM(t.placement),variation:XM(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,QM(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,QM(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};const tI={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];aM(o)&&mM(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});aM(r)&&mM(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const nI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=zM.reduce((function(e,n){return e[n]=function(e,t,n){var r=KM(e),o=[AM,CM].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[AM,PM].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var rI={left:"right",right:"left",bottom:"top",top:"bottom"};function oI(e){return e.replace(/left|right|bottom|top/g,(function(e){return rI[e]}))}var iI={start:"end",end:"start"};function aI(e){return e.replace(/start|end/g,(function(e){return iI[e]}))}function sI(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sM(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function lI(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function cI(e,t,n){return t===LM?lI(function(e,t){var n=oM(e),r=vM(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=fM();(c||!c&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+gM(e),y:l}}(e,n)):iM(t)?function(e,t){var n=pM(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):lI(function(e){var t,n=vM(e),r=hM(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=lM(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=lM(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+gM(e),l=-r.scrollTop;return"rtl"===yM(o||n).direction&&(s+=lM(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(vM(e)))}function uI(e,t,n,r){var o="clippingParents"===t?function(e){var t=EM(SM(e)),n=["absolute","fixed"].indexOf(yM(e).position)>=0&&aM(e)?_M(e):e;return iM(n)?t.filter((function(e){return iM(e)&&sI(e,n)&&"body"!==mM(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=cI(e,n,r);return t.top=lM(o.top,t.top),t.right=cM(o.right,t.right),t.bottom=cM(o.bottom,t.bottom),t.left=lM(o.left,t.left),t}),cI(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function dI(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fI(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function pI(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?LM:c,d=n.elementContext,f=void 0===d?DM:d,p=n.altBoundary,h=void 0!==p&&p,m=n.padding,v=void 0===m?0:m,g=dI("number"!=typeof v?v:fI(v,MM)),y=f===DM?"reference":DM,b=e.rects.popper,w=e.elements[h?y:f],x=uI(iM(w)?w:w.contextElement||vM(e.elements.popper),l,u,a),S=pM(e.elements.reference),k=ZM({reference:S,element:b,strategy:"absolute",placement:o}),E=lI(Object.assign({},b,k)),O=f===DM?E:S,j={top:x.top-O.top+g.top,bottom:O.bottom-x.bottom+g.bottom,left:x.left-O.left+g.left,right:O.right-x.right+g.right},_=e.modifiersData.offset;if(f===DM&&_){var C=_[o];Object.keys(j).forEach((function(e){var t=[PM,TM].indexOf(e)>=0?1:-1,n=[CM,TM].indexOf(e)>=0?"y":"x";j[e]+=C[n]*t}))}return j}const hI={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,v=t.options.placement,g=KM(v),y=l||(g===v||!h?[oI(v)]:function(e){if(KM(e)===NM)return[];var t=oI(e);return[aI(e),t,aI(t)]}(v)),b=[v].concat(y).reduce((function(e,n){return e.concat(KM(n)===NM?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?zM:l,u=XM(r),d=u?s?FM:FM.filter((function(e){return XM(e)===u})):MM,f=d.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=pI(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[KM(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,S=new Map,k=!0,E=b[0],O=0;O<b.length;O++){var j=b[O],_=KM(j),C=XM(j)===IM,T=[CM,TM].indexOf(_)>=0,P=T?"width":"height",A=pI(t,{placement:j,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),N=T?C?PM:AM:C?TM:CM;w[P]>x[P]&&(N=oI(N));var M=oI(N),I=[];if(i&&I.push(A[_]<=0),s&&I.push(A[N]<=0,A[M]<=0),I.every((function(e){return e}))){E=j,k=!1;break}S.set(j,I)}if(k)for(var R=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},L=h?3:1;L>0;L--){if("break"===R(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function mI(e,t,n){return lM(e,cM(t,n))}const vI={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,v=pI(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=KM(t.placement),y=XM(t.placement),b=!y,w=YM(g),x="x"===w?"y":"x",S=t.modifiersData.popperOffsets,k=t.rects.reference,E=t.rects.popper,O="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,j="number"==typeof O?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(S){if(i){var T,P="y"===w?CM:AM,A="y"===w?TM:PM,N="y"===w?"height":"width",M=S[w],I=M+v[P],R=M-v[A],L=p?-E[N]/2:0,D=y===IM?k[N]:E[N],F=y===IM?-E[N]:-k[N],z=t.elements.arrow,B=p&&z?xM(z):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=$[P],V=$[A],H=mI(0,k[N],B[N]),W=b?k[N]/2-L-H-U-j.mainAxis:D-H-U-j.mainAxis,q=b?-k[N]/2+L+H+V+j.mainAxis:F+H+V+j.mainAxis,G=t.elements.arrow&&_M(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,X=null!=(T=null==_?void 0:_[w])?T:0,Y=M+q-X,Z=mI(p?cM(I,M+W-X-K):I,M,p?lM(R,Y):R);S[w]=Z,C[w]=Z-M}if(s){var J,Q="x"===w?CM:AM,ee="x"===w?TM:PM,te=S[x],ne="y"===x?"height":"width",re=te+v[Q],oe=te-v[ee],ie=-1!==[CM,AM].indexOf(g),ae=null!=(J=null==_?void 0:_[x])?J:0,se=ie?re:te-k[ne]-E[ne]-ae+j.altAxis,le=ie?te+k[ne]+E[ne]-ae-j.altAxis:oe,ce=p&&ie?function(e,t,n){var r=mI(e,t,n);return r>n?n:r}(se,te,le):mI(p?se:re,te,p?le:oe);S[x]=ce,C[x]=ce-te}t.modifiersData[r]=C}},requiresIfExists:["offset"]};const gI={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=KM(n.placement),l=YM(s),c=[AM,PM].indexOf(s)>=0?"height":"width";if(i&&a){var u=function(e,t){return dI("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fI(e,MM))}(o.padding,n),d=xM(i),f="y"===l?CM:AM,p="y"===l?TM:PM,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],v=_M(i),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=h/2-m/2,b=u[f],w=g-d[c]-u[p],x=g/2-d[c]/2+y,S=mI(b,x,w),k=l;n.modifiersData[r]=((t={})[k]=S,t.centerOffset=S-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&sI(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yI(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function bI(e){return[CM,PM,TM,AM].some((function(t){return e[t]>=0}))}var wI=WM({defaultModifiers:[GM,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ZM({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eI,tI,nI,hI,vI,gI,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=pI(t,{elementContext:"reference"}),s=pI(t,{altBoundary:!0}),l=yI(a,r),c=yI(s,o,i),u=bI(l),d=bI(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),xI="tippy-content",SI="tippy-backdrop",kI="tippy-arrow",EI="tippy-svg-arrow",OI={passive:!0,capture:!0},jI=function(){return document.body};function _I(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function CI(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function TI(e,t){return"function"==typeof e?e.apply(void 0,t):e}function PI(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function AI(e){return[].concat(e)}function NI(e,t){-1===e.indexOf(t)&&e.push(t)}function MI(e){return e.split("-")[0]}function II(e){return[].slice.call(e)}function RI(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})}function LI(){return document.createElement("div")}function DI(e){return["Element","Fragment"].some((function(t){return CI(e,t)}))}function FI(e){return CI(e,"MouseEvent")}function zI(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function BI(e){return DI(e)?[e]:function(e){return CI(e,"NodeList")}(e)?II(e):Array.isArray(e)?e:II(document.querySelectorAll(e))}function $I(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function UI(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function VI(e){var t,n=AI(e)[0];return null!=n&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function HI(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,n)}))}function WI(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=null==n.getRootNode||null==(r=n.getRootNode())?void 0:r.host}return!1}var qI={isTouch:!1},GI=0;function KI(){qI.isTouch||(qI.isTouch=!0,window.performance&&document.addEventListener("mousemove",XI))}function XI(){var e=performance.now();e-GI<20&&(qI.isTouch=!1,document.removeEventListener("mousemove",XI)),GI=e}function YI(){var e=document.activeElement;if(zI(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var ZI=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto;var JI={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},QI=Object.assign({appendTo:jI,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},JI,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),eR=Object.keys(QI);function tR(e){var t=(e.plugins||[]).reduce((function(t,n){var r,o=n.name,i=n.defaultValue;o&&(t[o]=void 0!==e[o]?e[o]:null!=(r=QI[o])?r:i);return t}),{});return Object.assign({},e,t)}function nR(e,t){var n=Object.assign({},t,{content:TI(t.content,[e])},t.ignoreAttributes?{}:function(e,t){var n=(t?Object.keys(tR(Object.assign({},QI,{plugins:t}))):eR).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(e){t[n]=r}return t}),{});return n}(e,t.plugins));return n.aria=Object.assign({},QI.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function rR(e,t){e.innerHTML=t}function oR(e){var t=LI();return!0===e?t.className=kI:(t.className=EI,DI(e)?t.appendChild(e):rR(t,e)),t}function iR(e,t){DI(t.content)?(rR(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?rR(e,t.content):e.textContent=t.content)}function aR(e){var t=e.firstElementChild,n=II(t.children);return{box:t,content:n.find((function(e){return e.classList.contains(xI)})),arrow:n.find((function(e){return e.classList.contains(kI)||e.classList.contains(EI)})),backdrop:n.find((function(e){return e.classList.contains(SI)}))}}function sR(e){var t=LI(),n=LI();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=LI();function o(n,r){var o=aR(t),i=o.box,a=o.content,s=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||iR(a,e.props),r.arrow?s?n.arrow!==r.arrow&&(i.removeChild(s),i.appendChild(oR(r.arrow))):i.appendChild(oR(r.arrow)):s&&i.removeChild(s)}return r.className=xI,r.setAttribute("data-state","hidden"),iR(r,e.props),t.appendChild(n),n.appendChild(r),o(e.props,e.props),{popper:t,onUpdate:o}}sR.$$tippy=!0;var lR=1,cR=[],uR=[];function dR(e,t){var n,r,o,i,a,s,l,c,u=nR(e,Object.assign({},QI,tR(RI(t)))),d=!1,f=!1,p=!1,h=!1,m=[],v=PI(G,u.interactiveDebounce),g=lR++,y=(c=u.plugins).filter((function(e,t){return c.indexOf(e)===t})),b={id:g,reference:e,popper:LI(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(o)},setProps:function(t){0;if(b.state.isDestroyed)return;M("onBeforeUpdate",[b,t]),W();var n=b.props,r=nR(e,Object.assign({},n,RI(t),{ignoreAttributes:!0}));b.props=r,H(),n.interactiveDebounce!==r.interactiveDebounce&&(L(),v=PI(G,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?AI(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");R(),N(),S&&S(n,r);b.popperInstance&&(Z(),Q().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));M("onAfterUpdate",[b,t])},setContent:function(e){b.setProps({content:e})},show:function(){0;var e=b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=qI.isTouch&&!b.props.touch,o=_I(b.props.duration,0,QI.duration);if(e||t||n||r)return;if(C().hasAttribute("disabled"))return;if(M("onShow",[b],!1),!1===b.props.onShow(b))return;b.state.isVisible=!0,_()&&(x.style.visibility="visible");N(),B(),b.state.isMounted||(x.style.transition="none");if(_()){var i=P();$I([i.box,i.content],0)}s=function(){var e;if(b.state.isVisible&&!h){if(h=!0,x.offsetHeight,x.style.transition=b.props.moveTransition,_()&&b.props.animation){var t=P(),n=t.box,r=t.content;$I([n,r],o),UI([n,r],"visible")}I(),R(),NI(uR,b),null==(e=b.popperInstance)||e.forceUpdate(),M("onMount",[b]),b.props.animation&&_()&&function(e,t){U(e,t)}(o,(function(){b.state.isShown=!0,M("onShown",[b])}))}},function(){var e,t=b.props.appendTo,n=C();e=b.props.interactive&&t===jI||"parent"===t?n.parentNode:TI(t,[n]);e.contains(x)||e.appendChild(x);b.state.isMounted=!0,Z(),!1}()},hide:function(){0;var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,r=_I(b.props.duration,1,QI.duration);if(e||t||n)return;if(M("onHide",[b],!1),!1===b.props.onHide(b))return;b.state.isVisible=!1,b.state.isShown=!1,h=!1,d=!1,_()&&(x.style.visibility="hidden");if(L(),$(),N(!0),_()){var o=P(),i=o.box,a=o.content;b.props.animation&&($I([i,a],r),UI([i,a],"hidden"))}I(),R(),b.props.animation?_()&&function(e,t){U(e,(function(){!b.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(r,b.unmount):b.unmount()},hideWithInteractivity:function(e){0;T().addEventListener("mousemove",v),NI(cR,v),v(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){0;b.state.isVisible&&b.hide();if(!b.state.isMounted)return;J(),Q().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);uR=uR.filter((function(e){return e!==b})),b.state.isMounted=!1,M("onHidden",[b])},destroy:function(){0;if(b.state.isDestroyed)return;b.clearDelayTimeouts(),b.unmount(),W(),delete e._tippy,b.state.isDestroyed=!0,M("onDestroy",[b])}};if(!u.render)return b;var w=u.render(b),x=w.popper,S=w.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+b.id,b.popper=x,e._tippy=b,x._tippy=b;var k=y.map((function(e){return e.fn(b)})),E=e.hasAttribute("aria-expanded");return H(),R(),N(),M("onCreate",[b]),u.showOnCreate&&ee(),x.addEventListener("mouseenter",(function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&T().addEventListener("mousemove",v)})),b;function O(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function j(){return"hold"===O()[0]}function _(){var e;return!(null==(e=b.props.render)||!e.$$tippy)}function C(){return l||e}function T(){var e=C().parentNode;return e?VI(e):document}function P(){return aR(x)}function A(e){return b.state.isMounted&&!b.state.isVisible||qI.isTouch||i&&"focus"===i.type?0:_I(b.props.delay,e?0:1,QI.delay)}function N(e){void 0===e&&(e=!1),x.style.pointerEvents=b.props.interactive&&!e?"":"none",x.style.zIndex=""+b.props.zIndex}function M(e,t,n){var r;(void 0===n&&(n=!0),k.forEach((function(n){n[e]&&n[e].apply(n,t)})),n)&&(r=b.props)[e].apply(r,t)}function I(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,r=x.id;AI(b.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var o=t&&t.replace(r,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function R(){!E&&b.props.aria.expanded&&AI(b.props.triggerTarget||e).forEach((function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===C()?"true":"false"):e.removeAttribute("aria-expanded")}))}function L(){T().removeEventListener("mousemove",v),cR=cR.filter((function(e){return e!==v}))}function D(t){if(!qI.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!b.props.interactive||!WI(x,n)){if(AI(b.props.triggerTarget||e).some((function(e){return WI(e,n)}))){if(qI.isTouch)return;if(b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else M("onClickOutside",[b,t]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),f=!0,setTimeout((function(){f=!1})),b.state.isMounted||$())}}}function F(){p=!0}function z(){p=!1}function B(){var e=T();e.addEventListener("mousedown",D,!0),e.addEventListener("touchend",D,OI),e.addEventListener("touchstart",z,OI),e.addEventListener("touchmove",F,OI)}function $(){var e=T();e.removeEventListener("mousedown",D,!0),e.removeEventListener("touchend",D,OI),e.removeEventListener("touchstart",z,OI),e.removeEventListener("touchmove",F,OI)}function U(e,t){var n=P().box;function r(e){e.target===n&&(HI(n,"remove",r),t())}if(0===e)return t();HI(n,"remove",a),HI(n,"add",r),a=r}function V(t,n,r){void 0===r&&(r=!1),AI(b.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),m.push({node:e,eventType:t,handler:n,options:r})}))}function H(){j()&&(V("touchstart",q,{passive:!0}),V("touchend",K,{passive:!0})),function(e){return e.split(/\s+/).filter(Boolean)}(b.props.trigger).forEach((function(e){if("manual"!==e)switch(V(e,q),e){case"mouseenter":V("mouseleave",K);break;case"focus":V(ZI?"focusout":"blur",X);break;case"focusin":V("focusout",X)}}))}function W(){m.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,o=e.options;t.removeEventListener(n,r,o)})),m=[]}function q(e){var t,n=!1;if(b.state.isEnabled&&!Y(e)&&!f){var r="focus"===(null==(t=i)?void 0:t.type);i=e,l=e.currentTarget,R(),!b.state.isVisible&&FI(e)&&cR.forEach((function(t){return t(e)})),"click"===e.type&&(b.props.trigger.indexOf("mouseenter")<0||d)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:ee(e),"click"===e.type&&(d=!n),n&&!r&&te(e)}}function G(e){var t=e.target,n=C().contains(t)||x.contains(t);if("mousemove"!==e.type||!n){var r=Q().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean);(function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,i=e.props.interactiveBorder,a=MI(o.placement),s=o.modifiersData.offset;if(!s)return!0;var l="bottom"===a?s.top.y:0,c="top"===a?s.bottom.y:0,u="right"===a?s.left.x:0,d="left"===a?s.right.x:0,f=t.top-r+l>i,p=r-t.bottom-c>i,h=t.left-n+u>i,m=n-t.right-d>i;return f||p||h||m}))})(r,e)&&(L(),te(e))}}function K(e){Y(e)||b.props.trigger.indexOf("click")>=0&&d||(b.props.interactive?b.hideWithInteractivity(e):te(e))}function X(e){b.props.trigger.indexOf("focusin")<0&&e.target!==C()||b.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||te(e)}function Y(e){return!!qI.isTouch&&j()!==e.type.indexOf("touch")>=0}function Z(){J();var t=b.props,n=t.popperOptions,r=t.placement,o=t.offset,i=t.getReferenceClientRect,a=t.moveTransition,l=_()?aR(x).arrow:null,c=i?{getBoundingClientRect:i,contextElement:i.contextElement||C()}:e,u={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(_()){var n=P().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},u];_()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),b.popperInstance=wI(c,x,Object.assign({},n,{placement:r,onFirstUpdate:s,modifiers:d}))}function J(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Q(){return II(x.querySelectorAll("[data-tippy-root]"))}function ee(e){b.clearDelayTimeouts(),e&&M("onTrigger",[b,e]),B();var t=A(!0),r=O(),o=r[0],i=r[1];qI.isTouch&&"hold"===o&&i&&(t=i),t?n=setTimeout((function(){b.show()}),t):b.show()}function te(e){if(b.clearDelayTimeouts(),M("onUntrigger",[b,e]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&d)){var t=A(!1);t?r=setTimeout((function(){b.state.isVisible&&b.hide()}),t):o=requestAnimationFrame((function(){b.hide()}))}}else $()}}function fR(e,t){void 0===t&&(t={});var n=QI.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",KI,OI),window.addEventListener("blur",YI);var r=Object.assign({},t,{plugins:n}),o=BI(e).reduce((function(e,t){var n=t&&dR(t,r);return n&&e.push(n),e}),[]);return DI(e)?o[0]:o}fR.defaultProps=QI,fR.setDefaultProps=function(e){Object.keys(e).forEach((function(t){QI[t]=e[t]}))},fR.currentInput=qI;Object.assign({},tI,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});fR.setDefaultProps({render:sR});const pR=fR;class hR{constructor({editor:e,element:t,view:n,tippyOptions:r={},updateDelay:o=250,shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:e,state:t,from:n,to:r})=>{const{doc:o,selection:i}=t,{empty:a}=i,s=!o.textBetween(n,r).length&&pN(t.selection),l=this.element.contains(document.activeElement);return!(!e.hasFocus()&&!l||a||s||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout((()=>this.update(this.editor.view)))},this.blurHandler=({event:e})=>{var t;this.preventHide?this.preventHide=!1:(null==e?void 0:e.relatedTarget)&&(null===(t=this.element.parentNode)||void 0===t?void 0:t.contains(e.relatedTarget))||this.hide()},this.tippyBlurHandler=e=>{this.blurHandler({event:e})},this.handleDebouncedUpdate=(e,t)=>{const n=!(null==t?void 0:t.selection.eq(e.state.selection)),r=!(null==t?void 0:t.doc.eq(e.state.doc));(n||r)&&(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout((()=>{this.updateHandler(e,n,r,t)}),this.updateDelay))},this.updateHandler=(e,t,n,r)=>{var o,i,a;const{state:s,composing:l}=e,{selection:c}=s;if(l||!t&&!n)return;this.createTooltip();const{ranges:u}=c,d=Math.min(...u.map((e=>e.$from.pos))),f=Math.max(...u.map((e=>e.$to.pos)));(null===(o=this.shouldShow)||void 0===o?void 0:o.call(this,{editor:this.editor,view:e,state:s,oldState:r,from:d,to:f}))?(null===(i=this.tippy)||void 0===i||i.setProps({getReferenceClientRect:(null===(a=this.tippyOptions)||void 0===a?void 0:a.getReferenceClientRect)||(()=>{if(function(e){return e instanceof h_}(s.selection)){let t=e.nodeDOM(d);const n=t.dataset.nodeViewWrapper?t:t.querySelector("[data-node-view-wrapper]");if(n&&(t=n.firstChild),t)return t.getBoundingClientRect()}return function(e,t,n){const r=e.state.doc.content.size,o=hN(t,0,r),i=hN(n,0,r),a=e.coordsAtPos(o),s=e.coordsAtPos(i,-1),l=Math.min(a.top,s.top),c=Math.max(a.bottom,s.bottom),u=Math.min(a.left,s.left),d=Math.max(a.right,s.right),f={top:l,bottom:c,left:u,right:d,width:d-u,height:c-l,x:u,y:l};return{...f,toJSON:()=>f}}(e,d,f)})}),this.show()):this.hide()},this.editor=e,this.element=t,this.view=n,this.updateDelay=o,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=r,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,t=!!e.parentElement;!this.tippy&&t&&(this.tippy=pR(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,t){const{state:n}=e,r=n.selection.$from.pos!==n.selection.$to.pos;if(this.updateDelay>0&&r)return void this.handleDebouncedUpdate(e,t);const o=!(null==t?void 0:t.selection.eq(e.state.selection)),i=!(null==t?void 0:t.doc.eq(e.state.doc));this.updateHandler(e,o,i,t)}show(){var e;null===(e=this.tippy)||void 0===e||e.show()}hide(){var e;null===(e=this.tippy)||void 0===e||e.hide()}destroy(){var e,t;(null===(e=this.tippy)||void 0===e?void 0:e.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const mR=e=>new __({key:"string"==typeof e.pluginKey?new P_(e.pluginKey):e.pluginKey,view:t=>new hR({view:t,...e})}),vR=(oN.create({name:"bubbleMenu",addOptions:()=>({element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}),addProseMirrorPlugins(){return this.options.element?[mR({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}}),(...e)=>t=>{e.forEach((e=>{"function"==typeof e?e(t):e&&(e.current=t)}))}),gR=({renderers:e})=>n.createElement(n.Fragment,null,Object.entries(e).map((([e,t])=>Zr.createPortal(t.reactElement,t.element,e))));class yR extends n.Component{constructor(e){super(e),this.editorContentRef=n.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?(0,Zr.flushSync)(e):e()}setRenderer(e,t){this.maybeFlushSync((()=>{this.setState((({renderers:n})=>({renderers:{...n,[e]:t}})))}))}removeRenderer(e){this.maybeFlushSync((()=>{this.setState((({renderers:t})=>{const n={...t};return delete n[e],{renderers:n}}))}))}componentWillUnmount(){const{editor:e}=this.props;if(!e)return;if(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild)return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return n.createElement(n.Fragment,null,n.createElement("div",{ref:vR(t,this.editorContentRef),...r}),n.createElement(gR,{renderers:this.state.renderers}))}}const bR=(0,n.forwardRef)(((e,t)=>{const r=n.useMemo((()=>Math.floor(4294967295*Math.random()).toString()),[e.editor]);return n.createElement(yR,{key:r,innerRef:t,...e})})),wR=n.memo(bR);class xR extends YN{constructor(){super(...arguments),this.contentComponent=null}}const SR=(e={},t=[])=>{const r=(0,n.useRef)(null),[,o]=(0,n.useState)({}),{onBeforeCreate:i,onBlur:a,onCreate:s,onDestroy:l,onFocus:c,onSelectionUpdate:u,onTransaction:d,onUpdate:f}=e,p=(0,n.useRef)(i),h=(0,n.useRef)(a),m=(0,n.useRef)(s),v=(0,n.useRef)(l),g=(0,n.useRef)(c),y=(0,n.useRef)(u),b=(0,n.useRef)(d),w=(0,n.useRef)(f);return(0,n.useEffect)((()=>{r.current&&(i&&(r.current.off("beforeCreate",p.current),r.current.on("beforeCreate",i),p.current=i),a&&(r.current.off("blur",h.current),r.current.on("blur",a),h.current=a),s&&(r.current.off("create",m.current),r.current.on("create",s),m.current=s),l&&(r.current.off("destroy",v.current),r.current.on("destroy",l),v.current=l),c&&(r.current.off("focus",g.current),r.current.on("focus",c),g.current=c),u&&(r.current.off("selectionUpdate",y.current),r.current.on("selectionUpdate",u),y.current=u),d&&(r.current.off("transaction",b.current),r.current.on("transaction",d),b.current=d),f&&(r.current.off("update",w.current),r.current.on("update",f),w.current=f))}),[i,a,s,l,c,u,d,f,r.current]),(0,n.useEffect)((()=>{let t=!0;const n=new xR(e);return r.current=n,r.current.on("transaction",(()=>{requestAnimationFrame((()=>{requestAnimationFrame((()=>{t&&o({})}))}))})),()=>{t=!1,n.destroy()}}),t),r.current},kR=(0,n.createContext)({editor:null}),ER=(kR.Consumer,()=>(0,n.useContext)(kR)),OR=e=>{const[t,r]=(0,n.useState)(null),{editor:o}=ER();return(0,n.useEffect)((()=>{var n;if(!t)return;if((null===(n=e.editor)||void 0===n?void 0:n.isDestroyed)||(null==o?void 0:o.isDestroyed))return;const{pluginKey:r="bubbleMenu",editor:i,tippyOptions:a={},updateDelay:s,shouldShow:l=null}=e,c=i||o;if(!c)return void console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");const u=mR({updateDelay:s,editor:c,element:t,pluginKey:r,shouldShow:l,tippyOptions:a});return c.registerPlugin(u),()=>c.unregisterPlugin(r)}),[e.editor,o,t]),n.createElement("div",{ref:r,className:e.className,style:{visibility:"hidden"}},e.children)},jR=(0,n.createContext)({onDragStart:void 0}),_R=()=>(0,n.useContext)(jR),CR=e=>{const t=e.as||"div",{nodeViewContentRef:r}=_R();return n.createElement(t,{...e,ref:r,"data-node-view-content":"",style:{whiteSpace:"pre-wrap",...e.style}})},TR=n.forwardRef(((e,t)=>{const{onDragStart:r}=_R(),o=e.as||"div";return n.createElement(o,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...e.style}})}));class PR{constructor(e,{editor:t,props:n={},as:r="div",className:o="",attrs:i}){this.ref=null,this.id=Math.floor(4294967295*Math.random()).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),i&&Object.keys(i).forEach((e=>{this.element.setAttribute(e,i[e])})),this.render()}render(){var e,t;const r=this.component,o=this.props;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(r)||function(e){var t;return!("object"!=typeof e||"Symbol(react.forward_ref)"!==(null===(t=e.$$typeof)||void 0===t?void 0:t.toString()))}(r))&&(o.ref=e=>{this.ref=e}),this.reactElement=n.createElement(r,{...o}),null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,t;null===(t=null===(e=this.editor)||void 0===e?void 0:e.contentComponent)||void 0===t||t.removeRenderer(this.id)}}class AR extends nM{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(e={})=>this.updateAttributes(e),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const e=e=>e.charAt(0).toUpperCase()+e.substring(1);this.component.displayName=e(this.extension.name)}const t=e=>{const t=this.component,r=this.onDragStart.bind(this);return n.createElement(n.Fragment,null,n.createElement(jR.Provider,{value:{onDragStart:r,nodeViewContentRef:e=>{e&&this.contentDOMElement&&e.firstChild!==this.contentDOMElement&&e.appendChild(this.contentDOMElement)}}},n.createElement(t,{...e})))};t.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:o=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new PR(t,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${o}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(null===(e=this.renderer.element.firstElementChild)||void 0===e?void 0:e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:t}=this.editor.state.selection;if(e<=this.getPos()&&t>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,t){const n=e=>{this.renderer.updateProps(e)};if(e.type!==this.node.type)return!1;if("function"==typeof this.options.update){const r=this.node,o=this.decorations;return this.node=e,this.decorations=t,this.options.update({oldNode:r,oldDecorations:o,newNode:e,newDecorations:t,updateProps:()=>n({node:e,decorations:t})})}return e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,n({node:e,decorations:t})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function NR(e,t){return n=>n.editor.contentComponent?new AR(e,n,t):{}}function MR(e){return MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MR(e)}var IR=["className","type"];function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=MR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DR=n.forwardRef((function(e,t){var n=e.className,r=e.type,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,IR);return(0,Ut.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RR(Object(n),!0).forEach((function(t){LR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:r,className:vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},o))}));DR.displayName="Input";var FR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});var zR=n.forwardRef(((e,t)=>(0,Ut.jsx)(FR.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));zR.displayName="Label";var BR=zR;function $R(e){return $R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$R(e)}var UR=["className"];function VR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$R(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var WR=Pn("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qR=n.forwardRef((function(e,t){var n=e.className,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,UR);return(0,Ut.jsx)(BR,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VR(Object(n),!0).forEach((function(t){HR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,className:vr(WR(),n)},r))}));function GR(e){return GR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GR(e)}qR.displayName=BR.displayName;var KR=["className"];function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function YR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=GR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GR(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZR=n.forwardRef((function(e,t){var n=e.className,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,KR);return(0,Ut.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XR(Object(n),!0).forEach((function(t){YR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:vr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},r))}));ZR.displayName="Textarea";var JR=function(e){var t=e.errorText;return(0,Ut.jsx)("span",{className:vr("text-sm font-medium text-destructive"),children:t})},QR=function(e){var t=e.descriptionText;return(0,Ut.jsx)("span",{className:vr("text-sm text-muted-foreground"),children:t})};function eL(e){return eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eL(e)}var tL=["autoFocus","label","errorText","error","descriptionText","className","innerClassName"],nL=["label","rows","multiline","minRows","maxRows","className","error","errorText","descriptionText","labelEnd","autoFocus"];function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rL(Object(n),!0).forEach((function(t){iL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aL(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var sL=(0,n.forwardRef)((function(e,t){var r=e.autoFocus,o=e.label,i=e.errorText,a=e.error,s=e.descriptionText,l=e.className,c=e.innerClassName,u=aL(e,tL),d=(0,n.useRef)(null);return(0,n.useEffect)((function(){if(r&&d.current){var e=d.current.value.length;setTimeout((function(){d.current&&(d.current.focus(),d.current.setSelectionRange(e,e))}),0)}}),[r]),(0,Ut.jsxs)("div",{className:"grid items-center gap-1.5 border-0 ".concat(l),children:[(0,Ut.jsx)(qR,{className:vr(a?"text-destructive":""),children:o}),(0,Ut.jsx)(DR,oL(oL({ref:t||d,type:"text"},u),{},{className:c})),s&&(0,Ut.jsx)(QR,{descriptionText:s}),a&&i&&(0,Ut.jsx)(JR,{errorText:i})]})}));function lL(e){var t=e.label,r=e.rows,o=e.multiline,i=e.minRows,a=void 0===i?1:i,s=e.maxRows,l=void 0===s?5:s,c=e.className,u=e.error,d=e.errorText,f=e.descriptionText,p=e.labelEnd,h=e.autoFocus,m=aL(e,nL),v=(0,n.useRef)(null);return(0,n.useEffect)((function(){!function(){var e=v.current;if(e&&o){e.style.height="auto";var t=parseInt(window.getComputedStyle(e).lineHeight,10),n=parseInt(window.getComputedStyle(e).borderTopWidth,10)+parseInt(window.getComputedStyle(e).borderBottomWidth,10),r=e.scrollHeight+n,i=t*a,s=t*l+n,c=Math.min(Math.max(r,i),s);e.style.height="".concat(c,"px")}}()}),[o,m.value,a,l]),(0,n.useEffect)((function(){if(h&&v.current){var e=v.current.value.length;v.current.focus(),v.current.setSelectionRange(e,e)}}),[h]),(0,Ut.jsxs)("div",{className:"grid items-center gap-1.5 ".concat(c),children:[(0,Ut.jsxs)("div",{className:"flex items-end justify-between",children:[(0,Ut.jsx)(qR,{className:vr(u?"text-destructive":""),children:t}),p]}),(0,Ut.jsx)("div",{className:"rounded-md border-0",children:(0,Ut.jsx)(ZR,oL({className:"",ref:v,rows:r||a,style:{minHeight:"".concat(1.5*a,"em")}},m))}),f&&(0,Ut.jsx)(QR,{descriptionText:f}),u&&d&&(0,Ut.jsx)(JR,{errorText:d})]})}function cL(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function uL(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function dL(...e){return(0,n.useCallback)(uL(...e),e)}function fL(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>(0,n.createContext)(e)));return function(r){const o=(null==r?void 0:r[e])||t;return(0,n.useMemo)((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=(0,n.createContext)(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=(null==r?void 0:r[e][a])||i,c=(0,n.useMemo)((()=>s),Object.values(s));return(0,n.createElement)(l.Provider,{value:c},o)}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=(null==s?void 0:s[e][a])||i,c=(0,n.useContext)(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},pL(o,...t)]}function pL(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return(0,n.useMemo)((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}sL.displayName="TextFieldShad";const hL=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(gL);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(mL,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(mL,(0,ke.A)({},o,{ref:t}),r)}));hL.displayName="Slot";const mL=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...yL(o,r.props),ref:t?uL(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));mL.displayName="SlotClone";const vL=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function gL(e){return(0,n.isValidElement)(e)&&e.type===vL}function yL(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const bL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=(0,n.forwardRef)(((e,r)=>{const{asChild:o,...i}=e,a=o?hL:t;return(0,n.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,n.createElement)(a,(0,ke.A)({},i,{ref:r}))}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function wL(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e})),(0,n.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}const xL="dismissableLayer.update",SL="dismissableLayer.pointerDownOutside",kL="dismissableLayer.focusOutside";let EL;const OL=(0,n.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jL=(0,n.forwardRef)(((e,t)=>{var r;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:l,onDismiss:c,...u}=e,d=(0,n.useContext)(OL),[f,p]=(0,n.useState)(null),h=null!==(r=null==f?void 0:f.ownerDocument)&&void 0!==r?r:null===globalThis||void 0===globalThis?void 0:globalThis.document,[,m]=(0,n.useState)({}),v=dL(t,(e=>p(e))),g=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=g.indexOf(y),w=f?g.indexOf(f):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,S=w>=b,k=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=wL(e),o=(0,n.useRef)(!1),i=(0,n.useRef)((()=>{}));return(0,n.useEffect)((()=>{const e=e=>{if(e.target&&!o.current){const n={originalEvent:e};function a(){CL(SL,r,n,{discrete:!0})}"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=a,t.addEventListener("click",i.current,{once:!0})):a()}else t.removeEventListener("click",i.current);o.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...d.branches].some((e=>e.contains(t)));S&&!n&&(null==a||a(e),null==l||l(e),e.defaultPrevented||null==c||c())}),h),E=function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=wL(e),o=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{const e=e=>{if(e.target&&!o.current){CL(kL,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...d.branches].some((e=>e.contains(t)))||(null==s||s(e),null==l||l(e),e.defaultPrevented||null==c||c())}),h);return function(e,t=(null===globalThis||void 0===globalThis?void 0:globalThis.document)){const r=wL(e);(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)}),[r,t])}((e=>{w===d.layers.size-1&&(null==i||i(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))}),h),(0,n.useEffect)((()=>{if(f)return o&&(0===d.layersWithOutsidePointerEventsDisabled.size&&(EL=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),_L(),()=>{o&&1===d.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=EL)}}),[f,h,o,d]),(0,n.useEffect)((()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),_L())}),[f,d]),(0,n.useEffect)((()=>{const e=()=>m({});return document.addEventListener(xL,e),()=>document.removeEventListener(xL,e)}),[]),(0,n.createElement)(bL.div,(0,ke.A)({},u,{ref:v,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:cL(e.onFocusCapture,E.onFocusCapture),onBlurCapture:cL(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:cL(e.onPointerDownCapture,k.onPointerDownCapture)}))}));function _L(){const e=new CustomEvent(xL);document.dispatchEvent(e)}function CL(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?function(e,t){e&&(0,Zr.flushSync)((()=>e.dispatchEvent(t)))}(o,i):o.dispatchEvent(i)}let TL=0;function PL(){(0,n.useEffect)((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:AL()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:AL()),TL++,()=>{1===TL&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),TL--}}),[])}function AL(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}const NL="focusScope.autoFocusOnMount",ML="focusScope.autoFocusOnUnmount",IL={bubbles:!1,cancelable:!0},RL=(0,n.forwardRef)(((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=(0,n.useState)(null),u=wL(i),d=wL(a),f=(0,n.useRef)(null),p=dL(t,(e=>c(e))),h=(0,n.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,n.useEffect)((()=>{if(o){function e(e){if(h.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:zL(f.current,{select:!0})}function t(e){if(h.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||zL(f.current,{select:!0}))}function n(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&zL(l)}document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,l,h.paused]),(0,n.useEffect)((()=>{if(l){BL.add(h);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(NL,IL);l.addEventListener(NL,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(zL(r,{select:t}),document.activeElement!==n)return}((e=LL(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&zL(l))}return()=>{l.removeEventListener(NL,u),setTimeout((()=>{const e=new CustomEvent(ML,IL);l.addEventListener(ML,d),l.dispatchEvent(e),e.defaultPrevented||zL(null!=t?t:document.body,{select:!0}),l.removeEventListener(ML,d),BL.remove(h)}),0)}}var e}),[l,u,d,h]);const m=(0,n.useCallback)((e=>{if(!r&&!o)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=LL(e),n=DL(t,e),r=DL(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&zL(i,{select:!0})):(e.preventDefault(),r&&zL(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,h.paused]);return(0,n.createElement)(bL.div,(0,ke.A)({tabIndex:-1},s,{ref:p,onKeyDown:m}))}));function LL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function DL(e,t){for(const n of e)if(!FL(n,{upTo:t}))return n}function FL(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function zL(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const BL=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=$L(e,t),e.unshift(t)},remove(t){var n;e=$L(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function $L(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const UL=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{},VL=r["useId".toString()]||(()=>{});let HL=0;function WL(e){const[t,r]=n.useState(VL());return UL((()=>{e||r((e=>null!=e?e:String(HL++)))}),[e]),e||(t?`radix-${t}`:"")}function qL(e){const[t,r]=(0,n.useState)(void 0);return UL((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let o,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;r({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}const GL="Popper",[KL,XL]=fL(GL),[YL,ZL]=KL(GL),JL=e=>{const{__scopePopper:t,children:r}=e,[o,i]=(0,n.useState)(null);return(0,n.createElement)(YL,{scope:t,anchor:o,onAnchorChange:i},r)},QL="PopperAnchor",eD=(0,n.forwardRef)(((e,t)=>{const{__scopePopper:r,virtualRef:o,...i}=e,a=ZL(QL,r),s=(0,n.useRef)(null),l=dL(t,s);return(0,n.useEffect)((()=>{a.onAnchorChange((null==o?void 0:o.current)||s.current)})),o?null:(0,n.createElement)(bL.div,(0,ke.A)({},i,{ref:l}))})),tD="PopperContent",[nD,rD]=KL(tD),oD=(0,n.forwardRef)(((e,t)=>{var r,o,i,a,s,l,c,u;const{__scopePopper:d,side:f="bottom",sideOffset:p=0,align:h="center",alignOffset:m=0,arrowPadding:v=0,avoidCollisions:g=!0,collisionBoundary:y=[],collisionPadding:b=0,sticky:w="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:k,...E}=e,O=ZL(tD,d),[j,_]=(0,n.useState)(null),C=dL(t,(e=>_(e))),[T,P]=(0,n.useState)(null),A=qL(T),N=null!==(r=null==A?void 0:A.width)&&void 0!==r?r:0,M=null!==(o=null==A?void 0:A.height)&&void 0!==o?o:0,I=f+("center"!==h?"-"+h:""),R="number"==typeof b?b:{top:0,right:0,bottom:0,left:0,...b},L=Array.isArray(y)?y:[y],D=L.length>0,F={padding:R,boundary:L.filter(iD),altBoundary:D},{refs:z,floatingStyles:B,placement:$,isPositioned:U,middlewareData:V}=Fv({strategy:"fixed",placement:I,whileElementsMounted:(...e)=>kv(...e,{animationFrame:"always"===S}),elements:{reference:O.anchor},middleware:[Ev({mainAxis:p+M,alignmentAxis:m}),g&&Ov({mainAxis:!0,crossAxis:!1,limiter:"partial"===w?Pv():void 0,...F}),g&&jv({...F}),_v({...F,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),T&&Nv({element:T,padding:v}),aD({arrowWidth:N,arrowHeight:M}),x&&Cv({strategy:"referenceHidden",...F})]}),[H,W]=sD($),q=wL(k);UL((()=>{U&&(null==q||q())}),[U,q]);const G=null===(i=V.arrow)||void 0===i?void 0:i.x,K=null===(a=V.arrow)||void 0===a?void 0:a.y,X=0!==(null===(s=V.arrow)||void 0===s?void 0:s.centerOffset),[Y,Z]=(0,n.useState)();return UL((()=>{j&&Z(window.getComputedStyle(j).zIndex)}),[j]),(0,n.createElement)("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:U?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[null===(l=V.transformOrigin)||void 0===l?void 0:l.x,null===(c=V.transformOrigin)||void 0===c?void 0:c.y].join(" ")},dir:e.dir},(0,n.createElement)(nD,{scope:d,placedSide:H,onArrowChange:P,arrowX:G,arrowY:K,shouldHideArrow:X},(0,n.createElement)(bL.div,(0,ke.A)({"data-side":H,"data-align":W},E,{ref:C,style:{...E.style,animation:U?void 0:"none",opacity:null!==(u=V.hide)&&void 0!==u&&u.referenceHidden?0:void 0}}))))}));function iD(e){return null!==e}const aD=e=>({name:"transformOrigin",options:e,fn(t){var n,r,o,i,a;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null===(n=c.arrow)||void 0===n?void 0:n.centerOffset),d=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[p,h]=sD(s),m={start:"0%",center:"50%",end:"100%"}[h],v=(null!==(r=null===(o=c.arrow)||void 0===o?void 0:o.x)&&void 0!==r?r:0)+d/2,g=(null!==(i=null===(a=c.arrow)||void 0===a?void 0:a.y)&&void 0!==i?i:0)+f/2;let y="",b="";return"bottom"===p?(y=u?m:`${v}px`,b=-f+"px"):"top"===p?(y=u?m:`${v}px`,b=`${l.floating.height+f}px`):"right"===p?(y=-f+"px",b=u?m:`${g}px`):"left"===p&&(y=`${l.floating.width+f}px`,b=u?m:`${g}px`),{data:{x:y,y:b}}}});function sD(e){const[t,n="center"]=e.split("-");return[t,n]}const lD=JL,cD=eD,uD=oD,dD=(0,n.forwardRef)(((e,t)=>{var r;const{container:o=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...i}=e;return o?Zr.createPortal((0,n.createElement)(bL.div,(0,ke.A)({},i,{ref:t})),o):null}));const fD=e=>{const{present:t,children:r}=e,o=function(e){const[t,r]=(0,n.useState)(),o=(0,n.useRef)({}),i=(0,n.useRef)(e),a=(0,n.useRef)("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return(0,n.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,n.useEffect)((()=>{const e=pD(o.current);a.current="mounted"===l?e:"none"}),[l]),UL((()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=pD(t);if(e)c("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),UL((()=>{if(t){const e=e=>{const n=pD(o.current).includes(e.animationName);e.target===t&&n&&(0,Zr.flushSync)((()=>c("ANIMATION_END")))},n=e=>{e.target===t&&(a.current=pD(o.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:(0,n.useCallback)((e=>{e&&(o.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=dL(o.ref,i.ref);return"function"==typeof r||o.isPresent?(0,n.cloneElement)(i,{ref:a}):null};function pD(e){return(null==e?void 0:e.animationName)||"none"}fD.displayName="Presence";const hD=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(gD);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(mD,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(mD,(0,ke.A)({},o,{ref:t}),r)}));hD.displayName="Slot";const mD=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...yD(o,r.props),ref:t?uL(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));mD.displayName="SlotClone";const vD=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function gD(e){return(0,n.isValidElement)(e)&&e.type===vD}function yD(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function bD({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=(0,n.useState)(e),[o]=r,i=(0,n.useRef)(o),a=wL(t);return(0,n.useEffect)((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=wL(r),c=(0,n.useCallback)((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l]);return[s,c]}var wD=Jg(),xD=function(){},SD=n.forwardRef((function(e,t){var r=n.useRef(null),o=n.useState({onScrollCapture:xD,onWheelCapture:xD,onTouchMoveCapture:xD}),i=o[0],a=o[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,v=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=Ug(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,x=Xg([r,t]),S=$g($g({},b),i);return n.createElement(n.Fragment,null,d&&n.createElement(w,{sideCar:wD,removeScrollBar:u,shards:f,noIsolation:h,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r}),s?n.cloneElement(n.Children.only(l),$g($g({},S),{ref:x})):n.createElement(y,$g({},S,{className:c,ref:x}),l))}));SD.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},SD.classNames={fullWidth:Wg,zeroRight:Hg};var kD=!1;if("undefined"!=typeof window)try{var ED=Object.defineProperty({},"passive",{get:function(){return kD=!0,!0}});window.addEventListener("test",ED,ED),window.removeEventListener("test",ED,ED)}catch(Wet){kD=!1}var OD=!!kD&&{passive:!1},jD=function(e,t){var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},_D=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),CD(e,n)){var r=TD(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},CD=function(e,t){return"v"===e?function(e){return jD(e,"overflowY")}(t):function(e){return jD(e,"overflowX")}(t)},TD=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},PD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},AD=function(e){return[e.deltaX,e.deltaY]},ND=function(e){return e&&"current"in e?e.current:e},MD=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},ID=0,RD=[];const LD=oy(wD,(function(e){var t=n.useRef([]),r=n.useRef([0,0]),o=n.useRef(),i=n.useState(ID++)[0],a=n.useState((function(){return sy()}))[0],s=n.useRef(e);n.useEffect((function(){s.current=e}),[e]),n.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=Vg([e.lockRef.current],(e.shards||[]).map(ND),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=n.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var n,i=PD(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=_D(d,u);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=_D(d,u)),!f)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=n),!n)return!0;var p=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{var p=TD(e,s),h=p[0],m=p[1]-p[2]-i*h;(h||m)&&CD(e,s)&&(d+=m,f+=h),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&0===d||!o&&a>d)||!u&&(o&&0===f||!o&&-a>f))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=n.useCallback((function(e){var n=e;if(RD.length&&RD[RD.length-1]===a){var r="deltaY"in n?AD(n):PD(n),o=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(o&&o.should)n.cancelable&&n.preventDefault();else if(!o){var i=(s.current.shards||[]).map(ND).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?l(n,i[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),u=n.useCallback((function(e,n,r,o){var i={name:e,delta:n,target:r,should:o};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=n.useCallback((function(e){r.current=PD(e),o.current=void 0}),[]),f=n.useCallback((function(t){u(t.type,AD(t),t.target,l(t,e.lockRef.current))}),[]),p=n.useCallback((function(t){u(t.type,PD(t),t.target,l(t,e.lockRef.current))}),[]);n.useEffect((function(){return RD.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,OD),document.addEventListener("touchmove",c,OD),document.addEventListener("touchstart",d,OD),function(){RD=RD.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,OD),document.removeEventListener("touchmove",c,OD),document.removeEventListener("touchstart",d,OD)}}),[]);var h=e.removeScrollBar,m=e.inert;return n.createElement(n.Fragment,null,m?n.createElement(a,{styles:MD(i)}):null,h?n.createElement(my,{gapMode:"margin"}):null)}));var DD=n.forwardRef((function(e,t){return n.createElement(SD,$g({},e,{ref:t,sideCar:LD}))}));DD.classNames=SD.classNames;const FD=DD,zD="Popover",[BD,$D]=fL(zD,[XL]),UD=XL(),[VD,HD]=BD(zD),WD=e=>{const{__scopePopover:t,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:s=!1}=e,l=UD(t),c=(0,n.useRef)(null),[u,d]=(0,n.useState)(!1),[f=!1,p]=bD({prop:o,defaultProp:i,onChange:a});return(0,n.createElement)(lD,l,(0,n.createElement)(VD,{scope:t,contentId:WL(),triggerRef:c,open:f,onOpenChange:p,onOpenToggle:(0,n.useCallback)((()=>p((e=>!e))),[p]),hasCustomAnchor:u,onCustomAnchorAdd:(0,n.useCallback)((()=>d(!0)),[]),onCustomAnchorRemove:(0,n.useCallback)((()=>d(!1)),[]),modal:s},r))},qD="PopoverTrigger",GD=(0,n.forwardRef)(((e,t)=>{const{__scopePopover:r,...o}=e,i=HD(qD,r),a=UD(r),s=dL(t,i.triggerRef),l=(0,n.createElement)(bL.button,(0,ke.A)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rF(i.open)},o,{ref:s,onClick:cL(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?l:(0,n.createElement)(cD,(0,ke.A)({asChild:!0},a),l)})),KD="PopoverPortal",[XD,YD]=BD(KD,{forceMount:void 0}),ZD=e=>{const{__scopePopover:t,forceMount:r,children:o,container:i}=e,a=HD(KD,t);return(0,n.createElement)(XD,{scope:t,forceMount:r},(0,n.createElement)(fD,{present:r||a.open},(0,n.createElement)(dD,{asChild:!0,container:i},o)))},JD="PopoverContent",QD=(0,n.forwardRef)(((e,t)=>{const r=YD(JD,e.__scopePopover),{forceMount:o=r.forceMount,...i}=e,a=HD(JD,e.__scopePopover);return(0,n.createElement)(fD,{present:o||a.open},a.modal?(0,n.createElement)(eF,(0,ke.A)({},i,{ref:t})):(0,n.createElement)(tF,(0,ke.A)({},i,{ref:t})))})),eF=(0,n.forwardRef)(((e,t)=>{const r=HD(JD,e.__scopePopover),o=(0,n.useRef)(null),i=dL(t,o),a=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{const e=o.current;if(e)return Bg(e)}),[]),(0,n.createElement)(FD,{as:hD,allowPinchZoom:!0},(0,n.createElement)(nF,(0,ke.A)({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cL(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),a.current||null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:cL(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;a.current=r}),{checkForDefaultPrevented:!1}),onFocusOutside:cL(e.onFocusOutside,(e=>e.preventDefault()),{checkForDefaultPrevented:!1})})))})),tF=(0,n.forwardRef)(((e,t)=>{const r=HD(JD,e.__scopePopover),o=(0,n.useRef)(!1),i=(0,n.useRef)(!1);return(0,n.createElement)(nF,(0,ke.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,a;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(o.current||null===(a=r.triggerRef.current)||void 0===a||a.focus(),t.preventDefault());o.current=!1,i.current=!1},onInteractOutside:t=>{var n,a;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(a=r.triggerRef.current)||void 0===a?void 0:a.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))})),nF=(0,n.forwardRef)(((e,t)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:s,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,p=HD(JD,r),h=UD(r);return PL(),(0,n.createElement)(RL,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,n.createElement)(jL,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1)},(0,n.createElement)(uD,(0,ke.A)({"data-state":rF(p.open),role:"dialog",id:p.contentId},h,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}));function rF(e){return e?"open":"closed"}const oF=ZD,iF=QD;function aF(e){return aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aF(e)}var sF=["className","align","sideOffset"];function lF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lF(Object(n),!0).forEach((function(t){uF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=aF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dF=WD,fF=GD,pF=n.forwardRef((function(e,t){var n=e.className,r=e.align,o=void 0===r?"center":r,i=e.sideOffset,a=void 0===i?4:i,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,sF);return(0,Ut.jsx)(oF,{children:(0,Ut.jsx)(iF,cF({ref:t,align:o,"data-no-navigate":!0,sideOffset:a,className:vr("z-[999999] w-72 rounded-md border border-solid bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},s))})}));pF.displayName=iF.displayName;var hF=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});var mF="horizontal",vF=["horizontal","vertical"],gF=n.forwardRef(((e,t)=>{const{decorative:n,orientation:r=mF,...o}=e,i=function(e){return vF.includes(e)}(r)?r:mF,a=n?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"};return(0,Ut.jsx)(hF.div,{"data-orientation":i,...a,...o,ref:t})}));gF.displayName="Separator";var yF=gF;function bF(e){return bF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bF(e)}var wF=["className","orientation","decorative"];function xF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kF=n.forwardRef((function(e,t){var n=e.className,r=e.orientation,o=void 0===r?"horizontal":r,i=e.decorative,a=void 0===i||i,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,wF);return(0,Ut.jsx)(yF,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xF(Object(n),!0).forEach((function(t){SF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,decorative:a,orientation:o,className:vr("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",n)},s))}));function EF(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function OF(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}function jF({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[o]=r,i=n.useRef(o),a=OF(t);return n.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=OF(r);return[s,n.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l])]}kF.displayName=yF.displayName;var _F=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});var CF=n.forwardRef(((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...i}=e,[a=!1,s]=jF({prop:n,onChange:o,defaultProp:r});return(0,Ut.jsx)(_F.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:EF(e.onClick,(()=>{e.disabled||s(!a)}))})}));CF.displayName="Toggle";var TF=CF;function PF(e){return PF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PF(e)}var AF=["className","variant","size"];function NF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=PF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PF(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IF=Pn("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),RF=n.forwardRef((function(e,t){var n=e.className,r=e.variant,o=e.size,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,AF);return(0,Ut.jsx)(TF,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NF(Object(n),!0).forEach((function(t){MF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,className:vr(IF({variant:r,size:o,className:n}))},i))}));RF.displayName=TF.displayName;const LF=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})),DF=Gw("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),FF=Gw("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),zF=Gw("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),BF=Gw("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),$F=Gw("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),UF=Gw("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]),VF=Gw("SquareFunction",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]),HF=Gw("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]),WF=Gw("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),qF=Gw("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]),GF=Gw("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]),KF=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,XF=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,YF=QA.create({name:"highlight",addOptions:()=>({multicolor:!1,HTMLAttributes:{}}),addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML:()=>[{tag:"mark"}],renderHTML({HTMLAttributes:e}){return["mark",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ZN({find:KF,type:this.type})]},addPasteRules(){return[rM({find:XF,type:this.type})]}}),ZF=(e,t)=>{for(const n in t)e[n]=t[n];return e},JF="numeric",QF="ascii",ez="alpha",tz="asciinumeric",nz="alphanumeric",rz="domain",oz="emoji",iz="scheme",az="slashscheme",sz="whitespace";function lz(e,t){return e in t||(t[e]=[]),t[e]}function cz(e,t,n){t[JF]&&(t[tz]=!0,t[nz]=!0),t[QF]&&(t[tz]=!0,t[ez]=!0),t[tz]&&(t[nz]=!0),t[ez]&&(t[nz]=!0),t[nz]&&(t[rz]=!0),t[oz]&&(t[rz]=!0);for(const r in t){const t=lz(r,n);t.indexOf(e)<0&&t.push(e)}}function uz(e){void 0===e&&(e=null),this.j={},this.jr=[],this.jd=null,this.t=e}uz.groups={},uz.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let n=0;n<t.jr.length;n++){const r=t.jr[n][0],o=t.jr[n][1];if(o&&r.test(e))return o}return t.jd},has(e,t){return void 0===t&&(t=!1),t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,r)},tr(e,t,n,r){let o;return r=r||uz.groups,t&&t.j?o=t:(o=new uz(t),n&&r&&cz(t,n,r)),this.jr.push([e,o]),o},ts(e,t,n,r){let o=this;const i=e.length;if(!i)return o;for(let t=0;t<i-1;t++)o=o.tt(e[t]);return o.tt(e[i-1],t,n,r)},tt(e,t,n,r){r=r||uz.groups;const o=this;if(t&&t.j)return o.j[e]=t,t;const i=t;let a,s=o.go(e);if(s?(a=new uz,ZF(a.j,s.j),a.jr.push.apply(a.jr,s.jr),a.jd=s.jd,a.t=s.t):a=new uz,i){if(r)if(a.t&&"string"==typeof a.t){const e=ZF(function(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}(a.t,r),n);cz(i,e,r)}else n&&cz(i,n,r);a.t=i}return o.j[e]=a,a}};const dz=(e,t,n,r,o)=>e.ta(t,n,r,o),fz=(e,t,n,r,o)=>e.tr(t,n,r,o),pz=(e,t,n,r,o)=>e.ts(t,n,r,o),hz=(e,t,n,r,o)=>e.tt(t,n,r,o),mz="WORD",vz="UWORD",gz="LOCALHOST",yz="TLD",bz="UTLD",wz="SCHEME",xz="SLASH_SCHEME",Sz="NUM",kz="NL",Ez="OPENBRACE",Oz="CLOSEBRACE",jz="OPENBRACKET",_z="CLOSEBRACKET",Cz="OPENPAREN",Tz="CLOSEPAREN",Pz="OPENANGLEBRACKET",Az="CLOSEANGLEBRACKET",Nz="FULLWIDTHLEFTPAREN",Mz="FULLWIDTHRIGHTPAREN",Iz="LEFTCORNERBRACKET",Rz="RIGHTCORNERBRACKET",Lz="LEFTWHITECORNERBRACKET",Dz="RIGHTWHITECORNERBRACKET",Fz="FULLWIDTHLESSTHAN",zz="FULLWIDTHGREATERTHAN",Bz="AMPERSAND",$z="APOSTROPHE",Uz="ASTERISK",Vz="AT",Hz="BACKSLASH",Wz="BACKTICK",qz="CARET",Gz="COLON",Kz="COMMA",Xz="DOLLAR",Yz="DOT",Zz="EQUALS",Jz="EXCLAMATION",Qz="HYPHEN",eB="PERCENT",tB="PIPE",nB="PLUS",rB="POUND",oB="QUERY",iB="QUOTE",aB="SEMI",sB="SLASH",lB="TILDE",cB="UNDERSCORE",uB="EMOJI",dB="SYM";var fB=Object.freeze({__proto__:null,WORD:mz,UWORD:vz,LOCALHOST:gz,TLD:yz,UTLD:bz,SCHEME:wz,SLASH_SCHEME:xz,NUM:Sz,WS:"WS",NL:kz,OPENBRACE:Ez,CLOSEBRACE:Oz,OPENBRACKET:jz,CLOSEBRACKET:_z,OPENPAREN:Cz,CLOSEPAREN:Tz,OPENANGLEBRACKET:Pz,CLOSEANGLEBRACKET:Az,FULLWIDTHLEFTPAREN:Nz,FULLWIDTHRIGHTPAREN:Mz,LEFTCORNERBRACKET:Iz,RIGHTCORNERBRACKET:Rz,LEFTWHITECORNERBRACKET:Lz,RIGHTWHITECORNERBRACKET:Dz,FULLWIDTHLESSTHAN:Fz,FULLWIDTHGREATERTHAN:zz,AMPERSAND:Bz,APOSTROPHE:$z,ASTERISK:Uz,AT:Vz,BACKSLASH:Hz,BACKTICK:Wz,CARET:qz,COLON:Gz,COMMA:Kz,DOLLAR:Xz,DOT:Yz,EQUALS:Zz,EXCLAMATION:Jz,HYPHEN:Qz,PERCENT:eB,PIPE:tB,PLUS:nB,POUND:rB,QUERY:oB,QUOTE:iB,SEMI:aB,SLASH:sB,TILDE:lB,UNDERSCORE:cB,EMOJI:uB,SYM:dB});const pB=/[a-z]/,hB=/\p{L}/u,mB=/\p{Emoji}/u,vB=/\d/,gB=/\s/;let yB=null,bB=null;function wB(e,t,n,r,o){let i;const a=t.length;for(let n=0;n<a-1;n++){const a=t[n];e.j[a]?i=e.j[a]:(i=new uz(r),i.jr=o.slice(),e.j[a]=i),e=i}return i=new uz(n),i.jr=o.slice(),e.j[t[a-1]]=i,i}function xB(e){const t=[],n=[];let r=0;for(;r<e.length;){let o=0;for(;"0123456789".indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(r,r+o),10);t>0;t--)n.pop();r+=o}else n.push(e[r]),r++}return t}const SB={defaultProtocol:"http",events:null,format:EB,formatHref:EB,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function kB(e,t){void 0===t&&(t=null);let n=ZF({},SB);e&&(n=ZF(n,e instanceof kB?e.o:e));const r=n.ignoreTags,o=[];for(let e=0;e<r.length;e++)o.push(r[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=o}function EB(e){return e}kB.prototype={o:SB,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=null!=t;let o=this.o[e];return o?("object"==typeof o?(o=n.t in o?o[n.t]:SB[e],"function"==typeof o&&r&&(o=o(t,n))):"function"==typeof o&&r&&(o=o(t,n.t,n)),o):o},getObj(e,t,n){let r=this.o[e];return"function"==typeof r&&null!=t&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function OB(e,t){this.t="token",this.v=e,this.tk=t}function jB(e,t){class n extends OB{constructor(t,n){super(t,n),this.t=e}}for(const e in t)n.prototype[e]=t[e];return n.t=e,n}OB.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e){return void 0===e&&(e=SB.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),o=e.get("tagName",n,t),i=this.toFormattedString(e),a={},s=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return a.href=r,s&&(a.class=s),l&&(a.target=l),c&&(a.rel=c),u&&ZF(a,u),{tagName:o,attributes:a,content:i,eventListeners:d}}};const _B=jB("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),CB=jB("text"),TB=jB("nl"),PB=jB("url",{isLink:!0,toHref(e){return void 0===e&&(e=SB.defaultProtocol),this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==gz&&e[1].t===Gz}});const AB=e=>new uz(e);function NB(e,t,n){const r=n[0].s,o=n[n.length-1].e;return new e(t.slice(r,o),n)}const MB="undefined"!=typeof console&&console&&console.warn||(()=>{}),IB="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",RB={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function LB(e,t){if(void 0===t&&(t=!1),RB.initialized&&MB(`linkifyjs: already initialized - will not register custom scheme "${e}" ${IB}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');RB.customSchemes.push([e,t])}function DB(){RB.scanner=function(e){void 0===e&&(e=[]);const t={};uz.groups=t;const n=new uz;null==yB&&(yB=xB("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==bB&&(bB=xB("ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2")),hz(n,"'",$z),hz(n,"{",Ez),hz(n,"}",Oz),hz(n,"[",jz),hz(n,"]",_z),hz(n,"(",Cz),hz(n,")",Tz),hz(n,"<",Pz),hz(n,">",Az),hz(n,"（",Nz),hz(n,"）",Mz),hz(n,"「",Iz),hz(n,"」",Rz),hz(n,"『",Lz),hz(n,"』",Dz),hz(n,"＜",Fz),hz(n,"＞",zz),hz(n,"&",Bz),hz(n,"*",Uz),hz(n,"@",Vz),hz(n,"`",Wz),hz(n,"^",qz),hz(n,":",Gz),hz(n,",",Kz),hz(n,"$",Xz),hz(n,".",Yz),hz(n,"=",Zz),hz(n,"!",Jz),hz(n,"-",Qz),hz(n,"%",eB),hz(n,"|",tB),hz(n,"+",nB),hz(n,"#",rB),hz(n,"?",oB),hz(n,'"',iB),hz(n,"/",sB),hz(n,";",aB),hz(n,"~",lB),hz(n,"_",cB),hz(n,"\\",Hz);const r=fz(n,vB,Sz,{[JF]:!0});fz(r,vB,r);const o=fz(n,pB,mz,{[QF]:!0});fz(o,pB,o);const i=fz(n,hB,vz,{[ez]:!0});fz(i,pB),fz(i,hB,i);const a=fz(n,gB,"WS",{[sz]:!0});hz(n,"\n",kz,{[sz]:!0}),hz(a,"\n"),fz(a,gB,a);const s=fz(n,mB,uB,{[oz]:!0});fz(s,mB,s),hz(s,"️",s);const l=hz(s,"‍");fz(l,mB,s);const c=[[pB,o]],u=[[pB,null],[hB,i]];for(let e=0;e<yB.length;e++)wB(n,yB[e],yz,mz,c);for(let e=0;e<bB.length;e++)wB(n,bB[e],bz,vz,u);cz(yz,{tld:!0,ascii:!0},t),cz(bz,{utld:!0,alpha:!0},t),wB(n,"file",wz,mz,c),wB(n,"mailto",wz,mz,c),wB(n,"http",xz,mz,c),wB(n,"https",xz,mz,c),wB(n,"ftp",xz,mz,c),wB(n,"ftps",xz,mz,c),cz(wz,{scheme:!0,ascii:!0},t),cz(xz,{slashscheme:!0,ascii:!0},t),e=e.sort(((e,t)=>e[0]>t[0]?1:-1));for(let t=0;t<e.length;t++){const r=e[t][0],o=e[t][1]?{[iz]:!0}:{[az]:!0};r.indexOf("-")>=0?o[rz]=!0:pB.test(r)?vB.test(r)?o[tz]=!0:o[QF]=!0:o[JF]=!0,pz(n,r,r,o)}return pz(n,"localhost",gz,{ascii:!0}),n.jd=new uz(dB),{start:n,tokens:ZF({groups:t},fB)}}(RB.customSchemes);for(let e=0;e<RB.tokenQueue.length;e++)RB.tokenQueue[e][1]({scanner:RB.scanner});RB.parser=function(e){let{groups:t}=e;const n=t.domain.concat([Bz,Uz,Vz,Hz,Wz,qz,Xz,Zz,Qz,Sz,eB,tB,nB,rB,sB,dB,lB,cB]),r=[$z,Gz,Kz,Yz,Jz,oB,iB,aB,Pz,Az,Ez,Oz,_z,jz,Cz,Tz,Nz,Mz,Iz,Rz,Lz,Dz,Fz,zz],o=[Bz,$z,Uz,Hz,Wz,qz,Xz,Zz,Qz,Ez,Oz,eB,tB,nB,rB,oB,sB,dB,lB,cB],i=AB(),a=hz(i,lB);dz(a,o,a),dz(a,t.domain,a);const s=AB(),l=AB(),c=AB();dz(i,t.domain,s),dz(i,t.scheme,l),dz(i,t.slashscheme,c),dz(s,o,a),dz(s,t.domain,s);const u=hz(s,Vz);hz(a,Vz,u),hz(l,Vz,u),hz(c,Vz,u);const d=hz(a,Yz);dz(d,o,a),dz(d,t.domain,a);const f=AB();dz(u,t.domain,f),dz(f,t.domain,f);const p=hz(f,Yz);dz(p,t.domain,f);const h=AB(_B);dz(p,t.tld,h),dz(p,t.utld,h),hz(u,gz,h);const m=hz(f,Qz);dz(m,t.domain,f),dz(h,t.domain,f),hz(h,Yz,p),hz(h,Qz,m);const v=hz(h,Gz);dz(v,t.numeric,_B);const g=hz(s,Qz),y=hz(s,Yz);dz(g,t.domain,s),dz(y,o,a),dz(y,t.domain,s);const b=AB(PB);dz(y,t.tld,b),dz(y,t.utld,b),dz(b,t.domain,s),dz(b,o,a),hz(b,Yz,y),hz(b,Qz,g),hz(b,Vz,u);const w=hz(b,Gz),x=AB(PB);dz(w,t.numeric,x);const S=AB(PB),k=AB();dz(S,n,S),dz(S,r,k),dz(k,n,S),dz(k,r,k),hz(b,sB,S),hz(x,sB,S);const E=hz(l,Gz),O=hz(c,Gz),j=hz(O,sB),_=hz(j,sB);dz(l,t.domain,s),hz(l,Yz,y),hz(l,Qz,g),dz(c,t.domain,s),hz(c,Yz,y),hz(c,Qz,g),dz(E,t.domain,S),hz(E,sB,S),dz(_,t.domain,S),dz(_,n,S),hz(_,sB,S);const C=[[Ez,Oz],[jz,_z],[Cz,Tz],[Pz,Az],[Nz,Mz],[Iz,Rz],[Lz,Dz],[Fz,zz]];for(let e=0;e<C.length;e++){const[t,o]=C[e],i=hz(S,t);hz(k,t,i),hz(i,o,S);const a=AB(PB);dz(i,n,a);const s=AB();dz(i,r),dz(a,n,a),dz(a,r,s),dz(s,n,a),dz(s,r,s),hz(a,o,S),hz(s,o,S)}return hz(i,gz,b),hz(i,kz,TB),{start:i,tokens:fB}}(RB.scanner.tokens);for(let e=0;e<RB.pluginQueue.length;e++)RB.pluginQueue[e][1]({scanner:RB.scanner,parser:RB.parser});RB.initialized=!0}function FB(e){return RB.initialized||DB(),function(e,t,n){let r=n.length,o=0,i=[],a=[];for(;o<r;){let s=e,l=null,c=null,u=0,d=null,f=-1;for(;o<r&&!(l=s.go(n[o].t));)a.push(n[o++]);for(;o<r&&(c=l||s.go(n[o].t));)l=null,s=c,s.accepts()?(f=0,d=s):f>=0&&f++,o++,u++;if(f<0)o-=u,o<r&&(a.push(n[o]),o++);else{a.length>0&&(i.push(NB(CB,t,a)),a=[]),o-=f,u-=f;const e=d.t,r=n.slice(o-u,o);i.push(NB(e,t,r))}}return a.length>0&&i.push(NB(CB,t,a)),i}(RB.parser.start,e,function(e,t){const n=function(e){const t=[],n=e.length;let r=0;for(;r<n;){let o,i=e.charCodeAt(r),a=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(a),r+=a.length}return t}(t.replace(/[A-Z]/g,(e=>e.toLowerCase()))),r=n.length,o=[];let i=0,a=0;for(;a<r;){let s=e,l=null,c=0,u=null,d=-1,f=-1;for(;a<r&&(l=s.go(n[a]));)s=l,s.accepts()?(d=0,f=0,u=s):d>=0&&(d+=n[a].length,f++),c+=n[a].length,i+=n[a].length,a++;i-=d,a-=f,c-=d,o.push({t:u.t,v:t.slice(i-c,i),s:i-c,e:i})}return o}(RB.scanner.start,e))}function zB(e,t,n){if(void 0===t&&(t=null),void 0===n&&(n=null),t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new kB(n),o=FB(e),i=[];for(let e=0;e<o.length;e++){const n=o[e];!n.isLink||t&&n.t!==t||!r.check(n)||i.push(n.toFormattedObject(r))}return i}function BB(e){return new __({key:new P_("autolink"),appendTransaction:(t,n,r)=>{const o=t.some((e=>e.docChanged))&&!n.doc.eq(r.doc),i=t.some((e=>e.getMeta("preventAutolink")));if(!o||i)return;const{tr:a}=r,s=function(e,t){const n=new a_(e);return t.forEach((e=>{e.steps.forEach((e=>{n.step(e)}))})),n}(n.doc,[...t]),l=function(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach(((e,o)=>{const i=[];if(e.ranges.length)e.forEach(((e,t)=>{i.push({from:e,to:t})}));else{const{from:e,to:t}=n[o];if(void 0===e||void 0===t)return;i.push({from:e,to:t})}i.forEach((({from:e,to:n})=>{const i=t.slice(o).map(e,-1),a=t.slice(o).map(n),s=t.invert().map(i,-1),l=t.invert().map(a);r.push({oldRange:{from:s,to:l},newRange:{from:i,to:a}})}))})),NN(r)}(s);return l.forEach((({newRange:t})=>{const n=function(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,((e,t)=>{n(e)&&r.push({node:e,pos:t})})),r}(r.doc,t,(e=>e.isTextblock));let o,i;if(n.length>1?(o=n[0],i=r.doc.textBetween(o.pos,o.pos+o.node.nodeSize,void 0," ")):n.length&&r.doc.textBetween(t.from,t.to," "," ").endsWith(" ")&&(o=n[0],i=r.doc.textBetween(o.pos,t.to,void 0," ")),o&&i){const t=i.split(" ").filter((e=>""!==e));if(t.length<=0)return!1;const n=t[t.length-1],l=o.pos+i.lastIndexOf(n);if(!n)return!1;const c=FB(n).map((e=>e.toObject()));if(!(1===(s=c).length?s[0].isLink:3===s.length&&s[1].isLink&&["()","[]"].includes(s[0].value+s[2].value)))return!1;c.filter((e=>e.isLink)).map((e=>({...e,from:l+e.start+1,to:l+e.end+1}))).filter((e=>!r.schema.marks.code||!r.doc.rangeHasMark(e.from,e.to,r.schema.marks.code))).filter((t=>!e.validate||e.validate(t.value))).forEach((t=>{MN(t.from,t.to,r.doc).some((t=>t.mark.type===e.type))||a.addMark(t.from,t.to,e.type.create({href:t.href}))}))}var s})),a.steps.length?a:void 0}})}const $B=QA.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach((e=>{"string"!=typeof e?LB(e.scheme,e.optionalSlashes):LB(e)}))},onDestroy(){uz.groups={},RB.scanner=null,RB.parser=null,RB.tokenQueue=[],RB.pluginQueue=[],RB.customSchemes=[],RB.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}),addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML:()=>[{tag:'a[href]:not([href *= "javascript:" i])'}],renderHTML({HTMLAttributes:e}){var t;return(null===(t=e.href)||void 0===t?void 0:t.startsWith("javascript:"))?["a",FA(this.options.HTMLAttributes,{...e,href:""}),0]:["a",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[rM({find:e=>{const t=[];if(e){const n=zB(e).filter((e=>e.isLink));n.length&&n.forEach((e=>t.push({text:e.value,data:{href:e.href},index:e.start})))}return t},type:this.type,getAttributes:e=>{var t;return{href:null===(t=e.data)||void 0===t?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(BB({type:this.type,validate:this.options.validate})),this.options.openOnClick&&e.push(function(e){return new __({key:new P_("handleClickLink"),props:{handleClick:(t,n,r)=>{var o,i;if(e.whenNotEditable&&t.editable)return!1;if(0!==r.button)return!1;let a=r.target;const s=[];for(;"DIV"!==a.nodeName;)s.push(a),a=a.parentNode;if(!s.find((e=>"A"===e.nodeName)))return!1;const l=AN(t.state,e.type.name),c=r.target,u=null!==(o=null==c?void 0:c.href)&&void 0!==o?o:l.href,d=null!==(i=null==c?void 0:c.target)&&void 0!==i?i:l.target;return!(!c||!u||(window.open(u,d),0))}}})}({type:this.type,whenNotEditable:"whenNotEditable"===this.options.openOnClick})),this.options.linkOnPaste&&e.push(function(e){return new __({key:new P_("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{state:o}=t,{selection:i}=o,{empty:a}=i;if(a)return!1;let s="";r.content.forEach((e=>{s+=e.textContent}));const l=zB(s).find((e=>e.isLink&&e.value===s));return!(!s||!l||(e.editor.commands.setMark(e.type,{href:l.href}),0))}}})}({editor:this.editor,type:this.type})),e}}),UB=oN.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new __({key:new P_("placeholder"),props:{decorations:({doc:e,selection:t})=>{var n;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=t,i=[];if(!r)return null;const{firstChild:a}=e.content,s=a&&a.type.isLeaf,l=a&&a.isAtom,c=!!this.options.considerAnyAsEmpty||a&&a.type.name===(null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.name),u=e.content.childCount<=1&&a&&c&&a.nodeSize<=2&&(!s||!l);return e.descendants(((e,t)=>{const n=o>=t&&o<=t+e.nodeSize,r=!e.isLeaf&&!e.childCount;if((n||!this.options.showOnlyCurrent)&&r){const r=[this.options.emptyNodeClass];u&&r.push(this.options.emptyEditorClass);const o=dP.node(t,t+e.nodeSize,{class:r.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:e,pos:t,hasAnchor:n}):this.options.placeholder});i.push(o)}return this.options.includeChildren})),hP.create(e,i)}}})]}});var VB=tM.create({name:"caption",priority:1e3,addOptions:function(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML:function(){return[{tag:"div.text-caption"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["div",FA({class:"caption"},this.options.HTMLAttributes,t),0]},addCommands:function(){var e=this;return{setCaption:function(){return function(t){return t.commands.setNode(e.name)}}}},addKeyboardShortcuts:function(){var e=this;return{"Mod-Alt-C":function(){return e.editor.commands.setCaption()}}}});const HB=VB,WB=/^\s*>\s$/,qB=tM.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[eM({find:WB,type:this.type})]}}),GB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,KB=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,XB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,YB=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,ZB=QA.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ZN({find:GB,type:this.type}),ZN({find:XB,type:this.type})]},addPasteRules(){return[rM({find:KB,type:this.type}),rM({find:YB,type:this.type})]}}),JB=tM.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",FA(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),QB=QA.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=ON(e,this.type),r=Object.entries(n).some((([,e])=>!!e));return!!r||t.unsetMark(this.name)}}}}),e$=/^\s*([-+*])\s$/,t$=tM.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(JB.name,this.editor.getAttributes(QB.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=eM({find:e$,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=eM({find:e$,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(QB.name),editor:this.editor})),[e]}}),n$=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,r$=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,o$=QA.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ZN({find:n$,type:this.type})]},addPasteRules(){return[rM({find:r$,type:this.type})]}}),i$=/^```([a-z]+)?[\s\n]$/,a$=/^~~~([a-z]+)?[\s\n]$/,s$=tM.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter((e=>e.startsWith(n))).map((e=>e.replace(n,""))),o=r[0];return o||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",FA(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith("\n\n");return!(!i||!a)&&e.chain().command((({tr:e})=>(e.delete(r.pos-2,r.pos),!0))).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:i}=n;if(!i||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const a=o.after();if(void 0===a)return!1;return r.nodeAt(a)?e.commands.command((({tr:e})=>(e.setSelection(l_.near(r.resolve(a))),!0))):e.commands.exitCode()}}},addInputRules(){return[QN({find:i$,type:this.type,getAttributes:e=>({language:e[1]})}),QN({find:a$,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new __({key:new P_("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=null==o?void 0:o.mode;if(!n||!i)return!1;const{tr:a,schema:s}=e.state,l=s.text(n.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(f_.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),l$=tM.create({name:"doc",topNode:!0,content:"block+"});function c$(e={}){return new __({view:t=>new u$(t,e)})}class u${constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!==(n=t.width)&&void 0!==n?n:1,this.color=!1===t.color?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map((t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}}))}destroy(){this.handlers.forEach((({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t)))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent;if(n){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0));if(t){let o=t.getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let r,o,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n),!i||i==document.body&&"static"==getComputedStyle(i).position)r=-pageXOffset,o=-pageYOffset;else{let e=i.getBoundingClientRect();r=e.left-i.scrollLeft,o=e.top-i.scrollTop}this.element.style.left=e.left-r+"px",this.element.style.top=e.top-o+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let t=qj(this.editorView.state.doc,e,this.editorView.dragging.slice);null!=t&&(e=t)}this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const d$=oN.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[c$(this.options)]}});class f$ extends l_{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return f$.valid(n)?new f$(n):l_.near(n)}content(){return bO.empty}eq(e){return e instanceof f$&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new f$(e.resolve(t.pos))}getBookmark(){return new p$(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!function(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e)||!function(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&f$.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let i=e.node(n);if(t>0?e.indexAfter(n)<i.childCount:e.index(n)>0){o=i.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let a=e.doc.resolve(r);if(f$.valid(a))return a}for(;;){let i=t>0?o.firstChild:o.lastChild;if(!i){if(o.isAtom&&!o.isText&&!h_.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=i,r+=t;let a=e.doc.resolve(r);if(f$.valid(a))return a}return null}}}f$.prototype.visible=!1,f$.findFrom=f$.findGapCursorFrom,l_.jsonID("gapcursor",f$);class p${constructor(e){this.pos=e}map(e){return new p$(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return f$.valid(t)?new f$(t):l_.near(t)}}const h$=eA({ArrowLeft:m$("horiz",-1),ArrowRight:m$("horiz",1),ArrowUp:m$("vert",-1),ArrowDown:m$("vert",1)});function m$(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let i=e.selection,a=t>0?i.$to:i.$from,s=i.empty;if(i instanceof f_){if(!o.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}let l=f$.findGapCursorFrom(a,t,s);return!!l&&(r&&r(e.tr.setSelection(new f$(l))),!0)}}function v$(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!f$.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&h_.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new f$(r))),!0)}function g$(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof f$))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=pO.empty;for(let e=r.length-1;e>=0;e--)o=pO.from(r[e].createAndFill(null,o));let i=e.state.tr.replace(n.pos,n.pos,new bO(o,0,0));return i.setSelection(f_.near(i.doc.resolve(n.pos+1))),e.dispatch(i),!1}function y$(e){if(!(e.selection instanceof f$))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",hP.create(e.doc,[dP.widget(e.selection.head,t,{key:"gapcursor"})])}const b$=oN.create({name:"gapCursor",addProseMirrorPlugins:()=>[new __({props:{decorations:y$,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&f$.valid(n)?new f$(n):null,handleClick:v$,handleKeyDown:h$,handleDOMEvents:{beforeinput:g$}}})],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=$A(IA(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),w$=tM.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",FA(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command((()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:i}=this.options,{splittableMarks:a}=r.extensionManager,s=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command((({tr:e,dispatch:t})=>{if(t&&s&&i){const t=s.filter((e=>a.includes(e.type.name)));e.ensureMarks(t)}return!0})).run()}))])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),x$=tM.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map((e=>({tag:`h${e}`,attrs:{level:e}})))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,FA(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce(((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})})),{})},addInputRules(){return this.options.levels.map((e=>QN({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}})))}});var S$=200,k$=function(){};k$.prototype.append=function(e){return e.length?(e=k$.from(e),!this.length&&e||e.length<S$&&this.leafAppend(e)||this.length<S$&&e.leafPrepend(this)||this.appendInner(e)):this},k$.prototype.prepend=function(e){return e.length?k$.from(e).append(this):this},k$.prototype.appendInner=function(e){return new O$(this,e)},k$.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?k$.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},k$.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},k$.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},k$.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},k$.from=function(e){return e instanceof k$?e:e&&e.length?new E$(e):k$.empty};var E$=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=S$)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=S$)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(k$);k$.empty=new E$([]);var O$=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(k$);const j$=k$;class _${constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,s=e.tr,l=[],c=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new C$(e.map));let t,o=e.step.map(n.slice(r));o&&s.maybeStep(o).doc&&(t=s.mapping.maps[s.mapping.maps.length-1],l.push(new C$(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else s.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new _$(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),u=new C$(e.mapping.maps[n],c,t);(l=s&&s.merge(u))&&(u=l,n?o.pop():a=a.slice(0,a.length-1)),o.push(u),t&&(i++,t=void 0),r||(s=u)}let l=i-n.depth;return l>P$&&(a=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(a,l),i-=l),new _$(a.append(o),i)}remapping(e,t){let n=new Oj;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new _$(this.items.append(e.map((e=>new C$(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((e=>{e.selection&&a--}),r);let s=t;this.items.forEach((t=>{let r=o.getMirror(--s);if(null==r)return;i=Math.min(i,r);let l=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(s+1,r));c&&a++,n.push(new C$(l,i,c))}else n.push(new C$(l))}),r);let l=[];for(let e=t;e<i;e++)l.push(new C$(o.maps[e]));let c=this.items.slice(0,r).append(l).append(n),u=new _$(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let s=i.selection&&i.selection.map(t.slice(n));s&&o++;let l,c=new C$(a.invert(),e,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else i.map&&n--}),this.items.length,0),new _$(j$.from(r.reverse()),o)}}_$.empty=new _$(j$.empty,0);class C${constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new C$(t.getMap().invert(),t,this.selection)}}}class T${constructor(e,t,n,r,o){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=o}}const P$=20;function A$(e){let t=[];for(let n=e.length-1;n>=0&&0==t.length;n--)e[n].forEach(((e,n,r,o)=>t.push(r,o)));return t}function N$(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}let M$=!1,I$=null;function R$(e){let t=e.plugins;if(I$!=t){M$=!1,I$=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){M$=!0;break}}return M$}const L$=new P_("history"),D$=new P_("closeHistory");function F$(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new __({key:L$,state:{init:()=>new T$(_$.empty,_$.empty,null,0,-1),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(L$);if(i)return i.historyState;n.getMeta(D$)&&(e=new T$(e.done,e.undone,null,0,-1));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(L$))return a.getMeta(L$).redo?new T$(e.done.addTransform(n,void 0,r,R$(t)),e.undone,A$(n.mapping.maps),e.prevTime,e.prevComposition):new T$(e.done,e.undone.addTransform(n,void 0,r,R$(t)),null,e.prevTime,e.prevComposition);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new T$(e.done.rebased(n,o),e.undone.rebased(n,o),N$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new T$(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),N$(e.prevRanges,n.mapping),e.prevTime,e.prevComposition);{let o=n.getMeta("composition"),i=0==e.prevTime||!a&&e.prevComposition!=o&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),s=a?N$(e.prevRanges,n.mapping):A$(n.mapping.maps);return new T$(e.done.addTransform(n,i?t.selection.getBookmark():void 0,r,R$(t)),_$.empty,s,n.time,null==o?e.prevComposition:o)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?B$:"historyRedo"==n?$$:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}function z$(e,t){return(n,r)=>{let o=L$.getState(n);if(!o||0==(e?o.undone:o.done).eventCount)return!1;if(r){let i=function(e,t,n){let r=R$(t),o=L$.get(t).spec.config,i=(n?e.undone:e.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),s=(n?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new T$(n?s:i.remaining,n?i.remaining:s,null,0,-1);return i.transform.setSelection(a).setMeta(L$,{redo:n,historyState:l})}(o,n,e);i&&r(t?i.scrollIntoView():i)}return!0}}const B$=z$(!1,!0),$$=z$(!0,!0);z$(!1,!1),z$(!0,!1);const U$=oN.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>B$(e,t),redo:()=>({state:e,dispatch:t})=>$$(e,t)}),addProseMirrorPlugins(){return[F$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),V$=tM.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",FA(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{const{$to:n}=t.selection,r=e();return 0===n.parentOffset?r.insertContentAt(Math.max(n.pos-2,0),{type:this.name}):r.insertContent({type:this.name}),r.command((({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,r=t.end();if(t.nodeAfter)t.nodeAfter.isTextblock?e.setSelection(f_.create(e.doc,t.pos+1)):t.nodeAfter.isBlock?e.setSelection(h_.create(e.doc,t.pos)):e.setSelection(f_.create(e.doc,t.pos));else{const o=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();o&&(e.insert(r,o),e.setSelection(f_.create(e.doc,r+1)))}e.scrollIntoView()}return!0})).run()}}},addInputRules(){return[JN({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),H$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,W$=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,q$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,G$=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,K$=QA.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ZN({find:H$,type:this.type}),ZN({find:q$,type:this.type})]},addPasteRules(){return[rM({find:W$,type:this.type}),rM({find:G$,type:this.type})]}}),X$=tM.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",FA(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Y$=tM.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",FA(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Z$=QA.create({name:"textStyle",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"span",getAttrs:e=>!!e.hasAttribute("style")&&{}}],renderHTML({HTMLAttributes:e}){return["span",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=ON(e,this.type),r=Object.entries(n).some((([,e])=>!!e));return!!r||t.unsetMark(this.name)}}}}),J$=/^(\d+)\.\s$/,Q$=tM.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",FA(this.options.HTMLAttributes,n),0]:["ol",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Y$.name,this.editor.getAttributes(Z$.name)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=eM({find:J$,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=eM({find:J$,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Z$.name)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[e]}}),eU=tM.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),tU=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,nU=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,rU=QA.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ZN({find:tU,type:this.type})]},addPasteRules(){return[rM({find:nU,type:this.type})]}}),oU=tM.create({name:"text",group:"inline"}),iU=oN.create({name:"starterKit",addExtensions(){var e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g;const y=[];return!1!==this.options.blockquote&&y.push(qB.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&y.push(ZB.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&y.push(t$.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&y.push(o$.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&y.push(s$.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&y.push(l$.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&y.push(d$.configure(null===(a=this.options)||void 0===a?void 0:a.dropcursor)),!1!==this.options.gapcursor&&y.push(b$.configure(null===(s=this.options)||void 0===s?void 0:s.gapcursor)),!1!==this.options.hardBreak&&y.push(w$.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&y.push(x$.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&y.push(U$.configure(null===(u=this.options)||void 0===u?void 0:u.history)),!1!==this.options.horizontalRule&&y.push(V$.configure(null===(d=this.options)||void 0===d?void 0:d.horizontalRule)),!1!==this.options.italic&&y.push(K$.configure(null===(f=this.options)||void 0===f?void 0:f.italic)),!1!==this.options.listItem&&y.push(X$.configure(null===(p=this.options)||void 0===p?void 0:p.listItem)),!1!==this.options.orderedList&&y.push(Q$.configure(null===(h=this.options)||void 0===h?void 0:h.orderedList)),!1!==this.options.paragraph&&y.push(eU.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&y.push(rU.configure(null===(v=this.options)||void 0===v?void 0:v.strike)),!1!==this.options.text&&y.push(oU.configure(null===(g=this.options)||void 0===g?void 0:g.text)),y}});function aU(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function sU(...e){return n.useCallback(function(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}(...e),e)}function lU(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}var cU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=n.forwardRef(((e,n)=>{const{asChild:r,...o}=e,i=r?xn:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ut.jsx)(i,{...o,ref:n})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function uU(e){const t=n.useRef(e);return n.useEffect((()=>{t.current=e})),n.useMemo((()=>(...e)=>t.current?.(...e)),[])}var dU,fU="dismissableLayer.update",pU="dismissableLayer.pointerDownOutside",hU="dismissableLayer.focusOutside",mU=n.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vU=n.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=n.useContext(mU),[d,f]=n.useState(null),p=d?.ownerDocument??globalThis?.document,[,h]=n.useState({}),m=sU(t,(e=>f(e))),v=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(g),b=d?v.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,x=b>=y,S=function(e,t=globalThis?.document){const r=uU(e),o=n.useRef(!1),i=n.useRef((()=>{}));return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let n=function(){bU(pU,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=n,t.addEventListener("click",i.current,{once:!0})):n()}else t.removeEventListener("click",i.current);o.current=!1},n=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));x&&!n&&(i?.(e),s?.(e),e.defaultPrevented||l?.())}),p),k=function(e,t=globalThis?.document){const r=uU(e),o=n.useRef(!1);return n.useEffect((()=>{const e=e=>{if(e.target&&!o.current){bU(hU,r,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(a?.(e),s?.(e),e.defaultPrevented||l?.())}),p);return function(e,t=globalThis?.document){const r=uU(e);n.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[r,t])}((e=>{b===u.layers.size-1&&(o?.(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),p),n.useEffect((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(dU=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yU(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=dU)}}),[d,p,r,u]),n.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yU())}),[d,u]),n.useEffect((()=>{const e=()=>h({});return document.addEventListener(fU,e),()=>document.removeEventListener(fU,e)}),[]),(0,Ut.jsx)(cU.div,{...c,ref:m,style:{pointerEvents:w?x?"auto":"none":void 0,...e.style},onFocusCapture:aU(e.onFocusCapture,k.onFocusCapture),onBlurCapture:aU(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:aU(e.onPointerDownCapture,S.onPointerDownCapture)})}));vU.displayName="DismissableLayer";var gU=n.forwardRef(((e,t)=>{const r=n.useContext(mU),o=n.useRef(null),i=sU(t,o);return n.useEffect((()=>{const e=o.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,Ut.jsx)(cU.div,{...e,ref:i})}));function yU(){const e=new CustomEvent(fU);document.dispatchEvent(e)}function bU(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?function(e,t){e&&Zr.flushSync((()=>e.dispatchEvent(t)))}(o,i):o.dispatchEvent(i)}gU.displayName="DismissableLayerBranch";var wU=Boolean(globalThis?.document)?n.useLayoutEffect:()=>{},xU=r["useId".toString()]||(()=>{}),SU=0;var kU=n.forwardRef(((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return(0,Ut.jsx)(cU.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Ut.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));kU.displayName="Arrow";var EU=kU;function OU(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return n.useMemo((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}var jU="Popper",[_U,CU]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=r?.[e][a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e][a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},OU(o,...t)]}(jU),[TU,PU]=_U(jU),AU=e=>{const{__scopePopper:t,children:r}=e,[o,i]=n.useState(null);return(0,Ut.jsx)(TU,{scope:t,anchor:o,onAnchorChange:i,children:r})};AU.displayName=jU;var NU="PopperAnchor",MU=n.forwardRef(((e,t)=>{const{__scopePopper:r,virtualRef:o,...i}=e,a=PU(NU,r),s=n.useRef(null),l=sU(t,s);return n.useEffect((()=>{a.onAnchorChange(o?.current||s.current)})),o?null:(0,Ut.jsx)(cU.div,{...i,ref:l})}));MU.displayName=NU;var IU="PopperContent",[RU,LU]=_U(IU),DU=n.forwardRef(((e,t)=>{const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:a="center",alignOffset:s=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:m,...v}=e,g=PU(IU,r),[y,b]=n.useState(null),w=sU(t,(e=>b(e))),[x,S]=n.useState(null),k=function(e){const[t,r]=n.useState(void 0);return wU((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let o,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;r({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),t}(x),E=k?.width??0,O=k?.height??0,j=o+("center"!==a?"-"+a:""),_="number"==typeof d?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],T=C.length>0,P={padding:_,boundary:C.filter($U),altBoundary:T},{refs:A,floatingStyles:N,placement:M,isPositioned:I,middlewareData:R}=Fv({strategy:"fixed",placement:j,whileElementsMounted:(...e)=>kv(...e,{animationFrame:"always"===h}),elements:{reference:g.anchor},middleware:[Ev({mainAxis:i+O,alignmentAxis:s}),c&&Ov({mainAxis:!0,crossAxis:!1,limiter:"partial"===f?Pv():void 0,...P}),c&&jv({...P}),_v({...P,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:o,height:i}=t.reference,a=e.floating.style;a.setProperty("--radix-popper-available-width",`${n}px`),a.setProperty("--radix-popper-available-height",`${r}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${i}px`)}}),x&&Nv({element:x,padding:l}),UU({arrowWidth:E,arrowHeight:O}),p&&Cv({strategy:"referenceHidden",...P})]}),[L,D]=VU(M),F=uU(m);wU((()=>{I&&F?.()}),[I,F]);const z=R.arrow?.x,B=R.arrow?.y,$=0!==R.arrow?.centerOffset,[U,V]=n.useState();return wU((()=>{y&&V(window.getComputedStyle(y).zIndex)}),[y]),(0,Ut.jsx)("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...N,transform:I?N.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,Ut.jsx)(RU,{scope:r,placedSide:L,onArrowChange:S,arrowX:z,arrowY:B,shouldHideArrow:$,children:(0,Ut.jsx)(cU.div,{"data-side":L,"data-align":D,...v,ref:w,style:{...v.style,animation:I?void 0:"none"}})})})}));DU.displayName=IU;var FU="PopperArrow",zU={top:"bottom",right:"left",bottom:"top",left:"right"},BU=n.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,o=LU(FU,n),i=zU[o.placedSide];return(0,Ut.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,Ut.jsx)(EU,{...r,ref:t,style:{...r.style,display:"block"}})})}));function $U(e){return null!==e}BU.displayName=FU;var UU=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,i=0!==o.arrow?.centerOffset,a=i?0:e.arrowWidth,s=i?0:e.arrowHeight,[l,c]=VU(n),u={start:"0%",center:"50%",end:"100%"}[c],d=(o.arrow?.x??0)+a/2,f=(o.arrow?.y??0)+s/2;let p="",h="";return"bottom"===l?(p=i?u:`${d}px`,h=-s+"px"):"top"===l?(p=i?u:`${d}px`,h=`${r.floating.height+s}px`):"right"===l?(p=-s+"px",h=i?u:`${f}px`):"left"===l&&(p=`${r.floating.width+s}px`,h=i?u:`${f}px`),{data:{x:p,y:h}}}});function VU(e){const[t,n="center"]=e.split("-");return[t,n]}var HU=AU,WU=MU,qU=DU,GU=BU,KU=n.forwardRef(((e,t)=>{const{container:r,...o}=e,[i,a]=n.useState(!1);wU((()=>a(!0)),[]);const s=r||i&&globalThis?.document?.body;return s?Zr.createPortal((0,Ut.jsx)(cU.div,{...o,ref:t}),s):null}));KU.displayName="Portal";var XU=e=>{const{present:t,children:r}=e,o=function(e){const[t,r]=n.useState(),o=n.useRef({}),i=n.useRef(e),a=n.useRef("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return n.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return n.useEffect((()=>{const e=YU(o.current);a.current="mounted"===l?e:"none"}),[l]),wU((()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=YU(t);if(e)c("MOUNT");else if("none"===o||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),wU((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,r=r=>{const a=YU(o.current).includes(r.animationName);if(r.target===t&&a&&(c("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},s=e=>{e.target===t&&(a.current=YU(o.current))};return t.addEventListener("animationstart",s),t.addEventListener("animationcancel",r),t.addEventListener("animationend",r),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",s),t.removeEventListener("animationcancel",r),t.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:n.useCallback((e=>{e&&(o.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=sU(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"==typeof r||o.isPresent?n.cloneElement(i,{ref:a}):null};function YU(e){return e?.animationName||"none"}function ZU({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=n.useState(e),[o]=r,i=n.useRef(o),a=uU(t);return n.useEffect((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=uU(r);return[s,n.useCallback((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l])]}XU.displayName="Presence";var JU=n.forwardRef(((e,t)=>(0,Ut.jsx)(cU.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})));JU.displayName="VisuallyHidden";var QU=JU,[eV,tV]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>n.createContext(e)));return function(r){const o=r?.[e]||t;return n.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=n.createContext(o),a=r.length;r=[...r,o];const s=t=>{const{scope:r,children:o,...s}=t,l=r?.[e]?.[a]||i,c=n.useMemo((()=>s),Object.values(s));return(0,Ut.jsx)(l.Provider,{value:c,children:o})};return s.displayName=t+"Provider",[s,function(r,s){const l=s?.[e]?.[a]||i,c=n.useContext(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},lU(o,...t)]}("Tooltip",[CU]),nV=CU(),rV="TooltipProvider",oV=700,iV="tooltip.open",[aV,sV]=eV(rV),lV=e=>{const{__scopeTooltip:t,delayDuration:r=oV,skipDelayDuration:o=300,disableHoverableContent:i=!1,children:a}=e,[s,l]=n.useState(!0),c=n.useRef(!1),u=n.useRef(0);return n.useEffect((()=>{const e=u.current;return()=>window.clearTimeout(e)}),[]),(0,Ut.jsx)(aV,{scope:t,isOpenDelayed:s,delayDuration:r,onOpen:n.useCallback((()=>{window.clearTimeout(u.current),l(!1)}),[]),onClose:n.useCallback((()=>{window.clearTimeout(u.current),u.current=window.setTimeout((()=>l(!0)),o)}),[o]),isPointerInTransitRef:c,onPointerInTransitChange:n.useCallback((e=>{c.current=e}),[]),disableHoverableContent:i,children:a})};lV.displayName=rV;var cV="Tooltip",[uV,dV]=eV(cV),fV=e=>{const{__scopeTooltip:t,children:r,open:o,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:s,delayDuration:l}=e,c=sV(cV,e.__scopeTooltip),u=nV(t),[d,f]=n.useState(null),p=function(e){const[t,r]=n.useState(xU());return wU((()=>{e||r((e=>e??String(SU++)))}),[e]),e||(t?`radix-${t}`:"")}(),h=n.useRef(0),m=s??c.disableHoverableContent,v=l??c.delayDuration,g=n.useRef(!1),[y=!1,b]=ZU({prop:o,defaultProp:i,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(iV))):c.onClose(),a?.(e)}}),w=n.useMemo((()=>y?g.current?"delayed-open":"instant-open":"closed"),[y]),x=n.useCallback((()=>{window.clearTimeout(h.current),h.current=0,g.current=!1,b(!0)}),[b]),S=n.useCallback((()=>{window.clearTimeout(h.current),h.current=0,b(!1)}),[b]),k=n.useCallback((()=>{window.clearTimeout(h.current),h.current=window.setTimeout((()=>{g.current=!0,b(!0),h.current=0}),v)}),[v,b]);return n.useEffect((()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)}),[]),(0,Ut.jsx)(HU,{...u,children:(0,Ut.jsx)(uV,{scope:t,contentId:p,open:y,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:n.useCallback((()=>{c.isOpenDelayed?k():x()}),[c.isOpenDelayed,k,x]),onTriggerLeave:n.useCallback((()=>{m?S():(window.clearTimeout(h.current),h.current=0)}),[S,m]),onOpen:x,onClose:S,disableHoverableContent:m,children:r})})};fV.displayName=cV;var pV="TooltipTrigger",hV=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,...o}=e,i=dV(pV,r),a=sV(pV,r),s=nV(r),l=sU(t,n.useRef(null),i.onTriggerChange),c=n.useRef(!1),u=n.useRef(!1),d=n.useCallback((()=>c.current=!1),[]);return n.useEffect((()=>()=>document.removeEventListener("pointerup",d)),[d]),(0,Ut.jsx)(WU,{asChild:!0,...s,children:(0,Ut.jsx)(cU.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...o,ref:l,onPointerMove:aU(e.onPointerMove,(e=>{"touch"!==e.pointerType&&(u.current||a.isPointerInTransitRef.current||(i.onTriggerEnter(),u.current=!0))})),onPointerLeave:aU(e.onPointerLeave,(()=>{i.onTriggerLeave(),u.current=!1})),onPointerDown:aU(e.onPointerDown,(()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})})),onFocus:aU(e.onFocus,(()=>{c.current||i.onOpen()})),onBlur:aU(e.onBlur,i.onClose),onClick:aU(e.onClick,i.onClose)})})}));hV.displayName=pV;var mV="TooltipPortal",[vV,gV]=eV(mV,{forceMount:void 0}),yV=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=dV(mV,t);return(0,Ut.jsx)(vV,{scope:t,forceMount:n,children:(0,Ut.jsx)(XU,{present:n||i.open,children:(0,Ut.jsx)(KU,{asChild:!0,container:o,children:r})})})};yV.displayName=mV;var bV="TooltipContent",wV=n.forwardRef(((e,t)=>{const n=gV(bV,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,a=dV(bV,e.__scopeTooltip);return(0,Ut.jsx)(XU,{present:r||a.open,children:a.disableHoverableContent?(0,Ut.jsx)(EV,{side:o,...i,ref:t}):(0,Ut.jsx)(xV,{side:o,...i,ref:t})})})),xV=n.forwardRef(((e,t)=>{const r=dV(bV,e.__scopeTooltip),o=sV(bV,e.__scopeTooltip),i=n.useRef(null),a=sU(t,i),[s,l]=n.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=o,p=n.useCallback((()=>{l(null),f(!1)}),[f]),h=n.useCallback(((e,t)=>{const n=e.currentTarget,r={x:e.clientX,y:e.clientY},o=function(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}(r,n.getBoundingClientRect()),i=function(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return r}(r,o),a=function(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}(t.getBoundingClientRect()),s=function(e){const t=e.slice();return t.sort(((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0)),function(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const r=e[n];for(;t.length>=2;){const e=t[t.length-1],n=t[t.length-2];if(!((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x)))break;t.pop()}t.push(r)}t.pop();const n=[];for(let t=e.length-1;t>=0;t--){const r=e[t];for(;n.length>=2;){const e=n[n.length-1],t=n[n.length-2];if(!((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x)))break;n.pop()}n.push(r)}return n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}(t)}([...i,...a]);l(s),f(!0)}),[f]);return n.useEffect((()=>()=>p()),[p]),n.useEffect((()=>{if(c&&d){const e=e=>h(e,d),t=e=>h(e,c);return c.addEventListener("pointerleave",e),d.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),d.removeEventListener("pointerleave",t)}}}),[c,d,h,p]),n.useEffect((()=>{if(s){const e=e=>{const t=e.target,n={x:e.clientX,y:e.clientY},r=c?.contains(t)||d?.contains(t),o=!function(e,t){const{x:n,y:r}=e;let o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e].x,s=t[e].y,l=t[i].x,c=t[i].y;s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(o=!o)}return o}(n,s);r?p():o&&(p(),u())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}}),[c,d,s,u,p]),(0,Ut.jsx)(EV,{...e,ref:a})})),[SV,kV]=eV(cV,{isInside:!1}),EV=n.forwardRef(((e,t)=>{const{__scopeTooltip:r,children:o,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:s,...l}=e,c=dV(bV,r),u=nV(r),{onClose:d}=c;return n.useEffect((()=>(document.addEventListener(iV,d),()=>document.removeEventListener(iV,d))),[d]),n.useEffect((()=>{if(c.trigger){const e=e=>{const t=e.target;t?.contains(c.trigger)&&d()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}}),[c.trigger,d]),(0,Ut.jsx)(vU,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:d,children:(0,Ut.jsxs)(qU,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,Ut.jsx)(kn,{children:o}),(0,Ut.jsx)(SV,{scope:r,isInside:!0,children:(0,Ut.jsx)(QU,{id:c.contentId,role:"tooltip",children:i||o})})]})})}));wV.displayName=bV;var OV="TooltipArrow",jV=n.forwardRef(((e,t)=>{const{__scopeTooltip:n,...r}=e,o=nV(n);return kV(OV,n).isInside?null:(0,Ut.jsx)(GU,{...o,...r,ref:t})}));jV.displayName=OV;var _V=wV;function CV(e){return CV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CV(e)}var TV=["className","sideOffset"];function PV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=CV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==CV(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var NV=lV,MV=fV,IV=hV,RV=n.forwardRef((function(e,t){var n=e.className,r=e.sideOffset,o=void 0===r?4:r,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,TV);return(0,Ut.jsx)(_V,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PV(Object(n),!0).forEach((function(t){AV(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:t,sideOffset:o,className:vr("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n)},i))}));RV.displayName=_V.displayName;const LV=function(e){var t=e.side,n=void 0===t?"top":t,r=e.title,o=e.children,i=e.className;return(0,Ut.jsxs)(MV,{delayDuration:200,children:[(0,Ut.jsx)(IV,{asChild:!0,children:o}),(0,Ut.jsx)(RV,{sideOffset:10,className:vr("max-w-sm text-sm",i),side:n,children:r})]})};var DV=o(2404),FV=o.n(DV),zV=function(e){var t=navigator.userAgent.toUpperCase().indexOf("MAC")>=0;return(0,Ut.jsx)("div",{className:"flex items-center gap-1 rounded font-mono text-xs leading-none text-muted-foreground",children:t?e.macContent:e.windowsContent})};class BV{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?e&&e.loc&&t.loc&&e.loc.lexer===t.loc.lexer?new BV(e.loc.lexer,e.loc.start,t.loc.end):null:e&&e.loc}}class $V{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new $V(t,BV.range(this,e))}}class UV{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n,r,o="KaTeX parse error: "+e,i=t&&t.loc;if(i&&i.start<=i.end){var a=i.lexer.input;n=i.start,r=i.end,n===a.length?o+=" at end of input: ":o+=" at position "+(n+1)+": ";var s=a.slice(n,r).replace(/[^]/g,"$&̲");o+=(n>15?"…"+a.slice(n-15,n):a.slice(0,n))+s+(r+15<a.length?a.slice(r,r+15)+"…":a.slice(r))}var l=new Error(o);return l.name="ParseError",l.__proto__=UV.prototype,l.position=n,null!=n&&null!=r&&(l.length=r-n),l.rawMessage=e,l}}UV.prototype.__proto__=Error.prototype;var VV=/([A-Z])/g,HV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},WV=/[&><"']/g;var qV=function e(t){return"ordgroup"===t.type||"color"===t.type?1===t.body.length?e(t.body[0]):t:"font"===t.type?e(t.body):t},GV={contains:function(e,t){return-1!==e.indexOf(t)},deflt:function(e,t){return void 0===e?t:e},escape:function(e){return String(e).replace(WV,(e=>HV[e]))},hyphenate:function(e){return e.replace(VV,"-$1").toLowerCase()},getBaseElem:qV,isCharacterBox:function(e){var t=qV(e);return"mathord"===t.type||"textord"===t.type||"atom"===t.type},protocolFromUrl:function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?":"!==t[2]?null:/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?t[1].toLowerCase():null:"_relative"}},KV={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>"Infinity"===e?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function XV(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if("string"!=typeof n)return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class YV{constructor(e){for(var t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{},KV)if(KV.hasOwnProperty(t)){var n=KV[t];this[t]=void 0!==e[t]?n.processor?n.processor(e[t]):e[t]:XV(n)}}reportNonstrict(e,t,n){var r=this.strict;if("function"==typeof r&&(r=r(e,t,n)),r&&"ignore"!==r){if(!0===r||"error"===r)throw new UV("LaTeX-incompatible input and strict mode is set to 'error': "+t+" ["+e+"]",n);"warn"===r?"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"):"undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]")}}useStrictBehavior(e,t,n){var r=this.strict;if("function"==typeof r)try{r=r(e,t,n)}catch(e){r="error"}return!(!r||"ignore"===r)&&(!0===r||"error"===r||("warn"===r?("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+t+" ["+e+"]"),!1):("undefined"!=typeof console&&console.warn("LaTeX-incompatible input and strict mode is set to unrecognized '"+r+"': "+t+" ["+e+"]"),!1)))}isTrusted(e){if(e.url&&!e.protocol){var t=GV.protocolFromUrl(e.url);if(null==t)return!1;e.protocol=t}var n="function"==typeof this.trust?this.trust(e):this.trust;return Boolean(n)}}class ZV{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return JV[QV[this.id]]}sub(){return JV[eH[this.id]]}fracNum(){return JV[tH[this.id]]}fracDen(){return JV[nH[this.id]]}cramp(){return JV[rH[this.id]]}text(){return JV[oH[this.id]]}isTight(){return this.size>=2}}var JV=[new ZV(0,0,!1),new ZV(1,0,!0),new ZV(2,1,!1),new ZV(3,1,!0),new ZV(4,2,!1),new ZV(5,2,!0),new ZV(6,3,!1),new ZV(7,3,!0)],QV=[4,5,4,5,6,7,6,7],eH=[5,5,5,5,7,7,7,7],tH=[2,3,4,5,6,7,6,7],nH=[3,3,5,5,7,7,7,7],rH=[1,1,3,3,5,5,7,7],oH=[0,1,2,3,2,3,2,3],iH={DISPLAY:JV[0],TEXT:JV[2],SCRIPT:JV[4],SCRIPTSCRIPT:JV[6]},aH=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];var sH=[];function lH(e){for(var t=0;t<sH.length;t+=2)if(e>=sH[t]&&e<=sH[t+1])return!0;return!1}aH.forEach((e=>e.blocks.forEach((e=>sH.push(...e)))));var cH=80,uH={doubleleftarrow:"M262 157\nl10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3\n 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28\n 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5\nc2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5\n 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87\n-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7\n-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z\nm8 0v40h399730v-40zm0 194v40h399730v-40z",doublerightarrow:"M399738 392l\n-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5\n 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88\n-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68\n-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18\n-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782\nc-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3\n-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z",leftarrow:"M400000 241H110l3-3c68.7-52.7 113.7-120\n 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8\n-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247\nc-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208\n 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3\n 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202\n l-3-3h399890zM100 241v40h399900v-40z",leftbrace:"M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117\n-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7\n 5-6 9-10 13-.7 1-7.3 1-20 1H6z",leftbraceunder:"M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13\n 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688\n 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7\n-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z",leftgroup:"M400000 80\nH435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0\n 435 0h399565z",leftgroupunder:"M400000 262\nH435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219\n 435 219h399565z",leftharpoon:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3\n-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5\n-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7\n-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z",leftharpoonplus:"M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5\n 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3\n-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7\n-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z\nm0 0v40h400000v-40z",leftharpoondown:"M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333\n 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5\n 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667\n-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z",leftharpoondownplus:"M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12\n 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7\n-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0\nv40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z",lefthook:"M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5\n-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3\n-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21\n 71.5 23h399859zM103 281v-40h399897v40z",leftlinesegment:"M40 281 V428 H0 V94 H40 V241 H400000 v40z\nM40 281 V428 H0 V94 H40 V241 H400000 v40z",leftmapsto:"M40 281 V448H0V74H40V241H400000v40z\nM40 281 V448H0V74H40V241H400000v40z",leftToFrom:"M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23\n-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8\nc28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3\n 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z",longequal:"M0 50 h400000 v40H0z m0 194h40000v40H0z\nM0 50 h400000 v40H0z m0 194h40000v40H0z",midbrace:"M200428 334\nc-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14\n-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7\n 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11\n 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z",midbraceunder:"M199572 214\nc100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14\n 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3\n 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0\n-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z",oiintSize1:"M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6\n-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z\nm368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8\n60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z",oiintSize2:"M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8\n-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z\nm502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2\nc0 110 84 276 504 276s502.4-166 502.4-276z",oiiintSize1:"M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6\n-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z\nm525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0\n85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z",oiiintSize2:"M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8\n-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z\nm770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1\nc0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z",rightarrow:"M0 241v40h399891c-47.3 35.3-84 78-110 128\n-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20\n 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7\n 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85\n-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n 151.7 139 205zm0 0v40h399900v-40z",rightbrace:"M400000 542l\n-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5\ns-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1\nc124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z",rightbraceunder:"M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3\n 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237\n-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z",rightgroup:"M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0\n 3-1 3-3v-38c-76-158-257-219-435-219H0z",rightgroupunder:"M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18\n 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z",rightharpoon:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3\n-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2\n-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58\n 69.2 92 94.5zm0 0v40h399900v-40z",rightharpoonplus:"M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11\n-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7\n 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z\nm0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z",rightharpoondown:"M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8\n 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5\n-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95\n-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z",rightharpoondownplus:"M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8\n 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3\n 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3\n-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z\nm0-194v40h400000v-40zm0 0v40h400000v-40z",righthook:"M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3\n 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0\n-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21\n 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z",rightlinesegment:"M399960 241 V94 h40 V428 h-40 V281 H0 v-40z\nM399960 241 V94 h40 V428 h-40 V281 H0 v-40z",rightToFrom:"M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23\n 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32\n-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142\n-167z M100 147v40h399900v-40zM0 341v40h399900v-40z",twoheadleftarrow:"M0 167c68 40\n 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69\n-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3\n-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19\n-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101\n 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z",twoheadrightarrow:"M400000 167\nc-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3\n 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42\n 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333\n-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70\n 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z",tilde1:"M200 55.538c-77 0-168 73.953-177 73.953-3 0-7\n-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0\n 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0\n 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128\n-68.267.847-113-73.952-191-73.952z",tilde2:"M344 55.266c-142 0-300.638 81.316-311.5 86.418\n-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9\n 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114\nc1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751\n 181.476 676 181.476c-149 0-189-126.21-332-126.21z",tilde3:"M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457\n-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0\n 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697\n 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696\n -338 0-409-156.573-744-156.573z",tilde4:"M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345\n-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409\n 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9\n 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409\n -175.236-744-175.236z",vec:"M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5\n3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11\n10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63\n-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1\n-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59\nH213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359\nc-16-25.333-24-45-24-59z",widehat1:"M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22\nc-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z",widehat2:"M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat3:"M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widehat4:"M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10\n-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z",widecheck1:"M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,\n-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z",widecheck2:"M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck3:"M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",widecheck4:"M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,\n-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z",baraboveleftarrow:"M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202\nc4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5\nc-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130\ns-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47\n121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6\ns2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11\nc0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z\nM100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z",rightarrowabovebar:"M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32\n-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0\n13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39\n-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5\n-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5\n-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67\n151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z",baraboveshortleftharpoon:"M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17\nc2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21\nc-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40\nc-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z\nM0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z",rightharpoonaboveshortbar:"M0,241 l0,40c399126,0,399993,0,399993,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z",shortbaraboveleftharpoon:"M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11\nc1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,\n1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,\n-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z\nM93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z",shortrightharpoonabovebar:"M53,241l0,40c398570,0,399437,0,399437,0\nc4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,\n-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6\nc-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z\nM500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z"};class dH{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return GV.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map((e=>e.toText())).join("")}}var fH={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},pH={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hH={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function mH(e,t,n){if(!fH[t])throw new Error("Font metrics not found for font: "+t+".");var r=e.charCodeAt(0),o=fH[t][r];if(!o&&e[0]in hH&&(r=hH[e[0]].charCodeAt(0),o=fH[t][r]),o||"text"!==n||lH(r)&&(o=fH[t][77]),o)return{depth:o[0],height:o[1],italic:o[2],skew:o[3],width:o[4]}}var vH={};var gH=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],yH=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],bH=function(e,t){return t.size<2?e:gH[e-1][t.size-1]};class wH{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||wH.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=yH[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new wH(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:bH(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:yH[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=bH(wH.BASESIZE,e);return this.size===t&&this.textSize===wH.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==wH.BASESIZE?["sizing","reset-size"+this.size,"size"+wH.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=function(e){var t;if(!vH[t=e>=5?0:e>=3?1:2]){var n=vH[t]={cssEmPerMu:pH.quad[t]/18};for(var r in pH)pH.hasOwnProperty(r)&&(n[r]=pH[r][t])}return vH[t]}(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}wH.BASESIZE=6;var xH={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:1.00375,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:1.00375},SH={ex:!0,em:!0,mu:!0},kH=function(e){return"string"!=typeof e&&(e=e.unit),e in xH||e in SH||"ex"===e},EH=function(e,t){var n;if(e.unit in xH)n=xH[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if("mu"===e.unit)n=t.fontMetrics().cssEmPerMu;else{var r;if(r=t.style.isTight()?t.havingStyle(t.style.text()):t,"ex"===e.unit)n=r.fontMetrics().xHeight;else{if("em"!==e.unit)throw new UV("Invalid unit: '"+e.unit+"'");n=r.fontMetrics().quad}r!==t&&(n*=r.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},OH=function(e){return+e.toFixed(4)+"em"},jH=function(e){return e.filter((e=>e)).join(" ")},_H=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push("mtight");var r=t.getColor();r&&(this.style.color=r)}},CH=function(e){var t=document.createElement(e);for(var n in t.className=jH(this.classes),this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&t.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)t.appendChild(this.children[o].toNode());return t},TH=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+GV.escape(jH(this.classes))+'"');var n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=GV.hyphenate(r)+":"+this.style[r]+";");for(var o in n&&(t+=' style="'+GV.escape(n)+'"'),this.attributes)this.attributes.hasOwnProperty(o)&&(t+=" "+o+'="'+GV.escape(this.attributes[o])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+e+">"};class PH{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,_H.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return GV.contains(this.classes,e)}toNode(){return CH.call(this,"span")}toMarkup(){return TH.call(this,"span")}}class AH{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,_H.call(this,t,r),this.children=n||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return GV.contains(this.classes,e)}toNode(){return CH.call(this,"a")}toMarkup(){return TH.call(this,"a")}}class NH{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=n}hasClass(e){return GV.contains(this.classes,e)}toNode(){var e=document.createElement("img");for(var t in e.src=this.src,e.alt=this.alt,e.className="mord",this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+GV.escape(this.src)+'" alt="'+GV.escape(this.alt)+'"',t="";for(var n in this.style)this.style.hasOwnProperty(n)&&(t+=GV.hyphenate(n)+":"+this.style[n]+";");return t&&(e+=' style="'+GV.escape(t)+'"'),e+="'/>"}}var MH={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class IH{constructor(e,t,n,r,o,i,a,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=o||0,this.width=i||0,this.classes=a||[],this.style=s||{},this.maxFontSize=0;var l=function(e){for(var t=0;t<aH.length;t++)for(var n=aH[t],r=0;r<n.blocks.length;r++){var o=n.blocks[r];if(e>=o[0]&&e<=o[1])return n.name}return null}(this.text.charCodeAt(0));l&&this.classes.push(l+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=MH[this.text])}hasClass(e){return GV.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;for(var n in this.italic>0&&((t=document.createElement("span")).style.marginRight=OH(this.italic)),this.classes.length>0&&((t=t||document.createElement("span")).className=jH(this.classes)),this.style)this.style.hasOwnProperty(n)&&((t=t||document.createElement("span")).style[n]=this.style[n]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=GV.escape(jH(this.classes)),t+='"');var n="";for(var r in this.italic>0&&(n+="margin-right:"+this.italic+"em;"),this.style)this.style.hasOwnProperty(r)&&(n+=GV.hyphenate(r)+":"+this.style[r]+";");n&&(e=!0,t+=' style="'+GV.escape(n)+'"');var o=GV.escape(this.text);return e?(t+=">",t+=o,t+="</span>"):o}}class RH{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+GV.escape(this.attributes[t])+'"');e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</svg>"}}class LH{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?e.setAttribute("d",this.alternate):e.setAttribute("d",uH[this.pathName]),e}toMarkup(){return this.alternate?'<path d="'+GV.escape(this.alternate)+'"/>':'<path d="'+GV.escape(uH[this.pathName])+'"/>'}}class DH{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e=document.createElementNS("http://www.w3.org/2000/svg","line");for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+GV.escape(this.attributes[t])+'"');return e+="/>"}}function FH(e){if(e instanceof IH)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}var zH={bin:1,close:1,inner:1,open:1,punct:1,rel:1},BH={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},$H={math:{},text:{}};function UH(e,t,n,r,o,i){$H[e][o]={font:t,group:n,replace:r},i&&r&&($H[e][r]=$H[e][o])}var VH="math",HH="text",WH="main",qH="ams",GH="accent-token",KH="bin",XH="close",YH="inner",ZH="mathord",JH="op-token",QH="open",eW="punct",tW="rel",nW="spacing",rW="textord";UH(VH,WH,tW,"≡","\\equiv",!0),UH(VH,WH,tW,"≺","\\prec",!0),UH(VH,WH,tW,"≻","\\succ",!0),UH(VH,WH,tW,"∼","\\sim",!0),UH(VH,WH,tW,"⊥","\\perp"),UH(VH,WH,tW,"⪯","\\preceq",!0),UH(VH,WH,tW,"⪰","\\succeq",!0),UH(VH,WH,tW,"≃","\\simeq",!0),UH(VH,WH,tW,"∣","\\mid",!0),UH(VH,WH,tW,"≪","\\ll",!0),UH(VH,WH,tW,"≫","\\gg",!0),UH(VH,WH,tW,"≍","\\asymp",!0),UH(VH,WH,tW,"∥","\\parallel"),UH(VH,WH,tW,"⋈","\\bowtie",!0),UH(VH,WH,tW,"⌣","\\smile",!0),UH(VH,WH,tW,"⊑","\\sqsubseteq",!0),UH(VH,WH,tW,"⊒","\\sqsupseteq",!0),UH(VH,WH,tW,"≐","\\doteq",!0),UH(VH,WH,tW,"⌢","\\frown",!0),UH(VH,WH,tW,"∋","\\ni",!0),UH(VH,WH,tW,"∝","\\propto",!0),UH(VH,WH,tW,"⊢","\\vdash",!0),UH(VH,WH,tW,"⊣","\\dashv",!0),UH(VH,WH,tW,"∋","\\owns"),UH(VH,WH,eW,".","\\ldotp"),UH(VH,WH,eW,"⋅","\\cdotp"),UH(VH,WH,rW,"#","\\#"),UH(HH,WH,rW,"#","\\#"),UH(VH,WH,rW,"&","\\&"),UH(HH,WH,rW,"&","\\&"),UH(VH,WH,rW,"ℵ","\\aleph",!0),UH(VH,WH,rW,"∀","\\forall",!0),UH(VH,WH,rW,"ℏ","\\hbar",!0),UH(VH,WH,rW,"∃","\\exists",!0),UH(VH,WH,rW,"∇","\\nabla",!0),UH(VH,WH,rW,"♭","\\flat",!0),UH(VH,WH,rW,"ℓ","\\ell",!0),UH(VH,WH,rW,"♮","\\natural",!0),UH(VH,WH,rW,"♣","\\clubsuit",!0),UH(VH,WH,rW,"℘","\\wp",!0),UH(VH,WH,rW,"♯","\\sharp",!0),UH(VH,WH,rW,"♢","\\diamondsuit",!0),UH(VH,WH,rW,"ℜ","\\Re",!0),UH(VH,WH,rW,"♡","\\heartsuit",!0),UH(VH,WH,rW,"ℑ","\\Im",!0),UH(VH,WH,rW,"♠","\\spadesuit",!0),UH(VH,WH,rW,"§","\\S",!0),UH(HH,WH,rW,"§","\\S"),UH(VH,WH,rW,"¶","\\P",!0),UH(HH,WH,rW,"¶","\\P"),UH(VH,WH,rW,"†","\\dag"),UH(HH,WH,rW,"†","\\dag"),UH(HH,WH,rW,"†","\\textdagger"),UH(VH,WH,rW,"‡","\\ddag"),UH(HH,WH,rW,"‡","\\ddag"),UH(HH,WH,rW,"‡","\\textdaggerdbl"),UH(VH,WH,XH,"⎱","\\rmoustache",!0),UH(VH,WH,QH,"⎰","\\lmoustache",!0),UH(VH,WH,XH,"⟯","\\rgroup",!0),UH(VH,WH,QH,"⟮","\\lgroup",!0),UH(VH,WH,KH,"∓","\\mp",!0),UH(VH,WH,KH,"⊖","\\ominus",!0),UH(VH,WH,KH,"⊎","\\uplus",!0),UH(VH,WH,KH,"⊓","\\sqcap",!0),UH(VH,WH,KH,"∗","\\ast"),UH(VH,WH,KH,"⊔","\\sqcup",!0),UH(VH,WH,KH,"◯","\\bigcirc",!0),UH(VH,WH,KH,"∙","\\bullet",!0),UH(VH,WH,KH,"‡","\\ddagger"),UH(VH,WH,KH,"≀","\\wr",!0),UH(VH,WH,KH,"⨿","\\amalg"),UH(VH,WH,KH,"&","\\And"),UH(VH,WH,tW,"⟵","\\longleftarrow",!0),UH(VH,WH,tW,"⇐","\\Leftarrow",!0),UH(VH,WH,tW,"⟸","\\Longleftarrow",!0),UH(VH,WH,tW,"⟶","\\longrightarrow",!0),UH(VH,WH,tW,"⇒","\\Rightarrow",!0),UH(VH,WH,tW,"⟹","\\Longrightarrow",!0),UH(VH,WH,tW,"↔","\\leftrightarrow",!0),UH(VH,WH,tW,"⟷","\\longleftrightarrow",!0),UH(VH,WH,tW,"⇔","\\Leftrightarrow",!0),UH(VH,WH,tW,"⟺","\\Longleftrightarrow",!0),UH(VH,WH,tW,"↦","\\mapsto",!0),UH(VH,WH,tW,"⟼","\\longmapsto",!0),UH(VH,WH,tW,"↗","\\nearrow",!0),UH(VH,WH,tW,"↩","\\hookleftarrow",!0),UH(VH,WH,tW,"↪","\\hookrightarrow",!0),UH(VH,WH,tW,"↘","\\searrow",!0),UH(VH,WH,tW,"↼","\\leftharpoonup",!0),UH(VH,WH,tW,"⇀","\\rightharpoonup",!0),UH(VH,WH,tW,"↙","\\swarrow",!0),UH(VH,WH,tW,"↽","\\leftharpoondown",!0),UH(VH,WH,tW,"⇁","\\rightharpoondown",!0),UH(VH,WH,tW,"↖","\\nwarrow",!0),UH(VH,WH,tW,"⇌","\\rightleftharpoons",!0),UH(VH,qH,tW,"≮","\\nless",!0),UH(VH,qH,tW,"","\\@nleqslant"),UH(VH,qH,tW,"","\\@nleqq"),UH(VH,qH,tW,"⪇","\\lneq",!0),UH(VH,qH,tW,"≨","\\lneqq",!0),UH(VH,qH,tW,"","\\@lvertneqq"),UH(VH,qH,tW,"⋦","\\lnsim",!0),UH(VH,qH,tW,"⪉","\\lnapprox",!0),UH(VH,qH,tW,"⊀","\\nprec",!0),UH(VH,qH,tW,"⋠","\\npreceq",!0),UH(VH,qH,tW,"⋨","\\precnsim",!0),UH(VH,qH,tW,"⪹","\\precnapprox",!0),UH(VH,qH,tW,"≁","\\nsim",!0),UH(VH,qH,tW,"","\\@nshortmid"),UH(VH,qH,tW,"∤","\\nmid",!0),UH(VH,qH,tW,"⊬","\\nvdash",!0),UH(VH,qH,tW,"⊭","\\nvDash",!0),UH(VH,qH,tW,"⋪","\\ntriangleleft"),UH(VH,qH,tW,"⋬","\\ntrianglelefteq",!0),UH(VH,qH,tW,"⊊","\\subsetneq",!0),UH(VH,qH,tW,"","\\@varsubsetneq"),UH(VH,qH,tW,"⫋","\\subsetneqq",!0),UH(VH,qH,tW,"","\\@varsubsetneqq"),UH(VH,qH,tW,"≯","\\ngtr",!0),UH(VH,qH,tW,"","\\@ngeqslant"),UH(VH,qH,tW,"","\\@ngeqq"),UH(VH,qH,tW,"⪈","\\gneq",!0),UH(VH,qH,tW,"≩","\\gneqq",!0),UH(VH,qH,tW,"","\\@gvertneqq"),UH(VH,qH,tW,"⋧","\\gnsim",!0),UH(VH,qH,tW,"⪊","\\gnapprox",!0),UH(VH,qH,tW,"⊁","\\nsucc",!0),UH(VH,qH,tW,"⋡","\\nsucceq",!0),UH(VH,qH,tW,"⋩","\\succnsim",!0),UH(VH,qH,tW,"⪺","\\succnapprox",!0),UH(VH,qH,tW,"≆","\\ncong",!0),UH(VH,qH,tW,"","\\@nshortparallel"),UH(VH,qH,tW,"∦","\\nparallel",!0),UH(VH,qH,tW,"⊯","\\nVDash",!0),UH(VH,qH,tW,"⋫","\\ntriangleright"),UH(VH,qH,tW,"⋭","\\ntrianglerighteq",!0),UH(VH,qH,tW,"","\\@nsupseteqq"),UH(VH,qH,tW,"⊋","\\supsetneq",!0),UH(VH,qH,tW,"","\\@varsupsetneq"),UH(VH,qH,tW,"⫌","\\supsetneqq",!0),UH(VH,qH,tW,"","\\@varsupsetneqq"),UH(VH,qH,tW,"⊮","\\nVdash",!0),UH(VH,qH,tW,"⪵","\\precneqq",!0),UH(VH,qH,tW,"⪶","\\succneqq",!0),UH(VH,qH,tW,"","\\@nsubseteqq"),UH(VH,qH,KH,"⊴","\\unlhd"),UH(VH,qH,KH,"⊵","\\unrhd"),UH(VH,qH,tW,"↚","\\nleftarrow",!0),UH(VH,qH,tW,"↛","\\nrightarrow",!0),UH(VH,qH,tW,"⇍","\\nLeftarrow",!0),UH(VH,qH,tW,"⇏","\\nRightarrow",!0),UH(VH,qH,tW,"↮","\\nleftrightarrow",!0),UH(VH,qH,tW,"⇎","\\nLeftrightarrow",!0),UH(VH,qH,tW,"△","\\vartriangle"),UH(VH,qH,rW,"ℏ","\\hslash"),UH(VH,qH,rW,"▽","\\triangledown"),UH(VH,qH,rW,"◊","\\lozenge"),UH(VH,qH,rW,"Ⓢ","\\circledS"),UH(VH,qH,rW,"®","\\circledR"),UH(HH,qH,rW,"®","\\circledR"),UH(VH,qH,rW,"∡","\\measuredangle",!0),UH(VH,qH,rW,"∄","\\nexists"),UH(VH,qH,rW,"℧","\\mho"),UH(VH,qH,rW,"Ⅎ","\\Finv",!0),UH(VH,qH,rW,"⅁","\\Game",!0),UH(VH,qH,rW,"‵","\\backprime"),UH(VH,qH,rW,"▲","\\blacktriangle"),UH(VH,qH,rW,"▼","\\blacktriangledown"),UH(VH,qH,rW,"■","\\blacksquare"),UH(VH,qH,rW,"⧫","\\blacklozenge"),UH(VH,qH,rW,"★","\\bigstar"),UH(VH,qH,rW,"∢","\\sphericalangle",!0),UH(VH,qH,rW,"∁","\\complement",!0),UH(VH,qH,rW,"ð","\\eth",!0),UH(HH,WH,rW,"ð","ð"),UH(VH,qH,rW,"╱","\\diagup"),UH(VH,qH,rW,"╲","\\diagdown"),UH(VH,qH,rW,"□","\\square"),UH(VH,qH,rW,"□","\\Box"),UH(VH,qH,rW,"◊","\\Diamond"),UH(VH,qH,rW,"¥","\\yen",!0),UH(HH,qH,rW,"¥","\\yen",!0),UH(VH,qH,rW,"✓","\\checkmark",!0),UH(HH,qH,rW,"✓","\\checkmark"),UH(VH,qH,rW,"ℶ","\\beth",!0),UH(VH,qH,rW,"ℸ","\\daleth",!0),UH(VH,qH,rW,"ℷ","\\gimel",!0),UH(VH,qH,rW,"ϝ","\\digamma",!0),UH(VH,qH,rW,"ϰ","\\varkappa"),UH(VH,qH,QH,"┌","\\@ulcorner",!0),UH(VH,qH,XH,"┐","\\@urcorner",!0),UH(VH,qH,QH,"└","\\@llcorner",!0),UH(VH,qH,XH,"┘","\\@lrcorner",!0),UH(VH,qH,tW,"≦","\\leqq",!0),UH(VH,qH,tW,"⩽","\\leqslant",!0),UH(VH,qH,tW,"⪕","\\eqslantless",!0),UH(VH,qH,tW,"≲","\\lesssim",!0),UH(VH,qH,tW,"⪅","\\lessapprox",!0),UH(VH,qH,tW,"≊","\\approxeq",!0),UH(VH,qH,KH,"⋖","\\lessdot"),UH(VH,qH,tW,"⋘","\\lll",!0),UH(VH,qH,tW,"≶","\\lessgtr",!0),UH(VH,qH,tW,"⋚","\\lesseqgtr",!0),UH(VH,qH,tW,"⪋","\\lesseqqgtr",!0),UH(VH,qH,tW,"≑","\\doteqdot"),UH(VH,qH,tW,"≓","\\risingdotseq",!0),UH(VH,qH,tW,"≒","\\fallingdotseq",!0),UH(VH,qH,tW,"∽","\\backsim",!0),UH(VH,qH,tW,"⋍","\\backsimeq",!0),UH(VH,qH,tW,"⫅","\\subseteqq",!0),UH(VH,qH,tW,"⋐","\\Subset",!0),UH(VH,qH,tW,"⊏","\\sqsubset",!0),UH(VH,qH,tW,"≼","\\preccurlyeq",!0),UH(VH,qH,tW,"⋞","\\curlyeqprec",!0),UH(VH,qH,tW,"≾","\\precsim",!0),UH(VH,qH,tW,"⪷","\\precapprox",!0),UH(VH,qH,tW,"⊲","\\vartriangleleft"),UH(VH,qH,tW,"⊴","\\trianglelefteq"),UH(VH,qH,tW,"⊨","\\vDash",!0),UH(VH,qH,tW,"⊪","\\Vvdash",!0),UH(VH,qH,tW,"⌣","\\smallsmile"),UH(VH,qH,tW,"⌢","\\smallfrown"),UH(VH,qH,tW,"≏","\\bumpeq",!0),UH(VH,qH,tW,"≎","\\Bumpeq",!0),UH(VH,qH,tW,"≧","\\geqq",!0),UH(VH,qH,tW,"⩾","\\geqslant",!0),UH(VH,qH,tW,"⪖","\\eqslantgtr",!0),UH(VH,qH,tW,"≳","\\gtrsim",!0),UH(VH,qH,tW,"⪆","\\gtrapprox",!0),UH(VH,qH,KH,"⋗","\\gtrdot"),UH(VH,qH,tW,"⋙","\\ggg",!0),UH(VH,qH,tW,"≷","\\gtrless",!0),UH(VH,qH,tW,"⋛","\\gtreqless",!0),UH(VH,qH,tW,"⪌","\\gtreqqless",!0),UH(VH,qH,tW,"≖","\\eqcirc",!0),UH(VH,qH,tW,"≗","\\circeq",!0),UH(VH,qH,tW,"≜","\\triangleq",!0),UH(VH,qH,tW,"∼","\\thicksim"),UH(VH,qH,tW,"≈","\\thickapprox"),UH(VH,qH,tW,"⫆","\\supseteqq",!0),UH(VH,qH,tW,"⋑","\\Supset",!0),UH(VH,qH,tW,"⊐","\\sqsupset",!0),UH(VH,qH,tW,"≽","\\succcurlyeq",!0),UH(VH,qH,tW,"⋟","\\curlyeqsucc",!0),UH(VH,qH,tW,"≿","\\succsim",!0),UH(VH,qH,tW,"⪸","\\succapprox",!0),UH(VH,qH,tW,"⊳","\\vartriangleright"),UH(VH,qH,tW,"⊵","\\trianglerighteq"),UH(VH,qH,tW,"⊩","\\Vdash",!0),UH(VH,qH,tW,"∣","\\shortmid"),UH(VH,qH,tW,"∥","\\shortparallel"),UH(VH,qH,tW,"≬","\\between",!0),UH(VH,qH,tW,"⋔","\\pitchfork",!0),UH(VH,qH,tW,"∝","\\varpropto"),UH(VH,qH,tW,"◀","\\blacktriangleleft"),UH(VH,qH,tW,"∴","\\therefore",!0),UH(VH,qH,tW,"∍","\\backepsilon"),UH(VH,qH,tW,"▶","\\blacktriangleright"),UH(VH,qH,tW,"∵","\\because",!0),UH(VH,qH,tW,"⋘","\\llless"),UH(VH,qH,tW,"⋙","\\gggtr"),UH(VH,qH,KH,"⊲","\\lhd"),UH(VH,qH,KH,"⊳","\\rhd"),UH(VH,qH,tW,"≂","\\eqsim",!0),UH(VH,WH,tW,"⋈","\\Join"),UH(VH,qH,tW,"≑","\\Doteq",!0),UH(VH,qH,KH,"∔","\\dotplus",!0),UH(VH,qH,KH,"∖","\\smallsetminus"),UH(VH,qH,KH,"⋒","\\Cap",!0),UH(VH,qH,KH,"⋓","\\Cup",!0),UH(VH,qH,KH,"⩞","\\doublebarwedge",!0),UH(VH,qH,KH,"⊟","\\boxminus",!0),UH(VH,qH,KH,"⊞","\\boxplus",!0),UH(VH,qH,KH,"⋇","\\divideontimes",!0),UH(VH,qH,KH,"⋉","\\ltimes",!0),UH(VH,qH,KH,"⋊","\\rtimes",!0),UH(VH,qH,KH,"⋋","\\leftthreetimes",!0),UH(VH,qH,KH,"⋌","\\rightthreetimes",!0),UH(VH,qH,KH,"⋏","\\curlywedge",!0),UH(VH,qH,KH,"⋎","\\curlyvee",!0),UH(VH,qH,KH,"⊝","\\circleddash",!0),UH(VH,qH,KH,"⊛","\\circledast",!0),UH(VH,qH,KH,"⋅","\\centerdot"),UH(VH,qH,KH,"⊺","\\intercal",!0),UH(VH,qH,KH,"⋒","\\doublecap"),UH(VH,qH,KH,"⋓","\\doublecup"),UH(VH,qH,KH,"⊠","\\boxtimes",!0),UH(VH,qH,tW,"⇢","\\dashrightarrow",!0),UH(VH,qH,tW,"⇠","\\dashleftarrow",!0),UH(VH,qH,tW,"⇇","\\leftleftarrows",!0),UH(VH,qH,tW,"⇆","\\leftrightarrows",!0),UH(VH,qH,tW,"⇚","\\Lleftarrow",!0),UH(VH,qH,tW,"↞","\\twoheadleftarrow",!0),UH(VH,qH,tW,"↢","\\leftarrowtail",!0),UH(VH,qH,tW,"↫","\\looparrowleft",!0),UH(VH,qH,tW,"⇋","\\leftrightharpoons",!0),UH(VH,qH,tW,"↶","\\curvearrowleft",!0),UH(VH,qH,tW,"↺","\\circlearrowleft",!0),UH(VH,qH,tW,"↰","\\Lsh",!0),UH(VH,qH,tW,"⇈","\\upuparrows",!0),UH(VH,qH,tW,"↿","\\upharpoonleft",!0),UH(VH,qH,tW,"⇃","\\downharpoonleft",!0),UH(VH,WH,tW,"⊶","\\origof",!0),UH(VH,WH,tW,"⊷","\\imageof",!0),UH(VH,qH,tW,"⊸","\\multimap",!0),UH(VH,qH,tW,"↭","\\leftrightsquigarrow",!0),UH(VH,qH,tW,"⇉","\\rightrightarrows",!0),UH(VH,qH,tW,"⇄","\\rightleftarrows",!0),UH(VH,qH,tW,"↠","\\twoheadrightarrow",!0),UH(VH,qH,tW,"↣","\\rightarrowtail",!0),UH(VH,qH,tW,"↬","\\looparrowright",!0),UH(VH,qH,tW,"↷","\\curvearrowright",!0),UH(VH,qH,tW,"↻","\\circlearrowright",!0),UH(VH,qH,tW,"↱","\\Rsh",!0),UH(VH,qH,tW,"⇊","\\downdownarrows",!0),UH(VH,qH,tW,"↾","\\upharpoonright",!0),UH(VH,qH,tW,"⇂","\\downharpoonright",!0),UH(VH,qH,tW,"⇝","\\rightsquigarrow",!0),UH(VH,qH,tW,"⇝","\\leadsto"),UH(VH,qH,tW,"⇛","\\Rrightarrow",!0),UH(VH,qH,tW,"↾","\\restriction"),UH(VH,WH,rW,"‘","`"),UH(VH,WH,rW,"$","\\$"),UH(HH,WH,rW,"$","\\$"),UH(HH,WH,rW,"$","\\textdollar"),UH(VH,WH,rW,"%","\\%"),UH(HH,WH,rW,"%","\\%"),UH(VH,WH,rW,"_","\\_"),UH(HH,WH,rW,"_","\\_"),UH(HH,WH,rW,"_","\\textunderscore"),UH(VH,WH,rW,"∠","\\angle",!0),UH(VH,WH,rW,"∞","\\infty",!0),UH(VH,WH,rW,"′","\\prime"),UH(VH,WH,rW,"△","\\triangle"),UH(VH,WH,rW,"Γ","\\Gamma",!0),UH(VH,WH,rW,"Δ","\\Delta",!0),UH(VH,WH,rW,"Θ","\\Theta",!0),UH(VH,WH,rW,"Λ","\\Lambda",!0),UH(VH,WH,rW,"Ξ","\\Xi",!0),UH(VH,WH,rW,"Π","\\Pi",!0),UH(VH,WH,rW,"Σ","\\Sigma",!0),UH(VH,WH,rW,"Υ","\\Upsilon",!0),UH(VH,WH,rW,"Φ","\\Phi",!0),UH(VH,WH,rW,"Ψ","\\Psi",!0),UH(VH,WH,rW,"Ω","\\Omega",!0),UH(VH,WH,rW,"A","Α"),UH(VH,WH,rW,"B","Β"),UH(VH,WH,rW,"E","Ε"),UH(VH,WH,rW,"Z","Ζ"),UH(VH,WH,rW,"H","Η"),UH(VH,WH,rW,"I","Ι"),UH(VH,WH,rW,"K","Κ"),UH(VH,WH,rW,"M","Μ"),UH(VH,WH,rW,"N","Ν"),UH(VH,WH,rW,"O","Ο"),UH(VH,WH,rW,"P","Ρ"),UH(VH,WH,rW,"T","Τ"),UH(VH,WH,rW,"X","Χ"),UH(VH,WH,rW,"¬","\\neg",!0),UH(VH,WH,rW,"¬","\\lnot"),UH(VH,WH,rW,"⊤","\\top"),UH(VH,WH,rW,"⊥","\\bot"),UH(VH,WH,rW,"∅","\\emptyset"),UH(VH,qH,rW,"∅","\\varnothing"),UH(VH,WH,ZH,"α","\\alpha",!0),UH(VH,WH,ZH,"β","\\beta",!0),UH(VH,WH,ZH,"γ","\\gamma",!0),UH(VH,WH,ZH,"δ","\\delta",!0),UH(VH,WH,ZH,"ϵ","\\epsilon",!0),UH(VH,WH,ZH,"ζ","\\zeta",!0),UH(VH,WH,ZH,"η","\\eta",!0),UH(VH,WH,ZH,"θ","\\theta",!0),UH(VH,WH,ZH,"ι","\\iota",!0),UH(VH,WH,ZH,"κ","\\kappa",!0),UH(VH,WH,ZH,"λ","\\lambda",!0),UH(VH,WH,ZH,"μ","\\mu",!0),UH(VH,WH,ZH,"ν","\\nu",!0),UH(VH,WH,ZH,"ξ","\\xi",!0),UH(VH,WH,ZH,"ο","\\omicron",!0),UH(VH,WH,ZH,"π","\\pi",!0),UH(VH,WH,ZH,"ρ","\\rho",!0),UH(VH,WH,ZH,"σ","\\sigma",!0),UH(VH,WH,ZH,"τ","\\tau",!0),UH(VH,WH,ZH,"υ","\\upsilon",!0),UH(VH,WH,ZH,"ϕ","\\phi",!0),UH(VH,WH,ZH,"χ","\\chi",!0),UH(VH,WH,ZH,"ψ","\\psi",!0),UH(VH,WH,ZH,"ω","\\omega",!0),UH(VH,WH,ZH,"ε","\\varepsilon",!0),UH(VH,WH,ZH,"ϑ","\\vartheta",!0),UH(VH,WH,ZH,"ϖ","\\varpi",!0),UH(VH,WH,ZH,"ϱ","\\varrho",!0),UH(VH,WH,ZH,"ς","\\varsigma",!0),UH(VH,WH,ZH,"φ","\\varphi",!0),UH(VH,WH,KH,"∗","*",!0),UH(VH,WH,KH,"+","+"),UH(VH,WH,KH,"−","-",!0),UH(VH,WH,KH,"⋅","\\cdot",!0),UH(VH,WH,KH,"∘","\\circ",!0),UH(VH,WH,KH,"÷","\\div",!0),UH(VH,WH,KH,"±","\\pm",!0),UH(VH,WH,KH,"×","\\times",!0),UH(VH,WH,KH,"∩","\\cap",!0),UH(VH,WH,KH,"∪","\\cup",!0),UH(VH,WH,KH,"∖","\\setminus",!0),UH(VH,WH,KH,"∧","\\land"),UH(VH,WH,KH,"∨","\\lor"),UH(VH,WH,KH,"∧","\\wedge",!0),UH(VH,WH,KH,"∨","\\vee",!0),UH(VH,WH,rW,"√","\\surd"),UH(VH,WH,QH,"⟨","\\langle",!0),UH(VH,WH,QH,"∣","\\lvert"),UH(VH,WH,QH,"∥","\\lVert"),UH(VH,WH,XH,"?","?"),UH(VH,WH,XH,"!","!"),UH(VH,WH,XH,"⟩","\\rangle",!0),UH(VH,WH,XH,"∣","\\rvert"),UH(VH,WH,XH,"∥","\\rVert"),UH(VH,WH,tW,"=","="),UH(VH,WH,tW,":",":"),UH(VH,WH,tW,"≈","\\approx",!0),UH(VH,WH,tW,"≅","\\cong",!0),UH(VH,WH,tW,"≥","\\ge"),UH(VH,WH,tW,"≥","\\geq",!0),UH(VH,WH,tW,"←","\\gets"),UH(VH,WH,tW,">","\\gt",!0),UH(VH,WH,tW,"∈","\\in",!0),UH(VH,WH,tW,"","\\@not"),UH(VH,WH,tW,"⊂","\\subset",!0),UH(VH,WH,tW,"⊃","\\supset",!0),UH(VH,WH,tW,"⊆","\\subseteq",!0),UH(VH,WH,tW,"⊇","\\supseteq",!0),UH(VH,qH,tW,"⊈","\\nsubseteq",!0),UH(VH,qH,tW,"⊉","\\nsupseteq",!0),UH(VH,WH,tW,"⊨","\\models"),UH(VH,WH,tW,"←","\\leftarrow",!0),UH(VH,WH,tW,"≤","\\le"),UH(VH,WH,tW,"≤","\\leq",!0),UH(VH,WH,tW,"<","\\lt",!0),UH(VH,WH,tW,"→","\\rightarrow",!0),UH(VH,WH,tW,"→","\\to"),UH(VH,qH,tW,"≱","\\ngeq",!0),UH(VH,qH,tW,"≰","\\nleq",!0),UH(VH,WH,nW," ","\\ "),UH(VH,WH,nW," ","\\space"),UH(VH,WH,nW," ","\\nobreakspace"),UH(HH,WH,nW," ","\\ "),UH(HH,WH,nW," "," "),UH(HH,WH,nW," ","\\space"),UH(HH,WH,nW," ","\\nobreakspace"),UH(VH,WH,nW,null,"\\nobreak"),UH(VH,WH,nW,null,"\\allowbreak"),UH(VH,WH,eW,",",","),UH(VH,WH,eW,";",";"),UH(VH,qH,KH,"⊼","\\barwedge",!0),UH(VH,qH,KH,"⊻","\\veebar",!0),UH(VH,WH,KH,"⊙","\\odot",!0),UH(VH,WH,KH,"⊕","\\oplus",!0),UH(VH,WH,KH,"⊗","\\otimes",!0),UH(VH,WH,rW,"∂","\\partial",!0),UH(VH,WH,KH,"⊘","\\oslash",!0),UH(VH,qH,KH,"⊚","\\circledcirc",!0),UH(VH,qH,KH,"⊡","\\boxdot",!0),UH(VH,WH,KH,"△","\\bigtriangleup"),UH(VH,WH,KH,"▽","\\bigtriangledown"),UH(VH,WH,KH,"†","\\dagger"),UH(VH,WH,KH,"⋄","\\diamond"),UH(VH,WH,KH,"⋆","\\star"),UH(VH,WH,KH,"◃","\\triangleleft"),UH(VH,WH,KH,"▹","\\triangleright"),UH(VH,WH,QH,"{","\\{"),UH(HH,WH,rW,"{","\\{"),UH(HH,WH,rW,"{","\\textbraceleft"),UH(VH,WH,XH,"}","\\}"),UH(HH,WH,rW,"}","\\}"),UH(HH,WH,rW,"}","\\textbraceright"),UH(VH,WH,QH,"{","\\lbrace"),UH(VH,WH,XH,"}","\\rbrace"),UH(VH,WH,QH,"[","\\lbrack",!0),UH(HH,WH,rW,"[","\\lbrack",!0),UH(VH,WH,XH,"]","\\rbrack",!0),UH(HH,WH,rW,"]","\\rbrack",!0),UH(VH,WH,QH,"(","\\lparen",!0),UH(VH,WH,XH,")","\\rparen",!0),UH(HH,WH,rW,"<","\\textless",!0),UH(HH,WH,rW,">","\\textgreater",!0),UH(VH,WH,QH,"⌊","\\lfloor",!0),UH(VH,WH,XH,"⌋","\\rfloor",!0),UH(VH,WH,QH,"⌈","\\lceil",!0),UH(VH,WH,XH,"⌉","\\rceil",!0),UH(VH,WH,rW,"\\","\\backslash"),UH(VH,WH,rW,"∣","|"),UH(VH,WH,rW,"∣","\\vert"),UH(HH,WH,rW,"|","\\textbar",!0),UH(VH,WH,rW,"∥","\\|"),UH(VH,WH,rW,"∥","\\Vert"),UH(HH,WH,rW,"∥","\\textbardbl"),UH(HH,WH,rW,"~","\\textasciitilde"),UH(HH,WH,rW,"\\","\\textbackslash"),UH(HH,WH,rW,"^","\\textasciicircum"),UH(VH,WH,tW,"↑","\\uparrow",!0),UH(VH,WH,tW,"⇑","\\Uparrow",!0),UH(VH,WH,tW,"↓","\\downarrow",!0),UH(VH,WH,tW,"⇓","\\Downarrow",!0),UH(VH,WH,tW,"↕","\\updownarrow",!0),UH(VH,WH,tW,"⇕","\\Updownarrow",!0),UH(VH,WH,JH,"∐","\\coprod"),UH(VH,WH,JH,"⋁","\\bigvee"),UH(VH,WH,JH,"⋀","\\bigwedge"),UH(VH,WH,JH,"⨄","\\biguplus"),UH(VH,WH,JH,"⋂","\\bigcap"),UH(VH,WH,JH,"⋃","\\bigcup"),UH(VH,WH,JH,"∫","\\int"),UH(VH,WH,JH,"∫","\\intop"),UH(VH,WH,JH,"∬","\\iint"),UH(VH,WH,JH,"∭","\\iiint"),UH(VH,WH,JH,"∏","\\prod"),UH(VH,WH,JH,"∑","\\sum"),UH(VH,WH,JH,"⨂","\\bigotimes"),UH(VH,WH,JH,"⨁","\\bigoplus"),UH(VH,WH,JH,"⨀","\\bigodot"),UH(VH,WH,JH,"∮","\\oint"),UH(VH,WH,JH,"∯","\\oiint"),UH(VH,WH,JH,"∰","\\oiiint"),UH(VH,WH,JH,"⨆","\\bigsqcup"),UH(VH,WH,JH,"∫","\\smallint"),UH(HH,WH,YH,"…","\\textellipsis"),UH(VH,WH,YH,"…","\\mathellipsis"),UH(HH,WH,YH,"…","\\ldots",!0),UH(VH,WH,YH,"…","\\ldots",!0),UH(VH,WH,YH,"⋯","\\@cdots",!0),UH(VH,WH,YH,"⋱","\\ddots",!0),UH(VH,WH,rW,"⋮","\\varvdots"),UH(VH,WH,GH,"ˊ","\\acute"),UH(VH,WH,GH,"ˋ","\\grave"),UH(VH,WH,GH,"¨","\\ddot"),UH(VH,WH,GH,"~","\\tilde"),UH(VH,WH,GH,"ˉ","\\bar"),UH(VH,WH,GH,"˘","\\breve"),UH(VH,WH,GH,"ˇ","\\check"),UH(VH,WH,GH,"^","\\hat"),UH(VH,WH,GH,"⃗","\\vec"),UH(VH,WH,GH,"˙","\\dot"),UH(VH,WH,GH,"˚","\\mathring"),UH(VH,WH,ZH,"","\\@imath"),UH(VH,WH,ZH,"","\\@jmath"),UH(VH,WH,rW,"ı","ı"),UH(VH,WH,rW,"ȷ","ȷ"),UH(HH,WH,rW,"ı","\\i",!0),UH(HH,WH,rW,"ȷ","\\j",!0),UH(HH,WH,rW,"ß","\\ss",!0),UH(HH,WH,rW,"æ","\\ae",!0),UH(HH,WH,rW,"œ","\\oe",!0),UH(HH,WH,rW,"ø","\\o",!0),UH(HH,WH,rW,"Æ","\\AE",!0),UH(HH,WH,rW,"Œ","\\OE",!0),UH(HH,WH,rW,"Ø","\\O",!0),UH(HH,WH,GH,"ˊ","\\'"),UH(HH,WH,GH,"ˋ","\\`"),UH(HH,WH,GH,"ˆ","\\^"),UH(HH,WH,GH,"˜","\\~"),UH(HH,WH,GH,"ˉ","\\="),UH(HH,WH,GH,"˘","\\u"),UH(HH,WH,GH,"˙","\\."),UH(HH,WH,GH,"¸","\\c"),UH(HH,WH,GH,"˚","\\r"),UH(HH,WH,GH,"ˇ","\\v"),UH(HH,WH,GH,"¨",'\\"'),UH(HH,WH,GH,"˝","\\H"),UH(HH,WH,GH,"◯","\\textcircled");var oW={"--":!0,"---":!0,"``":!0,"''":!0};UH(HH,WH,rW,"–","--",!0),UH(HH,WH,rW,"–","\\textendash"),UH(HH,WH,rW,"—","---",!0),UH(HH,WH,rW,"—","\\textemdash"),UH(HH,WH,rW,"‘","`",!0),UH(HH,WH,rW,"‘","\\textquoteleft"),UH(HH,WH,rW,"’","'",!0),UH(HH,WH,rW,"’","\\textquoteright"),UH(HH,WH,rW,"“","``",!0),UH(HH,WH,rW,"“","\\textquotedblleft"),UH(HH,WH,rW,"”","''",!0),UH(HH,WH,rW,"”","\\textquotedblright"),UH(VH,WH,rW,"°","\\degree",!0),UH(HH,WH,rW,"°","\\degree"),UH(HH,WH,rW,"°","\\textdegree",!0),UH(VH,WH,rW,"£","\\pounds"),UH(VH,WH,rW,"£","\\mathsterling",!0),UH(HH,WH,rW,"£","\\pounds"),UH(HH,WH,rW,"£","\\textsterling",!0),UH(VH,qH,rW,"✠","\\maltese"),UH(HH,qH,rW,"✠","\\maltese");for(var iW='0123456789/@."',aW=0;aW<14;aW++){var sW=iW.charAt(aW);UH(VH,WH,rW,sW,sW)}for(var lW='0123456789!@*()-=+";:?/.,',cW=0;cW<25;cW++){var uW=lW.charAt(cW);UH(HH,WH,rW,uW,uW)}for(var dW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",fW=0;fW<52;fW++){var pW=dW.charAt(fW);UH(VH,WH,ZH,pW,pW),UH(HH,WH,rW,pW,pW)}UH(VH,qH,rW,"C","ℂ"),UH(HH,qH,rW,"C","ℂ"),UH(VH,qH,rW,"H","ℍ"),UH(HH,qH,rW,"H","ℍ"),UH(VH,qH,rW,"N","ℕ"),UH(HH,qH,rW,"N","ℕ"),UH(VH,qH,rW,"P","ℙ"),UH(HH,qH,rW,"P","ℙ"),UH(VH,qH,rW,"Q","ℚ"),UH(HH,qH,rW,"Q","ℚ"),UH(VH,qH,rW,"R","ℝ"),UH(HH,qH,rW,"R","ℝ"),UH(VH,qH,rW,"Z","ℤ"),UH(HH,qH,rW,"Z","ℤ"),UH(VH,WH,ZH,"h","ℎ"),UH(HH,WH,ZH,"h","ℎ");for(var hW="",mW=0;mW<52;mW++){var vW=dW.charAt(mW);UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56320+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56372+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56424+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56580+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56684+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56736+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56788+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56840+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56944+mW)),UH(HH,WH,rW,vW,hW),mW<26&&(UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56632+mW)),UH(HH,WH,rW,vW,hW),UH(VH,WH,ZH,vW,hW=String.fromCharCode(55349,56476+mW)),UH(HH,WH,rW,vW,hW))}UH(VH,WH,ZH,"k",hW=String.fromCharCode(55349,56668)),UH(HH,WH,rW,"k",hW);for(var gW=0;gW<10;gW++){var yW=gW.toString();UH(VH,WH,ZH,yW,hW=String.fromCharCode(55349,57294+gW)),UH(HH,WH,rW,yW,hW),UH(VH,WH,ZH,yW,hW=String.fromCharCode(55349,57314+gW)),UH(HH,WH,rW,yW,hW),UH(VH,WH,ZH,yW,hW=String.fromCharCode(55349,57324+gW)),UH(HH,WH,rW,yW,hW),UH(VH,WH,ZH,yW,hW=String.fromCharCode(55349,57334+gW)),UH(HH,WH,rW,yW,hW)}for(var bW="ÐÞþ",wW=0;wW<3;wW++){var xW=bW.charAt(wW);UH(VH,WH,ZH,xW,xW),UH(HH,WH,rW,xW,xW)}var SW=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],kW=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],EW=function(e,t,n){return $H[n][e]&&$H[n][e].replace&&(e=$H[n][e].replace),{value:e,metrics:mH(e,t,n)}},OW=function(e,t,n,r,o){var i,a=EW(e,t,n),s=a.metrics;if(e=a.value,s){var l=s.italic;("text"===n||r&&"mathit"===r.font)&&(l=0),i=new IH(e,s.height,s.depth,l,s.skew,s.width,o)}else"undefined"!=typeof console&&console.warn("No character metrics for '"+e+"' in style '"+t+"' and mode '"+n+"'"),i=new IH(e,0,0,0,0,0,o);if(r){i.maxFontSize=r.sizeMultiplier,r.style.isTight()&&i.classes.push("mtight");var c=r.getColor();c&&(i.style.color=c)}return i},jW=(e,t)=>{if(jH(e.classes)!==jH(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(1===e.classes.length){var n=e.classes[0];if("mbin"===n||"mord"===n)return!1}for(var r in e.style)if(e.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;for(var o in t.style)if(t.style.hasOwnProperty(o)&&e.style[o]!==t.style[o])return!1;return!0},_W=function(e){for(var t=0,n=0,r=0,o=0;o<e.children.length;o++){var i=e.children[o];i.height>t&&(t=i.height),i.depth>n&&(n=i.depth),i.maxFontSize>r&&(r=i.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},CW=function(e,t,n,r){var o=new PH(e,t,n,r);return _W(o),o},TW=(e,t,n,r)=>new PH(e,t,n,r),PW=function(e){var t=new dH(e);return _W(t),t},AW=function(e,t,n){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}return r+"-"+("textbf"===t&&"textit"===n?"BoldItalic":"textbf"===t?"Bold":"textit"===t?"Italic":"Regular")},NW={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},MW={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},IW={fontMap:NW,makeSymbol:OW,mathsym:function(e,t,n,r){return void 0===r&&(r=[]),"boldsymbol"===n.font&&EW(e,"Main-Bold",t).metrics?OW(e,"Main-Bold",t,n,r.concat(["mathbf"])):"\\"===e||"main"===$H[t][e].font?OW(e,"Main-Regular",t,n,r):OW(e,"AMS-Regular",t,n,r.concat(["amsrm"]))},makeSpan:CW,makeSvgSpan:TW,makeLineSpan:function(e,t,n){var r=CW([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=OH(r.height),r.maxFontSize=1,r},makeAnchor:function(e,t,n,r){var o=new AH(e,t,n,r);return _W(o),o},makeFragment:PW,wrapFragment:function(e,t){return e instanceof dH?CW([],[e],t):e},makeVList:function(e,t){for(var{children:n,depth:r}=function(e){if("individualShift"===e.positionType){for(var t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,o=r,i=1;i<t.length;i++){var a=-t[i].shift-o-t[i].elem.depth,s=a-(t[i-1].elem.height+t[i-1].elem.depth);o+=a,n.push({type:"kern",size:s}),n.push(t[i])}return{children:n,depth:r}}var l;if("top"===e.positionType){for(var c=e.positionData,u=0;u<e.children.length;u++){var d=e.children[u];c-="kern"===d.type?d.size:d.elem.height+d.elem.depth}l=c}else if("bottom"===e.positionType)l=-e.positionData;else{var f=e.children[0];if("elem"!==f.type)throw new Error('First child must have type "elem".');if("shift"===e.positionType)l=-f.elem.depth-e.positionData;else{if("firstBaseline"!==e.positionType)throw new Error("Invalid positionType "+e.positionType+".");l=-f.elem.depth}}return{children:e.children,depth:l}}(e),o=0,i=0;i<n.length;i++){var a=n[i];if("elem"===a.type){var s=a.elem;o=Math.max(o,s.maxFontSize,s.height)}}o+=2;var l=CW(["pstrut"],[]);l.style.height=OH(o);for(var c=[],u=r,d=r,f=r,p=0;p<n.length;p++){var h=n[p];if("kern"===h.type)f+=h.size;else{var m=h.elem,v=h.wrapperClasses||[],g=h.wrapperStyle||{},y=CW(v,[l,m],void 0,g);y.style.top=OH(-o-f-m.depth),h.marginLeft&&(y.style.marginLeft=h.marginLeft),h.marginRight&&(y.style.marginRight=h.marginRight),c.push(y),f+=m.height+m.depth}u=Math.min(u,f),d=Math.max(d,f)}var b,w=CW(["vlist"],c);if(w.style.height=OH(d),u<0){var x=CW([],[]),S=CW(["vlist"],[x]);S.style.height=OH(-u);var k=CW(["vlist-s"],[new IH("​")]);b=[CW(["vlist-r"],[w,k]),CW(["vlist-r"],[S])]}else b=[CW(["vlist-r"],[w])];var E=CW(["vlist-t"],b);return 2===b.length&&E.classes.push("vlist-t2"),E.height=d,E.depth=-u,E},makeOrd:function(e,t,n){var r=e.mode,o=e.text,i=["mord"],a="math"===r||"text"===r&&t.font,s=a?t.font:t.fontFamily,l="",c="";if(55349===o.charCodeAt(0)&&([l,c]=function(e,t){var n=1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536,r="math"===t?0:1;if(119808<=n&&n<120484){var o=Math.floor((n-119808)/26);return[SW[o][2],SW[o][r]]}if(120782<=n&&n<=120831){var i=Math.floor((n-120782)/10);return[kW[i][2],kW[i][r]]}if(120485===n||120486===n)return[SW[0][2],SW[0][r]];if(120486<n&&n<120782)return["",""];throw new UV("Unsupported character: "+e)}(o,r)),l.length>0)return OW(o,l,r,t,i.concat(c));if(s){var u,d;if("boldsymbol"===s){var f=function(e,t,n,r,o){return"textord"!==o&&EW(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}}(o,r,0,0,n);u=f.fontName,d=[f.fontClass]}else a?(u=NW[s].fontName,d=[s]):(u=AW(s,t.fontWeight,t.fontShape),d=[s,t.fontWeight,t.fontShape]);if(EW(o,u,r).metrics)return OW(o,u,r,t,i.concat(d));if(oW.hasOwnProperty(o)&&"Typewriter"===u.slice(0,10)){for(var p=[],h=0;h<o.length;h++)p.push(OW(o[h],u,r,t,i.concat(d)));return PW(p)}}if("mathord"===n)return OW(o,"Math-Italic",r,t,i.concat(["mathnormal"]));if("textord"===n){var m=$H[r][o]&&$H[r][o].font;if("ams"===m){var v=AW("amsrm",t.fontWeight,t.fontShape);return OW(o,v,r,t,i.concat("amsrm",t.fontWeight,t.fontShape))}if("main"!==m&&m){var g=AW(m,t.fontWeight,t.fontShape);return OW(o,g,r,t,i.concat(g,t.fontWeight,t.fontShape))}var y=AW("textrm",t.fontWeight,t.fontShape);return OW(o,y,r,t,i.concat(t.fontWeight,t.fontShape))}throw new Error("unexpected type: "+n+" in makeOrd")},makeGlue:(e,t)=>{var n=CW(["mspace"],[],t),r=EH(e,t);return n.style.marginRight=OH(r),n},staticSvg:function(e,t){var[n,r,o]=MW[e],i=new LH(n),a=new RH([i],{width:OH(r),height:OH(o),style:"width:"+OH(r),viewBox:"0 0 "+1e3*r+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),s=TW(["overlay"],[a],t);return s.height=o,s.style.height=OH(o),s.style.width=OH(r),s},svgData:MW,tryCombineChars:e=>{for(var t=0;t<e.length-1;t++){var n=e[t],r=e[t+1];n instanceof IH&&r instanceof IH&&jW(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e}},RW={number:3,unit:"mu"},LW={number:4,unit:"mu"},DW={number:5,unit:"mu"},FW={mord:{mop:RW,mbin:LW,mrel:DW,minner:RW},mop:{mord:RW,mop:RW,mrel:DW,minner:RW},mbin:{mord:LW,mop:LW,mopen:LW,minner:LW},mrel:{mord:DW,mop:DW,mopen:DW,minner:DW},mopen:{},mclose:{mop:RW,mbin:LW,mrel:DW,minner:RW},mpunct:{mord:RW,mop:RW,mrel:DW,mopen:RW,mclose:RW,mpunct:RW,minner:RW},minner:{mord:RW,mop:RW,mbin:LW,mrel:DW,mopen:RW,mpunct:RW,minner:RW}},zW={mord:{mop:RW},mop:{mord:RW,mop:RW},mbin:{},mrel:{},mopen:{},mclose:{mop:RW},mpunct:{},minner:{mop:RW}},BW={},$W={},UW={};function VW(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:i,mathmlBuilder:a}=e,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:void 0===r.allowedInMath||r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:o},l=0;l<n.length;++l)BW[n[l]]=s;t&&(i&&($W[t]=i),a&&(UW[t]=a))}function HW(e){var{type:t,htmlBuilder:n,mathmlBuilder:r}=e;VW({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var WW=function(e){return"ordgroup"===e.type&&1===e.body.length?e.body[0]:e},qW=function(e){return"ordgroup"===e.type?e.body:[e]},GW=IW.makeSpan,KW=["leftmost","mbin","mopen","mrel","mop","mpunct"],XW=["rightmost","mrel","mclose","mpunct"],YW={display:iH.DISPLAY,text:iH.TEXT,script:iH.SCRIPT,scriptscript:iH.SCRIPTSCRIPT},ZW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},JW=function(e,t,n,r){void 0===r&&(r=[null,null]);for(var o=[],i=0;i<e.length;i++){var a=oq(e[i],t);if(a instanceof dH){var s=a.children;o.push(...s)}else o.push(a)}if(IW.tryCombineChars(o),!n)return o;var l=t;if(1===e.length){var c=e[0];"sizing"===c.type?l=t.havingSize(c.size):"styling"===c.type&&(l=t.havingStyle(YW[c.style]))}var u=GW([r[0]||"leftmost"],[],t),d=GW([r[1]||"rightmost"],[],t),f="root"===n;return QW(o,((e,t)=>{var n=t.classes[0],r=e.classes[0];"mbin"===n&&GV.contains(XW,r)?t.classes[0]="mord":"mbin"===r&&GV.contains(KW,n)&&(e.classes[0]="mord")}),{node:u},d,f),QW(o,((e,t)=>{var n=nq(t),r=nq(e),o=n&&r?e.hasClass("mtight")?zW[n][r]:FW[n][r]:null;if(o)return IW.makeGlue(o,l)}),{node:u},d,f),o},QW=function e(t,n,r,o,i){o&&t.push(o);for(var a=0;a<t.length;a++){var s=t[a],l=eq(s);if(l)e(l.children,n,r,null,i);else{var c=!s.hasClass("mspace");if(c){var u=n(s,r.node);u&&(r.insertAfter?r.insertAfter(u):(t.unshift(u),a++))}c?r.node=s:i&&s.hasClass("newline")&&(r.node=GW(["leftmost"])),r.insertAfter=(e=>n=>{t.splice(e+1,0,n),a++})(a)}}o&&t.pop()},eq=function(e){return e instanceof dH||e instanceof AH||e instanceof PH&&e.hasClass("enclosing")?e:null},tq=function e(t,n){var r=eq(t);if(r){var o=r.children;if(o.length){if("right"===n)return e(o[o.length-1],"right");if("left"===n)return e(o[0],"left")}}return t},nq=function(e,t){return e?(t&&(e=tq(e,t)),ZW[e.classes[0]]||null):null},rq=function(e,t){var n=["nulldelimiter"].concat(e.baseSizingClasses());return GW(t.concat(n))},oq=function(e,t,n){if(!e)return GW();if($W[e.type]){var r=$W[e.type](e,t);if(n&&t.size!==n.size){r=GW(t.sizingClasses(n),[r],t);var o=t.sizeMultiplier/n.sizeMultiplier;r.height*=o,r.depth*=o}return r}throw new UV("Got group of unknown type: '"+e.type+"'")};function iq(e,t){var n=GW(["base"],e,t),r=GW(["strut"]);return r.style.height=OH(n.height+n.depth),n.depth&&(r.style.verticalAlign=OH(-n.depth)),n.children.unshift(r),n}function aq(e,t){var n=null;1===e.length&&"tag"===e[0].type&&(n=e[0].tag,e=e[0].body);var r,o=JW(e,t,"root");2===o.length&&o[1].hasClass("tag")&&(r=o.pop());for(var i,a=[],s=[],l=0;l<o.length;l++)if(s.push(o[l]),o[l].hasClass("mbin")||o[l].hasClass("mrel")||o[l].hasClass("allowbreak")){for(var c=!1;l<o.length-1&&o[l+1].hasClass("mspace")&&!o[l+1].hasClass("newline");)l++,s.push(o[l]),o[l].hasClass("nobreak")&&(c=!0);c||(a.push(iq(s,t)),s=[])}else o[l].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(iq(s,t)),s=[]),a.push(o[l]));s.length>0&&a.push(iq(s,t)),n?((i=iq(JW(n,t,!0))).classes=["tag"],a.push(i)):r&&a.push(r);var u=GW(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),i){var d=i.children[0];d.style.height=OH(u.height+u.depth),u.depth&&(d.style.verticalAlign=OH(-u.depth))}return u}function sq(e){return new dH(e)}class lq{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=jH(this.classes));for(var n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=GV.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+GV.escape(jH(this.classes))+'"'),e+=">";for(var n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e+="</"+this.type+">"}toText(){return this.children.map((e=>e.toText())).join("")}}class cq{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return GV.escape(this.toText())}toText(){return this.text}}var uq={MathNode:lq,TextNode:cq,SpaceNode:class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,this.character=e>=.05555&&e<=.05556?" ":e>=.1666&&e<=.1667?" ":e>=.2222&&e<=.2223?" ":e>=.2777&&e<=.2778?"  ":e>=-.05556&&e<=-.05555?" ⁣":e>=-.1667&&e<=-.1666?" ⁣":e>=-.2223&&e<=-.2222?" ⁣":e>=-.2778&&e<=-.2777?" ⁣":null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",OH(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+OH(this.width)+'"/>'}toText(){return this.character?this.character:" "}},newDocumentFragment:sq},dq=function(e,t,n){return!$H[t][e]||!$H[t][e].replace||55349===e.charCodeAt(0)||oW.hasOwnProperty(e)&&n&&(n.fontFamily&&"tt"===n.fontFamily.slice(4,6)||n.font&&"tt"===n.font.slice(4,6))||(e=$H[t][e].replace),new uq.TextNode(e)},fq=function(e){return 1===e.length?e[0]:new uq.MathNode("mrow",e)},pq=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var n=t.font;if(!n||"mathnormal"===n)return null;var r=e.mode;if("mathit"===n)return"italic";if("boldsymbol"===n)return"textord"===e.type?"bold":"bold-italic";if("mathbf"===n)return"bold";if("mathbb"===n)return"double-struck";if("mathfrak"===n)return"fraktur";if("mathscr"===n||"mathcal"===n)return"script";if("mathsf"===n)return"sans-serif";if("mathtt"===n)return"monospace";var o=e.text;return GV.contains(["\\imath","\\jmath"],o)?null:($H[r][o]&&$H[r][o].replace&&(o=$H[r][o].replace),mH(o,IW.fontMap[n].fontName,r)?IW.fontMap[n].variant:null)},hq=function(e,t,n){if(1===e.length){var r=vq(e[0],t);return n&&r instanceof lq&&"mo"===r.type&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var o,i=[],a=0;a<e.length;a++){var s=vq(e[a],t);if(s instanceof lq&&o instanceof lq){if("mtext"===s.type&&"mtext"===o.type&&s.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...s.children);continue}if("mn"===s.type&&"mn"===o.type){o.children.push(...s.children);continue}if("mi"===s.type&&1===s.children.length&&"mn"===o.type){var l=s.children[0];if(l instanceof cq&&"."===l.text){o.children.push(...s.children);continue}}else if("mi"===o.type&&1===o.children.length){var c=o.children[0];if(c instanceof cq&&"̸"===c.text&&("mo"===s.type||"mi"===s.type||"mn"===s.type)){var u=s.children[0];u instanceof cq&&u.text.length>0&&(u.text=u.text.slice(0,1)+"̸"+u.text.slice(1),i.pop())}}}i.push(s),o=s}return i},mq=function(e,t,n){return fq(hq(e,t,n))},vq=function(e,t){if(!e)return new uq.MathNode("mrow");if(UW[e.type])return UW[e.type](e,t);throw new UV("Got group of unknown type: '"+e.type+"'")};function gq(e,t,n,r,o){var i,a=hq(e,n);i=1===a.length&&a[0]instanceof lq&&GV.contains(["mrow","mtable"],a[0].type)?a[0]:new uq.MathNode("mrow",a);var s=new uq.MathNode("annotation",[new uq.TextNode(t)]);s.setAttribute("encoding","application/x-tex");var l=new uq.MathNode("semantics",[i,s]),c=new uq.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=o?"katex":"katex-mathml";return IW.makeSpan([u],[c])}var yq=function(e){return new wH({style:e.displayMode?iH.DISPLAY:iH.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},bq=function(e,t){if(t.displayMode){var n=["katex-display"];t.leqno&&n.push("leqno"),t.fleqn&&n.push("fleqn"),e=IW.makeSpan(n,[e])}return e},wq={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},xq={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Sq=function(e,t,n,r,o){var i,a=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(i=IW.makeSpan(["stretchy",t],[],o),"fbox"===t){var s=o.color&&o.getColor();s&&(i.style.borderColor=s)}}else{var l=[];/^[bx]cancel$/.test(t)&&l.push(new DH({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&l.push(new DH({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new RH(l,{width:"100%",height:OH(a)});i=IW.makeSvgSpan([],[c],o)}return i.height=a,i.style.height=OH(a),i},kq=function(e){var t=new uq.MathNode("mo",[new uq.TextNode(wq[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Eq=function(e,t){var{span:n,minWidth:r,height:o}=function(){var n=4e5,r=e.label.slice(1);if(GV.contains(["widehat","widecheck","widetilde","utilde"],r)){var o,i,a,s="ordgroup"===(p=e.base).type?p.body.length:1;if(s>5)"widehat"===r||"widecheck"===r?(o=420,n=2364,a=.42,i=r+"4"):(o=312,n=2340,a=.34,i="tilde4");else{var l=[1,1,2,2,3,3][s];"widehat"===r||"widecheck"===r?(n=[0,1062,2364,2364,2364][l],o=[0,239,300,360,420][l],a=[0,.24,.3,.3,.36,.42][l],i=r+l):(n=[0,600,1033,2339,2340][l],o=[0,260,286,306,312][l],a=[0,.26,.286,.3,.306,.34][l],i="tilde"+l)}var c=new LH(i),u=new RH([c],{width:"100%",height:OH(a),viewBox:"0 0 "+n+" "+o,preserveAspectRatio:"none"});return{span:IW.makeSvgSpan([],[u],t),minWidth:0,height:a}}var d,f,p,h=[],m=xq[r],[v,g,y]=m,b=y/1e3,w=v.length;if(1===w)d=["hide-tail"],f=[m[3]];else if(2===w)d=["halfarrow-left","halfarrow-right"],f=["xMinYMin","xMaxYMin"];else{if(3!==w)throw new Error("Correct katexImagesData or update code here to support\n                    "+w+" children.");d=["brace-left","brace-center","brace-right"],f=["xMinYMin","xMidYMin","xMaxYMin"]}for(var x=0;x<w;x++){var S=new LH(v[x]),k=new RH([S],{width:"400em",height:OH(b),viewBox:"0 0 "+n+" "+y,preserveAspectRatio:f[x]+" slice"}),E=IW.makeSvgSpan([d[x]],[k],t);if(1===w)return{span:E,minWidth:g,height:b};E.style.height=OH(b),h.push(E)}return{span:IW.makeSpan(["stretchy"],h,t),minWidth:g,height:b}}();return n.height=o,n.style.height=OH(o),r>0&&(n.style.minWidth=OH(r)),n};function Oq(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function jq(e){var t=_q(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function _q(e){return e&&("atom"===e.type||BH.hasOwnProperty(e.type))?e:null}var Cq=(e,t)=>{var n,r,o;e&&"supsub"===e.type?(n=(r=Oq(e.base,"accent")).base,e.base=n,o=function(e){if(e instanceof PH)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}(oq(e,t)),e.base=r):n=(r=Oq(e,"accent")).base;var i=oq(n,t.havingCrampedStyle()),a=0;if(r.isShifty&&GV.isCharacterBox(n)){var s=GV.getBaseElem(n);a=FH(oq(s,t.havingCrampedStyle())).skew}var l,c="\\c"===r.label,u=c?i.height+i.depth:Math.min(i.height,t.fontMetrics().xHeight);if(r.isStretchy)l=Eq(r,t),l=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"elem",elem:l,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+OH(2*a)+")",marginLeft:OH(2*a)}:void 0}]},t);else{var d,f;"\\vec"===r.label?(d=IW.staticSvg("vec",t),f=IW.svgData.vec[1]):((d=FH(d=IW.makeOrd({mode:r.mode,text:r.label},t,"textord"))).italic=0,f=d.width,c&&(u+=d.depth)),l=IW.makeSpan(["accent-body"],[d]);var p="\\textcircled"===r.label;p&&(l.classes.push("accent-full"),u=i.height);var h=a;p||(h-=f/2),l.style.left=OH(h),"\\textcircled"===r.label&&(l.style.top=".2em"),l=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:i},{type:"kern",size:-u},{type:"elem",elem:l}]},t)}var m=IW.makeSpan(["mord","accent"],[l],t);return o?(o.children[0]=m,o.height=Math.max(m.height,o.height),o.classes[0]="mord",o):m},Tq=(e,t)=>{var n=e.isStretchy?kq(e.label):new uq.MathNode("mo",[dq(e.label,e.mode)]),r=new uq.MathNode("mover",[vq(e.base,t),n]);return r.setAttribute("accent","true"),r},Pq=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map((e=>"\\"+e)).join("|"));VW({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=WW(t[0]),r=!Pq.test(e.funcName),o=!r||"\\widehat"===e.funcName||"\\widetilde"===e.funcName||"\\widecheck"===e.funcName;return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:o,base:n}},htmlBuilder:Cq,mathmlBuilder:Tq}),VW({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],r=e.parser.mode;return"math"===r&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Cq,mathmlBuilder:Tq}),VW({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:o}},htmlBuilder:(e,t)=>{var n=oq(e.base,t),r=Eq(e,t),o="\\utilde"===e.label?.12:0,i=IW.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:o},{type:"elem",elem:n}]},t);return IW.makeSpan(["mord","accentunder"],[i],t)},mathmlBuilder:(e,t)=>{var n=kq(e.label),r=new uq.MathNode("munder",[vq(e.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Aq=e=>{var t=new uq.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};VW({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r,funcName:o}=e;return{type:"xArrow",mode:r.mode,label:o,body:t[0],below:n[0]}},htmlBuilder(e,t){var n,r=t.style,o=t.havingStyle(r.sup()),i=IW.wrapFragment(oq(e.body,o,t),t),a="\\x"===e.label.slice(0,2)?"x":"cd";i.classes.push(a+"-arrow-pad"),e.below&&(o=t.havingStyle(r.sub()),(n=IW.wrapFragment(oq(e.below,o,t),t)).classes.push(a+"-arrow-pad"));var s,l=Eq(e,t),c=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;if((i.depth>.25||"\\xleftequilibrium"===e.label)&&(u-=i.depth),n){var d=-t.fontMetrics().axisHeight+n.height+.5*l.height+.111;s=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:c},{type:"elem",elem:n,shift:d}]},t)}else s=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:c}]},t);return s.children[0].children[0].children[1].classes.push("svg-align"),IW.makeSpan(["mrel","x-arrow"],[s],t)},mathmlBuilder(e,t){var n,r=kq(e.label);if(r.setAttribute("minsize","x"===e.label.charAt(0)?"1.75em":"3.0em"),e.body){var o=Aq(vq(e.body,t));if(e.below){var i=Aq(vq(e.below,t));n=new uq.MathNode("munderover",[r,i,o])}else n=new uq.MathNode("mover",[r,o])}else if(e.below){var a=Aq(vq(e.below,t));n=new uq.MathNode("munder",[r,a])}else n=Aq(),n=new uq.MathNode("mover",[r,n]);return n}});var Nq=IW.makeSpan;function Mq(e,t){var n=JW(e.body,t,!0);return Nq([e.mclass],n,t)}function Iq(e,t){var n,r=hq(e.body,t);return"minner"===e.mclass?n=new uq.MathNode("mpadded",r):"mord"===e.mclass?e.isCharacterBox?(n=r[0]).type="mi":n=new uq.MathNode("mi",r):(e.isCharacterBox?(n=r[0]).type="mo":n=new uq.MathNode("mo",r),"mbin"===e.mclass?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):"mpunct"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):"mopen"===e.mclass||"mclose"===e.mclass?(n.attributes.lspace="0em",n.attributes.rspace="0em"):"minner"===e.mclass&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}VW({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:qW(o),isCharacterBox:GV.isCharacterBox(o)}},htmlBuilder:Mq,mathmlBuilder:Iq});var Rq=e=>{var t="ordgroup"===e.type&&e.body.length?e.body[0]:e;return"atom"!==t.type||"bin"!==t.family&&"rel"!==t.family?"mord":"m"+t.family};VW({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:Rq(t[0]),body:qW(t[1]),isCharacterBox:GV.isCharacterBox(t[1])}}}),VW({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var n,{parser:r,funcName:o}=e,i=t[1],a=t[0];n="\\stackrel"!==o?Rq(i):"mrel";var s={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:"\\stackrel"!==o,body:qW(i)},l={type:"supsub",mode:a.mode,base:s,sup:"\\underset"===o?null:a,sub:"\\underset"===o?a:null};return{type:"mclass",mode:r.mode,mclass:n,body:[l],isCharacterBox:GV.isCharacterBox(l)}},htmlBuilder:Mq,mathmlBuilder:Iq}),VW({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:Rq(t[0]),body:qW(t[0])}},htmlBuilder(e,t){var n=JW(e.body,t,!0),r=IW.makeSpan([e.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(e,t){var n=hq(e.body,t),r=new uq.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Lq={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Dq=e=>"textord"===e.type&&"@"===e.text;function Fq(e,t,n){var r=Lq[e];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":var o={type:"atom",text:r,mode:"math",family:"rel"},i={type:"ordgroup",mode:"math",body:[n.callFunction("\\\\cdleft",[t[0]],[]),n.callFunction("\\Big",[o],[]),n.callFunction("\\\\cdright",[t[1]],[])]};return n.callFunction("\\\\cdparent",[i],[]);case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":return n.callFunction("\\Big",[{type:"textord",text:"\\Vert",mode:"math"}],[]);default:return{type:"textord",text:" ",mode:"math"}}}VW({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),r=IW.wrapFragment(oq(e.label,n,t),t);return r.classes.push("cd-label-"+e.side),r.style.bottom=OH(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){var n=new uq.MathNode("mrow",[vq(e.label,t)]);return(n=new uq.MathNode("mpadded",[n])).setAttribute("width","0"),"left"===e.side&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),(n=new uq.MathNode("mstyle",[n])).setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}}),VW({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=IW.wrapFragment(oq(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder:(e,t)=>new uq.MathNode("mrow",[vq(e.fragment,t)])}),VW({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,r=Oq(t[0],"ordgroup").body,o="",i=0;i<r.length;i++){o+=Oq(r[i],"textord").text}var a,s=parseInt(o);if(isNaN(s))throw new UV("\\@char has non-numeric argument "+o);if(s<0||s>=1114111)throw new UV("\\@char with invalid code point "+o);return s<=65535?a=String.fromCharCode(s):(s-=65536,a=String.fromCharCode(55296+(s>>10),56320+(1023&s))),{type:"textord",mode:n.mode,text:a}}});var zq=(e,t)=>{var n=JW(e.body,t.withColor(e.color),!1);return IW.makeFragment(n)},Bq=(e,t)=>{var n=hq(e.body,t.withColor(e.color)),r=new uq.MathNode("mstyle",n);return r.setAttribute("mathcolor",e.color),r};VW({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,r=Oq(t[0],"color-token").color,o=t[1];return{type:"color",mode:n.mode,color:r,body:qW(o)}},htmlBuilder:zq,mathmlBuilder:Bq}),VW({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:r}=e,o=Oq(t[0],"color-token").color;n.gullet.macros.set("\\current@color",o);var i=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:o,body:i}},htmlBuilder:zq,mathmlBuilder:Bq}),VW({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:r}=e,o="["===r.gullet.future().text?r.parseSizeGroup(!0):null,i=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:i,size:o&&Oq(o,"size").value}},htmlBuilder(e,t){var n=IW.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=OH(EH(e.size,t)))),n},mathmlBuilder(e,t){var n=new uq.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",OH(EH(e.size,t)))),n}});var $q={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Uq=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new UV("Expected a control sequence",e);return t},Vq=(e,t,n,r)=>{var o=e.gullet.macros.get(n.text);null==o&&(n.noexpand=!0,o={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,o,r)};VW({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var r=t.fetch();if($q[r.text])return"\\global"!==n&&"\\\\globallong"!==n||(r.text=$q[r.text]),Oq(t.parseFunction(),"internal");throw new UV("Invalid token after macro prefix",r)}}),VW({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=t.gullet.popToken(),o=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new UV("Expected a control sequence",r);for(var i,a=0,s=[[]];"{"!==t.gullet.future().text;)if("#"===(r=t.gullet.popToken()).text){if("{"===t.gullet.future().text){i=t.gullet.future(),s[a].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new UV('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new UV('Argument number "'+r.text+'" out of order');a++,s.push([])}else{if("EOF"===r.text)throw new UV("Expected a macro definition");s[a].push(r.text)}var{tokens:l}=t.gullet.consumeArg();return i&&l.unshift(i),"\\edef"!==n&&"\\xdef"!==n||(l=t.gullet.expandTokens(l)).reverse(),t.gullet.macros.set(o,{tokens:l,numArgs:a,delimiters:s},n===$q[n]),{type:"internal",mode:t.mode}}}),VW({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=Uq(t.gullet.popToken());t.gullet.consumeSpaces();var o=(e=>{var t=e.gullet.popToken();return"="===t.text&&" "===(t=e.gullet.popToken()).text&&(t=e.gullet.popToken()),t})(t);return Vq(t,r,o,"\\\\globallet"===n),{type:"internal",mode:t.mode}}}),VW({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,r=Uq(t.gullet.popToken()),o=t.gullet.popToken(),i=t.gullet.popToken();return Vq(t,r,i,"\\\\globalfuture"===n),t.gullet.pushToken(i),t.gullet.pushToken(o),{type:"internal",mode:t.mode}}});var Hq=function(e,t,n){var r=mH($H.math[e]&&$H.math[e].replace||e,t,n);if(!r)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return r},Wq=function(e,t,n,r){var o=n.havingBaseStyle(t),i=IW.makeSpan(r.concat(o.sizingClasses(n)),[e],n),a=o.sizeMultiplier/n.sizeMultiplier;return i.height*=a,i.depth*=a,i.maxFontSize=o.sizeMultiplier,i},qq=function(e,t,n){var r=t.havingBaseStyle(n),o=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=OH(o),e.height-=o,e.depth+=o},Gq=function(e,t,n,r,o,i){var a=function(e,t,n,r){return IW.makeSymbol(e,"Size"+t+"-Regular",n,r)}(e,t,o,r),s=Wq(IW.makeSpan(["delimsizing","size"+t],[a],r),iH.TEXT,r,i);return n&&qq(s,r,iH.TEXT),s},Kq=function(e,t,n){var r;return r="Size1-Regular"===t?"delim-size1":"delim-size4",{type:"elem",elem:IW.makeSpan(["delimsizinginner",r],[IW.makeSpan([],[IW.makeSymbol(e,t,n)])])}},Xq=function(e,t,n){var r=fH["Size4-Regular"][e.charCodeAt(0)]?fH["Size4-Regular"][e.charCodeAt(0)][4]:fH["Size1-Regular"][e.charCodeAt(0)][4],o=new LH("inner",function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145zM367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z";case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257zM478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z";default:return""}}(e,Math.round(1e3*t))),i=new RH([o],{width:OH(r),height:OH(t),style:"width:"+OH(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),a=IW.makeSvgSpan([],[i],n);return a.height=t,a.style.height=OH(t),a.style.width=OH(r),{type:"elem",elem:a}},Yq={type:"kern",size:-.008},Zq=["|","\\lvert","\\rvert","\\vert"],Jq=["\\|","\\lVert","\\rVert","\\Vert"],Qq=function(e,t,n,r,o,i){var a,s,l,c,u="",d=0;a=l=c=e,s=null;var f="Size1-Regular";"\\uparrow"===e?l=c="⏐":"\\Uparrow"===e?l=c="‖":"\\downarrow"===e?a=l="⏐":"\\Downarrow"===e?a=l="‖":"\\updownarrow"===e?(a="\\uparrow",l="⏐",c="\\downarrow"):"\\Updownarrow"===e?(a="\\Uparrow",l="‖",c="\\Downarrow"):GV.contains(Zq,e)?(l="∣",u="vert",d=333):GV.contains(Jq,e)?(l="∥",u="doublevert",d=556):"["===e||"\\lbrack"===e?(a="⎡",l="⎢",c="⎣",f="Size4-Regular",u="lbrack",d=667):"]"===e||"\\rbrack"===e?(a="⎤",l="⎥",c="⎦",f="Size4-Regular",u="rbrack",d=667):"\\lfloor"===e||"⌊"===e?(l=a="⎢",c="⎣",f="Size4-Regular",u="lfloor",d=667):"\\lceil"===e||"⌈"===e?(a="⎡",l=c="⎢",f="Size4-Regular",u="lceil",d=667):"\\rfloor"===e||"⌋"===e?(l=a="⎥",c="⎦",f="Size4-Regular",u="rfloor",d=667):"\\rceil"===e||"⌉"===e?(a="⎤",l=c="⎥",f="Size4-Regular",u="rceil",d=667):"("===e||"\\lparen"===e?(a="⎛",l="⎜",c="⎝",f="Size4-Regular",u="lparen",d=875):")"===e||"\\rparen"===e?(a="⎞",l="⎟",c="⎠",f="Size4-Regular",u="rparen",d=875):"\\{"===e||"\\lbrace"===e?(a="⎧",s="⎨",c="⎩",l="⎪",f="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(a="⎫",s="⎬",c="⎭",l="⎪",f="Size4-Regular"):"\\lgroup"===e||"⟮"===e?(a="⎧",c="⎩",l="⎪",f="Size4-Regular"):"\\rgroup"===e||"⟯"===e?(a="⎫",c="⎭",l="⎪",f="Size4-Regular"):"\\lmoustache"===e||"⎰"===e?(a="⎧",c="⎭",l="⎪",f="Size4-Regular"):"\\rmoustache"!==e&&"⎱"!==e||(a="⎫",c="⎩",l="⎪",f="Size4-Regular");var p=Hq(a,f,o),h=p.height+p.depth,m=Hq(l,f,o),v=m.height+m.depth,g=Hq(c,f,o),y=g.height+g.depth,b=0,w=1;if(null!==s){var x=Hq(s,f,o);b=x.height+x.depth,w=2}var S=h+y+b,k=S+Math.max(0,Math.ceil((t-S)/(w*v)))*w*v,E=r.fontMetrics().axisHeight;n&&(E*=r.sizeMultiplier);var O=k/2-E,j=[];if(u.length>0){var _=k-h-y,C=Math.round(1e3*k),T=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v1759 h347 v-84\nH403z M403 1759 V0 H319 V1759 v"+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v1759 H0 v84 H347z\nM347 1759 V0 H263 V1759 v"+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M188 15 H145 v585 v"+t+" v585 h43z\nM367 15 v585 v"+t+" v585 c2.667,10,9.667,15,21,15\nc10,0,16.667,-5,20,-15 v-585 v"+-t+" v-585 c-2.667,-10,-9.667,-15,-21,-15\nc-10,0,-16.667,5,-20,15z M410 15 H367 v585 v"+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+" v1715 h263 v84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+" v1799 H0 v-84 H319z\nMM319 602 V0 H403 V602 v"+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+" v602 h84z\nM403 1759 V0 H319 V1759 v"+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+" v602 h84z\nM347 1759 V0 h-84 V1759 v"+t+" v602 h84z";case"lparen":return"M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1\nc-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,\n-36,557 l0,"+(t+84)+"c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,\n949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9\nc0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,\n-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189\nl0,-"+(t+92)+"c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,\n-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z";case"rparen":return"M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,\n63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5\nc11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,"+(t+9)+"\nc-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664\nc-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11\nc0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17\nc242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558\nl0,-"+(t+144)+"c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,\n-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z";default:throw new Error("Unknown stretchy delimiter.")}}(u,Math.round(1e3*_)),P=new LH(u,T),A=(d/1e3).toFixed(3)+"em",N=(C/1e3).toFixed(3)+"em",M=new RH([P],{width:A,height:N,viewBox:"0 0 "+d+" "+C}),I=IW.makeSvgSpan([],[M],r);I.height=C/1e3,I.style.width=A,I.style.height=N,j.push({type:"elem",elem:I})}else{if(j.push(Kq(c,f,o)),j.push(Yq),null===s){var R=k-h-y+.016;j.push(Xq(l,R,r))}else{var L=(k-h-y-b)/2+.016;j.push(Xq(l,L,r)),j.push(Yq),j.push(Kq(s,f,o)),j.push(Yq),j.push(Xq(l,L,r))}j.push(Yq),j.push(Kq(a,f,o))}var D=r.havingBaseStyle(iH.TEXT),F=IW.makeVList({positionType:"bottom",positionData:O,children:j},D);return Wq(IW.makeSpan(["delimsizing","mult"],[F],D),iH.TEXT,r,i)},eG=.08,tG=function(e,t,n,r,o){var i=function(e,t,n){t*=1e3;var r="";switch(e){case"sqrtMain":r=function(e,t){return"M95,"+(622+e+t)+"\nc-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14\nc0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54\nc44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10\ns173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429\nc69,-144,104.5,-217.7,106.5,-221\nl"+e/2.075+" -"+e+"\nc5.3,-9.3,12,-14,20,-14\nH400000v"+(40+e)+"H845.2724\ns-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7\nc-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z\nM"+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,cH);break;case"sqrtSize1":r=function(e,t){return"M263,"+(601+e+t)+"c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl"+e/2.084+" -"+e+"\nc4.7,-7.3,11,-11,19,-11\nH40000v"+(40+e)+"H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,cH);break;case"sqrtSize2":r=function(e,t){return"M983 "+(10+e+t)+"\nl"+e/3.13+" -"+e+"\nc4,-6.7,10,-10,18,-10 H400000v"+(40+e)+"\nH1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7\ns-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744\nc-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30\nc26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722\nc56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5\nc53.7,-170.3,84.5,-266.8,92.5,-289.5z\nM"+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"}(t,cH);break;case"sqrtSize3":r=function(e,t){return"M424,"+(2398+e+t)+"\nc-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514\nc0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20\ns-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121\ns209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081\nl"+e/4.223+" -"+e+"c4,-6.7,10,-10,18,-10 H400000\nv"+(40+e)+"H1014.6\ns-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185\nc-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2z M"+(1001+e)+" "+t+"\nh400000v"+(40+e)+"h-400000z"}(t,cH);break;case"sqrtSize4":r=function(e,t){return"M473,"+(2713+e+t)+"\nc339.3,-1799.3,509.3,-2700,510,-2702 l"+e/5.298+" -"+e+"\nc3.3,-7.3,9.3,-11,18,-11 H400000v"+(40+e)+"H1017.7\ns-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9\nc-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200\nc0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26\ns76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,\n606zM"+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"}(t,cH);break;case"sqrtTall":r=function(e,t,n){return"M702 "+(e+t)+"H400000"+(40+e)+"\nH742v"+(n-54-t-e)+"l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1\nh-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170\nc-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667\n219 661 l218 661zM702 "+t+"H400000v"+(40+e)+"H742z"}(t,cH,n)}return r}(e,r,n),a=new LH(e,i),s=new RH([a],{width:"400em",height:OH(t),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return IW.makeSvgSpan(["hide-tail"],[s],o)},nG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],rG=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],oG=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],iG=[0,1.2,1.8,2.4,3],aG=[{type:"small",style:iH.SCRIPTSCRIPT},{type:"small",style:iH.SCRIPT},{type:"small",style:iH.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],sG=[{type:"small",style:iH.SCRIPTSCRIPT},{type:"small",style:iH.SCRIPT},{type:"small",style:iH.TEXT},{type:"stack"}],lG=[{type:"small",style:iH.SCRIPTSCRIPT},{type:"small",style:iH.SCRIPT},{type:"small",style:iH.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],cG=function(e){if("small"===e.type)return"Main-Regular";if("large"===e.type)return"Size"+e.size+"-Regular";if("stack"===e.type)return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},uG=function(e,t,n,r){for(var o=Math.min(2,3-r.style.size);o<n.length&&"stack"!==n[o].type;o++){var i=Hq(e,cG(n[o]),"math"),a=i.height+i.depth;if("small"===n[o].type&&(a*=r.havingBaseStyle(n[o].style).sizeMultiplier),a>t)return n[o]}return n[n.length-1]},dG=function(e,t,n,r,o,i){var a;"<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),a=GV.contains(oG,e)?aG:GV.contains(nG,e)?lG:sG;var s=uG(e,t,a,r);return"small"===s.type?function(e,t,n,r,o,i){var a=IW.makeSymbol(e,"Main-Regular",o,r),s=Wq(a,t,r,i);return n&&qq(s,r,t),s}(e,s.style,n,r,o,i):"large"===s.type?Gq(e,s.size,n,r,o,i):Qq(e,t,n,r,o,i)},fG={sqrtImage:function(e,t){var n,r,o=t.havingBaseSizing(),i=uG("\\surd",e*o.sizeMultiplier,lG,o),a=o.sizeMultiplier,s=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l=0,c=0,u=0;return"small"===i.type?(e<1?a=1:e<1.4&&(a=.7),c=(1+s)/a,(n=tG("sqrtMain",l=(1+s+eG)/a,u=1e3+1e3*s+80,s,t)).style.minWidth="0.853em",r=.833/a):"large"===i.type?(u=1080*iG[i.size],c=(iG[i.size]+s)/a,l=(iG[i.size]+s+eG)/a,(n=tG("sqrtSize"+i.size,l,u,s,t)).style.minWidth="1.02em",r=1/a):(l=e+s+eG,c=e+s,u=Math.floor(1e3*e+s)+80,(n=tG("sqrtTall",l,u,s,t)).style.minWidth="0.742em",r=1.056),n.height=c,n.style.height=OH(l),{span:n,advanceWidth:r,ruleWidth:(t.fontMetrics().sqrtRuleThickness+s)*a}},sizedDelim:function(e,t,n,r,o){if("<"===e||"\\lt"===e||"⟨"===e?e="\\langle":">"!==e&&"\\gt"!==e&&"⟩"!==e||(e="\\rangle"),GV.contains(nG,e)||GV.contains(oG,e))return Gq(e,t,!1,n,r,o);if(GV.contains(rG,e))return Qq(e,iG[t],!1,n,r,o);throw new UV("Illegal delimiter: '"+e+"'")},sizeToMaxHeight:iG,customSizedDelim:dG,leftRightDelim:function(e,t,n,r,o,i){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,l=Math.max(t-a,n+a),c=Math.max(l/500*901,2*l-s);return dG(e,c,!0,r,o,i)}},pG={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},hG=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function mG(e,t){var n=_q(e);if(n&&GV.contains(hG,n.text))return n;throw new UV(n?"Invalid delimiter '"+n.text+"' after '"+t.funcName+"'":"Invalid delimiter type '"+e.type+"'",e)}function vG(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}VW({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=mG(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:pG[e.funcName].size,mclass:pG[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>"."===e.delim?IW.makeSpan([e.mclass]):fG.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];"."!==e.delim&&t.push(dq(e.delim,e.mode));var n=new uq.MathNode("mo",t);"mopen"===e.mclass||"mclose"===e.mclass?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=OH(fG.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}}),VW({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&"string"!=typeof n)throw new UV("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:mG(t[0],e).text,color:n}}}),VW({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=mG(t[0],e),r=e.parser;++r.leftrightDepth;var o=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var i=Oq(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:o,left:n.text,right:i.delim,rightColor:i.color}},htmlBuilder:(e,t)=>{vG(e);for(var n,r,o=JW(e.body,t,!0,["mopen","mclose"]),i=0,a=0,s=!1,l=0;l<o.length;l++)o[l].isMiddle?s=!0:(i=Math.max(o[l].height,i),a=Math.max(o[l].depth,a));if(i*=t.sizeMultiplier,a*=t.sizeMultiplier,n="."===e.left?rq(t,["mopen"]):fG.leftRightDelim(e.left,i,a,t,e.mode,["mopen"]),o.unshift(n),s)for(var c=1;c<o.length;c++){var u=o[c].isMiddle;u&&(o[c]=fG.leftRightDelim(u.delim,i,a,u.options,e.mode,[]))}if("."===e.right)r=rq(t,["mclose"]);else{var d=e.rightColor?t.withColor(e.rightColor):t;r=fG.leftRightDelim(e.right,i,a,d,e.mode,["mclose"])}return o.push(r),IW.makeSpan(["minner"],o,t)},mathmlBuilder:(e,t)=>{vG(e);var n=hq(e.body,t);if("."!==e.left){var r=new uq.MathNode("mo",[dq(e.left,e.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if("."!==e.right){var o=new uq.MathNode("mo",[dq(e.right,e.mode)]);o.setAttribute("fence","true"),e.rightColor&&o.setAttribute("mathcolor",e.rightColor),n.push(o)}return fq(n)}}),VW({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=mG(t[0],e);if(!e.parser.leftrightDepth)throw new UV("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if("."===e.delim)n=rq(t,[]);else{n=fG.sizedDelim(e.delim,1,t,e.mode,[]);var r={delim:e.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(e,t)=>{var n="\\vert"===e.delim||"|"===e.delim?dq("|","text"):dq(e.delim,e.mode),r=new uq.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var gG=(e,t)=>{var n,r,o=IW.wrapFragment(oq(e.body,t),t),i=e.label.slice(1),a=t.sizeMultiplier,s=0,l=GV.isCharacterBox(e.body);if("sout"===i)(n=IW.makeSpan(["stretchy","sout"])).height=t.fontMetrics().defaultRuleThickness/a,s=-.5*t.fontMetrics().xHeight;else if("phase"===i){var c=EH({number:.6,unit:"pt"},t),u=EH({number:.35,unit:"ex"},t);a/=t.havingBaseSizing().sizeMultiplier;var d=o.height+o.depth+c+u;o.style.paddingLeft=OH(d/2+c);var f=Math.floor(1e3*d*a),p=function(e){return"M400000 "+e+" H0 L"+e/2+" 0 l65 45 L145 "+(e-80)+" H400000z"}(f),h=new RH([new LH("phase",p)],{width:"400em",height:OH(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});(n=IW.makeSvgSpan(["hide-tail"],[h],t)).style.height=OH(d),s=o.depth+c+u}else{/cancel/.test(i)?l||o.classes.push("cancel-pad"):"angl"===i?o.classes.push("anglpad"):o.classes.push("boxpad");var m=0,v=0,g=0;/box/.test(i)?(g=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),v=m=t.fontMetrics().fboxsep+("colorbox"===i?0:g)):"angl"===i?(m=4*(g=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness)),v=Math.max(0,.25-o.depth)):v=m=l?.2:0,n=Sq(o,i,m,v,t),/fbox|boxed|fcolorbox/.test(i)?(n.style.borderStyle="solid",n.style.borderWidth=OH(g)):"angl"===i&&.049!==g&&(n.style.borderTopWidth=OH(g),n.style.borderRightWidth=OH(g)),s=o.depth+v,e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor,e.borderColor&&(n.style.borderColor=e.borderColor))}if(e.backgroundColor)r=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:s},{type:"elem",elem:o,shift:0}]},t);else{var y=/cancel|phase/.test(i)?["svg-align"]:[];r=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:n,shift:s,wrapperClasses:y}]},t)}return/cancel/.test(i)&&(r.height=o.height,r.depth=o.depth),/cancel/.test(i)&&!l?IW.makeSpan(["mord","cancel-lap"],[r],t):IW.makeSpan(["mord"],[r],t)},yG=(e,t)=>{var n=0,r=new uq.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[vq(e.body,t)]);switch(e.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),"\\fcolorbox"===e.label){var o=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+o+"em solid "+String(e.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike")}return e.backgroundColor&&r.setAttribute("mathbackground",e.backgroundColor),r};VW({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,i=Oq(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:r.mode,label:o,backgroundColor:i,body:a}},htmlBuilder:gG,mathmlBuilder:yG}),VW({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:r,funcName:o}=e,i=Oq(t[0],"color-token").color,a=Oq(t[1],"color-token").color,s=t[2];return{type:"enclose",mode:r.mode,label:o,backgroundColor:a,borderColor:i,body:s}},htmlBuilder:gG,mathmlBuilder:yG}),VW({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}}),VW({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"enclose",mode:n.mode,label:r,body:o}},htmlBuilder:gG,mathmlBuilder:yG}),VW({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var bG={};function wG(e){for(var{type:t,names:n,props:r,handler:o,htmlBuilder:i,mathmlBuilder:a}=e,s={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:o},l=0;l<n.length;++l)bG[n[l]]=s;i&&($W[t]=i),a&&(UW[t]=a)}var xG={};function SG(e,t){xG[e]=t}function kG(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for("\\relax"===n&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);"\\hline"===n||"\\hdashline"===n;)e.consume(),t.push("\\hdashline"===n),e.consumeSpaces(),n=e.fetch().text;return t}var EG=e=>{if(!e.parser.settings.displayMode)throw new UV("{"+e.envName+"} can be used only in display mode.")};function OG(e){if(-1===e.indexOf("ed"))return-1===e.indexOf("*")}function jG(e,t,n){var{hskipBeforeAndAfter:r,addJot:o,cols:i,arraystretch:a,colSeparationType:s,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:f}=t;if(e.gullet.beginGroup(),c||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var p=e.gullet.expandMacroAsText("\\arraystretch");if(null==p)a=1;else if(!(a=parseFloat(p))||a<0)throw new UV("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var h=[],m=[h],v=[],g=[],y=null!=l?[]:void 0;function b(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function w(){y&&(e.gullet.macros.get("\\df@tag")?(y.push(e.subparse([new $V("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):y.push(Boolean(l)&&"1"===e.gullet.macros.get("\\@eqnsw")))}for(b(),g.push(kG(e));;){var x=e.parseExpression(!1,c?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),x={type:"ordgroup",mode:e.mode,body:x},n&&(x={type:"styling",mode:e.mode,style:n,body:[x]}),h.push(x);var S=e.fetch().text;if("&"===S){if(d&&h.length===d){if(c||s)throw new UV("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else{if("\\end"===S){w(),1===h.length&&"styling"===x.type&&0===x.body[0].body.length&&(m.length>1||!u)&&m.pop(),g.length<m.length+1&&g.push([]);break}if("\\\\"!==S)throw new UV("Expected & or \\\\ or \\cr or \\end",e.nextToken);e.consume();var k=void 0;" "!==e.gullet.future().text&&(k=e.parseSizeGroup(!0)),v.push(k?k.value:null),w(),g.push(kG(e)),h=[],m.push(h),b()}}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:o,arraystretch:a,body:m,cols:i,rowGaps:v,hskipBeforeAndAfter:r,hLinesBeforeRow:g,colSeparationType:s,tags:y,leqno:f}}function _G(e){return"d"===e.slice(0,1)?"display":"text"}var CG=function(e,t){var n,r,o=e.body.length,i=e.hLinesBeforeRow,a=0,s=new Array(o),l=[],c=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),u=1/t.fontMetrics().ptPerEm,d=5*u;e.colSeparationType&&"small"===e.colSeparationType&&(d=t.havingStyle(iH.SCRIPT).sizeMultiplier/t.sizeMultiplier*.2778);var f="CD"===e.colSeparationType?EH({number:3,unit:"ex"},t):12*u,p=3*u,h=e.arraystretch*f,m=.7*h,v=.3*h,g=0;function y(e){for(var t=0;t<e.length;++t)t>0&&(g+=.25),l.push({pos:g,isDashed:e[t]})}for(y(i[0]),n=0;n<e.body.length;++n){var b=e.body[n],w=m,x=v;a<b.length&&(a=b.length);var S=new Array(b.length);for(r=0;r<b.length;++r){var k=oq(b[r],t);x<k.depth&&(x=k.depth),w<k.height&&(w=k.height),S[r]=k}var E=e.rowGaps[n],O=0;E&&(O=EH(E,t))>0&&(x<(O+=v)&&(x=O),O=0),e.addJot&&(x+=p),S.height=w,S.depth=x,g+=w,S.pos=g,g+=x+O,s[n]=S,y(i[n+1])}var j,_,C=g/2+t.fontMetrics().axisHeight,T=e.cols||[],P=[],A=[];if(e.tags&&e.tags.some((e=>e)))for(n=0;n<o;++n){var N=s[n],M=N.pos-C,I=e.tags[n],R=void 0;(R=!0===I?IW.makeSpan(["eqn-num"],[],t):!1===I?IW.makeSpan([],[],t):IW.makeSpan([],JW(I,t,!0),t)).depth=N.depth,R.height=N.height,A.push({type:"elem",elem:R,shift:M})}for(r=0,_=0;r<a||_<T.length;++r,++_){for(var L=T[_]||{},D=!0;"separator"===L.type;){if(D||((j=IW.makeSpan(["arraycolsep"],[])).style.width=OH(t.fontMetrics().doubleRuleSep),P.push(j)),"|"!==L.separator&&":"!==L.separator)throw new UV("Invalid separator type: "+L.separator);var F="|"===L.separator?"solid":"dashed",z=IW.makeSpan(["vertical-separator"],[],t);z.style.height=OH(g),z.style.borderRightWidth=OH(c),z.style.borderRightStyle=F,z.style.margin="0 "+OH(-c/2);var B=g-C;B&&(z.style.verticalAlign=OH(-B)),P.push(z),L=T[++_]||{},D=!1}if(!(r>=a)){var $=void 0;(r>0||e.hskipBeforeAndAfter)&&0!==($=GV.deflt(L.pregap,d))&&((j=IW.makeSpan(["arraycolsep"],[])).style.width=OH($),P.push(j));var U=[];for(n=0;n<o;++n){var V=s[n],H=V[r];if(H){var W=V.pos-C;H.depth=V.depth,H.height=V.height,U.push({type:"elem",elem:H,shift:W})}}U=IW.makeVList({positionType:"individualShift",children:U},t),U=IW.makeSpan(["col-align-"+(L.align||"c")],[U]),P.push(U),(r<a-1||e.hskipBeforeAndAfter)&&0!==($=GV.deflt(L.postgap,d))&&((j=IW.makeSpan(["arraycolsep"],[])).style.width=OH($),P.push(j))}}if(s=IW.makeSpan(["mtable"],P),l.length>0){for(var q=IW.makeLineSpan("hline",t,c),G=IW.makeLineSpan("hdashline",t,c),K=[{type:"elem",elem:s,shift:0}];l.length>0;){var X=l.pop(),Y=X.pos-C;X.isDashed?K.push({type:"elem",elem:G,shift:Y}):K.push({type:"elem",elem:q,shift:Y})}s=IW.makeVList({positionType:"individualShift",children:K},t)}if(0===A.length)return IW.makeSpan(["mord"],[s],t);var Z=IW.makeVList({positionType:"individualShift",children:A},t);return Z=IW.makeSpan(["tag"],[Z],t),IW.makeFragment([s,Z])},TG={c:"center ",l:"left ",r:"right "},PG=function(e,t){for(var n=[],r=new uq.MathNode("mtd",[],["mtr-glue"]),o=new uq.MathNode("mtd",[],["mml-eqn-num"]),i=0;i<e.body.length;i++){for(var a=e.body[i],s=[],l=0;l<a.length;l++)s.push(new uq.MathNode("mtd",[vq(a[l],t)]));e.tags&&e.tags[i]&&(s.unshift(r),s.push(r),e.leqno?s.unshift(o):s.push(o)),n.push(new uq.MathNode("mtr",s))}var c=new uq.MathNode("mtable",n),u=.5===e.arraystretch?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",OH(u));var d="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,h="",m=!1,v=0,g=p.length;"separator"===p[0].type&&(d+="top ",v=1),"separator"===p[p.length-1].type&&(d+="bottom ",g-=1);for(var y=v;y<g;y++)"align"===p[y].type?(f+=TG[p[y].align],m&&(h+="none "),m=!0):"separator"===p[y].type&&m&&(h+="|"===p[y].separator?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",f.trim()),/[sd]/.test(h)&&c.setAttribute("columnlines",h.trim())}if("align"===e.colSeparationType){for(var b=e.cols||[],w="",x=1;x<b.length;x++)w+=x%2?"0em ":"1em ";c.setAttribute("columnspacing",w.trim())}else"alignat"===e.colSeparationType||"gather"===e.colSeparationType?c.setAttribute("columnspacing","0em"):"small"===e.colSeparationType?c.setAttribute("columnspacing","0.2778em"):"CD"===e.colSeparationType?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var S="",k=e.hLinesBeforeRow;d+=k[0].length>0?"left ":"",d+=k[k.length-1].length>0?"right ":"";for(var E=1;E<k.length-1;E++)S+=0===k[E].length?"none ":k[E][0]?"dashed ":"solid ";return/[sd]/.test(S)&&c.setAttribute("rowlines",S.trim()),""!==d&&(c=new uq.MathNode("menclose",[c])).setAttribute("notation",d.trim()),e.arraystretch&&e.arraystretch<1&&(c=new uq.MathNode("mstyle",[c])).setAttribute("scriptlevel","1"),c},AG=function(e,t){-1===e.envName.indexOf("ed")&&EG(e);var n,r=[],o=e.envName.indexOf("at")>-1?"alignat":"align",i="split"===e.envName,a=jG(e.parser,{cols:r,addJot:!0,autoTag:i?void 0:OG(e.envName),emptySingleRow:!0,colSeparationType:o,maxNumCols:i?2:void 0,leqno:e.parser.settings.leqno},"display"),s=0,l={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&"ordgroup"===t[0].type){for(var c="",u=0;u<t[0].body.length;u++){c+=Oq(t[0].body[u],"textord").text}n=Number(c),s=2*n}var d=!s;a.body.forEach((function(e){for(var t=1;t<e.length;t+=2){var r=Oq(e[t],"styling");Oq(r.body[0],"ordgroup").body.unshift(l)}if(d)s<e.length&&(s=e.length);else{var o=e.length/2;if(n<o)throw new UV("Too many math in a row: expected "+n+", but got "+o,e[0])}}));for(var f=0;f<s;++f){var p="r",h=0;f%2==1?p="l":f>0&&d&&(h=1),r[f]={type:"align",align:p,pregap:h,postgap:0}}return a.colSeparationType=d?"align":"alignat",a};wG({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=(_q(t[0])?[t[0]]:Oq(t[0],"ordgroup").body).map((function(e){var t=jq(e).text;if(-1!=="lcr".indexOf(t))return{type:"align",align:t};if("|"===t)return{type:"separator",separator:"|"};if(":"===t)return{type:"separator",separator:":"};throw new UV("Unknown column alignment: "+t,e)})),r={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return jG(e.parser,r,_G(e.envName))},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if("*"===e.envName.charAt(e.envName.length-1)){var o=e.parser;if(o.consumeSpaces(),"["===o.fetch().text){if(o.consume(),o.consumeSpaces(),n=o.fetch().text,-1==="lcr".indexOf(n))throw new UV("Expected l or c or r",o.nextToken);o.consume(),o.consumeSpaces(),o.expect("]"),o.consume(),r.cols=[{type:"align",align:n}]}}var i=jG(e.parser,r,_G(e.envName)),a=Math.max(0,...i.body.map((e=>e.length)));return i.cols=new Array(a).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[i],left:t[0],right:t[1],rightColor:void 0}:i},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t=jG(e.parser,{arraystretch:.5},"script");return t.colSeparationType="small",t},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=(_q(t[0])?[t[0]]:Oq(t[0],"ordgroup").body).map((function(e){var t=jq(e).text;if(-1!=="lc".indexOf(t))return{type:"align",align:t};throw new UV("Unknown column alignment: "+t,e)}));if(n.length>1)throw new UV("{subarray} can contain only one column");var r={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if((r=jG(e.parser,r,"script")).body.length>0&&r.body[0].length>1)throw new UV("{subarray} can contain only one column");return r},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t=jG(e.parser,{arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},_G(e.envName));return{type:"leftright",mode:e.mode,body:[t],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:AG,htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){GV.contains(["gather","gather*"],e.envName)&&EG(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:OG(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return jG(e.parser,t,"display")},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:AG,htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){EG(e);var t={autoTag:OG(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return jG(e.parser,t,"display")},htmlBuilder:CG,mathmlBuilder:PG}),wG({type:"array",names:["CD"],props:{numArgs:0},handler:e=>(EG(e),function(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if("&"!==n&&"\\\\"!==n){if("\\end"===n){0===t[t.length-1].length&&t.pop();break}throw new UV("Expected \\\\ or \\cr or \\end",e.nextToken)}e.consume()}for(var r,o,i=[],a=[i],s=0;s<t.length;s++){for(var l=t[s],c={type:"styling",body:[],mode:"math",style:"display"},u=0;u<l.length;u++)if(Dq(l[u])){i.push(c);var d=jq(l[u+=1]).text,f=new Array(2);if(f[0]={type:"ordgroup",mode:"math",body:[]},f[1]={type:"ordgroup",mode:"math",body:[]},"=|.".indexOf(d)>-1);else{if(!("<>AV".indexOf(d)>-1))throw new UV('Expected one of "<>AV=|." after @',l[u]);for(var p=0;p<2;p++){for(var h=!0,m=u+1;m<l.length;m++){if(o=d,("mathord"===(r=l[m]).type||"atom"===r.type)&&r.text===o){h=!1,u=m;break}if(Dq(l[m]))throw new UV("Missing a "+d+" character to complete a CD arrow.",l[m]);f[p].body.push(l[m])}if(h)throw new UV("Missing a "+d+" character to complete a CD arrow.",l[u])}}var v={type:"styling",body:[Fq(d,f,e)],mode:"math",style:"display"};i.push(v),c={type:"styling",body:[],mode:"math",style:"display"}}else c.body.push(l[u]);s%2==0?i.push(c):i.shift(),i=[],a.push(i)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:"math",body:a,arraystretch:1,addJot:!0,rowGaps:[null],cols:new Array(a[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25}),colSeparationType:"CD",hLinesBeforeRow:new Array(a.length+1).fill([])}}(e.parser)),htmlBuilder:CG,mathmlBuilder:PG}),SG("\\nonumber","\\gdef\\@eqnsw{0}"),SG("\\notag","\\nonumber"),VW({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new UV(e.funcName+" valid only within array environment")}});var NG=bG;VW({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];if("ordgroup"!==o.type)throw new UV("Invalid environment name",o);for(var i="",a=0;a<o.body.length;++a)i+=Oq(o.body[a],"textord").text;if("\\begin"===r){if(!NG.hasOwnProperty(i))throw new UV("No such environment: "+i,o);var s=NG[i],{args:l,optArgs:c}=n.parseArguments("\\begin{"+i+"}",s),u={mode:n.mode,envName:i,parser:n},d=s.handler(u,l,c);n.expect("\\end",!1);var f=n.nextToken,p=Oq(n.parseFunction(),"environment");if(p.name!==i)throw new UV("Mismatch: \\begin{"+i+"} matched by \\end{"+p.name+"}",f);return d}return{type:"environment",mode:n.mode,name:i,nameGroup:o}}});var MG=(e,t)=>{var n=e.font,r=t.withFont(n);return oq(e.body,r)},IG=(e,t)=>{var n=e.font,r=t.withFont(n);return vq(e.body,r)},RG={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};VW({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=WW(t[0]),i=r;return i in RG&&(i=RG[i]),{type:"font",mode:n.mode,font:i.slice(1),body:o}},htmlBuilder:MG,mathmlBuilder:IG}),VW({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,r=t[0],o=GV.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Rq(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:o}}}),VW({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r,breakOnTokenText:o}=e,{mode:i}=n,a=n.parseExpression(!0,o);return{type:"font",mode:i,font:"math"+r.slice(1),body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:MG,mathmlBuilder:IG});var LG=(e,t)=>{var n=t;return"display"===e?n=n.id>=iH.SCRIPT.id?n.text():iH.DISPLAY:"text"===e&&n.size===iH.DISPLAY.size?n=iH.TEXT:"script"===e?n=iH.SCRIPT:"scriptscript"===e&&(n=iH.SCRIPTSCRIPT),n},DG=(e,t)=>{var n,r=LG(e.size,t.style),o=r.fracNum(),i=r.fracDen();n=t.havingStyle(o);var a=oq(e.numer,n,t);if(e.continued){var s=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;a.height=a.height<s?s:a.height,a.depth=a.depth<l?l:a.depth}n=t.havingStyle(i);var c,u,d,f,p,h,m,v,g,y,b=oq(e.denom,n,t);if(e.hasBarLine?(e.barSize?(u=EH(e.barSize,t),c=IW.makeLineSpan("frac-line",t,u)):c=IW.makeLineSpan("frac-line",t),u=c.height,d=c.height):(c=null,u=0,d=t.fontMetrics().defaultRuleThickness),r.size===iH.DISPLAY.size||"display"===e.size?(f=t.fontMetrics().num1,p=u>0?3*d:7*d,h=t.fontMetrics().denom1):(u>0?(f=t.fontMetrics().num2,p=d):(f=t.fontMetrics().num3,p=3*d),h=t.fontMetrics().denom2),c){var w=t.fontMetrics().axisHeight;f-a.depth-(w+.5*u)<p&&(f+=p-(f-a.depth-(w+.5*u))),w-.5*u-(b.height-h)<p&&(h+=p-(w-.5*u-(b.height-h)));var x=-(w-.5*u);m=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:h},{type:"elem",elem:c,shift:x},{type:"elem",elem:a,shift:-f}]},t)}else{var S=f-a.depth-(b.height-h);S<p&&(f+=.5*(p-S),h+=.5*(p-S)),m=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:b,shift:h},{type:"elem",elem:a,shift:-f}]},t)}return n=t.havingStyle(r),m.height*=n.sizeMultiplier/t.sizeMultiplier,m.depth*=n.sizeMultiplier/t.sizeMultiplier,v=r.size===iH.DISPLAY.size?t.fontMetrics().delim1:r.size===iH.SCRIPTSCRIPT.size?t.havingStyle(iH.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2,g=null==e.leftDelim?rq(t,["mopen"]):fG.customSizedDelim(e.leftDelim,v,!0,t.havingStyle(r),e.mode,["mopen"]),y=e.continued?IW.makeSpan([]):null==e.rightDelim?rq(t,["mclose"]):fG.customSizedDelim(e.rightDelim,v,!0,t.havingStyle(r),e.mode,["mclose"]),IW.makeSpan(["mord"].concat(n.sizingClasses(t)),[g,IW.makeSpan(["mfrac"],[m]),y],t)},FG=(e,t)=>{var n=new uq.MathNode("mfrac",[vq(e.numer,t),vq(e.denom,t)]);if(e.hasBarLine){if(e.barSize){var r=EH(e.barSize,t);n.setAttribute("linethickness",OH(r))}}else n.setAttribute("linethickness","0px");var o=LG(e.size,t.style);if(o.size!==t.style.size){n=new uq.MathNode("mstyle",[n]);var i=o.size===iH.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",i),n.setAttribute("scriptlevel","0")}if(null!=e.leftDelim||null!=e.rightDelim){var a=[];if(null!=e.leftDelim){var s=new uq.MathNode("mo",[new uq.TextNode(e.leftDelim.replace("\\",""))]);s.setAttribute("fence","true"),a.push(s)}if(a.push(n),null!=e.rightDelim){var l=new uq.MathNode("mo",[new uq.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}return fq(a)}return n};VW({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var n,{parser:r,funcName:o}=e,i=t[0],a=t[1],s=null,l=null,c="auto";switch(o){case"\\dfrac":case"\\frac":case"\\tfrac":n=!0;break;case"\\\\atopfrac":n=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":n=!1,s="(",l=")";break;case"\\\\bracefrac":n=!1,s="\\{",l="\\}";break;case"\\\\brackfrac":n=!1,s="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(o){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text"}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:n,leftDelim:s,rightDelim:l,size:c,barSize:null}},htmlBuilder:DG,mathmlBuilder:FG}),VW({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],i=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:o,denom:i,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),VW({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var t,{parser:n,funcName:r,token:o}=e;switch(r){case"\\over":t="\\frac";break;case"\\choose":t="\\binom";break;case"\\atop":t="\\\\atopfrac";break;case"\\brace":t="\\\\bracefrac";break;case"\\brack":t="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:n.mode,replaceWith:t,token:o}}});var zG=["display","text","script","scriptscript"],BG=function(e){var t=null;return e.length>0&&(t="."===(t=e)?null:t),t};VW({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var n,{parser:r}=e,o=t[4],i=t[5],a=WW(t[0]),s="atom"===a.type&&"open"===a.family?BG(a.text):null,l=WW(t[1]),c="atom"===l.type&&"close"===l.family?BG(l.text):null,u=Oq(t[2],"size"),d=null;n=!!u.isBlank||(d=u.value).number>0;var f="auto",p=t[3];if("ordgroup"===p.type){if(p.body.length>0){var h=Oq(p.body[0],"textord");f=zG[Number(h.text)]}}else p=Oq(p,"textord"),f=zG[Number(p.text)];return{type:"genfrac",mode:r.mode,numer:o,denom:i,continued:!1,hasBarLine:n,barSize:d,leftDelim:s,rightDelim:c,size:f}},htmlBuilder:DG,mathmlBuilder:FG}),VW({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:r,token:o}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Oq(t[0],"size").value,token:o}}}),VW({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0],i=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e}(Oq(t[1],"infix").size),a=t[2],s=i.number>0;return{type:"genfrac",mode:n.mode,numer:o,denom:a,continued:!1,hasBarLine:s,barSize:i,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:DG,mathmlBuilder:FG});var $G=(e,t)=>{var n,r,o=t.style;"supsub"===e.type?(n=e.sup?oq(e.sup,t.havingStyle(o.sup()),t):oq(e.sub,t.havingStyle(o.sub()),t),r=Oq(e.base,"horizBrace")):r=Oq(e,"horizBrace");var i,a=oq(r.base,t.havingBaseStyle(iH.DISPLAY)),s=Eq(r,t);if(r.isOver?(i=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t)).children[0].children[0].children[1].classes.push("svg-align"):(i=IW.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t)).children[0].children[0].children[0].classes.push("svg-align"),n){var l=IW.makeSpan(["mord",r.isOver?"mover":"munder"],[i],t);i=r.isOver?IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:n}]},t):IW.makeVList({positionType:"bottom",positionData:l.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return IW.makeSpan(["mord",r.isOver?"mover":"munder"],[i],t)};VW({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:r}=e;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:$G,mathmlBuilder:(e,t)=>{var n=kq(e.label);return new uq.MathNode(e.isOver?"mover":"munder",[vq(e.base,t),n])}}),VW({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[1],o=Oq(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:o})?{type:"href",mode:n.mode,href:o,body:qW(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=JW(e.body,t,!1);return IW.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=mq(e.body,t);return n instanceof lq||(n=new lq("mrow",[n])),n.setAttribute("href",e.href),n}}),VW({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=Oq(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var o=[],i=0;i<r.length;i++){var a=r[i];"~"===a&&(a="\\textasciitilde"),o.push({type:"textord",mode:"text",text:a})}var s={type:"text",mode:n.mode,font:"\\texttt",body:o};return{type:"href",mode:n.mode,href:r,body:qW(s)}}}),VW({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:qW(t[0])}},htmlBuilder(e,t){var n=JW(e.body,t,!1);return IW.makeFragment(n)},mathmlBuilder:(e,t)=>new uq.MathNode("mrow",hq(e.body,t))}),VW({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var n,{parser:r,funcName:o,token:i}=e,a=Oq(t[0],"raw").string,s=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l={};switch(o){case"\\htmlClass":l.class=a,n={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,n={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,n={command:"\\htmlStyle",style:a};break;case"\\htmlData":for(var c=a.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(2!==d.length)throw new UV("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}n={command:"\\htmlData",attributes:l};break;default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(n)?{type:"html",mode:r.mode,attributes:l,body:qW(s)}:r.formatUnsupportedCmd(o)},htmlBuilder:(e,t)=>{var n=JW(e.body,t,!1),r=["enclosing"];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));var o=IW.makeSpan(r,n,t);for(var i in e.attributes)"class"!==i&&e.attributes.hasOwnProperty(i)&&o.setAttribute(i,e.attributes[i]);return o},mathmlBuilder:(e,t)=>mq(e.body,t)}),VW({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:qW(t[0]),mathml:qW(t[1])}},htmlBuilder:(e,t)=>{var n=JW(e.html,t,!1);return IW.makeFragment(n)},mathmlBuilder:(e,t)=>mq(e.mathml,t)});var UG=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new UV("Invalid size: '"+e+"' in \\includegraphics");var n={number:+(t[1]+t[2]),unit:t[3]};if(!kH(n))throw new UV("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};VW({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:r}=e,o={number:0,unit:"em"},i={number:.9,unit:"em"},a={number:0,unit:"em"},s="";if(n[0])for(var l=Oq(n[0],"raw").string.split(","),c=0;c<l.length;c++){var u=l[c].split("=");if(2===u.length){var d=u[1].trim();switch(u[0].trim()){case"alt":s=d;break;case"width":o=UG(d);break;case"height":i=UG(d);break;case"totalheight":a=UG(d);break;default:throw new UV("Invalid key: '"+u[0]+"' in \\includegraphics.")}}}var f=Oq(t[0],"url").url;return""===s&&(s=(s=(s=f).replace(/^.*[\\/]/,"")).substring(0,s.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:s,width:o,height:i,totalheight:a,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=EH(e.height,t),r=0;e.totalheight.number>0&&(r=EH(e.totalheight,t)-n);var o=0;e.width.number>0&&(o=EH(e.width,t));var i={height:OH(n+r)};o>0&&(i.width=OH(o)),r>0&&(i.verticalAlign=OH(-r));var a=new NH(e.src,e.alt,i);return a.height=n,a.depth=r,a},mathmlBuilder:(e,t)=>{var n=new uq.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var r=EH(e.height,t),o=0;if(e.totalheight.number>0&&(o=EH(e.totalheight,t)-r,n.setAttribute("valign",OH(-o))),n.setAttribute("height",OH(r+o)),e.width.number>0){var i=EH(e.width,t);n.setAttribute("width",OH(i))}return n.setAttribute("src",e.src),n}}),VW({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=Oq(t[0],"size");if(n.settings.strict){var i="m"===r[1],a="mu"===o.value.unit;i?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, not "+o.value.unit+" units"),"math"!==n.mode&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:o.value}},htmlBuilder:(e,t)=>IW.makeGlue(e.dimension,t),mathmlBuilder(e,t){var n=EH(e.dimension,t);return new uq.SpaceNode(n)}}),VW({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:o}},htmlBuilder:(e,t)=>{var n;"clap"===e.alignment?(n=IW.makeSpan([],[oq(e.body,t)]),n=IW.makeSpan(["inner"],[n],t)):n=IW.makeSpan(["inner"],[oq(e.body,t)]);var r=IW.makeSpan(["fix"],[]),o=IW.makeSpan([e.alignment],[n,r],t),i=IW.makeSpan(["strut"]);return i.style.height=OH(o.height+o.depth),o.depth&&(i.style.verticalAlign=OH(-o.depth)),o.children.unshift(i),o=IW.makeSpan(["thinbox"],[o],t),IW.makeSpan(["mord","vbox"],[o],t)},mathmlBuilder:(e,t)=>{var n=new uq.MathNode("mpadded",[vq(e.body,t)]);if("rlap"!==e.alignment){var r="llap"===e.alignment?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}}),VW({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:r}=e,o=r.mode;r.switchMode("math");var i="\\("===n?"\\)":"$",a=r.parseExpression(!1,i);return r.expect(i),r.switchMode(o),{type:"styling",mode:r.mode,style:"text",body:a}}}),VW({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new UV("Mismatched "+e.funcName)}});var VG=(e,t)=>{switch(t.style.size){case iH.DISPLAY.size:return e.display;case iH.TEXT.size:return e.text;case iH.SCRIPT.size:return e.script;case iH.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};VW({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:qW(t[0]),text:qW(t[1]),script:qW(t[2]),scriptscript:qW(t[3])}},htmlBuilder:(e,t)=>{var n=VG(e,t),r=JW(n,t,!1);return IW.makeFragment(r)},mathmlBuilder:(e,t)=>{var n=VG(e,t);return mq(n,t)}});var HG=(e,t,n,r,o,i,a)=>{e=IW.makeSpan([],[e]);var s,l,c,u=n&&GV.isCharacterBox(n);if(t){var d=oq(t,r.havingStyle(o.sup()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var f=oq(n,r.havingStyle(o.sub()),r);s={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}if(l&&s){var p=r.fontMetrics().bigOpSpacing5+s.elem.height+s.elem.depth+s.kern+e.depth+a;c=IW.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:OH(-i)},{type:"kern",size:s.kern},{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:OH(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(s){var h=e.height-a;c=IW.makeVList({positionType:"top",positionData:h,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:s.elem,marginLeft:OH(-i)},{type:"kern",size:s.kern},{type:"elem",elem:e}]},r)}else{if(!l)return e;var m=e.depth+a;c=IW.makeVList({positionType:"bottom",positionData:m,children:[{type:"elem",elem:e},{type:"kern",size:l.kern},{type:"elem",elem:l.elem,marginLeft:OH(i)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}var v=[c];if(s&&0!==i&&!u){var g=IW.makeSpan(["mspace"],[],r);g.style.marginRight=OH(i),v.unshift(g)}return IW.makeSpan(["mop","op-limits"],v,r)},WG=["\\smallint"],qG=(e,t)=>{var n,r,o,i=!1;"supsub"===e.type?(n=e.sup,r=e.sub,o=Oq(e.base,"op"),i=!0):o=Oq(e,"op");var a,s=t.style,l=!1;if(s.size===iH.DISPLAY.size&&o.symbol&&!GV.contains(WG,o.name)&&(l=!0),o.symbol){var c=l?"Size2-Regular":"Size1-Regular",u="";if("\\oiint"!==o.name&&"\\oiiint"!==o.name||(u=o.name.slice(1),o.name="oiint"===u?"\\iint":"\\iiint"),a=IW.makeSymbol(o.name,c,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),u.length>0){var d=a.italic,f=IW.staticSvg(u+"Size"+(l?"2":"1"),t);a=IW.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:f,shift:l?.08:0}]},t),o.name="\\"+u,a.classes.unshift("mop"),a.italic=d}}else if(o.body){var p=JW(o.body,t,!0);1===p.length&&p[0]instanceof IH?(a=p[0]).classes[0]="mop":a=IW.makeSpan(["mop"],p,t)}else{for(var h=[],m=1;m<o.name.length;m++)h.push(IW.mathsym(o.name[m],o.mode,t));a=IW.makeSpan(["mop"],h,t)}var v=0,g=0;return(a instanceof IH||"\\oiint"===o.name||"\\oiiint"===o.name)&&!o.suppressBaseShift&&(v=(a.height-a.depth)/2-t.fontMetrics().axisHeight,g=a.italic),i?HG(a,n,r,t,s,g,v):(v&&(a.style.position="relative",a.style.top=OH(v)),a)},GG=(e,t)=>{var n;if(e.symbol)n=new lq("mo",[dq(e.name,e.mode)]),GV.contains(WG,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new lq("mo",hq(e.body,t));else{n=new lq("mi",[new cq(e.name.slice(1))]);var r=new lq("mo",[dq("⁡","text")]);n=e.parentIsSupSub?new lq("mrow",[n,r]):sq([n,r])}return n},KG={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};VW({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=r;return 1===o.length&&(o=KG[o]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:o}},htmlBuilder:qG,mathmlBuilder:GG}),VW({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:qW(r)}},htmlBuilder:qG,mathmlBuilder:GG});var XG={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};VW({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qG,mathmlBuilder:GG}),VW({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:qG,mathmlBuilder:GG}),VW({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,r=n;return 1===r.length&&(r=XG[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:qG,mathmlBuilder:GG});var YG=(e,t)=>{var n,r,o,i,a=!1;if("supsub"===e.type?(n=e.sup,r=e.sub,o=Oq(e.base,"operatorname"),a=!0):o=Oq(e,"operatorname"),o.body.length>0){for(var s=o.body.map((e=>{var t=e.text;return"string"==typeof t?{type:"textord",mode:e.mode,text:t}:e})),l=JW(s,t.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof IH&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}i=IW.makeSpan(["mop"],l,t)}else i=IW.makeSpan(["mop"],[],t);return a?HG(i,n,r,t,t.style,0,0):i};function ZG(e,t,n){for(var r=JW(e,t,!1),o=t.sizeMultiplier/n.sizeMultiplier,i=0;i<r.length;i++){var a=r[i].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[i].classes,t.sizingClasses(n)):r[i].classes[a+1]==="reset-size"+t.size&&(r[i].classes[a+1]="reset-size"+n.size),r[i].height*=o,r[i].depth*=o}return IW.makeFragment(r)}VW({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:r}=e,o=t[0];return{type:"operatorname",mode:n.mode,body:qW(o),alwaysHandleSupSub:"\\operatornamewithlimits"===r,limits:!1,parentIsSupSub:!1}},htmlBuilder:YG,mathmlBuilder:(e,t)=>{for(var n=hq(e.body,t.withFont("mathrm")),r=!0,o=0;o<n.length;o++){var i=n[o];if(i instanceof uq.SpaceNode);else if(i instanceof uq.MathNode)switch(i.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":var a=i.children[0];1===i.children.length&&a instanceof uq.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break;default:r=!1}else r=!1}if(r){var s=n.map((e=>e.toText())).join("");n=[new uq.TextNode(s)]}var l=new uq.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new uq.MathNode("mo",[dq("⁡","text")]);return e.parentIsSupSub?new uq.MathNode("mrow",[l,c]):uq.newDocumentFragment([l,c])}}),SG("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),HW({type:"ordgroup",htmlBuilder:(e,t)=>e.semisimple?IW.makeFragment(JW(e.body,t,!1)):IW.makeSpan(["mord"],JW(e.body,t,!0),t),mathmlBuilder:(e,t)=>mq(e.body,t,!0)}),VW({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(e,t){var n=oq(e.body,t.havingCrampedStyle()),r=IW.makeLineSpan("overline-line",t),o=t.fontMetrics().defaultRuleThickness,i=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*o},{type:"elem",elem:r},{type:"kern",size:o}]},t);return IW.makeSpan(["mord","overline"],[i],t)},mathmlBuilder(e,t){var n=new uq.MathNode("mo",[new uq.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new uq.MathNode("mover",[vq(e.body,t),n]);return r.setAttribute("accent","true"),r}}),VW({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"phantom",mode:n.mode,body:qW(r)}},htmlBuilder:(e,t)=>{var n=JW(e.body,t.withPhantom(),!1);return IW.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=hq(e.body,t);return new uq.MathNode("mphantom",n)}}),VW({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=IW.makeSpan([],[oq(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),IW.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=hq(qW(e.body),t),r=new uq.MathNode("mphantom",n),o=new uq.MathNode("mpadded",[r]);return o.setAttribute("height","0px"),o.setAttribute("depth","0px"),o}}),VW({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(e,t)=>{var n=IW.makeSpan(["inner"],[oq(e.body,t.withPhantom())]),r=IW.makeSpan(["fix"],[]);return IW.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(e,t)=>{var n=hq(qW(e.body),t),r=new uq.MathNode("mphantom",n),o=new uq.MathNode("mpadded",[r]);return o.setAttribute("width","0px"),o}}),VW({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,r=Oq(t[0],"size").value,o=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:o}},htmlBuilder(e,t){var n=oq(e.body,t),r=EH(e.dy,t);return IW.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new uq.MathNode("mpadded",[vq(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute("voffset",r),n}}),VW({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}}),VW({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(e,t,n){var{parser:r}=e,o=n[0],i=Oq(t[0],"size"),a=Oq(t[1],"size");return{type:"rule",mode:r.mode,shift:o&&Oq(o,"size").value,width:i.value,height:a.value}},htmlBuilder(e,t){var n=IW.makeSpan(["mord","rule"],[],t),r=EH(e.width,t),o=EH(e.height,t),i=e.shift?EH(e.shift,t):0;return n.style.borderRightWidth=OH(r),n.style.borderTopWidth=OH(o),n.style.bottom=OH(i),n.width=r,n.height=o+i,n.depth=-i,n.maxFontSize=1.125*o*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=EH(e.width,t),r=EH(e.height,t),o=e.shift?EH(e.shift,t):0,i=t.color&&t.getColor()||"black",a=new uq.MathNode("mspace");a.setAttribute("mathbackground",i),a.setAttribute("width",OH(n)),a.setAttribute("height",OH(r));var s=new uq.MathNode("mpadded",[a]);return o>=0?s.setAttribute("height",OH(o)):(s.setAttribute("height",OH(o)),s.setAttribute("depth",OH(-o))),s.setAttribute("voffset",OH(o)),s}});var JG=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];VW({type:"sizing",names:JG,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:r,parser:o}=e,i=o.parseExpression(!1,n);return{type:"sizing",mode:o.mode,size:JG.indexOf(r)+1,body:i}},htmlBuilder:(e,t)=>{var n=t.havingSize(e.size);return ZG(e.body,n,t)},mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),r=hq(e.body,n),o=new uq.MathNode("mstyle",r);return o.setAttribute("mathsize",OH(n.sizeMultiplier)),o}}),VW({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:r}=e,o=!1,i=!1,a=n[0]&&Oq(n[0],"ordgroup");if(a)for(var s="",l=0;l<a.body.length;++l){if("t"===(s=a.body[l].text))o=!0;else{if("b"!==s){o=!1,i=!1;break}i=!0}}else o=!0,i=!0;var c=t[0];return{type:"smash",mode:r.mode,body:c,smashHeight:o,smashDepth:i}},htmlBuilder:(e,t)=>{var n=IW.makeSpan([],[oq(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var o=0;o<n.children.length;o++)n.children[o].depth=0;var i=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return IW.makeSpan(["mord"],[i],t)},mathmlBuilder:(e,t)=>{var n=new uq.MathNode("mpadded",[vq(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}}),VW({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:r}=e,o=n[0],i=t[0];return{type:"sqrt",mode:r.mode,body:i,index:o}},htmlBuilder(e,t){var n=oq(e.body,t.havingCrampedStyle());0===n.height&&(n.height=t.fontMetrics().xHeight),n=IW.wrapFragment(n,t);var r=t.fontMetrics().defaultRuleThickness,o=r;t.style.id<iH.TEXT.id&&(o=t.fontMetrics().xHeight);var i=r+o/4,a=n.height+n.depth+i+r,{span:s,ruleWidth:l,advanceWidth:c}=fG.sqrtImage(a,t),u=s.height-l;u>n.height+n.depth+i&&(i=(i+u-n.height-n.depth)/2);var d=s.height-n.height-i-l;n.style.paddingLeft=OH(c);var f=IW.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:s},{type:"kern",size:l}]},t);if(e.index){var p=t.havingStyle(iH.SCRIPTSCRIPT),h=oq(e.index,p,t),m=.6*(f.height-f.depth),v=IW.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:h}]},t),g=IW.makeSpan(["root"],[v]);return IW.makeSpan(["mord","sqrt"],[g,f],t)}return IW.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder(e,t){var{body:n,index:r}=e;return r?new uq.MathNode("mroot",[vq(n,t),vq(r,t)]):new uq.MathNode("msqrt",[vq(n,t)])}});var QG={display:iH.DISPLAY,text:iH.TEXT,script:iH.SCRIPT,scriptscript:iH.SCRIPTSCRIPT};VW({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:r,parser:o}=e,i=o.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:o.mode,style:a,body:i}},htmlBuilder(e,t){var n=QG[e.style],r=t.havingStyle(n).withFont("");return ZG(e.body,r,t)},mathmlBuilder(e,t){var n=QG[e.style],r=t.havingStyle(n),o=hq(e.body,r),i=new uq.MathNode("mstyle",o),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[e.style];return i.setAttribute("scriptlevel",a[0]),i.setAttribute("displaystyle",a[1]),i}});HW({type:"supsub",htmlBuilder(e,t){var n=function(e,t){var n=e.base;return n?"op"===n.type?n.limits&&(t.style.size===iH.DISPLAY.size||n.alwaysHandleSupSub)?qG:null:"operatorname"===n.type?n.alwaysHandleSupSub&&(t.style.size===iH.DISPLAY.size||n.limits)?YG:null:"accent"===n.type?GV.isCharacterBox(n.base)?Cq:null:"horizBrace"===n.type&&!e.sub===n.isOver?$G:null:null}(e,t);if(n)return n(e,t);var r,o,i,{base:a,sup:s,sub:l}=e,c=oq(a,t),u=t.fontMetrics(),d=0,f=0,p=a&&GV.isCharacterBox(a);if(s){var h=t.havingStyle(t.style.sup());r=oq(s,h,t),p||(d=c.height-h.fontMetrics().supDrop*h.sizeMultiplier/t.sizeMultiplier)}if(l){var m=t.havingStyle(t.style.sub());o=oq(l,m,t),p||(f=c.depth+m.fontMetrics().subDrop*m.sizeMultiplier/t.sizeMultiplier)}i=t.style===iH.DISPLAY?u.sup1:t.style.cramped?u.sup3:u.sup2;var v,g=t.sizeMultiplier,y=OH(.5/u.ptPerEm/g),b=null;if(o){var w=e.base&&"op"===e.base.type&&e.base.name&&("\\oiint"===e.base.name||"\\oiiint"===e.base.name);(c instanceof IH||w)&&(b=OH(-c.italic))}if(r&&o){d=Math.max(d,i,r.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var x=4*u.defaultRuleThickness;if(d-r.depth-(o.height-f)<x){f=x-(d-r.depth)+o.height;var S=.8*u.xHeight-(d-r.depth);S>0&&(d+=S,f-=S)}var k=[{type:"elem",elem:o,shift:f,marginRight:y,marginLeft:b},{type:"elem",elem:r,shift:-d,marginRight:y}];v=IW.makeVList({positionType:"individualShift",children:k},t)}else if(o){f=Math.max(f,u.sub1,o.height-.8*u.xHeight);var E=[{type:"elem",elem:o,marginLeft:b,marginRight:y}];v=IW.makeVList({positionType:"shift",positionData:f,children:E},t)}else{if(!r)throw new Error("supsub must have either sup or sub.");d=Math.max(d,i,r.depth+.25*u.xHeight),v=IW.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:r,marginRight:y}]},t)}var O=nq(c,"right")||"mord";return IW.makeSpan([O],[c,IW.makeSpan(["msupsub"],[v])],t)},mathmlBuilder(e,t){var n,r=!1;e.base&&"horizBrace"===e.base.type&&!!e.sup===e.base.isOver&&(r=!0,n=e.base.isOver),!e.base||"op"!==e.base.type&&"operatorname"!==e.base.type||(e.base.parentIsSupSub=!0);var o,i=[vq(e.base,t)];if(e.sub&&i.push(vq(e.sub,t)),e.sup&&i.push(vq(e.sup,t)),r)o=n?"mover":"munder";else if(e.sub)if(e.sup){var a=e.base;o=a&&"op"===a.type&&a.limits&&t.style===iH.DISPLAY||a&&"operatorname"===a.type&&a.alwaysHandleSupSub&&(t.style===iH.DISPLAY||a.limits)?"munderover":"msubsup"}else{var s=e.base;o=s&&"op"===s.type&&s.limits&&(t.style===iH.DISPLAY||s.alwaysHandleSupSub)||s&&"operatorname"===s.type&&s.alwaysHandleSupSub&&(s.limits||t.style===iH.DISPLAY)?"munder":"msub"}else{var l=e.base;o=l&&"op"===l.type&&l.limits&&(t.style===iH.DISPLAY||l.alwaysHandleSupSub)||l&&"operatorname"===l.type&&l.alwaysHandleSupSub&&(l.limits||t.style===iH.DISPLAY)?"mover":"msup"}return new uq.MathNode(o,i)}}),HW({type:"atom",htmlBuilder:(e,t)=>IW.mathsym(e.text,e.mode,t,["m"+e.family]),mathmlBuilder(e,t){var n=new uq.MathNode("mo",[dq(e.text,e.mode)]);if("bin"===e.family){var r=pq(e,t);"bold-italic"===r&&n.setAttribute("mathvariant",r)}else"punct"===e.family?n.setAttribute("separator","true"):"open"!==e.family&&"close"!==e.family||n.setAttribute("stretchy","false");return n}});var eK={mi:"italic",mn:"normal",mtext:"normal"};HW({type:"mathord",htmlBuilder:(e,t)=>IW.makeOrd(e,t,"mathord"),mathmlBuilder(e,t){var n=new uq.MathNode("mi",[dq(e.text,e.mode,t)]),r=pq(e,t)||"italic";return r!==eK[n.type]&&n.setAttribute("mathvariant",r),n}}),HW({type:"textord",htmlBuilder:(e,t)=>IW.makeOrd(e,t,"textord"),mathmlBuilder(e,t){var n,r=dq(e.text,e.mode,t),o=pq(e,t)||"normal";return n="text"===e.mode?new uq.MathNode("mtext",[r]):/[0-9]/.test(e.text)?new uq.MathNode("mn",[r]):"\\prime"===e.text?new uq.MathNode("mo",[r]):new uq.MathNode("mi",[r]),o!==eK[n.type]&&n.setAttribute("mathvariant",o),n}});var tK={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},nK={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};HW({type:"spacing",htmlBuilder(e,t){if(nK.hasOwnProperty(e.text)){var n=nK[e.text].className||"";if("text"===e.mode){var r=IW.makeOrd(e,t,"textord");return r.classes.push(n),r}return IW.makeSpan(["mspace",n],[IW.mathsym(e.text,e.mode,t)],t)}if(tK.hasOwnProperty(e.text))return IW.makeSpan(["mspace",tK[e.text]],[],t);throw new UV('Unknown type of space "'+e.text+'"')},mathmlBuilder(e,t){if(!nK.hasOwnProperty(e.text)){if(tK.hasOwnProperty(e.text))return new uq.MathNode("mspace");throw new UV('Unknown type of space "'+e.text+'"')}return new uq.MathNode("mtext",[new uq.TextNode(" ")])}});var rK=()=>{var e=new uq.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};HW({type:"tag",mathmlBuilder(e,t){var n=new uq.MathNode("mtable",[new uq.MathNode("mtr",[rK(),new uq.MathNode("mtd",[mq(e.body,t)]),rK(),new uq.MathNode("mtd",[mq(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var oK={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},iK={"\\textbf":"textbf","\\textmd":"textmd"},aK={"\\textit":"textit","\\textup":"textup"},sK=(e,t)=>{var n=e.font;return n?oK[n]?t.withTextFontFamily(oK[n]):iK[n]?t.withTextFontWeight(iK[n]):t.withTextFontShape(aK[n]):t};VW({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:r}=e,o=t[0];return{type:"text",mode:n.mode,body:qW(o),font:r}},htmlBuilder(e,t){var n=sK(e,t),r=JW(e.body,n,!0);return IW.makeSpan(["mord","text"],r,n)},mathmlBuilder(e,t){var n=sK(e,t);return mq(e.body,n)}}),VW({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=oq(e.body,t),r=IW.makeLineSpan("underline-line",t),o=t.fontMetrics().defaultRuleThickness,i=IW.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:o},{type:"elem",elem:r},{type:"kern",size:3*o},{type:"elem",elem:n}]},t);return IW.makeSpan(["mord","underline"],[i],t)},mathmlBuilder(e,t){var n=new uq.MathNode("mo",[new uq.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new uq.MathNode("munder",[vq(e.body,t),n]);return r.setAttribute("accentunder","true"),r}}),VW({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=oq(e.body,t),r=t.fontMetrics().axisHeight,o=.5*(n.height-r-(n.depth+r));return IW.makeVList({positionType:"shift",positionData:o,children:[{type:"elem",elem:n}]},t)},mathmlBuilder:(e,t)=>new uq.MathNode("mpadded",[vq(e.body,t)],["vcenter"])}),VW({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new UV("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=lK(e),r=[],o=t.havingStyle(t.style.text()),i=0;i<n.length;i++){var a=n[i];"~"===a&&(a="\\textasciitilde"),r.push(IW.makeSymbol(a,"Typewriter-Regular",e.mode,o,["mord","texttt"]))}return IW.makeSpan(["mord","text"].concat(o.sizingClasses(t)),IW.tryCombineChars(r),o)},mathmlBuilder(e,t){var n=new uq.TextNode(lK(e)),r=new uq.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var lK=e=>e.body.replace(/ /g,e.star?"␣":" "),cK=BW,uK="[ \r\n\t]",dK="(\\\\[a-zA-Z@]+)"+uK+"*",fK="[̀-ͯ]",pK=new RegExp(fK+"+$"),hK="("+uK+"+)|\\\\(\n|[ \r\t]+\n?)[ \r\t]*|([!-\\[\\]-‧‪-퟿豈-￿]"+fK+"*|[\ud800-\udbff][\udc00-\udfff]"+fK+"*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|"+dK+"|\\\\[^\ud800-\udfff])";class mK{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(hK,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new $V("EOF",new BV(this,t,t));var n=this.tokenRegex.exec(e);if(null===n||n.index!==t)throw new UV("Unexpected character: '"+e[t]+"'",new $V(e[t],new BV(this,t,t+1)));var r=n[6]||n[3]||(n[2]?"\\ ":" ");if(14===this.catcodes[r]){var o=e.indexOf("\n",this.tokenRegex.lastIndex);return-1===o?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new $V(r,new BV(this,t,this.tokenRegex.lastIndex))}}class vK{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(0===this.undefStack.length)throw new UV("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(null==e[t]?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(void 0===n&&(n=!1),n){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}null==t?delete this.current[e]:this.current[e]=t}}var gK=xG;SG("\\noexpand",(function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}})),SG("\\expandafter",(function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}})),SG("\\@firstoftwo",(function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}})),SG("\\@secondoftwo",(function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}})),SG("\\@ifnextchar",(function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return 1===t[0].length&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}})),SG("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),SG("\\TextOrMath",(function(e){var t=e.consumeArgs(2);return"text"===e.mode?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}}));var yK={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};SG("\\char",(function(e){var t,n=e.popToken(),r="";if("'"===n.text)t=8,n=e.popToken();else if('"'===n.text)t=16,n=e.popToken();else if("`"===n.text)if("\\"===(n=e.popToken()).text[0])r=n.text.charCodeAt(1);else{if("EOF"===n.text)throw new UV("\\char` missing argument");r=n.text.charCodeAt(0)}else t=10;if(t){if(null==(r=yK[n.text])||r>=t)throw new UV("Invalid base-"+t+" digit "+n.text);for(var o;null!=(o=yK[e.future().text])&&o<t;)r*=t,r+=o,e.popToken()}return"\\@char{"+r+"}"}));var bK=(e,t,n)=>{var r=e.consumeArg().tokens;if(1!==r.length)throw new UV("\\newcommand's first argument must be a macro name");var o=r[0].text,i=e.isDefined(o);if(i&&!t)throw new UV("\\newcommand{"+o+"} attempting to redefine "+o+"; use \\renewcommand");if(!i&&!n)throw new UV("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(1===(r=e.consumeArg().tokens).length&&"["===r[0].text){for(var s="",l=e.expandNextToken();"]"!==l.text&&"EOF"!==l.text;)s+=l.text,l=e.expandNextToken();if(!s.match(/^\s*[0-9]+\s*$/))throw new UV("Invalid number of arguments: "+s);a=parseInt(s),r=e.consumeArg().tokens}return e.macros.set(o,{tokens:r,numArgs:a}),""};SG("\\newcommand",(e=>bK(e,!1,!0))),SG("\\renewcommand",(e=>bK(e,!0,!1))),SG("\\providecommand",(e=>bK(e,!0,!0))),SG("\\message",(e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map((e=>e.text)).join("")),""})),SG("\\errmessage",(e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map((e=>e.text)).join("")),""})),SG("\\show",(e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),cK[n],$H.math[n],$H.text[n]),""})),SG("\\bgroup","{"),SG("\\egroup","}"),SG("~","\\nobreakspace"),SG("\\lq","`"),SG("\\rq","'"),SG("\\aa","\\r a"),SG("\\AA","\\r A"),SG("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),SG("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),SG("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),SG("ℬ","\\mathscr{B}"),SG("ℰ","\\mathscr{E}"),SG("ℱ","\\mathscr{F}"),SG("ℋ","\\mathscr{H}"),SG("ℐ","\\mathscr{I}"),SG("ℒ","\\mathscr{L}"),SG("ℳ","\\mathscr{M}"),SG("ℛ","\\mathscr{R}"),SG("ℭ","\\mathfrak{C}"),SG("ℌ","\\mathfrak{H}"),SG("ℨ","\\mathfrak{Z}"),SG("\\Bbbk","\\Bbb{k}"),SG("·","\\cdotp"),SG("\\llap","\\mathllap{\\textrm{#1}}"),SG("\\rlap","\\mathrlap{\\textrm{#1}}"),SG("\\clap","\\mathclap{\\textrm{#1}}"),SG("\\mathstrut","\\vphantom{(}"),SG("\\underbar","\\underline{\\text{#1}}"),SG("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),SG("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),SG("\\ne","\\neq"),SG("≠","\\neq"),SG("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),SG("∉","\\notin"),SG("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),SG("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),SG("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),SG("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),SG("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),SG("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),SG("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),SG("⟂","\\perp"),SG("‼","\\mathclose{!\\mkern-0.8mu!}"),SG("∌","\\notni"),SG("⌜","\\ulcorner"),SG("⌝","\\urcorner"),SG("⌞","\\llcorner"),SG("⌟","\\lrcorner"),SG("©","\\copyright"),SG("®","\\textregistered"),SG("️","\\textregistered"),SG("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),SG("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),SG("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),SG("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),SG("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),SG("⋮","\\vdots"),SG("\\varGamma","\\mathit{\\Gamma}"),SG("\\varDelta","\\mathit{\\Delta}"),SG("\\varTheta","\\mathit{\\Theta}"),SG("\\varLambda","\\mathit{\\Lambda}"),SG("\\varXi","\\mathit{\\Xi}"),SG("\\varPi","\\mathit{\\Pi}"),SG("\\varSigma","\\mathit{\\Sigma}"),SG("\\varUpsilon","\\mathit{\\Upsilon}"),SG("\\varPhi","\\mathit{\\Phi}"),SG("\\varPsi","\\mathit{\\Psi}"),SG("\\varOmega","\\mathit{\\Omega}"),SG("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),SG("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),SG("\\boxed","\\fbox{$\\displaystyle{#1}$}"),SG("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),SG("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),SG("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var wK={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};SG("\\dots",(function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in wK?t=wK[n]:("\\not"===n.slice(0,4)||n in $H.math&&GV.contains(["bin","rel"],$H.math[n].group))&&(t="\\dotsb"),t}));var xK={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};SG("\\dotso",(function(e){return e.future().text in xK?"\\ldots\\,":"\\ldots"})),SG("\\dotsc",(function(e){var t=e.future().text;return t in xK&&","!==t?"\\ldots\\,":"\\ldots"})),SG("\\cdots",(function(e){return e.future().text in xK?"\\@cdots\\,":"\\@cdots"})),SG("\\dotsb","\\cdots"),SG("\\dotsm","\\cdots"),SG("\\dotsi","\\!\\cdots"),SG("\\dotsx","\\ldots\\,"),SG("\\DOTSI","\\relax"),SG("\\DOTSB","\\relax"),SG("\\DOTSX","\\relax"),SG("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),SG("\\,","\\tmspace+{3mu}{.1667em}"),SG("\\thinspace","\\,"),SG("\\>","\\mskip{4mu}"),SG("\\:","\\tmspace+{4mu}{.2222em}"),SG("\\medspace","\\:"),SG("\\;","\\tmspace+{5mu}{.2777em}"),SG("\\thickspace","\\;"),SG("\\!","\\tmspace-{3mu}{.1667em}"),SG("\\negthinspace","\\!"),SG("\\negmedspace","\\tmspace-{4mu}{.2222em}"),SG("\\negthickspace","\\tmspace-{5mu}{.277em}"),SG("\\enspace","\\kern.5em "),SG("\\enskip","\\hskip.5em\\relax"),SG("\\quad","\\hskip1em\\relax"),SG("\\qquad","\\hskip2em\\relax"),SG("\\tag","\\@ifstar\\tag@literal\\tag@paren"),SG("\\tag@paren","\\tag@literal{({#1})}"),SG("\\tag@literal",(e=>{if(e.macros.get("\\df@tag"))throw new UV("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"})),SG("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),SG("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),SG("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),SG("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),SG("\\newline","\\\\\\relax"),SG("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var SK=OH(fH["Main-Regular"]["T".charCodeAt(0)][1]-.7*fH["Main-Regular"]["A".charCodeAt(0)][1]);SG("\\LaTeX","\\textrm{\\html@mathml{L\\kern-.36em\\raisebox{"+SK+"}{\\scriptstyle A}\\kern-.15em\\TeX}{LaTeX}}"),SG("\\KaTeX","\\textrm{\\html@mathml{K\\kern-.17em\\raisebox{"+SK+"}{\\scriptstyle A}\\kern-.15em\\TeX}{KaTeX}}"),SG("\\hspace","\\@ifstar\\@hspacer\\@hspace"),SG("\\@hspace","\\hskip #1\\relax"),SG("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),SG("\\ordinarycolon",":"),SG("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),SG("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),SG("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),SG("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),SG("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),SG("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),SG("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),SG("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),SG("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),SG("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),SG("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),SG("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),SG("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),SG("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),SG("∷","\\dblcolon"),SG("∹","\\eqcolon"),SG("≔","\\coloneqq"),SG("≕","\\eqqcolon"),SG("⩴","\\Coloneqq"),SG("\\ratio","\\vcentcolon"),SG("\\coloncolon","\\dblcolon"),SG("\\colonequals","\\coloneqq"),SG("\\coloncolonequals","\\Coloneqq"),SG("\\equalscolon","\\eqqcolon"),SG("\\equalscoloncolon","\\Eqqcolon"),SG("\\colonminus","\\coloneq"),SG("\\coloncolonminus","\\Coloneq"),SG("\\minuscolon","\\eqcolon"),SG("\\minuscoloncolon","\\Eqcolon"),SG("\\coloncolonapprox","\\Colonapprox"),SG("\\coloncolonsim","\\Colonsim"),SG("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),SG("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),SG("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),SG("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),SG("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),SG("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),SG("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),SG("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),SG("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),SG("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),SG("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),SG("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),SG("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),SG("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),SG("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),SG("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),SG("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),SG("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),SG("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),SG("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),SG("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),SG("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),SG("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),SG("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),SG("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),SG("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),SG("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),SG("\\imath","\\html@mathml{\\@imath}{ı}"),SG("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),SG("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),SG("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),SG("⟦","\\llbracket"),SG("⟧","\\rrbracket"),SG("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),SG("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),SG("⦃","\\lBrace"),SG("⦄","\\rBrace"),SG("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),SG("⦵","\\minuso"),SG("\\darr","\\downarrow"),SG("\\dArr","\\Downarrow"),SG("\\Darr","\\Downarrow"),SG("\\lang","\\langle"),SG("\\rang","\\rangle"),SG("\\uarr","\\uparrow"),SG("\\uArr","\\Uparrow"),SG("\\Uarr","\\Uparrow"),SG("\\N","\\mathbb{N}"),SG("\\R","\\mathbb{R}"),SG("\\Z","\\mathbb{Z}"),SG("\\alef","\\aleph"),SG("\\alefsym","\\aleph"),SG("\\Alpha","\\mathrm{A}"),SG("\\Beta","\\mathrm{B}"),SG("\\bull","\\bullet"),SG("\\Chi","\\mathrm{X}"),SG("\\clubs","\\clubsuit"),SG("\\cnums","\\mathbb{C}"),SG("\\Complex","\\mathbb{C}"),SG("\\Dagger","\\ddagger"),SG("\\diamonds","\\diamondsuit"),SG("\\empty","\\emptyset"),SG("\\Epsilon","\\mathrm{E}"),SG("\\Eta","\\mathrm{H}"),SG("\\exist","\\exists"),SG("\\harr","\\leftrightarrow"),SG("\\hArr","\\Leftrightarrow"),SG("\\Harr","\\Leftrightarrow"),SG("\\hearts","\\heartsuit"),SG("\\image","\\Im"),SG("\\infin","\\infty"),SG("\\Iota","\\mathrm{I}"),SG("\\isin","\\in"),SG("\\Kappa","\\mathrm{K}"),SG("\\larr","\\leftarrow"),SG("\\lArr","\\Leftarrow"),SG("\\Larr","\\Leftarrow"),SG("\\lrarr","\\leftrightarrow"),SG("\\lrArr","\\Leftrightarrow"),SG("\\Lrarr","\\Leftrightarrow"),SG("\\Mu","\\mathrm{M}"),SG("\\natnums","\\mathbb{N}"),SG("\\Nu","\\mathrm{N}"),SG("\\Omicron","\\mathrm{O}"),SG("\\plusmn","\\pm"),SG("\\rarr","\\rightarrow"),SG("\\rArr","\\Rightarrow"),SG("\\Rarr","\\Rightarrow"),SG("\\real","\\Re"),SG("\\reals","\\mathbb{R}"),SG("\\Reals","\\mathbb{R}"),SG("\\Rho","\\mathrm{P}"),SG("\\sdot","\\cdot"),SG("\\sect","\\S"),SG("\\spades","\\spadesuit"),SG("\\sub","\\subset"),SG("\\sube","\\subseteq"),SG("\\supe","\\supseteq"),SG("\\Tau","\\mathrm{T}"),SG("\\thetasym","\\vartheta"),SG("\\weierp","\\wp"),SG("\\Zeta","\\mathrm{Z}"),SG("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),SG("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),SG("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),SG("\\bra","\\mathinner{\\langle{#1}|}"),SG("\\ket","\\mathinner{|{#1}\\rangle}"),SG("\\braket","\\mathinner{\\langle{#1}\\rangle}"),SG("\\Bra","\\left\\langle#1\\right|"),SG("\\Ket","\\left|#1\\right\\rangle");var kK=e=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.macros.get("|"),s=t.macros.get("\\|");t.macros.beginGroup();var l=t=>n=>{e&&(n.macros.set("|",a),o.length&&n.macros.set("\\|",s));var i=t;!t&&o.length&&("|"===n.future().text&&(n.popToken(),i=!0));return{tokens:i?o:r,numArgs:0}};t.macros.set("|",l(!1)),o.length&&t.macros.set("\\|",l(!0));var c=t.consumeArg().tokens,u=t.expandTokens([...i,...c,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};SG("\\bra@ket",kK(!1)),SG("\\bra@set",kK(!0)),SG("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),SG("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),SG("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),SG("\\angln","{\\angl n}"),SG("\\blue","\\textcolor{##6495ed}{#1}"),SG("\\orange","\\textcolor{##ffa500}{#1}"),SG("\\pink","\\textcolor{##ff00af}{#1}"),SG("\\red","\\textcolor{##df0030}{#1}"),SG("\\green","\\textcolor{##28ae7b}{#1}"),SG("\\gray","\\textcolor{gray}{#1}"),SG("\\purple","\\textcolor{##9d38bd}{#1}"),SG("\\blueA","\\textcolor{##ccfaff}{#1}"),SG("\\blueB","\\textcolor{##80f6ff}{#1}"),SG("\\blueC","\\textcolor{##63d9ea}{#1}"),SG("\\blueD","\\textcolor{##11accd}{#1}"),SG("\\blueE","\\textcolor{##0c7f99}{#1}"),SG("\\tealA","\\textcolor{##94fff5}{#1}"),SG("\\tealB","\\textcolor{##26edd5}{#1}"),SG("\\tealC","\\textcolor{##01d1c1}{#1}"),SG("\\tealD","\\textcolor{##01a995}{#1}"),SG("\\tealE","\\textcolor{##208170}{#1}"),SG("\\greenA","\\textcolor{##b6ffb0}{#1}"),SG("\\greenB","\\textcolor{##8af281}{#1}"),SG("\\greenC","\\textcolor{##74cf70}{#1}"),SG("\\greenD","\\textcolor{##1fab54}{#1}"),SG("\\greenE","\\textcolor{##0d923f}{#1}"),SG("\\goldA","\\textcolor{##ffd0a9}{#1}"),SG("\\goldB","\\textcolor{##ffbb71}{#1}"),SG("\\goldC","\\textcolor{##ff9c39}{#1}"),SG("\\goldD","\\textcolor{##e07d10}{#1}"),SG("\\goldE","\\textcolor{##a75a05}{#1}"),SG("\\redA","\\textcolor{##fca9a9}{#1}"),SG("\\redB","\\textcolor{##ff8482}{#1}"),SG("\\redC","\\textcolor{##f9685d}{#1}"),SG("\\redD","\\textcolor{##e84d39}{#1}"),SG("\\redE","\\textcolor{##bc2612}{#1}"),SG("\\maroonA","\\textcolor{##ffbde0}{#1}"),SG("\\maroonB","\\textcolor{##ff92c6}{#1}"),SG("\\maroonC","\\textcolor{##ed5fa6}{#1}"),SG("\\maroonD","\\textcolor{##ca337c}{#1}"),SG("\\maroonE","\\textcolor{##9e034e}{#1}"),SG("\\purpleA","\\textcolor{##ddd7ff}{#1}"),SG("\\purpleB","\\textcolor{##c6b9fc}{#1}"),SG("\\purpleC","\\textcolor{##aa87ff}{#1}"),SG("\\purpleD","\\textcolor{##7854ab}{#1}"),SG("\\purpleE","\\textcolor{##543b78}{#1}"),SG("\\mintA","\\textcolor{##f5f9e8}{#1}"),SG("\\mintB","\\textcolor{##edf2df}{#1}"),SG("\\mintC","\\textcolor{##e0e5cc}{#1}"),SG("\\grayA","\\textcolor{##f6f7f7}{#1}"),SG("\\grayB","\\textcolor{##f0f1f2}{#1}"),SG("\\grayC","\\textcolor{##e3e5e6}{#1}"),SG("\\grayD","\\textcolor{##d6d8da}{#1}"),SG("\\grayE","\\textcolor{##babec2}{#1}"),SG("\\grayF","\\textcolor{##888d93}{#1}"),SG("\\grayG","\\textcolor{##626569}{#1}"),SG("\\grayH","\\textcolor{##3b3e40}{#1}"),SG("\\grayI","\\textcolor{##21242c}{#1}"),SG("\\kaBlue","\\textcolor{##314453}{#1}"),SG("\\kaGreen","\\textcolor{##71B307}{#1}");var EK={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class OK{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new vK(gK,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new mK(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return 0===this.stack.length&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,n,r;if(e){if(this.consumeSpaces(),"["!==this.future().text)return null;t=this.popToken(),({tokens:r,end:n}=this.consumeArg(["]"]))}else({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new $V("EOF",n.loc)),this.pushTokens(r),t.range(n,"")}consumeSpaces(){for(;;){if(" "!==this.future().text)break;this.stack.pop()}}consumeArg(e){var t=[],n=e&&e.length>0;n||this.consumeSpaces();var r,o=this.future(),i=0,a=0;do{if(r=this.popToken(),t.push(r),"{"===r.text)++i;else if("}"===r.text){if(-1===--i)throw new UV("Extra }",r)}else if("EOF"===r.text)throw new UV("Unexpected end of input in a macro argument, expected '"+(e&&n?e[a]:"}")+"'",r);if(e&&n)if((0===i||1===i&&"{"===e[a])&&r.text===e[a]){if(++a===e.length){t.splice(-a,a);break}}else a=0}while(0!==i||n);return"{"===o.text&&"}"===t[t.length-1].text&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:o,end:r}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new UV("The length of delimiters doesn't match the number of args!");for(var n=t[0],r=0;r<n.length;r++){var o=this.popToken();if(n[r]!==o.text)throw new UV("Use of the macro doesn't match its definition",o)}}for(var i=[],a=0;a<e;a++)i.push(this.consumeArg(t&&t[a+1]).tokens);return i}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new UV("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),n=t.text,r=t.noexpand?null:this._getExpansion(n);if(null==r||e&&r.unexpandable){if(e&&null==r&&"\\"===n[0]&&!this.isDefined(n))throw new UV("Undefined control sequence: "+n);return this.pushToken(t),!1}this.countExpansion(1);var o=r.tokens,i=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs)for(var a=(o=o.slice()).length-1;a>=0;--a){var s=o[a];if("#"===s.text){if(0===a)throw new UV("Incomplete placeholder at end of macro body",s);if("#"===(s=o[--a]).text)o.splice(a+1,1);else{if(!/^[1-9]$/.test(s.text))throw new UV("Not a valid argument number",s);o.splice(a,2,...i[+s.text-1])}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(!1===this.expandOnce()){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new $V(e)]):void 0}expandTokens(e){var t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(!1===this.expandOnce(!0)){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),t.push(r)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t?t.map((e=>e.text)).join(""):t}_getExpansion(e){var t=this.macros.get(e);if(null==t)return t;if(1===e.length){var n=this.lexer.catcodes[e];if(null!=n&&13!==n)return}var r="function"==typeof t?t(this):t;if("string"==typeof r){var o=0;if(-1!==r.indexOf("#"))for(var i=r.replace(/##/g,"");-1!==i.indexOf("#"+(o+1));)++o;for(var a=new mK(r,this.settings),s=[],l=a.lex();"EOF"!==l.text;)s.push(l),l=a.lex();return s.reverse(),{tokens:s,numArgs:o}}return r}isDefined(e){return this.macros.has(e)||cK.hasOwnProperty(e)||$H.math.hasOwnProperty(e)||$H.text.hasOwnProperty(e)||EK.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return null!=t?"string"==typeof t||"function"==typeof t||!t.unexpandable:cK.hasOwnProperty(e)&&!cK[e].primitive}}var jK=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,_K=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9",ₐ:"a",ₑ:"e",ₕ:"h",ᵢ:"i",ⱼ:"j",ₖ:"k",ₗ:"l",ₘ:"m",ₙ:"n",ₒ:"o",ₚ:"p",ᵣ:"r",ₛ:"s",ₜ:"t",ᵤ:"u",ᵥ:"v",ₓ:"x",ᵦ:"β",ᵧ:"γ",ᵨ:"ρ",ᵩ:"ϕ",ᵪ:"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9",ᴬ:"A",ᴮ:"B",ᴰ:"D",ᴱ:"E",ᴳ:"G",ᴴ:"H",ᴵ:"I",ᴶ:"J",ᴷ:"K",ᴸ:"L",ᴹ:"M",ᴺ:"N",ᴼ:"O",ᴾ:"P",ᴿ:"R",ᵀ:"T",ᵁ:"U",ⱽ:"V",ᵂ:"W",ᵃ:"a",ᵇ:"b",ᶜ:"c",ᵈ:"d",ᵉ:"e",ᶠ:"f",ᵍ:"g",ʰ:"h",ⁱ:"i",ʲ:"j",ᵏ:"k",ˡ:"l",ᵐ:"m",ⁿ:"n",ᵒ:"o",ᵖ:"p",ʳ:"r",ˢ:"s",ᵗ:"t",ᵘ:"u",ᵛ:"v",ʷ:"w",ˣ:"x",ʸ:"y",ᶻ:"z",ᵝ:"β",ᵞ:"γ",ᵟ:"δ",ᵠ:"ϕ",ᵡ:"χ",ᶿ:"θ"}),CK={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},TK={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class PK{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new OK(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(void 0===t&&(t=!0),this.fetch().text!==e)throw new UV("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return null==this.nextToken&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new $V("}")),this.gullet.pushTokens(e);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,n}parseExpression(e,t){for(var n=[];;){"math"===this.mode&&this.consumeSpaces();var r=this.fetch();if(-1!==PK.endOfExpression.indexOf(r.text))break;if(t&&r.text===t)break;if(e&&cK[r.text]&&cK[r.text].infix)break;var o=this.parseAtom(t);if(!o)break;"internal"!==o.type&&n.push(o)}return"text"===this.mode&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){for(var t,n=-1,r=0;r<e.length;r++)if("infix"===e[r].type){if(-1!==n)throw new UV("only one infix operator per group",e[r].token);n=r,t=e[r].replaceWith}if(-1!==n&&t){var o,i,a=e.slice(0,n),s=e.slice(n+1);return o=1===a.length&&"ordgroup"===a[0].type?a[0]:{type:"ordgroup",mode:this.mode,body:a},i=1===s.length&&"ordgroup"===s[0].type?s[0]:{type:"ordgroup",mode:this.mode,body:s},["\\\\abovefrac"===t?this.callFunction(t,[o,e[n],i],[]):this.callFunction(t,[o,i],[])]}return e}handleSupSubscript(e){var t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();var r=this.parseGroup(e);if(!r)throw new UV("Expected group after '"+n+"'",t);return r}formatUnsupportedCmd(e){for(var t=[],n=0;n<e.length;n++)t.push({type:"textord",mode:"text",text:e[n]});var r={type:"text",mode:this.mode,body:t};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]}}parseAtom(e){var t,n,r=this.parseGroup("atom",e);if("text"===this.mode)return r;for(;;){this.consumeSpaces();var o=this.fetch();if("\\limits"===o.text||"\\nolimits"===o.text){if(r&&"op"===r.type){var i="\\limits"===o.text;r.limits=i,r.alwaysHandleSupSub=!0}else{if(!r||"operatorname"!==r.type)throw new UV("Limit controls must follow a math operator",o);r.alwaysHandleSupSub&&(r.limits="\\limits"===o.text)}this.consume()}else if("^"===o.text){if(t)throw new UV("Double superscript",o);t=this.handleSupSubscript("superscript")}else if("_"===o.text){if(n)throw new UV("Double subscript",o);n=this.handleSupSubscript("subscript")}else if("'"===o.text){if(t)throw new UV("Double superscript",o);var a={type:"textord",mode:this.mode,text:"\\prime"},s=[a];for(this.consume();"'"===this.fetch().text;)s.push(a),this.consume();"^"===this.fetch().text&&s.push(this.handleSupSubscript("superscript")),t={type:"ordgroup",mode:this.mode,body:s}}else{if(!_K[o.text])break;var l=jK.test(o.text),c=[];for(c.push(new $V(_K[o.text])),this.consume();;){var u=this.fetch().text;if(!_K[u])break;if(jK.test(u)!==l)break;c.unshift(new $V(_K[u])),this.consume()}var d=this.subparse(c);l?n={type:"ordgroup",mode:"math",body:d}:t={type:"ordgroup",mode:"math",body:d}}}return t||n?{type:"supsub",mode:this.mode,base:r,sup:t,sub:n}:r}parseFunction(e,t){var n=this.fetch(),r=n.text,o=cK[r];if(!o)return null;if(this.consume(),t&&"atom"!==t&&!o.allowedInArgument)throw new UV("Got function '"+r+"' with no arguments"+(t?" as "+t:""),n);if("text"===this.mode&&!o.allowedInText)throw new UV("Can't use function '"+r+"' in text mode",n);if("math"===this.mode&&!1===o.allowedInMath)throw new UV("Can't use function '"+r+"' in math mode",n);var{args:i,optArgs:a}=this.parseArguments(r,o);return this.callFunction(r,i,a,n,e)}callFunction(e,t,n,r,o){var i={funcName:e,parser:this,token:r,breakOnTokenText:o},a=cK[e];if(a&&a.handler)return a.handler(i,t,n);throw new UV("No function handler for "+e)}parseArguments(e,t){var n=t.numArgs+t.numOptionalArgs;if(0===n)return{args:[],optArgs:[]};for(var r=[],o=[],i=0;i<n;i++){var a=t.argTypes&&t.argTypes[i],s=i<t.numOptionalArgs;(t.primitive&&null==a||"sqrt"===t.type&&1===i&&null==o[0])&&(a="primitive");var l=this.parseGroupOfType("argument to '"+e+"'",a,s);if(s)o.push(l);else{if(null==l)throw new UV("Null argument, please report this as a bug");r.push(l)}}return{args:r,optArgs:o}}parseGroupOfType(e,t,n){switch(t){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,t);case"hbox":var r=this.parseArgumentGroup(n,"text");return null!=r?{type:"styling",mode:r.mode,body:[r],style:"text"}:null;case"raw":var o=this.parseStringGroup("raw",n);return null!=o?{type:"raw",mode:"text",string:o.text}:null;case"primitive":if(n)throw new UV("A primitive argument cannot be optional");var i=this.parseGroup(e);if(null==i)throw new UV("Expected group as "+e,this.fetch());return i;case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new UV("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;" "===this.fetch().text;)this.consume()}parseStringGroup(e,t){var n=this.gullet.scanArgument(t);if(null==n)return null;for(var r,o="";"EOF"!==(r=this.fetch()).text;)o+=r.text,this.consume();return this.consume(),n.text=o,n}parseRegexGroup(e,t){for(var n,r=this.fetch(),o=r,i="";"EOF"!==(n=this.fetch()).text&&e.test(i+n.text);)i+=(o=n).text,this.consume();if(""===i)throw new UV("Invalid "+t+": '"+r.text+"'",r);return r.range(o,i)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(null==t)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new UV("Invalid color: '"+t.text+"'",t);var r=n[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var t,n=!1;if(this.gullet.consumeSpaces(),!(t=e||"{"===this.gullet.future().text?this.parseStringGroup("size",e):this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size")))return null;e||0!==t.text.length||(t.text="0pt",n=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!r)throw new UV("Invalid size: '"+t.text+"'",t);var o={number:+(r[1]+r[2]),unit:r[3]};if(!kH(o))throw new UV("Invalid unit: '"+o.unit+"'",t);return{type:"size",mode:this.mode,value:o,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),null==t)return null;var n=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(e,t){var n=this.gullet.scanArgument(e);if(null==n)return null;var r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var i={type:"ordgroup",mode:this.mode,loc:n.loc,body:o};return t&&this.switchMode(r),i}parseGroup(e,t){var n,r=this.fetch(),o=r.text;if("{"===o||"\\begingroup"===o){this.consume();var i="{"===o?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,i),s=this.fetch();this.expect(i),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:BV.range(r,s),body:a,semisimple:"\\begingroup"===o||void 0}}else if(null==(n=this.parseFunction(t,e)||this.parseSymbol())&&"\\"===o[0]&&!EK.hasOwnProperty(o)){if(this.settings.throwOnError)throw new UV("Undefined control sequence: "+o,r);n=this.formatUnsupportedCmd(o),this.consume()}return n}formLigatures(e){for(var t=e.length-1,n=0;n<t;++n){var r=e[n],o=r.text;"-"===o&&"-"===e[n+1].text&&(n+1<t&&"-"===e[n+2].text?(e.splice(n,3,{type:"textord",mode:"text",loc:BV.range(r,e[n+2]),text:"---"}),t-=2):(e.splice(n,2,{type:"textord",mode:"text",loc:BV.range(r,e[n+1]),text:"--"}),t-=1)),"'"!==o&&"`"!==o||e[n+1].text!==o||(e.splice(n,2,{type:"textord",mode:"text",loc:BV.range(r,e[n+1]),text:o+o}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var n=t.slice(5),r="*"===n.charAt(0);if(r&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new UV("\\verb assertion failed --\n                    please report what input caused this bug");return{type:"verb",mode:"text",body:n=n.slice(1,-1),star:r}}TK.hasOwnProperty(t[0])&&!$H[this.mode][t[0]]&&(this.settings.strict&&"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=TK[t[0]]+t.slice(1));var o,i=pK.exec(t);if(i&&("i"===(t=t.substring(0,i.index))?t="ı":"j"===t&&(t="ȷ")),$H[this.mode][t]){this.settings.strict&&"math"===this.mode&&bW.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var a,s=$H[this.mode][t].group,l=BV.range(e);if(zH.hasOwnProperty(s)){var c=s;a={type:"atom",mode:this.mode,family:c,loc:l,text:t}}else a={type:s,mode:this.mode,loc:l,text:t};o=a}else{if(!(t.charCodeAt(0)>=128))return null;this.settings.strict&&(lH(t.charCodeAt(0))?"math"===this.mode&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'" ('+t.charCodeAt(0)+")",e)),o={type:"textord",mode:"text",loc:BV.range(e),text:t}}if(this.consume(),i)for(var u=0;u<i[0].length;u++){var d=i[0][u];if(!CK[d])throw new UV("Unknown accent ' "+d+"'",e);var f=CK[d][this.mode]||CK[d].text;if(!f)throw new UV("Accent "+d+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:BV.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}}PK.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var AK=function(e,t){if(!("string"==typeof e||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new PK(e,t);delete n.gullet.macros.current["\\df@tag"];var r=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new UV("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:n.subparse([new $V("\\df@tag")])}]}return r},NK=function(e,t,n){t.textContent="";var r=IK(e,n).toNode();t.appendChild(r)};"undefined"!=typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!=typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),NK=function(){throw new UV("KaTeX doesn't work in quirks mode.")});var MK=function(e,t,n){if(n.throwOnError||!(e instanceof UV))throw e;var r=IW.makeSpan(["katex-error"],[new IH(t)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+n.errorColor),r},IK=function(e,t){var n=new YV(t);try{return function(e,t,n){var r,o=yq(n);if("mathml"===n.output)return gq(e,t,o,n.displayMode,!0);if("html"===n.output){var i=aq(e,o);r=IW.makeSpan(["katex"],[i])}else{var a=gq(e,t,o,n.displayMode,!1),s=aq(e,o);r=IW.makeSpan(["katex"],[a,s])}return bq(r,n)}(AK(e,n),e,n)}catch(t){return MK(t,e,n)}},RK={version:"0.16.10",render:NK,renderToString:function(e,t){return IK(e,t).toMarkup()},ParseError:UV,SETTINGS_SCHEMA:KV,__parse:function(e,t){var n=new YV(t);return AK(e,n)},__renderToDomTree:IK,__renderToHTMLTree:function(e,t){var n=new YV(t);try{return function(e,t,n){var r=aq(e,yq(n)),o=IW.makeSpan(["katex"],[r]);return bq(o,n)}(AK(e,n),0,n)}catch(t){return MK(t,e,n)}},__setFontMetrics:function(e,t){fH[e]=t},__defineSymbol:UH,__defineFunction:VW,__defineMacro:SG,__domTree:{Span:PH,Anchor:AH,SymbolNode:IH,SvgNode:RH,PathNode:LH,LineNode:DH}};function LK(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return DK(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DK(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var FK=o(3262),zK=tM.create({name:"katex-inline",keepOnSplit:!1,group:"inline",inline:!0,editable:!1,selectable:!1,atom:!0,addAttributes:function(){return{id:{default:null,parseHTML:function(e){return e.getAttribute("data-id")},renderHTML:function(e){return console.log("renderHTML",e),e.id?{"data-id":e.id}:{}}},"katex-data":{default:null,parseHTML:function(e){return e.getAttribute("data-katex-data")},renderHTML:function(e){return e["katex-data"]?{"data-katex-data":e["katex-data"]}:{}}}}},parseHTML:function(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML:function(e){var t=e.HTMLAttributes,n=e.node,r=document.createElement("span");r.setAttribute("data-type",this.name),Object.entries(t).forEach((function(e){var t=LK(e,2),n=t[0],o=t[1];r.setAttribute(n,o)})),Object.entries(this.options.HTMLAttributes).forEach((function(e){var t=LK(e,2),n=t[0],o=t[1];r.setAttribute(n,o)})),console.log({HTMLAttributes:t,node:n,"this.options.HTMLAttributes":this.options.HTMLAttributes});var o=t["data-katex-data"]||"\\frac{1}{2}";return RK.render(o,r,{throwOnError:!1,strict:!1}),r},addCommands:function(){var e=this;return{setKatexInline:function(){return function(t){t.commands;var n,r=t.editor,o=r.state.selection,i=r.state.doc.textBetween(o.from,o.to," "),a=i;try{a=FK.default(i)}catch(e){}r.chain().focus().insertContent({type:e.name,attrs:{"katex-data":a||"\\frac{1}{2}"}}).run(),null===(n=window.getSelection())||void 0===n||n.collapseToEnd()}}}},addKeyboardShortcuts:function(){var e=this;return{"Mod-Shift-e":function(){return e.editor.chain().focus().setKatexInline(),!0},"Mod-Shift-E":function(){return e.editor.chain().focus().setKatexInline(),!0}}}});const BK=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"}))})),$K=Gw("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var UK=function(e){var t=e.text,n=e.color,r=e.size,o=void 0===r?24:r;return(0,Ut.jsxs)("div",{className:"relative h-fit",style:{transform:"scale(".concat(o?o/40:1,")"),margin:"-".concat(o?(40-o)/2:0,"px")},children:[(0,Ut.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ut.jsx)("path",{d:"M4 4C4 1.79086 5.79086 0 8 0H24L36 12V36C36 38.2091 34.2091 40 32 40H8C5.79086 40 4 38.2091 4 36V4Z",fill:n}),(0,Ut.jsx)("path",{opacity:"0.3",d:"M24 0L36 12H28C25.7909 12 24 10.2091 24 8V0Z",fill:"white"})]}),(0,Ut.jsx)("span",{className:"absolute bottom-[-8px] left-0 flex h-full w-full items-center justify-center text-[10px] font-bold text-white",children:t})]})},VK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"PDF",color:"#D92D20",size:t})},HK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"TXT",color:"#BDBDBD",size:t})},WK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"DOC",color:"#155EEF",size:t})},qK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"PPT",color:"#B7472A",size:t})},GK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"WEB",color:"#2B579A",size:t})},KK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"MP4",color:"#000000",size:t})},XK=function(e){var t=e.size;return(0,Ut.jsx)(UK,{text:"?",color:"#2B579A",size:t})},YK=function(e){var t=e.type,n=e.size;switch(t){case"pdf":return(0,Ut.jsx)(VK,{size:n});case"txt":return(0,Ut.jsx)(HK,{size:n});case"docx":return(0,Ut.jsx)(WK,{size:n});case"pptx":return(0,Ut.jsx)(qK,{size:n});case"web":case"html":return(0,Ut.jsx)(GK,{size:n});case"mp4":return(0,Ut.jsx)(KK,{size:n});default:return(0,Ut.jsx)(XK,{size:n})}},ZK=function(e){var t,n,r,o=null===(t=be.getState().course)||void 0===t?void 0:t.courseContent.language,i=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.language,a=o||i||"EN",s=be.getState().staticLearnerStringsObject;return null!=s&&null!==(r=s[e])&&void 0!==r&&r[a]?s[e][a]:e};function JK(e){return JK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JK(e)}function QK(){QK=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==JK(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(JK(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function eX(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function tX(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){eX(i,r,o,a,s,"next",e)}function s(e){eX(i,r,o,a,s,"throw",e)}a(void 0)}))}}function nX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rX(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rX(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const oX=function(e){var t=nX((0,n.useState)(!1),2),r=t[0],o=t[1],i=function(){var t=tX(QK().mark((function t(n){var r,o;return QK().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(e){if(!e)return 1;if(0===e.length)return 1;var t=e[0];return Array.isArray(t)?t[0]:t},o=r(n),e.node.attrs.url&&window.open("".concat(e.node.attrs.url,"#page=").concat(o),"_blank");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var e=tX(QK().mark((function e(t,n,r,o){return QK().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("web"!==t){e.next=4;break}window.open(n,"_blank"),e.next=6;break;case 4:return e.next=6,i(o);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}();return(0,Ut.jsx)(TR,{as:"span",className:"cite text-inherit",children:(0,Ut.jsxs)(MV,{open:r,onOpenChange:function(e){o(e)},children:[(0,Ut.jsx)("span",{className:"items-left gap-1 pb-1 text-inherit",children:(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsxs)("span",{"data-no-navigate":!0,className:"cursor-pointer rounded-lg px-2 text-sm font-semibold text-inherit ",style:{position:"relative"},children:[(0,Ut.jsx)($K,{className:"h-3 w-3",style:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",zIndex:-1}}),(0,Ut.jsx)("span",{className:"rounded-md",style:{backgroundColor:"currentColor",opacity:.1,position:"absolute",top:"-10%",left:0,right:0,bottom:"10%",padding:"2px"}})]})})}),(0,Ut.jsx)(yV,{children:(0,Ut.jsx)(RV,{sideOffset:5,className:"z-[100000] max-w-xs",children:(0,Ut.jsxs)("div",{className:"",children:[(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-between gap-2",children:[(0,Ut.jsx)(YK,{type:e.node.attrs.fileType||"N/A",size:24}),(0,Ut.jsx)("div",{className:"text-lg font-bold",children:e.node.attrs.title}),(0,Ut.jsx)(Fr,{className:"h-6 w-6",size:"smallIcon",onClick:function(){a(e.node.attrs.fileType,e.node.attrs.url,e.node.attrs.documentId,e.node.attrs.pageRange)},variant:"blend",children:(0,Ut.jsx)(BK,{className:"h-6 w-6"})})]}),(0,Ut.jsx)("div",{className:"p3 pt-1 text-sm",children:e.node.attrs.text.length>600?e.node.attrs.text.slice(0,600)+"...":e.node.attrs.text}),e.node.attrs.pageRange&&(0,Ut.jsxs)("div",{className:"pt-1 text-sm text-gray-500",children:[1!==e.node.attrs.pageRange.length||Array.isArray(e.node.attrs.pageRange[0])?ZK("Pages"):ZK("Page")," ",Array.isArray(e.node.attrs.pageRange)&&e.node.attrs.pageRange.map((function(e){return Array.isArray(e)?"".concat(e[0],"-").concat(e[1]):e})).join(", ")]})]})})})]})})};function iX(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aX(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aX(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const sX=tM.create({name:"cite",keepOnSplit:!1,group:"inline",inline:!0,editable:!1,selectable:!1,atom:!0,addAttributes:function(){return{citationText:{default:"CiTE"},text:{default:"Citation"},pageRange:{default:void 0},title:{default:"Title"},url:{default:null},fileType:{default:"pdf"},documentId:{default:"1"},id:{default:null}}},parseHTML:function(){return[{tag:'span[data-type="'.concat(this.name,'"]')}]},renderHTML:function(e){var t=e.HTMLAttributes,n=(e.node,document.createElement("span"));return n.setAttribute("data-type",this.name),Object.entries(t).forEach((function(e){var t=iX(e,2),r=t[0],o=t[1];n.setAttribute(r,o)})),Object.entries(this.options.HTMLAttributes).forEach((function(e){var t=iX(e,2),r=t[0],o=t[1];n.setAttribute(r,o)})),n},addCommands:function(){return{setCite:function(e){return function(t){var n=t.commands;return console.log("Setting cite with attributes:",e),e.citationText?n.setNode("cite",e):(console.error("Missing attributes for setCite:",e),!1)}},createCite:function(e){return function(t){var n=t.commands;console.log("Creating a new cite node and adding it to the tile lesson");var r={type:"cite",attrs:{citationText:e,text:"bla bla bla"}};return n.insertContent(r)}},unsetCite:function(){return function(e){return e.commands.lift("cite")}}}},addNodeView:function(){return NR(oX)}});var lX=function(e){return oN.create({name:"split",addInputRules:function(){return[{find:/---$/,handler:function(t){var n=t.state,r=t.range,o=(t.match,n.doc.slice(0,r.from).content),i=n.doc.slice(r.to,n.doc.content.size).content,a={type:"doc",content:o.toJSON()},s={type:"doc",content:i.toJSON()};setTimeout((function(){e&&e(a,s)}),500)}}]}})};const cX=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,uX=tM.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",FA(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[JN({find:cX,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}}),dX=QA.create({name:"subscript",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"sub"},{style:"vertical-align",getAttrs:e=>"sub"===e&&null}],renderHTML({HTMLAttributes:e}){return["sub",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),fX=QA.create({name:"superscript",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"sup"},{style:"vertical-align",getAttrs:e=>"super"===e&&null}],renderHTML({HTMLAttributes:e}){return["sup",FA(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}}),pX=["p",0],hX=["blockquote",0],mX=["hr"],vX=["pre",["code",0]],gX=["br"],yX={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>pX},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:()=>hX},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>mX},heading:{attrs:{level:{default:1,validate:"number"}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>vX},text:{group:"inline"},image:{inline:!0,attrs:{src:{validate:"string"},alt:{default:null,validate:"string|null"},title:{default:null,validate:"string|null"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM(e){let{src:t,alt:n,title:r}=e.attrs;return["img",{src:t,alt:n,title:r}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>gX}},bX=["em",0],wX=["strong",0],xX=["code",0],SX={link:{attrs:{href:{validate:"string"},title:{default:null,validate:"string|null"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM(e){let{href:t,title:n}=e.attrs;return["a",{href:t,title:n},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>"em"==e.type.name}],toDOM:()=>bX},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!=e.style.fontWeight&&null},{style:"font-weight=400",clearMark:e=>"strong"==e.type.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>wX},code:{parseDOM:[{tag:"code"}],toDOM:()=>xX}},kX=new nj({nodes:yX,marks:SX});function EX(e){return EX="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EX(e)}function OX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OX(Object(n),!0).forEach((function(t){_X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _X(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=EX(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EX(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EX(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CX,TX,PX=function(e){var t=e.value,r=e.className,o=(0,n.useMemo)((function(){return new nj({nodes:kX.spec.nodes,marks:kX.spec.marks})}),[]),i=(0,n.useMemo)((function(){return new nj({nodes:o.spec.nodes.append({doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(e){return 0===e.content.size?["p",{class:"empty-paragraph"},"​"]:["p",0]}},text:{group:"inline"},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}}],toDOM:function(e){return["h".concat(e.attrs.level),0]}},display:{content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1.display"}],toDOM:function(){return["h1",{class:"display"},0]}},bulletList:{content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:function(){return["ul",0]}},orderedList:{content:"listItem+",group:"block",attrs:{start:{default:1}},parseDOM:[{tag:"ol",getAttrs:function(e){return{start:e.hasAttribute("start")?parseInt(e.getAttribute("start")||"1",10):1}}}],toDOM:function(e){return["ol",e.attrs,0]}},listItem:{content:"paragraph block*",parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]},defining:!0},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt"),title:e.getAttribute("title")}}}],toDOM:function(e){return["img",jX(jX({},e.attrs),{},{class:"rounded p-1"})]}},"katex-inline":{attrs:{"katex-data":{default:""},katex:{default:""}},inline:!0,group:"inline",parseDOM:[{tag:"span[data-katex]"}],toDOM:function(e){var t=document.createElement("span");t.className="mx-[.1em]",t.contentEditable="false";var n=e.attrs["katex-data"]||e.attrs.katex||"";if(n)try{RK.render(n,t,{throwOnError:!1,strict:!1})}catch(e){t.textContent=n}return t}},caption:{content:"inline*",group:"block",parseDOM:[{tag:"div.caption"}],toDOM:function(){return["div",{class:"caption"},0]}},cite:{attrs:{documentId:{default:null},citationText:{default:null},text:{default:null}},inline:!0,group:"inline",parseDOM:[{tag:"cite"}],toDOM:function(e){return["cite",{class:"text-inherit","data-document-id":e.attrs.documentId,"data-citation-text":e.attrs.citationText,"data-text":e.attrs.text},0]}},hardBreak:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},table:{content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseDOM:[{tag:"table"}],toDOM:function(){return["table",{class:"border-collapse border border-gray-300 w-full"},["tbody",0]]}},tableRow:{content:"(tableCell | tableHeader)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},tableCell:{content:"block+",tableRole:"cell",isolating:!0,parseDOM:[{tag:"td"}],toDOM:function(){return["td",{class:"border border-gray-300 p-2"},0]},attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null}}},tableHeader:{content:"block+",tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th"}],toDOM:function(){return["th",{class:"border border-gray-300 bg-gray-50 font-semibold p-2"},0]},attrs:{colspan:{default:1},rowspan:{default:1},colwidth:{default:null}}}}),marks:o.spec.marks.append({link:{attrs:{href:{default:""},target:{default:null},rel:{default:null},class:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),target:e.getAttribute("target"),rel:e.getAttribute("rel"),class:e.getAttribute("class")}}}],toDOM:function(e){return["a",jX(jX({},e.attrs),{},{class:"text-inherit underline"}),0]}},bold:{parseDOM:[{tag:"strong"}],toDOM:function(){return["strong",0]}},italic:{parseDOM:[{tag:"em"}],toDOM:function(){return["em",0]}},strike:{parseDOM:[{tag:"s"}],toDOM:function(){return["s",0]}},underline:{parseDOM:[{tag:"u"}],toDOM:function(){return["u",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",{class:"rounded p-1"},0]}},highlight:{parseDOM:[{tag:"mark"}],toDOM:function(){return["mark",{class:"bg-[var(--highlight-color)] px-[.1em] mx-[.1em] text-[var(--highlight-text)]"},0]}},subscript:{parseDOM:[{tag:"sub"}],toDOM:function(){return["sub",0]}},superscript:{parseDOM:[{tag:"sup"}],toDOM:function(){return["sup",0]}}})})}),[]),a=(0,n.useMemo)((function(){return hj.fromSchema(i)}),[i]),s=(0,n.useMemo)((function(){if("string"==typeof t)return t;try{var e=i.nodeFromJSON(t),n=document.createElement("div"),r=a.serializeFragment(e.content);return n.appendChild(r),n.innerHTML}catch(e){return console.error("Error converting document to HTML:",e),"string"==typeof t?t:""}}),[t,i,a]);return(0,Ut.jsx)("div",{className:vr("tiptap prose dark:prose-invert w-full max-w-none [&_.empty-paragraph]:h-[1.28em]",r),dangerouslySetInnerHTML:{__html:s}})},AX=tM.create({name:"display",group:"block",content:"inline*",defining:!0,parseHTML:function(){return[{tag:"h1.display"}]},renderHTML:function(e){return["h1",FA(e.HTMLAttributes,{class:"display"}),0]}});if("undefined"!=typeof WeakMap){let e=new WeakMap;CX=t=>e.get(t),TX=(t,n)=>(e.set(t,n),n)}else{const e=[],t=10;let n=0;CX=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},TX=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}var NX=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;a<this.height&&this.map[t+this.width*e]==n;e++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:o,top:i,bottom:a}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:a==this.height)?null:this.map[r+this.width*(n<0?i-1:a)]}rectBetween(e,t){const{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:a,right:s,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){const i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o==e.left&&o&&this.map[i-1]==a||r==e.top&&r&&this.map[i-this.width]==a||t.push(a))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){const i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width;const r=(e+1)*this.width;for(;n<r&&this.map[n]<o;)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return CX(e)||TX(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);const t=function(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const o=e.child(r);let i=0;if(n)for(let t=0;t<r;t++){const n=e.child(t);for(let e=0;e<n.childCount;e++){const o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){const t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[];let o=0,i=null;const a=[];for(let e=0,o=t*n;e<o;e++)r[e]=0;for(let s=0,l=0;s<n;s++){const c=e.child(s);l++;for(let e=0;;e++){for(;o<r.length&&0!=r[o];)o++;if(e==c.childCount)break;const u=c.child(e),{colspan:d,rowspan:f,colwidth:p}=u.attrs;for(let e=0;e<f;e++){if(e+s>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:l,n:f-e});break}const c=o+e*t;for(let e=0;e<d;e++){0==r[c+e]?r[c+e]=l:(i||(i=[])).push({type:"collision",row:s,pos:l,n:d-e});const n=p&&p[e];if(n){const r=(c+e)%t*2,o=a[r];null==o||o!=n&&1==a[r+1]?(a[r]=n,a[r+1]=1):o==n&&a[r+1]++}}}o+=d,l+=u.nodeSize}const u=(s+1)*t;let d=0;for(;o<u;)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:s,n:d}),l++}const s=new NX(t,n,r,i);let l=!1;for(let e=0;!l&&e<a.length;e+=2)null!=a[e]&&a[e+1]<n&&(l=!0);l&&function(e,t,n){e.problems||(e.problems=[]);const r={};for(let o=0;o<e.map.length;o++){const i=e.map[o];if(r[i])continue;r[i]=!0;const a=n.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let n=0;n<l.colspan;n++){const r=t[2*((o+n)%e.width)];null==r||l.colwidth&&l.colwidth[n]==r||((s||(s=MX(l)))[n]=r)}s&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}(s,a,e);return s}(e))}};function MX(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function IX(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}var RX=new P_("selectingCells");function LX(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function DX(e){const t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function FX(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;const n=LX(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function zX(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function BX(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function $X(e,t,n){const r=e.node(-1),o=NX.get(r),i=e.start(-1),a=o.nextCell(e.pos-i,t,n);return null==a?null:e.node(0).resolve(i+a)}function UX(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((e=>e>0))||(r.colwidth=null)),r}function VX(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}var HX=class e extends l_{constructor(e,t=e){const n=e.node(-1),r=NX.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),s=r.cellsInRect(i).filter((e=>e!=t.pos-o));s.unshift(t.pos-o);const l=s.map((e=>{const t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);const r=o+e+1;return new c_(a.resolve(r),a.resolve(r+t.content.size))}));super(l[0].$from,l[0].$to,l),this.$anchorCell=e,this.$headCell=t}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(zX(r)&&zX(o)&&BX(r,o)){const t=this.$anchorCell.node(-1)!=r.node(-1);return t&&this.isRowSelection()?e.rowSelection(r,o):t&&this.isColSelection()?e.colSelection(r,o):new e(r,o)}return f_.between(r,o)}content(){const e=this.$anchorCell.node(-1),t=NX.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[];for(let n=r.top;n<r.bottom;n++){const a=[];for(let i=n*t.width+r.left,s=r.left;s<r.right;s++,i++){const n=t.map[i];if(o[n])continue;o[n]=!0;const s=t.findCell(n);let l=e.nodeAt(n);if(!l)throw RangeError(`No cell with offset ${n} found`);const c=r.left-s.left,u=s.right-r.right;if(c>0||u>0){let e=l.attrs;if(c>0&&(e=UX(e,0,c)),u>0&&(e=UX(e,e.colspan-u,u)),s.left<r.left){if(l=l.type.createAndFill(e),!l)throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else l=l.type.create(e,l.content)}if(s.top<r.top||s.bottom>r.bottom){const e={...l.attrs,rowspan:Math.min(s.bottom,r.bottom)-Math.max(s.top,r.top)};l=s.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}a.push(l)}i.push(e.child(n).copy(pO.from(a)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new bO(pO.from(a),1,1)}replace(e,t=bO.empty){const n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){const{$from:i,$to:a}=r[o],s=e.mapping.slice(n);e.replace(s.map(i.pos),s.map(a.pos),o?bO.empty:t)}const o=l_.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new bO(pO.from(t),0,0))}forEachCell(e){const t=this.$anchorCell.node(-1),n=NX.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let n=0;n<o.length;n++)e(t.nodeAt(o[n]),r+o[n])}isColSelection(){const e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;const n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),o=NX.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(n=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new e(t,n)}isRowSelection(){const e=this.$anchorCell.node(-1),t=NX.get(e),n=this.$anchorCell.start(-1),r=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);if(Math.min(r,o)>0)return!1;const i=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,a)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),o=NX.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(n.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(n=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new e(t.resolve(n),t.resolve(r))}getBookmark(){return new WX(this.$anchorCell.pos,this.$headCell.pos)}};HX.prototype.visible=!1,l_.jsonID("cell",HX);var WX=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){const t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&BX(t,n)?new HX(t,n):l_.near(n,1)}};function qX(e){if(!(e.selection instanceof HX))return null;const t=[];return e.selection.forEachCell(((e,n)=>{t.push(dP.node(n,n+e.nodeSize,{class:"selectedCell"}))})),hP.create(e.doc,t)}var GX=new P_("fix-tables");function KX(e,t,n,r){const o=e.childCount,i=t.childCount;e:for(let a=0,s=0;a<i;a++){const i=t.child(a);for(let t=s,r=Math.min(o,a+3);t<r;t++)if(e.child(t)==i){s=t+1,n+=i.nodeSize;continue e}r(i,n),s<o&&e.child(s).sameMarkup(i)?KX(e.child(s),i,n+1,r):i.nodesBetween(0,i.content.size,r,n+1),n+=i.nodeSize}}function XX(e,t){let n;const r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,r){const o=NX.get(t);if(!o.problems)return r;r||(r=e.tr);const i=[];for(let e=0;e<o.height;e++)i.push(0);for(let e=0;e<o.problems.length;e++){const a=o.problems[e];if("collision"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;const o=e.attrs;for(let e=0;e<o.rowspan;e++)i[a.row+e]+=a.n;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,UX(o,o.colspan-a.n,a.n))}else if("missing"==a.type)i[a.row]+=a.n;else if("overlong_rowspan"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,rowspan:e.attrs.rowspan-a.n})}else if("colwidth mismatch"==a.type){const e=t.nodeAt(a.pos);if(!e)continue;r.setNodeMarkup(r.mapping.map(n+1+a.pos),null,{...e.attrs,colwidth:a.colwidth})}}let a,s;for(let e=0;e<i.length;e++)i[e]&&(null==a&&(a=e),s=e);for(let l=0,c=n+1;l<o.height;l++){const n=t.child(l),o=c+n.nodeSize,u=i[l];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);const i=[];for(let n=0;n<u;n++){const n=IX(e.schema)[t].createAndFill();n&&i.push(n)}const d=0!=l&&a!=l-1||s!=l?o-1:c+1;r.insert(r.mapping.map(d),i)}c=o}return r.setMeta(GX,{fixTables:!0})}(e,t,r,n))};return t?t.doc!=e.doc&&KX(t.doc,e.doc,0,r):e.doc.descendants(r),n}function YX(e){const t=e.selection,n=FX(e),r=n.node(-1),o=n.start(-1),i=NX.get(r);return{...t instanceof HX?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(n.pos-o),tableStart:o,map:i,table:r}}function ZX(e,{map:t,tableStart:n,table:r},o){let i=o>0?-1:0;(function(e,t,n){const r=IX(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0})(t,r,o+i)&&(i=0==o||o==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+o;if(o>0&&o<t.width&&t.map[s-1]==t.map[s]){const i=t.map[s],l=r.nodeAt(i);e.setNodeMarkup(e.mapping.map(n+i),null,VX(l.attrs,o-t.colCount(i))),a+=l.attrs.rowspan-1}else{const l=null==i?IX(r.type.schema).cell:r.nodeAt(t.map[s+i]).type,c=t.positionAt(a,o,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function JX(e,{map:t,table:n,tableStart:r},o){const i=e.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+o,l=t.map[s],c=n.nodeAt(l),u=c.attrs;if(o>0&&t.map[s-1]==l||o<t.width-1&&t.map[s+1]==l)e.setNodeMarkup(e.mapping.slice(i).map(r+l),null,UX(u,o-t.colCount(l)));else{const t=e.mapping.slice(i).map(r+l);e.delete(t,t+c.nodeSize)}a+=u.rowspan}}function QX(e,{map:t,tableStart:n,table:r},o){var i;let a=n;for(let e=0;e<o;e++)a+=r.child(e).nodeSize;const s=[];let l=o>0?-1:0;(function(e,t,n){var r;const o=IX(t.type.schema).header_cell;for(let i=0;i<e.width;i++)if((null==(r=t.nodeAt(e.map[i+n*e.width]))?void 0:r.type)!=o)return!1;return!0})(t,r,o+l)&&(l=0==o||o==t.height?null:0);for(let a=0,c=t.width*o;a<t.width;a++,c++)if(o>0&&o<t.height&&t.map[c]==t.map[c-t.width]){const o=t.map[c],i=r.nodeAt(o).attrs;e.setNodeMarkup(n+o,null,{...i,rowspan:i.rowspan+1}),a+=i.colspan-1}else{const e=null==l?IX(r.type.schema).cell:null==(i=r.nodeAt(t.map[c+l*t.width]))?void 0:i.type,n=null==e?void 0:e.createAndFill();n&&s.push(n)}return e.insert(a,IX(r.type.schema).row.create(null,s)),e}function eY(e,{map:t,table:n,tableStart:r},o){let i=0;for(let e=0;e<o;e++)i+=n.child(e).nodeSize;const a=i+n.child(o).nodeSize,s=e.mapping.maps.length;e.delete(i+r,a+r);const l=new Set;for(let i=0,a=o*t.width;i<t.width;i++,a++){const c=t.map[a];if(!l.has(c))if(l.add(c),o>0&&c==t.map[a-t.width]){const t=n.nodeAt(c).attrs;e.setNodeMarkup(e.mapping.slice(s).map(c+r),null,{...t,rowspan:t.rowspan-1}),i+=t.colspan-1}else if(o<t.height&&c==t.map[a+t.width]){const a=n.nodeAt(c),l=a.attrs,u=a.type.create({...l,rowspan:a.attrs.rowspan-1},a.content),d=t.positionAt(o+1,i,n);e.insert(e.mapping.slice(s).map(r+d),u),i+=l.colspan-1}}}function tY(e){const t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function nY(e,t){const n=e.selection;if(!(n instanceof HX)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=YX(e),{map:o}=r;if(function({width:e,height:t,map:n},r){let o=r.top*e+r.left,i=o,a=(r.bottom-1)*e+r.left,s=o+(r.right-r.left-1);for(let t=r.top;t<r.bottom;t++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[s]==n[s+1])return!0;i+=e,s+=e}for(let i=r.left;i<r.right;i++){if(r.top>0&&n[o]==n[o-e]||r.bottom<t&&n[a]==n[a+e])return!0;o++,a++}return!1}(o,r))return!1;if(t){const n=e.tr,i={};let a,s,l=pO.empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){const c=o.map[e*o.width+t],u=r.table.nodeAt(c);if(!i[c]&&u)if(i[c]=!0,null==a)a=c,s=u;else{tY(u)||(l=l.append(u.content));const e=n.mapping.map(c+r.tableStart);n.delete(e,e+u.nodeSize)}}if(null==a||null==s)return!0;if(n.setNodeMarkup(a+r.tableStart,null,{...VX(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),rowspan:r.bottom-r.top}),l.size){const e=a+1+s.content.size,t=tY(s)?a+1:e;n.replaceWith(t+r.tableStart,e+r.tableStart,l)}n.setSelection(new HX(n.doc.resolve(a+r.tableStart))),t(n)}return!0}function rY(e,t){const n=IX(e.schema);return(r=({node:e})=>n[e.type.spec.tableRole],(e,t)=>{var n;const o=e.selection;let i,a;if(o instanceof HX){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,a=o.$anchorCell.pos}else{if(i=function(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from),!i)return!1;a=null==(n=LX(o.$from))?void 0:n.pos}if(null==i||null==a)return!1;if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(t){let n=i.attrs;const s=[],l=n.colwidth;n.rowspan>1&&(n={...n,rowspan:1}),n.colspan>1&&(n={...n,colspan:1});const c=YX(e),u=e.tr;for(let e=0;e<c.right-c.left;e++)s.push(l?{...n,colwidth:l&&l[e]?[l[e]]:null}:n);let d;for(let e=c.top;e<c.bottom;e++){let t=c.map.positionAt(e,c.left,c.table);e==c.top&&(t+=i.nodeSize);for(let n=c.left,o=0;n<c.right;n++,o++)n==c.left&&e==c.top||u.insert(d=u.mapping.map(t+c.tableStart,1),r({node:i,row:e,col:n}).createAndFill(s[o]))}u.setNodeMarkup(a,r({node:i,row:c.top,col:c.left}),s[0]),o instanceof HX&&u.setSelection(new HX(u.doc.resolve(o.$anchorCell.pos),d?u.doc.resolve(d):void 0)),t(u)}return!0})(e,t);var r}function oY(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<r.length;e++){const o=t.table.nodeAt(r[e]);if(o&&o.type!==n.header_cell)return!1}return!0}function iY(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!DX(t))return!1;if(n){const r=IX(t.schema),o=YX(t),i=t.tr,a=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map((e=>o.table.nodeAt(e)));for(let e=0;e<a.length;e++)s[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[e],r.cell,s[e].attrs);if(0==i.steps.length)for(let e=0;e<a.length;e++)i.setNodeMarkup(o.tableStart+a[e],r.header_cell,s[e].attrs);n(i)}return!0}}(e):function(t,n){if(!DX(t))return!1;if(n){const r=IX(t.schema),o=YX(t),i=t.tr,a=oY("row",o,r),s=oY("column",o,r),l=("column"===e?a:"row"===e&&s)?1:0,c="column"==e?{left:0,top:l,right:1,bottom:o.map.height}:"row"==e?{left:l,top:0,right:o.map.width,bottom:1}:o,u="column"==e?s?r.cell:r.header_cell:"row"==e?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(c).forEach((e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,u,n.attrs)})),n(i)}return!0}}iY("row",{useDeprecatedLogic:!0}),iY("column",{useDeprecatedLogic:!0});var aY=iY("cell",{useDeprecatedLogic:!0});function sY(e){return function(t,n){if(!DX(t))return!1;const r=function(e,t){if(t<0){const t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){const r=e.node(-1).child(t),o=r.lastChild;if(o)return n-1-o.nodeSize;n-=r.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){const e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}return null}(FX(t),e);if(null==r)return!1;if(n){const e=t.doc.resolve(r);n(t.tr.setSelection(f_.between(e,(o=e,o.node(0).resolve(o.pos+o.nodeAfter.nodeSize)))).scrollIntoView())}var o;return!0}}function lY(e,t){const n=e.selection;if(!(n instanceof HX))return!1;if(t){const r=e.tr,o=IX(e.schema).cell.createAndFill().content;n.forEachCell(((e,t)=>{e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new bO(o,0,0))})),r.docChanged&&t(r)}return!0}function cY(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;for(;1==t.childCount&&(n>0&&r>0||"table"==t.child(0).type.spec.tableRole);)n--,r--,t=t.child(0).content;const o=t.child(0),i=o.type.spec.tableRole,a=o.type.schema,s=[];if("row"==i)for(let e=0;e<t.childCount;e++){let o=t.child(e).content;const i=e?0:Math.max(0,n-1),l=e<t.childCount-1?0:Math.max(0,r-1);(i||l)&&(o=uY(IX(a).row,new bO(o,i,l)).content),s.push(o)}else{if("cell"!=i&&"header_cell"!=i)return null;s.push(n||r?uY(IX(a).row,new bO(t,n,r)).content:t)}return function(e,t){const n=[];for(let e=0;e<t.length;e++){const r=t[e];for(let t=r.childCount-1;t>=0;t--){const{rowspan:o,colspan:i}=r.child(t).attrs;for(let t=e;t<e+o;t++)n[t]=(n[t]||0)+i}}let r=0;for(let e=0;e<n.length;e++)r=Math.max(r,n[e]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(pO.empty),n[o]<r){const i=IX(e).cell.createAndFill(),a=[];for(let e=n[o];e<r;e++)a.push(i);t[o]=t[o].append(pO.from(a))}return{height:t.length,width:r,rows:t}}(a,s)}function uY(e,t){const n=e.createAndFill();return new a_(n).replace(0,n.content.size,t).doc}function dY(e,t,n,r,o,i,a,s){if(0==a||a==t.height)return!1;let l=!1;for(let c=o;c<i;c++){const o=a*t.width+c,i=t.map[o];if(t.map[o-t.width]==i){l=!0;const o=n.nodeAt(i),{top:u,left:d}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(s).map(i+r),null,{...o.attrs,rowspan:a-u}),e.insert(e.mapping.slice(s).map(t.positionAt(a,d,n)),o.type.createAndFill({...o.attrs,rowspan:u+o.attrs.rowspan-a})),c+=o.attrs.colspan-1}}return l}function fY(e,t,n,r,o,i,a,s){if(0==a||a==t.width)return!1;let l=!1;for(let c=o;c<i;c++){const o=c*t.width+a,i=t.map[o];if(t.map[o-1]==i){l=!0;const o=n.nodeAt(i),u=t.colCount(i),d=e.mapping.slice(s).map(i+r);e.setNodeMarkup(d,null,UX(o.attrs,a-u,o.attrs.colspan-(a-u))),e.insert(d+o.nodeSize,o.type.createAndFill(UX(o.attrs,0,a-u))),c+=o.attrs.rowspan-1}}return l}function pY(e,t,n,r,o){let i=n?e.doc.nodeAt(n-1):e.doc;if(!i)throw new Error("No table found");let a=NX.get(i);const{top:s,left:l}=r,c=l+o.width,u=s+o.height,d=e.tr;let f=0;function p(){if(i=n?d.doc.nodeAt(n-1):d.doc,!i)throw new Error("No table found");a=NX.get(i),f=d.mapping.maps.length}(function(e,t,n,r,o,i,a){const s=IX(e.doc.type.schema);let l,c;if(o>t.width)for(let i=0,u=0;i<t.height;i++){const d=n.child(i);u+=d.nodeSize;const f=[];let p;p=null==d.lastChild||d.lastChild.type==s.cell?l||(l=s.cell.createAndFill()):c||(c=s.header_cell.createAndFill());for(let e=t.width;e<o;e++)f.push(p);e.insert(e.mapping.slice(a).map(u-1+r),f)}if(i>t.height){const u=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,o);e++){const o=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==s.header_cell;u.push(o?c||(c=s.header_cell.createAndFill()):l||(l=s.cell.createAndFill()))}const d=s.row.create(null,pO.from(u)),f=[];for(let e=t.height;e<i;e++)f.push(d);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),f)}return!(!l&&!c)})(d,a,i,n,c,u,f)&&p(),dY(d,a,i,n,l,c,s,f)&&p(),dY(d,a,i,n,l,c,u,f)&&p(),fY(d,a,i,n,s,u,l,f)&&p(),fY(d,a,i,n,s,u,c,f)&&p();for(let e=s;e<u;e++){const t=a.positionAt(e,l,i),r=a.positionAt(e,c,i);d.replace(d.mapping.slice(f).map(t+n),d.mapping.slice(f).map(r+n),new bO(o.rows[e-s],0,0))}p(),d.setSelection(new HX(d.doc.resolve(n+a.positionAt(s,l,i)),d.doc.resolve(n+a.positionAt(u-1,c-1,i)))),t(d)}var hY=eA({ArrowLeft:vY("horiz",-1),ArrowRight:vY("horiz",1),ArrowUp:vY("vert",-1),ArrowDown:vY("vert",1),"Shift-ArrowLeft":gY("horiz",-1),"Shift-ArrowRight":gY("horiz",1),"Shift-ArrowUp":gY("vert",-1),"Shift-ArrowDown":gY("vert",1),Backspace:lY,"Mod-Backspace":lY,Delete:lY,"Mod-Delete":lY});function mY(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function vY(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;if(i instanceof HX)return mY(n,r,l_.near(i.$headCell,t));if("horiz"!=e&&!i.empty)return!1;const a=xY(o,e,t);if(null==a)return!1;if("horiz"==e)return mY(n,r,l_.near(n.doc.resolve(i.head+t),t));{const o=n.doc.resolve(a),i=$X(o,e,t);let s;return s=i?l_.near(i,1):t<0?l_.near(n.doc.resolve(o.before(-1)),-1):l_.near(n.doc.resolve(o.after(-1)),1),mY(n,r,s)}}}function gY(e,t){return(n,r,o)=>{if(!o)return!1;const i=n.selection;let a;if(i instanceof HX)a=i;else{const r=xY(o,e,t);if(null==r)return!1;a=new HX(n.doc.resolve(r))}const s=$X(a.$headCell,e,t);return!!s&&mY(n,r,new HX(a.$anchorCell,s))}}function yY(e,t){const n=LX(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new HX(n))),!0)}function bY(e,t,n){if(!DX(e.state))return!1;let r=cY(n);const o=e.state.selection;if(o instanceof HX){r||(r={width:1,height:1,rows:[pO.from(uY(IX(e.state.schema).cell,n))]});const t=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),a=NX.get(t).rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=function({width:e,height:t,rows:n},r,o){if(e!=r){const t=[],o=[];for(let e=0;e<n.length;e++){const i=n[e],a=[];for(let n=t[e]||0,o=0;n<r;o++){let s=i.child(o%i.childCount);n+s.attrs.colspan>r&&(s=s.type.createChecked(UX(s.attrs,s.attrs.colspan,n+s.attrs.colspan-r),s.content)),a.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+s.attrs.colspan}o.push(pO.from(a))}n=o,e=r}if(t!=o){const e=[];for(let r=0,i=0;r<o;r++,i++){const a=[],s=n[i%t];for(let e=0;e<s.childCount;e++){let t=s.child(e);r+t.attrs.rowspan>o&&(t=t.type.create({...t.attrs,rowspan:Math.max(1,o-t.attrs.rowspan)},t.content)),a.push(t)}e.push(pO.from(a))}n=e,t=o}return{width:e,height:t,rows:n}}(r,a.right-a.left,a.bottom-a.top),pY(e.state,e.dispatch,i,a,r),!0}if(r){const t=FX(e.state),n=t.start(-1);return pY(e.state,e.dispatch,n,NX.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function wY(e,t){var n;if(t.ctrlKey||t.metaKey)return;const r=SY(e,t.target);let o;if(t.shiftKey&&e.state.selection instanceof HX)i(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(o=LX(e.state.selection.$anchor))&&(null==(n=kY(e,t))?void 0:n.pos)!=o.pos)i(o,t),t.preventDefault();else if(!r)return;function i(t,n){let r=kY(e,n);const o=null==RX.getState(e.state);if(!r||!BX(t,r)){if(!o)return;r=t}const i=new HX(t,r);if(o||!e.state.selection.eq(i)){const n=e.state.tr.setSelection(i);o&&n.setMeta(RX,t.pos),e.dispatch(n)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",s),null!=RX.getState(e.state)&&e.dispatch(e.state.tr.setMeta(RX,-1))}function s(n){const o=n,s=RX.getState(e.state);let l;if(null!=s)l=e.state.doc.resolve(s);else if(SY(e,o.target)!=r&&(l=kY(e,t),!l))return a();l&&i(l,o)}e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",s)}function xY(e,t,n){if(!(e.state.selection instanceof f_))return null;const{$head:r}=e.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){const i=r.before(o),a="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?i:null}}return null}function SY(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function kY(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?LX(e.state.doc.resolve(n.pos)):null}var EY=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),OY(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,OY(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}};function OY(e,t,n,r,o,i){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u){for(let e=0,n=0;e<u.childCount;e++){const{colspan:a,colwidth:d}=u.child(e).attrs;for(let e=0;e<a;e++,n++){const a=o==n?i:d&&d[e],u=a?a+"px":"";s+=a||r,a||(l=!1),c?(c.style.width!=u&&(c.style.width=u),c=c.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}for(;c;){const e=c.nextSibling;null==(a=c.parentNode)||a.removeChild(c),c=e}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var jY=new P_("tableColumnResizing");function _Y({handleWidth:e=5,cellMinWidth:t=25,View:n=EY,lastColumnResizable:r=!0}={}){const o=new __({key:jY,state:{init(e,r){var i,a;const s=null==(a=null==(i=o.spec)?void 0:i.props)?void 0:a.nodeViews,l=IX(r.schema).table.name;return n&&s&&(s[l]=(e,r)=>new n(e,t,r)),new CY(-1,!1)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>{const t=jY.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(t,n)=>{!function(e,t,n,r,o){const i=jY.getState(e.state);if(!i)return;if(!i.dragging){const r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target);let a=-1;if(r){const{left:o,right:i}=r.getBoundingClientRect();t.clientX-o<=n?a=TY(e,t,"left",n):i-t.clientX<=n&&(a=TY(e,t,"right",n))}if(a!=i.activeHandle){if(!o&&-1!==a){const t=e.state.doc.resolve(a),n=t.node(-1),r=NX.get(n),o=t.start(-1);if(r.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1==r.width-1)return}AY(e,a)}}}(t,n,e,0,r)},mouseleave:e=>{!function(e){const t=jY.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&AY(e,-1)}(e)},mousedown:(e,n)=>{!function(e,t,n){var r;const o=null!=(r=e.dom.ownerDocument.defaultView)?r:window,i=jY.getState(e.state);if(!i||-1==i.activeHandle||i.dragging)return!1;const a=e.state.doc.nodeAt(i.activeHandle),s=function(e,t,{colspan:n,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=e.domAtPos(t);let a=i.node.childNodes[i.offset].offsetWidth,s=n;if(r)for(let e=0;e<n;e++)r[e]&&(a-=r[e],s--);return a/s}(e,i.activeHandle,a.attrs);function l(t){o.removeEventListener("mouseup",l),o.removeEventListener("mousemove",c);const r=jY.getState(e.state);(null==r?void 0:r.dragging)&&(!function(e,t,n){const r=e.state.doc.resolve(t),o=r.node(-1),i=NX.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let e=0;e<i.height;e++){const t=e*i.width+s;if(e&&i.map[t]==i.map[t-i.width])continue;const r=i.map[t],c=o.nodeAt(r).attrs,u=1==c.colspan?0:s-i.colCount(r);if(c.colwidth&&c.colwidth[u]==n)continue;const d=c.colwidth?c.colwidth.slice():NY(c.colspan);d[u]=n,l.setNodeMarkup(a+r,null,{...c,colwidth:d})}l.docChanged&&e.dispatch(l)}(e,r.activeHandle,PY(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(jY,{setDragging:null})))}function c(t){if(!t.which)return l(t);const r=jY.getState(e.state);if(r&&r.dragging){const o=PY(r.dragging,t,n);!function(e,t,n,r){const o=e.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=NX.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;let l=e.domAtPos(o.start(-1)).node;for(;l&&"TABLE"!=l.nodeName;)l=l.parentNode;if(!l)return;OY(i,l.firstChild,l,r,s,n)}(e,r.activeHandle,o,n)}}e.dispatch(e.state.tr.setMeta(jY,{setDragging:{startX:t.clientX,startWidth:s}})),o.addEventListener("mouseup",l),o.addEventListener("mousemove",c),t.preventDefault()}(e,n,t)}},decorations:e=>{const t=jY.getState(e);if(t&&t.activeHandle>-1)return function(e,t){const n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return hP.empty;const i=NX.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let e=0;e<i.height;e++){const t=s+e*i.width;if(!(s!=i.width-1&&i.map[t]==i.map[t+1]||0!=e&&i.map[t]==i.map[t-i.width])){const e=i.map[t],r=a+e+o.nodeAt(e).nodeSize-1,s=document.createElement("div");s.className="column-resize-handle",n.push(dP.widget(r,s))}}return hP.create(e.doc,n)}(e,t.activeHandle)},nodeViews:{}}});return o}var CY=class e{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(t){const n=this,r=t.getMeta(jY);if(r&&null!=r.setHandle)return new e(r.setHandle,!1);if(r&&void 0!==r.setDragging)return new e(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let r=t.mapping.map(n.activeHandle,-1);return zX(t.doc.resolve(r))||(r=-1),new e(r,n.dragging)}return n}};function TY(e,t,n,r){const o="right"==n?-r:r,i=e.posAtCoords({left:t.clientX+o,top:t.clientY});if(!i)return-1;const{pos:a}=i,s=LX(e.state.doc.resolve(a));if(!s)return-1;if("right"==n)return s.pos;const l=NX.get(s.node(-1)),c=s.start(-1),u=l.map.indexOf(s.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function PY(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function AY(e,t){e.dispatch(e.state.tr.setMeta(jY,{setHandle:t}))}function NY(e){return Array(e).fill(0)}function MY({allowTableNodeSelection:e=!1}={}){return new __({key:RX,state:{init:()=>null,apply(e,t){const n=e.getMeta(RX);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;const{deleted:r,pos:o}=e.mapping.mapResult(t);return r?null:o}},props:{decorations:qX,handleDOMEvents:{mousedown:wY},createSelectionBetween:e=>null!=RX.getState(e.state)?e.state.selection:null,handleTripleClick:yY,handleKeyDown:hY,handlePaste:bY},appendTransaction:(t,n,r)=>function(e,t,n){const r=(t||e).selection,o=(t||e).doc;let i,a;if(r instanceof h_&&(a=r.node.type.spec.tableRole)){if("cell"==a||"header_cell"==a)i=HX.create(o,r.from);else if("row"==a){const e=o.resolve(r.from+1);i=HX.rowSelection(e,e)}else if(!n){const e=NX.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];i=HX.create(o,t+1,n)}}else r instanceof f_&&function({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let e=t.depth;e>=0&&!(t.before(e+1)>t.start(e));e--,r--);return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}(r)?i=f_.create(o,r.from):r instanceof f_&&function({$from:e,$to:t}){let n,r;for(let t=e.depth;t>0;t--){const r=e.node(t);if("cell"===r.type.spec.tableRole||"header_cell"===r.type.spec.tableRole){n=r;break}}for(let e=t.depth;e>0;e--){const n=t.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){r=n;break}}return n!==r&&0===t.parentOffset}(r)&&(i=f_.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=e.tr)).setSelection(i),t}(r,XX(r,n),e)})}function IY(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function RY(e,t,n,r,o,i){var a;let s=0,l=!0,c=t.firstChild;const u=e.firstChild;if(null!==u)for(let e=0,n=0;e<u.childCount;e+=1){const{colspan:a,colwidth:d}=u.child(e).attrs;for(let e=0;e<a;e+=1,n+=1){const a=o===n?i:d&&d[e],u=a?`${a}px`:"";if(s+=a||r,a||(l=!1),c){if(c.style.width!==u){const[e,t]=IY(r,a);c.style.setProperty(e,t)}c=c.nextSibling}else{const e=document.createElement("col"),[n,o]=IY(r,a);e.style.setProperty(n,o),t.appendChild(e)}}}for(;c;){const e=c.nextSibling;null===(a=c.parentNode)||void 0===a||a.removeChild(c),c=e}l?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class LY{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),RY(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,RY(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"===e.type&&(e.target===this.table||this.colgroup.contains(e.target))}}function DY(e,t){return t?e.createChecked(null,t):e.createAndFill()}function FY(e,t,n,r,o){const i=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach((n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t}(e),a=[],s=[];for(let e=0;e<n;e+=1){const e=DY(i.cell,o);if(e&&s.push(e),r){const e=DY(i.header_cell,o);e&&a.push(e)}}const l=[];for(let e=0;e<t;e+=1)l.push(i.row.createChecked(null,r&&0===e?a:s));return i.table.createChecked(null,l)}const zY=({editor:e})=>{const{selection:t}=e.state;if(!function(e){return e instanceof HX}(t))return!1;let n=0;const r=_N(t.ranges[0].$from,(e=>"table"===e.type.name));null==r||r.node.descendants((e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(n+=1)}));return n===t.ranges.length&&(e.commands.deleteTable(),!0)},BY=tM.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:LY,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:o}=function(e,t,n,r){let o=0,i=!0;const a=[],s=e.firstChild;if(!s)return{};for(let e=0,l=0;e<s.childCount;e+=1){const{colspan:c,colwidth:u}=s.child(e).attrs;for(let e=0;e<c;e+=1,l+=1){const s=n===l?r:u&&u[e];o+=s||t,s||(i=!1);const[c,d]=IY(t,s);a.push(["col",{style:`${c}: ${d}`}])}}const l=i?`${o}px`:"",c=i?"":`${o}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:c}}(e,this.options.cellMinWidth);return["table",FA(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const a=FY(i.schema,e,t,n);if(o){const e=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(f_.near(r.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e);t(ZX(e.tr,n,n.left))}return!0}(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e);t(ZX(e.tr,n,n.right))}return!0}(e,t),deleteColumn:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;JX(r,n,e),e!=n.left;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=NX.get(e)}t(r)}return!0}(e,t),addRowBefore:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e);t(QX(e.tr,n,n.top))}return!0}(e,t),addRowAfter:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e);t(QX(e.tr,n,n.bottom))}return!0}(e,t),deleteRow:()=>({state:e,dispatch:t})=>function(e,t){if(!DX(e))return!1;if(t){const n=YX(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;eY(r,n,e),e!=n.top;e--){const e=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=NX.get(n.table)}t(r)}return!0}(e,t),deleteTable:()=>({state:e,dispatch:t})=>function(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if("table"==n.node(r).type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}(e,t),mergeCells:()=>({state:e,dispatch:t})=>nY(e,t),splitCell:()=>({state:e,dispatch:t})=>rY(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>iY("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>iY("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>aY(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!nY(e,t)||rY(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>function(e,t){return function(n,r){if(!DX(n))return!1;const o=FX(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){const i=n.tr;n.selection instanceof HX?n.selection.forEachCell(((n,r)=>{n.attrs[e]!==t&&i.setNodeMarkup(r,null,{...n.attrs,[e]:t})})):i.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[e]:t}),r(i)}return!0}}(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>sY(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>sY(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&XX(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const n=HX.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:zY,"Mod-Backspace":zY,Delete:zY,"Mod-Delete":zY}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[_Y({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],MY({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema:e=>({tableRole:$A(IA(e,"tableRole",{name:e.name,options:e.options,storage:e.storage}))})}),$Y=tM.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",FA(this.options.HTMLAttributes,e),0]}}),UY=tM.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map((e=>parseInt(e,10))):null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",FA(this.options.HTMLAttributes,e),0]}}),VY=tM.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map((e=>parseInt(e,10))):null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",FA(this.options.HTMLAttributes,e),0]}});function HY(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return WY(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?WY(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var qY=function(e){var t=e.editable,r=e.value,o=e.onChange,i=e.onSplit,a=e.placeholder,s=e.className,l=e.showOnlyCurrent,c=void 0===l||l,u=e.allowImages,d=void 0!==u&&u,f=e.allowTables,p=void 0!==f&&f,h=e.cursorPosition,m=e.autoFocus,v=void 0!==m&&m,g=e.disableBubbleMenu,y=void 0!==g&&g,b=e.extensions,w=Br(),x=b||[iU.configure({horizontalRule:!1,codeBlock:!1,blockquote:!1,code:{HTMLAttributes:{class:"rounded p-1"}}}),$B.configure({openOnClick:!1}),sX.configure({HTMLAttributes:{class:"text-inherit"}}),zK.configure({HTMLAttributes:{class:"mx-[.1em]",contenteditable:!1}}),YF.configure({HTMLAttributes:{class:"bg-[var(--highlight-color)] px-[.1em] mx-[.1em] text-[var(--highlight-text)]"}}),HB,AX,UB.configure({showOnlyCurrent:c,placeholder:function(e){var t=e.node;if(a)return a;if("display"===t.type.name)return w("display");if("heading"===t.type.name)switch(t.attrs.level){case 1:return w("title");case 2:return w("heading");case 3:return w("subheading")}else{if("paragraph"===t.type.name)return w("paragraph");if("caption"===t.type.name)return w("caption")}return w("context")}}),XY.configure({}),lX(i),dX.configure({HTMLAttributes:{class:"subscript"}}),fX.configure({HTMLAttributes:{class:"superscript"}})];d&&x.push(uX.configure({inline:!0,HTMLAttributes:{class:"rounded p-1"}})),p&&x.push(BY.configure({resizable:!1,HTMLAttributes:{class:"border-collapse border border-gray-300"}}),$Y,UY.configure({HTMLAttributes:{class:"border border-gray-300 bg-gray-50 font-semibold p-2"}}),VY.configure({HTMLAttributes:{class:"border border-gray-300 p-2"}}));var S={extensions:x,onUpdate:function(e){var t=e.editor;o(t.getJSON())},editable:t,content:r},k=SR(S),E=KY(S);(0,n.useEffect)((function(){k&&!FV()(r,null==k?void 0:k.getJSON())&&(null==k||k.commands.setContent(r))}),[k,r]),(0,n.useEffect)((function(){if(k&&h){var e=function(){var e;k.commands.setTextSelection({from:h.from,to:null!==(e=h.to)&&void 0!==e?e:h.from})};return k.on("focus",e),function(){k.off("focus",e)}}}),[k,h]),(0,n.useEffect)((function(){k&&t&&v&&k.commands.focus()}),[k,t,v]);var O=HY((0,n.useState)(!1),2),j=O[0],_=O[1],C=HY((0,n.useState)(!1),2),T=C[0],P=C[1],A=HY((0,n.useState)(!1),2),N=A[0],M=A[1],I="Paragraph";return null!=k&&k.isActive("display")&&(I="Display"),null!=k&&k.isActive("heading",{level:1})&&(I="Title"),null!=k&&k.isActive("heading",{level:2})&&(I="Heading"),null!=k&&k.isActive("heading",{level:3})&&(I="Subheading"),null!=k&&k.isActive("paragraph")&&(I="Paragraph"),null!=k&&k.isActive("caption")&&(I="Caption"),null!=k&&k.isActive("cite")&&(I="Citation"),(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{onKeyDown:function(e){return e.stopPropagation()},onMouseDown:function(e){return e.stopPropagation()},className:"w-full",children:[k&&!y&&(0,Ut.jsx)(OR,{className:"z-[5000] font-sans text-black",shouldShow:function(e){var t=e.editor;return!!t&&(!1!==t.isEditable&&(!!t.state.selection.ranges.some((function(e){return e.$from.pos!==e.$to.pos}))||t.isActive("link")))},editor:k,tippyOptions:{duration:100,interactive:!0,maxWidth:1e3,appendTo:function(){return document.querySelector("#__next")},popperOptions:{modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"preventOverflow",options:{padding:{top:15,bottom:15,left:5,right:5}}}]}},children:(0,Ut.jsxs)("div",{className:"pointer-events-auto flex flex-col items-end justify-end gap-1",children:[k.isActive("link")&&T&&(0,Ut.jsxs)("div",{className:"flex items-center gap-1 rounded-lg border bg-white p-1 pt-0 shadow-sm",children:[(0,Ut.jsx)(sL,{onKeyDown:function(e){"Enter"===e.key&&P(!1)},placeholder:"Link",value:k.getAttributes("link").href||"",onChange:function(e){var t=e.target.value;k.chain().extendMarkRange("link").setLink({href:t}).run()}}),(0,Ut.jsx)(RF,{size:"sm",className:"mt-1","aria-label":"Toggle bold",onClick:function(){k.chain().focus().unsetLink().run()},children:(0,Ut.jsx)(LF,{className:"h-4 w-4"})})]}),k.isActive("cite")&&N&&(0,Ut.jsxs)("div",{className:"flex items-center gap-1 rounded-lg border bg-white p-1 pt-0 shadow-sm",children:[(0,Ut.jsx)(sL,{onKeyDown:function(e){"Enter"===e.key&&M(!1)},placeholder:"Citation",value:k.getAttributes("cite").citationText||"",onChange:function(e){var t=e.target.value;k.getAttributes("cite").text;k.chain().extendMarkRange("cite").setCite({citationText:t}).run()}}),(0,Ut.jsx)(sL,{onKeyDown:function(e){"Enter"===e.key&&M(!1)},placeholder:"Range",value:k.getAttributes("cite").text||"",onChange:function(e){var t=e.target.value,n=k.getAttributes("cite").citationText;k.chain().extendMarkRange("cite").setCite({citationText:n,text:t}).run()}}),(0,Ut.jsx)(RF,{size:"sm",className:"mt-1","aria-label":"Toggle bold",onClick:function(){k.chain().focus().unsetCite().run()},children:(0,Ut.jsx)(LF,{className:"h-4 w-4"})})]}),(0,Ut.jsxs)("div",{className:"relative flex items-center gap-1 rounded-lg border bg-white p-1 shadow-sm",children:[(0,Ut.jsxs)(dF,{open:j,onOpenChange:function(e){return _(e)},children:[(0,Ut.jsx)(GD,{asChild:!0,children:(0,Ut.jsxs)(Fr,{size:"sm",children:[w(I.toLowerCase())," ",(0,Ut.jsx)(xe,{className:"h-3 w-3"})]})}),(0,Ut.jsxs)(pF,{sideOffset:10,className:"w-40  p-1",children:[(0,Ut.jsx)(xx,{onClick:function(){return k.chain().focus().setNode("display").run()},className:"text-2xl",checked:"Display"===I,children:"Display"}),(0,Ut.jsx)(xx,{onClick:function(){return k.chain().focus().toggleHeading({level:1}).run()},className:"text-xl",checked:"Title"===I,children:w("title")}),(0,Ut.jsx)(xx,{onClick:function(){return k.chain().focus().toggleHeading({level:2}).run()},className:"text-lg",checked:"Heading"===I,children:w("heading")}),(0,Ut.jsx)(xx,{onClick:function(){return k.chain().focus().toggleHeading({level:3}).run()},className:"text-base",checked:"Subheading"===I,children:w("subheading")}),(0,Ut.jsx)(xx,{variant:"default",onClick:function(){return k.chain().focus().setParagraph().run()},className:"text-sm",checked:"Paragraph"===I,children:w("paragraph")}),(0,Ut.jsx)(xx,{onClick:function(){return k.chain().focus().setCaption().run()},className:"text-xs",checked:"Caption"===I,children:w("caption")})]})]}),(0,Ut.jsx)(kF,{className:"h-6",orientation:"vertical"}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("bulletList")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),"Shift",(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"8"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + Shift + 8"})})})]}),side:"top",children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle unordered list",pressed:k.isActive("bulletList"),onPressedChange:function(){return k.chain().focus().toggleBulletList().run()},children:(0,Ut.jsx)(FF,{className:"h-5 w-5"})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("numberedList")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),"Shift",(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"7"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + Shift + 7"})})})]}),side:"top",children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle ordered list",pressed:k.isActive("orderedList"),onPressedChange:function(){return k.chain().focus().toggleOrderedList().run()},children:(0,Ut.jsx)(zF,{className:"h-5 w-5"})})}),(0,Ut.jsx)(kF,{className:"h-6",orientation:"vertical"}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("bold")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),"+",(0,Ut.jsx)("div",{children:"B"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + B"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle bold",pressed:k.isActive("bold"),onPressedChange:function(){return k.chain().focus().toggleBold().run()},children:(0,Ut.jsx)(BF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("italic")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"I"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + I"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle italic",pressed:k.isActive("italic"),onPressedChange:function(){return k.chain().focus().toggleItalic().run()},children:(0,Ut.jsx)($F,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("strikethrough")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"Shift"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"S"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + Shift + S"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle strike",pressed:k.isActive("strike"),onPressedChange:function(){return k.chain().focus().toggleStrike().run()},children:(0,Ut.jsx)(UF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("createEquation")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"Shift"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"E"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + Shift + E"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Insert equation",onPressedChange:function(){k.chain().focus().setKatexInline()},children:(0,Ut.jsx)(VF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("highlight")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"Shift"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"H"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + Shift + H"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle highlight",pressed:k.isActive("highlight"),onPressedChange:function(){return k.chain().focus().toggleHighlight().run()},children:(0,Ut.jsx)(HF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(kF,{className:"h-6",orientation:"vertical"}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{className:"pb-1",children:w("link")})}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{onClick:function(e){e.preventDefault(),e.stopPropagation(),k.isActive("link")?P(!T):k&&(k.getAttributes("link").href||(k.chain().focus().extendMarkRange("link").setLink({href:""}).run(),P(!0)))},size:"sm","aria-label":"Toggle link",pressed:k.isActive("link"),children:(0,Ut.jsx)(WF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(kF,{className:"h-6",orientation:"vertical"}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("superscript")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:"."})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + ."})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle superscript",pressed:k.isActive("superscript"),onPressedChange:function(){k.isActive("subscript")?k.chain().focus().unsetSubscript().toggleSuperscript().run():k.chain().focus().toggleSuperscript().run()},children:(0,Ut.jsx)(qF,{className:"h-4 w-4"})})})}),(0,Ut.jsx)(LV,{className:"dark",title:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"pb-1",children:w("subscript")}),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"+"}),(0,Ut.jsx)("div",{children:","})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl + ,"})})})]}),side:"top",children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)(RF,{size:"sm","aria-label":"Toggle subscript",pressed:k.isActive("subscript"),onPressedChange:function(){k.isActive("superscript")?k.chain().focus().unsetSuperscript().toggleSubscript().run():k.chain().focus().toggleSubscript().run()},children:(0,Ut.jsx)(GF,{className:"h-4 w-4"})})})})]})]})}),(0,Ut.jsx)(wR,{className:vr("w-full",s),editor:k||E})]})})},GY=function(e){var t=e.editable,n=e.value,r=e.onChange,o=e.onSplit,i=e.placeholder,a=e.className,s=e.showOnlyCurrent,l=void 0===s||s,c=e.allowImages,u=void 0!==c&&c,d=e.allowTables,f=void 0!==d&&d,p=e.cursorPosition,h=e.autoFocus,m=void 0!==h&&h,v=e.disableBubbleMenu,g=void 0!==v&&v,y=e.extensions,b=e.disableOptimizations;return t||void 0!==b&&b?(0,Ut.jsx)(qY,{editable:t,value:n,onChange:r,onSplit:o,placeholder:i,className:a,showOnlyCurrent:l,allowImages:u,allowTables:f,cursorPosition:p,autoFocus:m,disableBubbleMenu:g,extensions:y}):(0,Ut.jsx)(PX,{value:n,className:a})},KY=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=HY((0,n.useState)((function(){return new xR(t)})),2),o=r[0],i=r[1],a=(e=HY((0,n.useState)(0),2)[1],function(){return e((function(e){return e+1}))});return(0,n.useEffect)((function(){var e=new xR(t);return i(e),e.on("transaction",(function(){requestAnimationFrame((function(){requestAnimationFrame((function(){a()}))}))})),function(){e.destroy()}}),[]),o};var XY=tM.create({name:"hard_break",addOptions:function(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML:function(){return[{tag:"br"}]},renderHTML:function(e){var t=e.HTMLAttributes;return["br",FA(this.options.HTMLAttributes,t)]},renderText:function(){return"\n"},addCommands:function(){var e=this;return{setHardBreak:function(){return function(t){var n=t.commands,r=t.chain,o=t.state,i=t.editor;return n.first([function(){return n.exitCode()},function(){return n.command((function(){var t=o.selection,n=o.storedMarks;if(t.$from.parent.type.spec.isolating)return!1;var a=e.options.keepMarks,s=i.extensionManager.splittableMarks,l=n||t.$to.parentOffset&&t.$from.marks();return r().insertContent({type:e.name}).command((function(e){var t=e.tr;if(e.dispatch&&l&&a){var n=l.filter((function(e){return s.includes(e.type.name)}));t.ensureMarks(n)}return!0})).run()}))}])}}}},addKeyboardShortcuts:function(){var e=this;return{"Mod-Enter":function(){return e.editor.commands.setHardBreak()},"Shift-Enter":function(){return e.editor.commands.setHardBreak()}}}});function YY(e){return YY="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YY(e)}function ZY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZY(Object(n),!0).forEach((function(t){QY(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QY(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=YY(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YY(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YY(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const eZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}));const tZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"}))}));function nZ(e){return nZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nZ(e)}var rZ=["url","playing","muted","volume","onReady","onStart","onPlay","onPause","onEnded","onError","onProgress","onDuration","width","height","style"];function oZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oZ(Object(n),!0).forEach((function(t){aZ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aZ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=nZ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nZ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nZ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sZ=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,lZ=/vimeo\.com\/(?!progressive_redirect).+/,cZ=/\.(m4v|mp4|mov|wmv|avi|mpg|ogv|webm|mkv|3gp|3g2)(\?.*)?$/i,uZ=(0,n.forwardRef)((function(e,t){var r=e.url,o=e.playing,i=e.muted,a=e.volume,s=void 0===a?1:a,l=e.onReady,c=(e.onStart,e.onPlay),u=e.onPause,d=e.onEnded,f=e.onError,p=e.onProgress,h=e.onDuration,m=e.width,v=e.height,g=e.style,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,rZ),b=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(function(){return{getCurrentTime:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.currentTime)||0},getSecondsLoaded:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.buffered.length)>0?b.current.buffered.end(0):0},getDuration:function(){var e;return(null===(e=b.current)||void 0===e?void 0:e.duration)||0},seekTo:function(e){b.current&&(b.current.currentTime=e)},getInternalPlayer:function(){return b.current}}})),n.useEffect((function(){b.current&&(o?b.current.play().catch(console.error):b.current.pause())}),[o]),n.useEffect((function(){b.current&&(b.current.muted=i)}),[i]),n.useEffect((function(){b.current&&(b.current.volume=s)}),[s]);return sZ.test(r)||lZ.test(r)?(0,Ut.jsx)("div",{style:iZ({width:m||"100%",height:v||360,backgroundColor:"#000",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},g),children:(0,Ut.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ut.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:"📹"}),(0,Ut.jsx)("div",{children:"External Video"}),(0,Ut.jsxs)("div",{style:{fontSize:"12px",marginTop:"4px"},children:[sZ.test(r)?"YouTube":"Vimeo"," videos not available in SCORM export"]}),(0,Ut.jsx)("div",{style:{fontSize:"10px",marginTop:"8px",wordBreak:"break-all"},children:r})]})}):(0,Ut.jsx)("video",iZ({ref:b,src:r,width:m,height:v,style:g,onLoadedData:function(e){null==l||l(),null==h||h(e.target.duration)},onPlay:c,onPause:u,onEnded:d,onError:f,onTimeUpdate:function(e){null==p||p({played:e.target.currentTime/e.target.duration,playedSeconds:e.target.currentTime,loaded:e.target.buffered.length>0?e.target.buffered.end(0)/e.target.duration:0,loadedSeconds:e.target.buffered.length>0?e.target.buffered.end(0):0})},controls:!0},y))}));uZ.displayName="VideoPlayer";var dZ=(0,n.forwardRef)((function(e,t){return(0,Ut.jsx)(uZ,iZ(iZ({},e),{},{ref:t}))}));dZ.displayName="ReactPlayer",dZ.canPlay=function(e){return sZ.test(e)||lZ.test(e)||cZ.test(e)},dZ.canEnablePIP=function(){return!1};const fZ=dZ;const pZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}));const hZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 0 1 .75-.75H9a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H7.5a.75.75 0 0 1-.75-.75V5.25Zm7.5 0A.75.75 0 0 1 15 4.5h1.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H15a.75.75 0 0 1-.75-.75V5.25Z",clipRule:"evenodd"}))}));const mZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM17.78 9.22a.75.75 0 1 0-1.06 1.06L18.44 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06l1.72-1.72 1.72 1.72a.75.75 0 1 0 1.06-1.06L20.56 12l1.72-1.72a.75.75 0 1 0-1.06-1.06l-1.72 1.72-1.72-1.72Z"}))}));const vZ=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{d:"M13.5 4.06c0-1.336-1.616-2.005-2.56-1.06l-4.5 4.5H4.508c-1.141 0-2.318.664-2.66 1.905A9.76 9.76 0 0 0 1.5 12c0 .898.121 1.768.35 2.595.341 1.24 1.518 1.905 2.659 1.905h1.93l4.5 4.5c.945.945 2.561.276 2.561-1.06V4.06ZM18.584 5.106a.75.75 0 0 1 1.06 0c3.808 3.807 3.808 9.98 0 13.788a.75.75 0 0 1-1.06-1.06 8.25 8.25 0 0 0 0-11.668.75.75 0 0 1 0-1.06Z"}),n.createElement("path",{d:"M15.932 7.757a.75.75 0 0 1 1.061 0 6 6 0 0 1 0 8.486.75.75 0 0 1-1.06-1.061 4.5 4.5 0 0 0 0-6.364.75.75 0 0 1 0-1.06Z"}))})),gZ=Gw("CaptionsOff",[["path",{d:"M10.5 5H19a2 2 0 0 1 2 2v8.5",key:"jqtk4d"}],["path",{d:"M17 11h-.5",key:"1961ue"}],["path",{d:"M19 19H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2",key:"1keqsi"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M7 11h4",key:"1o1z6v"}],["path",{d:"M7 15h2.5",key:"1ina1g"}]]),yZ=Gw("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]),bZ=Gw("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),wZ=Gw("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);function xZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return SZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kZ=function(e){var t=e.currentTime,n=e.duration,r=Math.min(Math.max(t/n*100,0),100);return(0,Ut.jsx)("div",{className:"absolute bottom-0 h-1 w-full bg-black bg-opacity-20 backdrop-blur-md",children:(0,Ut.jsx)("div",{className:"h-full bg-white",style:{width:"".concat(r,"%")}})})},EZ=function(e){var t=e.restrictSkipAhead,r=e.duration,o=e.currentTime,i=e.handleProgressChange,a=e.watchedProportion,s=e.hoverExpand,l=(0,n.useRef)(null),c=xZ((0,n.useState)(!1),2),u=c[0],d=c[1],f=function(){d(!1)},p=function(e){if(l.current){var n=l.current.getBoundingClientRect(),o=(e.clientX-n.left)/n.width*r;if(o=Math.min(o,r),t&&o>a*r/100)return;i({target:{value:o}})}},h=Math.min(Math.max(o/r*100,0),100),m=Math.min(Math.max(a,0),100);return(0,Ut.jsxs)("div",{ref:l,className:"group relative h-1 w-full cursor-pointer rounded-full bg-white/20 transition-all ".concat(s?"hover:h-2":""),role:"slider","aria-label":"Video progress","aria-valuemin":0,"aria-valuemax":r,"aria-valuenow":o,tabIndex:0,onPointerDown:function(e){d(!0),p(e)},onPointerMove:function(e){u&&p(e)},onPointerUp:f,onPointerLeave:f,onKeyDown:function(e){var n=o;if("ArrowLeft"===e.key)n=Math.max(o-5,0);else{if("ArrowRight"!==e.key)return;if(n=Math.min(o+5,r),t&&n>a*r)return}e.preventDefault(),i({target:{value:n}})},children:[(0,Ut.jsx)("div",{className:"absolute left-0 top-0 h-full bg-white/50",style:{width:"".concat(m,"%")}}),(0,Ut.jsx)("div",{className:"absolute left-0 top-0 h-full rounded-l-full bg-white",style:{width:"".concat(h,"%")}}),t&&(0,Ut.jsx)("div",{className:"pointer-events-none absolute left-0 top-0 h-full bg-black/40",style:{width:"".concat(100-m,"%"),left:"".concat(m,"%")}}),(0,Ut.jsx)("div",{className:"absolute top-1/2 -translate-x-1/2 -translate-y-1/2 transform",style:{left:"".concat(h,"%")},children:(0,Ut.jsx)("div",{className:"h-3 w-3 rounded-full bg-white shadow transition-all ".concat(s?"group-hover:h-5 group-hover:w-5":"")})})]})};function OZ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jZ(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jZ(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _Z=function(e){var t=Math.floor(e/60).toString().padStart(2,"0"),n=Math.floor(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},CZ=function(e){var t=e.time;return(0,Ut.jsx)("div",{className:"flex w-8 items-center justify-center text-xs font-bold",children:_Z(t)})},TZ=function(e){var t=e.playbackRate,n=e.handlePlaybackRateChange,r=e.captionsEnabled,o=e.handleCaptionsChange;return(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{children:(0,Ut.jsx)(Fr,{size:"smallIcon",variant:"blend",children:(0,Ut.jsx)(pZ,{className:"h-5 w-5"})})}),(0,Ut.jsx)(yx,{side:"top",sideOffset:10,className:"dark",children:(0,Ut.jsxs)(px,{children:[(0,Ut.jsxs)(mx,{children:[(0,Ut.jsxs)(vx,{children:["Speed ",t,"x"]}),(0,Ut.jsx)(hx,{children:(0,Ut.jsxs)(gx,{className:"dark",children:[(0,Ut.jsx)(Sx,{checked:.5===t,onClick:function(){return n(.5)},children:"0.5x"}),(0,Ut.jsx)(Sx,{checked:1===t,onClick:function(){return n(1)},children:"1x"}),(0,Ut.jsx)(Sx,{checked:1.5===t,onClick:function(){return n(1.5)},children:"1.5x"}),(0,Ut.jsx)(Sx,{checked:2===t,onClick:function(){return n(2)},children:"2x"})]})})]}),(0,Ut.jsxs)(mx,{children:[(0,Ut.jsxs)(vx,{children:["Captions ",r?"On":"Off"]}),(0,Ut.jsx)(hx,{children:(0,Ut.jsxs)(gx,{className:"dark",children:[(0,Ut.jsx)(Sx,{checked:!r,onClick:function(){return o(!1)},children:"Off"}),(0,Ut.jsx)(Sx,{checked:r,onClick:function(){return o(!0)},children:"On"})]})})]})]})})]})},PZ=function(e){var t=e.currentTime,r=e.duration,o=e.isPlaying,i=e.handlePlayPause,a=e.isMuted,s=e.volume,l=e.handleVolumeChange,c=e.handleMuteUnmute,u=e.handleProgressChange,d=e.watchedProportion,f=e.handleFullscreen,p=e.handleCaptionsChange,h=e.handlePlaybackRateChange,m=e.captionsEnabled,v=e.playbackRate,g=e.isFullscreen,y=e.restrictSkipAhead,b=bn(),w=OZ((0,n.useState)(!1),2),x=w[0],S=w[1];return(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 z-10 bg-gradient-to-t from-black/50 to-transparent p-2",onClick:function(e){return e.stopPropagation()},children:(0,Ut.jsxs)("div",{className:"dark absolute bottom-0 left-0 right-0 flex cursor-auto items-center gap-2 p-2 text-foreground",onClick:function(e){return e.stopPropagation()},children:[(0,Ut.jsx)("div",{children:(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{size:"icon",variant:"primary",onClick:i,"aria-label":ZK(o?"Pause":"Play"),children:o?(0,Ut.jsx)(hZ,{className:"h-5 w-5"}):(0,Ut.jsx)(eZ,{className:"h-5 w-5"})})}),(0,Ut.jsx)(yV,{children:(0,Ut.jsx)(RV,{children:ZK(o?"Pause":"Play")})})]})}),(0,Ut.jsxs)("div",{className:"flex flex-grow items-stretch rounded-md bg-gray-800 bg-opacity-50 backdrop-blur-md",children:[(0,Ut.jsxs)("div",{className:"flex w-full items-center gap-1 p-1",children:[(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsxs)(MV,{delayDuration:0,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{onClick:c,size:"smallIcon",variant:"blend",className:"text-white",children:a||0===s?(0,Ut.jsx)(mZ,{className:"h-5 w-5"}):(0,Ut.jsx)(vZ,{className:"h-5 w-5"})})}),(0,Ut.jsx)(RV,{sideOffset:10,className:"flex flex-col items-center shadow-none transition-none",children:(0,Ut.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:s,onChange:l,className:"w-20"})})]})}),b?(0,Ut.jsxs)("div",{className:"flex flex-grow flex-col items-stretch justify-center gap-1 px-1",children:[(0,Ut.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,Ut.jsx)(CZ,{time:t}),(0,Ut.jsx)(CZ,{time:r})]}),(0,Ut.jsx)("div",{className:"relative flex-grow",children:(0,Ut.jsx)(EZ,{restrictSkipAhead:y,hoverExpand:!1,watchedProportion:d,duration:r,currentTime:t,handleProgressChange:u})})]}):(0,Ut.jsxs)("div",{className:"flex flex-grow items-center gap-2.5 p-1",children:[(0,Ut.jsx)(CZ,{time:t}),(0,Ut.jsx)("div",{className:"relative flex-grow",children:(0,Ut.jsx)(EZ,{restrictSkipAhead:y,hoverExpand:!0,watchedProportion:100*d,duration:r,currentTime:t,handleProgressChange:u})}),(0,Ut.jsx)(CZ,{time:r})]})]}),(0,Ut.jsx)("div",{className:"w-px bg-white/20"}),(0,Ut.jsx)(Ut.Fragment,{children:!b&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{className:"flex items-center p-1",children:[(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{"aria-label":ZK(m?"Captions Off":"Captions On"),size:"smallIcon",variant:"blend",onClick:function(){return p(!m)},children:m?(0,Ut.jsx)(gZ,{className:"h-5 w-5"}):(0,Ut.jsx)(yZ,{className:"h-5 w-5"})})}),(0,Ut.jsx)(yV,{children:(0,Ut.jsx)(RV,{children:m?"Captions Off":"Captions On"})})]}),(0,Ut.jsx)(MV,{children:(0,Ut.jsxs)("div",{className:"relative",children:[(0,Ut.jsxs)(Fr,{size:"smallIcon",variant:"blend",className:"text-xs",onClick:function(){return S(!x)},"aria-expanded":x,"aria-haspopup":"true","aria-label":"Change playback speed",children:[v,"x"]}),x&&(0,Ut.jsx)("div",{role:"menu","aria-label":"Playback speed options",className:"absolute bottom-full left-1/2 mb-2 -translate-x-1/2 rounded-md border bg-background p-1 shadow-lg",onClick:function(e){return e.stopPropagation()},children:(0,Ut.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Ut.jsx)("button",{role:"menuitem",className:"rounded px-2 py-1 text-sm hover:bg-accent focus:bg-accent focus:outline-none",onClick:function(){h(.5),S(!1)},"aria-label":"Set playback speed to 0.5x",children:"0.5x"}),(0,Ut.jsx)("button",{role:"menuitem",className:"rounded px-2 py-1 text-sm hover:bg-accent focus:bg-accent focus:outline-none",onClick:function(){h(1),S(!1)},"aria-label":"Set playback speed to 1x",children:"1x"}),(0,Ut.jsx)("button",{role:"menuitem",className:"rounded px-2 py-1 text-sm hover:bg-accent focus:bg-accent focus:outline-none",onClick:function(){h(1.5),S(!1)},"aria-label":"Set playback speed to 1.5x",children:"1.5x"}),(0,Ut.jsx)("button",{role:"menuitem",className:"rounded px-2 py-1 text-sm hover:bg-accent focus:bg-accent focus:outline-none",onClick:function(){h(2),S(!1)},"aria-label":"Set playback speed to 2x",children:"2x"})]})})]})})]}),(0,Ut.jsx)("div",{className:"w-px bg-white/20"})]})}),(0,Ut.jsxs)("div",{className:"flex items-center p-1",children:[b&&(0,Ut.jsx)(TZ,{playbackRate:v,handlePlaybackRateChange:h,captionsEnabled:m,handleCaptionsChange:p}),(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{size:"smallIcon",variant:"blend",onClick:f,"aria-label":ZK(g?"Exit Fullscreen":"Enter Fullscreen"),children:g?(0,Ut.jsx)(bZ,{className:"h-5 w-5"}):(0,Ut.jsx)(wZ,{className:"h-5 w-5"})})}),(0,Ut.jsx)(yV,{children:(0,Ut.jsx)(RV,{children:ZK(g?"Exit Fullscreen":"Enter Fullscreen")})})]})]})]})]})})};const AZ=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(IZ);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(NZ,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(NZ,(0,ke.A)({},o,{ref:t}),r)}));AZ.displayName="Slot";const NZ=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...RZ(o,r.props),ref:t?uL(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));NZ.displayName="SlotClone";const MZ=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function IZ(e){return(0,n.isValidElement)(e)&&e.type===MZ}function RZ(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const LZ="Dialog",[DZ,FZ]=fL(LZ),[zZ,BZ]=DZ(LZ),$Z=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=(0,n.useRef)(null),c=(0,n.useRef)(null),[u=!1,d]=bD({prop:o,defaultProp:i,onChange:a});return(0,n.createElement)(zZ,{scope:t,triggerRef:l,contentRef:c,contentId:WL(),titleId:WL(),descriptionId:WL(),open:u,onOpenChange:d,onOpenToggle:(0,n.useCallback)((()=>d((e=>!e))),[d]),modal:s},r)},UZ="DialogTrigger",VZ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=BZ(UZ,r),a=dL(t,i.triggerRef);return(0,n.createElement)(bL.button,(0,ke.A)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lJ(i.open)},o,{ref:a,onClick:cL(e.onClick,i.onOpenToggle)}))})),HZ="DialogPortal",[WZ,qZ]=DZ(HZ,{forceMount:void 0}),GZ=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:i}=e,a=BZ(HZ,t);return(0,n.createElement)(WZ,{scope:t,forceMount:r},n.Children.map(o,(e=>(0,n.createElement)(fD,{present:r||a.open},(0,n.createElement)(dD,{asChild:!0,container:i},e)))))},KZ="DialogOverlay",XZ=(0,n.forwardRef)(((e,t)=>{const r=qZ(KZ,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=BZ(KZ,e.__scopeDialog);return a.modal?(0,n.createElement)(fD,{present:o||a.open},(0,n.createElement)(YZ,(0,ke.A)({},i,{ref:t}))):null})),YZ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=BZ(KZ,r);return(0,n.createElement)(FD,{as:AZ,allowPinchZoom:!0,shards:[i.contentRef]},(0,n.createElement)(bL.div,(0,ke.A)({"data-state":lJ(i.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))})),ZZ="DialogContent",JZ=(0,n.forwardRef)(((e,t)=>{const r=qZ(ZZ,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=BZ(ZZ,e.__scopeDialog);return(0,n.createElement)(fD,{present:o||a.open},a.modal?(0,n.createElement)(QZ,(0,ke.A)({},i,{ref:t})):(0,n.createElement)(eJ,(0,ke.A)({},i,{ref:t})))})),QZ=(0,n.forwardRef)(((e,t)=>{const r=BZ(ZZ,e.__scopeDialog),o=(0,n.useRef)(null),i=dL(t,r.contentRef,o);return(0,n.useEffect)((()=>{const e=o.current;if(e)return Bg(e)}),[]),(0,n.createElement)(tJ,(0,ke.A)({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:cL(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:cL(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:cL(e.onFocusOutside,(e=>e.preventDefault()))}))})),eJ=(0,n.forwardRef)(((e,t)=>{const r=BZ(ZZ,e.__scopeDialog),o=(0,n.useRef)(!1),i=(0,n.useRef)(!1);return(0,n.createElement)(tJ,(0,ke.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,a;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(o.current||null===(a=r.triggerRef.current)||void 0===a||a.focus(),t.preventDefault());o.current=!1,i.current=!1},onInteractOutside:t=>{var n,a;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));const s=t.target;(null===(a=r.triggerRef.current)||void 0===a?void 0:a.contains(s))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))})),tJ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=BZ(ZZ,r),c=dL(t,(0,n.useRef)(null));return PL(),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(RL,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,n.createElement)(jL,(0,ke.A)({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":lJ(l.open)},s,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)})),nJ="DialogTitle",rJ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=BZ(nJ,r);return(0,n.createElement)(bL.h2,(0,ke.A)({id:i.titleId},o,{ref:t}))})),oJ="DialogDescription",iJ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=BZ(oJ,r);return(0,n.createElement)(bL.p,(0,ke.A)({id:i.descriptionId},o,{ref:t}))})),aJ="DialogClose",sJ=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=BZ(aJ,r);return(0,n.createElement)(bL.button,(0,ke.A)({type:"button"},o,{ref:t,onClick:cL(e.onClick,(()=>i.onOpenChange(!1)))}))}));function lJ(e){return e?"open":"closed"}const cJ="DialogTitleWarning",[uJ,dJ]=function(e,t){const r=(0,n.createContext)(t);function o(e){const{children:t,...o}=e,i=(0,n.useMemo)((()=>o),Object.values(o));return(0,n.createElement)(r.Provider,{value:i},t)}return o.displayName=e+"Provider",[o,function(o){const i=(0,n.useContext)(r);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}(cJ,{contentName:ZZ,titleName:nJ,docsSlug:"dialog"}),fJ=$Z,pJ=VZ,hJ=GZ,mJ=XZ,vJ=JZ,gJ=rJ,yJ=iJ,bJ=sJ,wJ=Gw("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function xJ(e){return xJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xJ(e)}var SJ=["className"],kJ=["className","children","hideCloseButton","bodyScroll"],EJ=["className"],OJ=["className"],jJ=["className"],_J=["className"],CJ=["className","children","hideCloseButton","bodyScroll"];function TJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TJ(Object(n),!0).forEach((function(t){AJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AJ(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=xJ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xJ(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xJ(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var MJ=fJ,IJ=pJ,RJ=hJ,LJ=n.forwardRef((function(e,t){var n=e.className,r=NJ(e,SJ);return(0,Ut.jsx)(mJ,PJ({ref:t,className:vr("fixed inset-0 z-[1200] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r))}));LJ.displayName=mJ.displayName;var DJ=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.hideCloseButton,i=e.bodyScroll,a=NJ(e,kJ);return(0,Ut.jsx)(RJ,{children:i?(0,Ut.jsx)(mJ,{className:"dialog-overlay fixed bottom-0 left-0 right-0 top-0 z-[1300] grid place-items-center overflow-y-auto bg-black/50 py-8  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",children:(0,Ut.jsxs)(vJ,PJ(PJ({className:vr("data-[state=closed]:[2%] relative z-[1200] grid w-full max-w-lg gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95  data-[state=open]:zoom-in-95 data-[state=open]:slide-in-from-top-[2%] sm:rounded-lg",n)},a),{},{children:[r,!o&&(0,Ut.jsxs)(bJ,{"aria-label":"Close",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Ut.jsx)(wJ,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Close"})]})]}))}):(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(LJ,{}),(0,Ut.jsxs)(vJ,PJ(PJ({ref:t,className:vr("fixed left-[50%] top-[50%] z-[1300] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n)},a),{},{children:[r,!o&&(0,Ut.jsxs)(bJ,{"aria-label":"Close",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Ut.jsx)(wJ,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})})}));DJ.displayName=vJ.displayName;var FJ=function(e){var t=e.className,n=NJ(e,EJ);return(0,Ut.jsx)("div",PJ({className:vr("flex flex-col space-y-1.5 text-center sm:text-left",t)},n))};FJ.displayName="DialogHeader";var zJ=function(e){var t=e.className,n=NJ(e,OJ);return(0,Ut.jsx)("div",PJ({className:vr("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t)},n))};zJ.displayName="DialogFooter";var BJ=n.forwardRef((function(e,t){var n=e.className,r=NJ(e,jJ);return(0,Ut.jsx)(gJ,PJ({ref:t,className:vr("text-lg font-semibold leading-tight tracking-tight",n)},r))}));BJ.displayName=gJ.displayName;var $J=n.forwardRef((function(e,t){var n=e.className,r=NJ(e,_J);return(0,Ut.jsx)(yJ,PJ({ref:t,className:vr("text-sm text-muted-foreground",n)},r))}));$J.displayName=yJ.displayName;var UJ=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.hideCloseButton,i=(e.bodyScroll,NJ(e,CJ));return(0,Ut.jsxs)(RJ,{children:[(0,Ut.jsx)(mJ,{className:"dialog-overlay fixed inset-0 z-[21] bg-black/50 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),(0,Ut.jsxs)(vJ,PJ(PJ({ref:t,className:vr("fixed left-[50%] top-[50%] z-[22] grid w-full translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]",n)},i),{},{children:[r,!o&&(0,Ut.jsxs)(bJ,{"aria-label":"Close",className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Ut.jsx)(wJ,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}));function VJ(e,t){return function(){return e.apply(t,arguments)}}UJ.displayName=vJ.displayName;const{toString:HJ}=Object.prototype,{getPrototypeOf:WJ}=Object,qJ=(GJ=Object.create(null),e=>{const t=HJ.call(e);return GJ[t]||(GJ[t]=t.slice(8,-1).toLowerCase())});var GJ;const KJ=e=>(e=e.toLowerCase(),t=>qJ(t)===e),XJ=e=>t=>typeof t===e,{isArray:YJ}=Array,ZJ=XJ("undefined");const JJ=KJ("ArrayBuffer");const QJ=XJ("string"),eQ=XJ("function"),tQ=XJ("number"),nQ=e=>null!==e&&"object"==typeof e,rQ=e=>{if("object"!==qJ(e))return!1;const t=WJ(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},oQ=KJ("Date"),iQ=KJ("File"),aQ=KJ("Blob"),sQ=KJ("FileList"),lQ=KJ("URLSearchParams"),[cQ,uQ,dQ,fQ]=["ReadableStream","Request","Response","Headers"].map(KJ);function pQ(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),YJ(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function hQ(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const mQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,vQ=e=>!ZJ(e)&&e!==mQ;const gQ=(yQ="undefined"!=typeof Uint8Array&&WJ(Uint8Array),e=>yQ&&e instanceof yQ);var yQ;const bQ=KJ("HTMLFormElement"),wQ=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),xQ=KJ("RegExp"),SQ=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pQ(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},kQ="abcdefghijklmnopqrstuvwxyz",EQ="0123456789",OQ={DIGIT:EQ,ALPHA:kQ,ALPHA_DIGIT:kQ+kQ.toUpperCase()+EQ};const jQ=KJ("AsyncFunction"),_Q=(CQ="function"==typeof setImmediate,TQ=eQ(mQ.postMessage),CQ?setImmediate:TQ?(PQ=`axios@${Math.random()}`,AQ=[],mQ.addEventListener("message",(({source:e,data:t})=>{e===mQ&&t===PQ&&AQ.length&&AQ.shift()()}),!1),e=>{AQ.push(e),mQ.postMessage(PQ,"*")}):e=>setTimeout(e));var CQ,TQ,PQ,AQ;const NQ="undefined"!=typeof queueMicrotask?queueMicrotask.bind(mQ):"undefined"!=typeof process&&process.nextTick||_Q,MQ={isArray:YJ,isArrayBuffer:JJ,isBuffer:function(e){return null!==e&&!ZJ(e)&&null!==e.constructor&&!ZJ(e.constructor)&&eQ(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||eQ(e.append)&&("formdata"===(t=qJ(e))||"object"===t&&eQ(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&JJ(e.buffer),t},isString:QJ,isNumber:tQ,isBoolean:e=>!0===e||!1===e,isObject:nQ,isPlainObject:rQ,isReadableStream:cQ,isRequest:uQ,isResponse:dQ,isHeaders:fQ,isUndefined:ZJ,isDate:oQ,isFile:iQ,isBlob:aQ,isRegExp:xQ,isFunction:eQ,isStream:e=>nQ(e)&&eQ(e.pipe),isURLSearchParams:lQ,isTypedArray:gQ,isFileList:sQ,forEach:pQ,merge:function e(){const{caseless:t}=vQ(this)&&this||{},n={},r=(r,o)=>{const i=t&&hQ(n,o)||o;rQ(n[i])&&rQ(r)?n[i]=e(n[i],r):rQ(r)?n[i]=e({},r):YJ(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&pQ(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(pQ(t,((t,r)=>{n&&eQ(t)?e[r]=VJ(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&WJ(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:qJ,kindOfTest:KJ,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(YJ(e))return e;let t=e.length;if(!tQ(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:bQ,hasOwnProperty:wQ,hasOwnProp:wQ,reduceDescriptors:SQ,freezeMethods:e=>{SQ(e,((t,n)=>{if(eQ(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];eQ(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return YJ(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:hQ,global:mQ,isContextDefined:vQ,ALPHABET:OQ,generateString:(e=16,t=OQ.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&eQ(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(nQ(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=YJ(e)?[]:{};return pQ(e,((e,t)=>{const i=n(e,r+1);!ZJ(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:jQ,isThenable:e=>e&&(nQ(e)||eQ(e))&&eQ(e.then)&&eQ(e.catch),setImmediate:_Q,asap:NQ};function IQ(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}MQ.inherits(IQ,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:MQ.toJSONObject(this.config),code:this.code,status:this.status}}});const RQ=IQ.prototype,LQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{LQ[e]={value:e}})),Object.defineProperties(IQ,LQ),Object.defineProperty(RQ,"isAxiosError",{value:!0}),IQ.from=(e,t,n,r,o,i)=>{const a=Object.create(RQ);return MQ.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),IQ.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const DQ=IQ;function FQ(e){return MQ.isPlainObject(e)||MQ.isArray(e)}function zQ(e){return MQ.endsWith(e,"[]")?e.slice(0,-2):e}function BQ(e,t,n){return e?e.concat(t).map((function(e,t){return e=zQ(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const $Q=MQ.toFlatObject(MQ,{},null,(function(e){return/^is[A-Z]/.test(e)}));const UQ=function(e,t,n){if(!MQ.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=MQ.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!MQ.isUndefined(t[e])}));const r=n.metaTokens,o=n.visitor||c,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&MQ.isSpecCompliantForm(t);if(!MQ.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(MQ.isDate(e))return e.toISOString();if(!s&&MQ.isBlob(e))throw new DQ("Blob is not supported. Use a Buffer instead.");return MQ.isArrayBuffer(e)||MQ.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(MQ.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(MQ.isArray(e)&&function(e){return MQ.isArray(e)&&!e.some(FQ)}(e)||(MQ.isFileList(e)||MQ.endsWith(n,"[]"))&&(s=MQ.toArray(e)))return n=zQ(n),s.forEach((function(e,r){!MQ.isUndefined(e)&&null!==e&&t.append(!0===a?BQ([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!FQ(e)||(t.append(BQ(o,n,i),l(e)),!1)}const u=[],d=Object.assign($Q,{defaultVisitor:c,convertValue:l,isVisitable:FQ});if(!MQ.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!MQ.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),MQ.forEach(n,(function(n,i){!0===(!(MQ.isUndefined(n)||null===n)&&o.call(t,n,MQ.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),u.pop()}}(e),t};function VQ(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function HQ(e,t){this._pairs=[],e&&UQ(e,this,t)}const WQ=HQ.prototype;WQ.append=function(e,t){this._pairs.push([e,t])},WQ.toString=function(e){const t=e?function(t){return e.call(this,t,VQ)}:VQ;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const qQ=HQ;function GQ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KQ(e,t,n){if(!t)return e;const r=n&&n.encode||GQ;MQ.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(i=o?o(t,n):MQ.isURLSearchParams(t)?t.toString():new qQ(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const XQ=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){MQ.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},YQ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZQ={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:qQ,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},JQ="undefined"!=typeof window&&"undefined"!=typeof document,QQ="object"==typeof navigator&&navigator||void 0,e0=JQ&&(!QQ||["ReactNative","NativeScript","NS"].indexOf(QQ.product)<0),t0="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,n0=JQ&&window.location.href||"http://localhost",r0={...e,...ZQ};const o0=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;if(i=!i&&MQ.isArray(r)?r.length:i,s)return MQ.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a;r[i]&&MQ.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&MQ.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a}if(MQ.isFormData(e)&&MQ.isFunction(e.entries)){const n={};return MQ.forEachEntry(e,((e,r)=>{t(function(e){return MQ.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const i0={transitional:YQ,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=MQ.isObject(e);o&&MQ.isHTMLForm(e)&&(e=new FormData(e));if(MQ.isFormData(e))return r?JSON.stringify(o0(e)):e;if(MQ.isArrayBuffer(e)||MQ.isBuffer(e)||MQ.isStream(e)||MQ.isFile(e)||MQ.isBlob(e)||MQ.isReadableStream(e))return e;if(MQ.isArrayBufferView(e))return e.buffer;if(MQ.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return UQ(e,new r0.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return r0.isNode&&MQ.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=MQ.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return UQ(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(MQ.isString(e))try{return(t||JSON.parse)(e),MQ.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||i0.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(MQ.isResponse(e)||MQ.isReadableStream(e))return e;if(e&&MQ.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw DQ.from(e,DQ.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r0.classes.FormData,Blob:r0.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};MQ.forEach(["delete","get","head","post","put","patch"],(e=>{i0.headers[e]={}}));const a0=i0,s0=MQ.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l0=Symbol("internals");function c0(e){return e&&String(e).trim().toLowerCase()}function u0(e){return!1===e||null==e?e:MQ.isArray(e)?e.map(u0):String(e)}function d0(e,t,n,r,o){return MQ.isFunction(r)?r.call(this,t,n):(o&&(t=n),MQ.isString(t)?MQ.isString(r)?-1!==t.indexOf(r):MQ.isRegExp(r)?r.test(t):void 0:void 0)}class f0{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=c0(t);if(!o)throw new Error("header name must be a non-empty string");const i=MQ.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=u0(e))}const i=(e,t)=>MQ.forEach(e,((e,n)=>o(e,n,t)));if(MQ.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(MQ.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&s0[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(MQ.isHeaders(e))for(const[t,r]of e.entries())o(r,t,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=c0(e)){const n=MQ.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(MQ.isFunction(t))return t.call(this,e,n);if(MQ.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=c0(e)){const n=MQ.findKey(this,e);return!(!n||void 0===this[n]||t&&!d0(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=c0(e)){const o=MQ.findKey(n,e);!o||t&&!d0(0,n[o],o,t)||(delete n[o],r=!0)}}return MQ.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!d0(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return MQ.forEach(this,((r,o)=>{const i=MQ.findKey(n,o);if(i)return t[i]=u0(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=u0(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return MQ.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&MQ.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[l0]=this[l0]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=c0(e);t[r]||(!function(e,t){const n=MQ.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return MQ.isArray(e)?e.forEach(r):r(e),this}}f0.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),MQ.reduceDescriptors(f0.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),MQ.freezeMethods(f0);const p0=f0;function h0(e,t){const n=this||a0,r=t||n,o=p0.from(r.headers);let i=r.data;return MQ.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function m0(e){return!(!e||!e.__CANCEL__)}function v0(e,t,n){DQ.call(this,null==e?"canceled":e,DQ.ERR_CANCELED,t,n),this.name="CanceledError"}MQ.inherits(v0,DQ,{__CANCEL__:!0});const g0=v0;function y0(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new DQ("Request failed with status code "+n.status,[DQ.ERR_BAD_REQUEST,DQ.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const b0=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];o||(o=l),n[i]=s,r[i]=l;let u=a,d=0;for(;u!==i;)d+=n[u++],u%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const f=c&&l-c;return f?Math.round(1e3*d/f):void 0}};const w0=function(e,t){let n,r,o=0,i=1e3/t;const a=(t,i=Date.now())=>{o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),s=t-o;s>=i?a(e,t):(n=e,r||(r=setTimeout((()=>{r=null,a(n)}),i-s)))},()=>n&&a(n)]},x0=(e,t,n=3)=>{let r=0;const o=b0(50,250);return w0((n=>{const i=n.loaded,a=n.lengthComputable?n.total:void 0,s=i-r,l=o(s);r=i;e({loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:n,lengthComputable:null!=a,[t?"download":"upload"]:!0})}),n)},S0=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},k0=e=>(...t)=>MQ.asap((()=>e(...t))),E0=r0.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,r0.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(r0.origin),r0.navigator&&/(msie|trident)/i.test(r0.navigator.userAgent)):()=>!0,O0=r0.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];MQ.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),MQ.isString(r)&&a.push("path="+r),MQ.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function j0(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _0=e=>e instanceof p0?{...e}:e;function C0(e,t){t=t||{};const n={};function r(e,t,n,r){return MQ.isPlainObject(e)&&MQ.isPlainObject(t)?MQ.merge.call({caseless:r},e,t):MQ.isPlainObject(t)?MQ.merge({},t):MQ.isArray(t)?t.slice():t}function o(e,t,n,o){return MQ.isUndefined(t)?MQ.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function i(e,t){if(!MQ.isUndefined(t))return r(void 0,t)}function a(e,t){return MQ.isUndefined(t)?MQ.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,n)=>o(_0(e),_0(t),0,!0)};return MQ.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);MQ.isUndefined(a)&&i!==s||(n[r]=a)})),n}const T0=e=>{const t=C0({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:l}=t;if(t.headers=s=p0.from(s),t.url=KQ(j0(t.baseURL,t.url),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),MQ.isFormData(r))if(r0.hasStandardBrowserEnv||r0.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(r0.hasStandardBrowserEnv&&(o&&MQ.isFunction(o)&&(o=o(t)),o||!1!==o&&E0(t.url))){const e=i&&a&&O0.read(a);e&&s.set(i,e)}return t},P0="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=T0(e);let o=r.data;const i=p0.from(r.headers).normalize();let a,s,l,c,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(a),r.signal&&r.signal.removeEventListener("abort",a)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=p0.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());y0((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new DQ("Request aborted",DQ.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new DQ("Network Error",DQ.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||YQ;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new DQ(t,o.clarifyTimeoutError?DQ.ETIMEDOUT:DQ.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&MQ.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),MQ.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,u]=x0(p,!0),m.addEventListener("progress",l)),f&&m.upload&&([s,c]=x0(f),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(a=t=>{m&&(n(!t||t.type?new g0(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(a),r.signal&&(r.signal.aborted?a():r.signal.addEventListener("abort",a)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===r0.protocols.indexOf(g)?n(new DQ("Unsupported protocol "+g+":",DQ.ERR_BAD_REQUEST,e)):m.send(o||null)}))},A0=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,a();const t=e instanceof Error?e:this.reason;r.abort(t instanceof DQ?t:new g0(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new DQ(`timeout ${t} of ms exceeded`,DQ.ETIMEDOUT))}),t);const a=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:s}=r;return s.unsubscribe=()=>MQ.asap(a),s}},N0=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},M0=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},I0=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of M0(e))yield*N0(n,t)}(e,t);let i,a=0,s=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let i=r.byteLength;if(n){let e=a+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},R0="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,L0=R0&&"function"==typeof ReadableStream,D0=R0&&("function"==typeof TextEncoder?(F0=new TextEncoder,e=>F0.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var F0;const z0=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},B0=L0&&z0((()=>{let e=!1;const t=new Request(r0.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),$0=L0&&z0((()=>MQ.isReadableStream(new Response("").body))),U0={stream:$0&&(e=>e.body)};var V0;R0&&(V0=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!U0[e]&&(U0[e]=MQ.isFunction(V0[e])?t=>t[e]():(t,n)=>{throw new DQ(`Response type '${e}' is not supported`,DQ.ERR_NOT_SUPPORT,n)})})));const H0=async(e,t)=>{const n=MQ.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(MQ.isBlob(e))return e.size;if(MQ.isSpecCompliantForm(e)){const t=new Request(r0.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return MQ.isArrayBufferView(e)||MQ.isArrayBuffer(e)?e.byteLength:(MQ.isURLSearchParams(e)&&(e+=""),MQ.isString(e)?(await D0(e)).byteLength:void 0)})(t):n},W0=R0&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:a,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=T0(e);c=c?(c+"").toLowerCase():"text";let p,h=A0([o,i&&i.toAbortSignal()],a);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let v;try{if(l&&B0&&"get"!==n&&"head"!==n&&0!==(v=await H0(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(MQ.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=S0(v,x0(k0(l)));r=I0(n.body,65536,e,t)}}MQ.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(p);const a=$0&&("stream"===c||"response"===c);if($0&&(s||a&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=MQ.toFiniteNumber(i.headers.get("content-length")),[n,r]=s&&S0(t,x0(k0(s),!0))||[];i=new Response(I0(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let g=await U0[MQ.findKey(U0,c)||"text"](i,e);return!a&&m&&m(),await new Promise(((t,n)=>{y0(t,n,{data:g,headers:p0.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new DQ("Network Error",DQ.ERR_NETWORK,e,p),{cause:t.cause||t});throw DQ.from(t,t&&t.code,e,p)}}),q0={http:null,xhr:P0,fetch:W0};MQ.forEach(q0,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const G0=e=>`- ${e}`,K0=e=>MQ.isFunction(e)||null===e||!1===e,X0=e=>{e=MQ.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!K0(n)&&(r=q0[(t=String(n)).toLowerCase()],void 0===r))throw new DQ(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(G0).join("\n"):" "+G0(e[0]):"as no adapter specified";throw new DQ("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Y0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new g0(null,e)}function Z0(e){Y0(e),e.headers=p0.from(e.headers),e.data=h0.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return X0(e.adapter||a0.adapter)(e).then((function(t){return Y0(e),t.data=h0.call(e,e.transformResponse,t),t.headers=p0.from(t.headers),t}),(function(t){return m0(t)||(Y0(e),t&&t.response&&(t.response.data=h0.call(e,e.transformResponse,t.response),t.response.headers=p0.from(t.response.headers))),Promise.reject(t)}))}const J0="1.7.9",Q0={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Q0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const e1={};Q0.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.9] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new DQ(r(o," has been removed"+(t?" in "+t:"")),DQ.ERR_DEPRECATED);return t&&!e1[o]&&(e1[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}},Q0.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const t1={assertOptions:function(e,t,n){if("object"!=typeof e)throw new DQ("options must be an object",DQ.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new DQ("option "+i+" must be "+n,DQ.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new DQ("Unknown option "+i,DQ.ERR_BAD_OPTION)}},validators:Q0},n1=t1.validators;class r1{constructor(e){this.defaults=e,this.interceptors={request:new XQ,response:new XQ}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=C0(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&t1.assertOptions(n,{silentJSONParsing:n1.transitional(n1.boolean),forcedJSONParsing:n1.transitional(n1.boolean),clarifyTimeoutError:n1.transitional(n1.boolean)},!1),null!=r&&(MQ.isFunction(r)?t.paramsSerializer={serialize:r}:t1.assertOptions(r,{encode:n1.function,serialize:n1.function},!0)),t1.assertOptions(t,{baseUrl:n1.spelling("baseURL"),withXsrfToken:n1.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&MQ.merge(o.common,o[t.method]);o&&MQ.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=p0.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Z0.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let f=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{c=Z0.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return KQ(j0((e=C0(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}MQ.forEach(["delete","get","head","options"],(function(e){r1.prototype[e]=function(t,n){return this.request(C0(n||{},{method:e,url:t,data:(n||{}).data}))}})),MQ.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(C0(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}r1.prototype[e]=t(),r1.prototype[e+"Form"]=t(!0)}));const o1=r1;class i1{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new g0(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new i1((function(t){e=t}));return{token:t,cancel:e}}}const a1=i1;const s1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(s1).forEach((([e,t])=>{s1[t]=e}));const l1=s1;const c1=function e(t){const n=new o1(t),r=VJ(o1.prototype.request,n);return MQ.extend(r,o1.prototype,n,{allOwnKeys:!0}),MQ.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(C0(t,n))},r}(a0);c1.Axios=o1,c1.CanceledError=g0,c1.CancelToken=a1,c1.isCancel=m0,c1.VERSION=J0,c1.toFormData=UQ,c1.AxiosError=DQ,c1.Cancel=c1.CanceledError,c1.all=function(e){return Promise.all(e)},c1.spread=function(e){return function(t){return e.apply(null,t)}},c1.isAxiosError=function(e){return MQ.isObject(e)&&!0===e.isAxiosError},c1.mergeConfig=C0,c1.AxiosHeaders=p0,c1.formToJSON=e=>o0(MQ.isHTMLForm(e)?new FormData(e):e),c1.getAdapter=X0,c1.HttpStatusCode=l1,c1.default=c1;const u1=c1;function d1(e){return d1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(e)}function f1(){f1=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==d1(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(d1(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function p1(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function h1(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){p1(i,r,o,a,s,"next",e)}function s(e){p1(i,r,o,a,s,"throw",e)}a(void 0)}))}}function m1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v1(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v1(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g1=function(e){var t=e.currentTime,r=e.captions,o=e.language,i=e.className,a=e.controlsVisible,s=e.disabled,l=void 0!==s&&s,c=m1((0,n.useState)([]),2),u=c[0],d=c[1],f=m1((0,n.useState)(null),2),p=f[0],h=f[1],m=(0,n.useRef)(null),v=m1((0,n.useState)(null),2),g=v[0],y=v[1],b=o.split("-")[0],w=r[o]?o:r[b]?b:Object.keys(r)[0];(0,n.useEffect)((function(){var e=function(){var e=h1(f1().mark((function e(){var t,n;return f1().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r[w]){e.next=4;break}return console.log("No captions URL found for language:",w),e.abrupt("return");case 4:return e.prev=4,e.next=7,u1.get(t);case 7:n=e.sent,y(n.data),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Error fetching VTT:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[r,w]),(0,n.useEffect)((function(){if(g){var e=function(){var e=h1(f1().mark((function e(t){var n,r,o,i,a,s,l,c;return f1().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.split("\n"),r=[],o={},i=0;case 4:if(!(i<n.length)){e.next=20;break}if((a=n[i].trim())&&"WEBVTT"!==a){e.next=8;break}return e.abrupt("continue",17);case 8:if(!(s=a.match(/(\d{2}:\d{2}:\d{2}\.\d{3}|\d{2}:\d{2}(?:\.\d{3})?) --> (\d{2}:\d{2}:\d{2}\.\d{3}|\d{2}:\d{2}(?:\.\d{3})?)/))){e.next=16;break}return o.text&&(r.push(o),o={}),l=x(s[1]),c=x(s[2]),o.start=l,o.end=c,e.abrupt("continue",17);case 16:void 0!==o.start&&void 0!==o.end&&(o.text=(o.text||"")+a+" ");case 17:i++,e.next=4;break;case 20:o.text&&r.push(o),d(r);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e(g)}else console.log("No VTT content to parse")}),[g]),(0,n.useEffect)((function(){var e=u.find((function(e){return t>=e.start&&t<=e.end}));h(e||null)}),[t,u]);var x=function(e){var t=e.split(":"),n=0,r=0,o=0;if(3===t.length){n=parseInt(t[0]),r=parseInt(t[1]);var i=m1(t[2].split("."),2),a=i[0],s=i[1];o=parseInt(a)+(s?parseInt(s)/1e3:0)}else if(2===t.length){r=parseInt(t[0]);var l=m1(t[1].split("."),2),c=l[0],u=l[1];o=parseInt(c)+(u?parseInt(u)/1e3:0)}return 3600*n+60*r+o};return!l&&r[w]&&null!=p&&p.text?(0,Ut.jsx)("div",{ref:m,className:vr("absolute left-0 right-0 bg-black/50 p-4 text-center text-white transition-all duration-300",a?"bottom-16":"bottom-0",i),children:p.text}):null};function y1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return b1(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b1(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w1=(0,n.forwardRef)((function(e,t){var r=e.video,o=e.progress,i=e.setProgress,a=e.lessonLanguage,s=e.restrictSkipAhead,l=e.className,c=e.startTime,u=e.endTime,d=e.children,f=e.objectFit,p=e.initialPlaying,h=!s,m=(0,n.useRef)(null),v=t||m,g=(0,n.useRef)(null),y=y1((0,n.useState)(0),2),b=y[0],w=y[1],x=y1((0,n.useState)(!1),2),S=x[0],k=x[1],E=y1((0,n.useState)(!1),2),O=E[0],j=E[1],_=y1((0,n.useState)(Date.now()),2),C=_[0],T=_[1],P=y1((0,n.useState)(1),2),A=P[0],N=P[1],M=y1((0,n.useState)(p||!1),2),I=M[0],R=M[1],L=y1((0,n.useState)(1),2),D=L[0],F=L[1],z=y1((0,n.useState)(!1),2),B=z[0],$=z[1],U=y1((0,n.useState)(!1),2),V=U[0],H=U[1],W=y1((0,n.useState)(0),2),q=W[0],G=W[1],K=y1((0,n.useState)(0),2),X=K[0],Y=K[1],Z=y1((0,n.useState)(null),2),J=Z[0],Q=Z[1],ee=y1((0,n.useState)(!1),2),te=ee[0],ne=ee[1],re=(0,n.useRef)(0),oe=(0,n.useRef)(0),ie=(0,n.useRef)(),ae=(0,n.useRef)(!1),se=(0,n.useRef)(!1);(0,n.useEffect)((function(){var e=function(){H(document.fullscreenElement===g.current)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[]),(0,n.useEffect)((function(){re.current=null!=c?c:0,void 0!==u?oe.current=u:q>0&&(oe.current=q)}),[c,u,q]),(0,n.useEffect)((function(){ae.current=!1,se.current=!1}),[r.source]);var le=function(){if(v.current&&pe.current){if(0===q)return void(ie.current=requestAnimationFrame(le));var e=v.current.getCurrentTime(),t=ge(),n=ve(),o=be(e);if(e<n-.05)return void v.current.seekTo(we(n));if(e>=t-.01){if(pe.current){try{var a,s=null===(a=r.source)||void 0===a?void 0:a.includes("youtube"),l=v.current.getInternalPlayer();s&&l?l.pauseVideo():null!=l&&l.pause&&l.pause()}catch(e){}k(!1)}return v.current.seekTo(we(t)),void i({watchedProportion:1,seekProportion:1})}i({watchedProportion:Math.max(o,me.current.watchedProportion),seekProportion:o}),e>b&&w(e),ie.current=requestAnimationFrame(le)}};(0,n.useEffect)((function(){return S?(le(),ie.current=requestAnimationFrame(le)):ie.current&&cancelAnimationFrame(ie.current),function(){ie.current&&cancelAnimationFrame(ie.current)}}),[S]);var ce=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),ue=y1((0,n.useState)((function(){return!ce&&(0!==o.watchedProportion||p&&te)})),2),de=ue[0],fe=ue[1],pe=(0,n.useRef)(S);(0,n.useEffect)((function(){pe.current=S}),[S]),(0,n.useEffect)((function(){var e;return O&&(e=setTimeout((function(){Date.now()-C>=1500&&j(!1)}),1500)),function(){return clearTimeout(e)}}),[O,C]);var he=function(){de&&(j(!0),T(Date.now()))},me=(0,n.useRef)(o);me.current=o;var ve=function(){return re.current},ge=function(){if(0===oe.current&&v.current){var e=v.current.getDuration();e&&(oe.current=e)}return oe.current},ye=function(){var e=ge(),t=ve();return Math.max(0,e-t)},be=function(e){var t=ye();return 0===t||0===q?0:e>=ge()-.05?1:Math.min(Math.max((e-ve())/t,0),1)},we=function(e){var t;return e/((null===(t=v.current)||void 0===t?void 0:t.getDuration())||1)},xe=function(){if(te&&(I&&p&&R(!1),v.current)){var e,t,n=null===(e=r.source)||void 0===e?void 0:e.includes("youtube");try{t=v.current.getInternalPlayer()}catch(e){}if(S){try{n&&t&&t.pauseVideo()}catch(e){}k(!1)}else{if(v.current.getCurrentTime()>ge()-.1)try{n&&t?t.seekTo(we(ve())):v.current.seekTo(we(ve()))}catch(e){}else if(n&&t)try{t.playVideo()}catch(e){}k(!0),fe(!0)}j(!0)}};(0,n.useEffect)((function(){if(v.current)return function(){}}),[h,b,u]),(0,n.useEffect)((function(){var e=g.current;if(e)return e.addEventListener("mousemove",he),e.addEventListener("touchstart",he),function(){e.removeEventListener("mousemove",he),e.removeEventListener("touchstart",he)}}),[]);var Se=q>0,ke=function(){return J||r.aspectRatio||16/9};return(0,n.useEffect)((function(){if(v.current){var e=v.current.getDuration();e&&G(e)}}),[]),(0,Ut.jsxs)("div",{className:vr("relative w-full cursor-pointer overflow-hidden rounded-xl",l,f&&"h-full"),style:{aspectRatio:f?void 0:"".concat(ke()),maxHeight:!f&&ke()<1?"70vh":void 0},ref:g,onMouseMove:he,onTouchStart:he,onClick:xe,children:[r.transcript&&""!==r.transcript.trim()&&(0,Ut.jsx)("div",{className:"absolute left-2 top-2 z-10",children:(0,Ut.jsxs)(MJ,{children:[(0,Ut.jsx)(IJ,{asChild:!0,children:(0,Ut.jsx)(Fr,{"aria-label":ZK("Transcript"),variant:"outline",size:"smallIcon",onClick:function(e){return e.stopPropagation()},children:(0,Ut.jsx)(tZ,{className:"h-4 w-4"})})}),(0,Ut.jsxs)(DJ,{bodyScroll:!0,onClick:function(e){return e.stopPropagation()},children:[(0,Ut.jsx)(FJ,{children:(0,Ut.jsx)(BJ,{children:ZK("Transcript")})}),(0,Ut.jsx)("div",{className:"whitespace-pre-wrap",children:r.transcript})]})]})}),(0,Ut.jsx)(fZ,{ref:v,url:r.source,className:"mindsmith-video block h-full w-full rounded-xl ".concat(O?"controls-visible":""),width:"100%",height:"100%",playing:S,volume:A,muted:I,playbackRate:D,progressInterval:100,style:V?{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}:void 0,onReady:function(){if(v.current){var e=v.current.getDuration();if(e)if(G(e),!ae.current&&o.seekProportion>0)if(v.current.getCurrentTime()<1){var t=o.seekProportion*e/e;v.current.seekTo(t),ae.current=!0}try{var n=v.current.getInternalPlayer();if(n&&n.videoWidth&&n.videoHeight){var r=n.videoWidth/n.videoHeight;Q(r)}}catch(e){console.debug("Could not detect video aspect ratio:",e)}ne(!0),p&&!se.current&&(k(!0),fe(!0),se.current=!0)}},onDuration:function(e){G(e)},onProgress:function(e){e.played;var t,n=e.playedSeconds;if(v.current){var o,a=null===(t=r.source)||void 0===t?void 0:t.includes("youtube");try{o=v.current.getInternalPlayer()}catch(e){return}if(o){var s=n;Y(s);var l=be(s);if(S){var c=ve(),u=ge();if(s<c-.5){try{a?o.seekTo(we(c)):v.current.seekTo(we(c))}catch(e){}return}if(s>=u){try{a?(o.seekTo(we(u)),o.pauseVideo()):v.current.seekTo(we(u))}catch(e){}return void k(!1)}}i({watchedProportion:Math.max(l,me.current.watchedProportion),seekProportion:l})}else console.log("No internal player in onProgress")}else console.log("No video ref in onProgress")},onPlay:function(){k(!0)},onPause:function(){k(!1)},config:{youtube:{playerVars:{start:Math.floor(c||0),end:Math.floor(u||0),modestbranding:1,rel:0}},vimeo:{playerOptions:{dnt:!0,cookie:!1,transparent:!0,controls:!1}},file:{attributes:{poster:r.thumbnail,playsInline:!0,preload:"metadata",controlsList:"nodownload noremoteplayback noplaybackrate",style:f?{objectFit:f,position:"absolute",inset:0,height:"100%",width:"100%"}:{position:"absolute",inset:0,height:"100%",width:"100%",maxWidth:"100%",maxHeight:"100%",margin:"auto"}}}},onClick:xe},f),r.captions&&Object.keys(r.captions).length>0&&(0,Ut.jsx)(g1,{currentTime:X,captions:r.captions,language:a,controlsVisible:O,disabled:B}),!de&&(0,Ut.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center",children:ce||0!==q?(0,Ut.jsx)("button",{onClick:xe,"aria-label":ZK("Play"),className:"flex h-24 w-24 items-center justify-center rounded-full bg-black/50 shadow-md backdrop-blur-md",children:(0,Ut.jsx)(eZ,{className:"h-10 w-10 text-white"})}):(0,Ut.jsx)("div",{className:"flex h-24 w-24 items-center justify-center rounded-full bg-black/50 shadow-md backdrop-blur-md",onClick:function(e){return e.stopPropagation()},children:(0,Ut.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-white border-t-transparent"})})}),O&&v.current&&v.current.getDuration()>0&&(0,Ut.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,Ut.jsx)(PZ,{restrictSkipAhead:s,watchedProportion:o.watchedProportion,currentTime:Math.max(0,v.current.getCurrentTime()-ve()),duration:ye(),isPlaying:S,handlePlayPause:xe,isMuted:I,volume:A,handleVolumeChange:function(e){var t=Number(e.target.value);v.current&&(N(t),R(0===t))},handleMuteUnmute:function(){v.current&&(0===A?(N(1),R(!1)):(N(0),R(!0)))},handleProgressChange:function(e){if(v.current){var t=function(e){var t=ye(),n=e/t,r=Math.min(Math.max(n,0),1);return ve()+r*t}(Number(e.target.value));if(!isNaN(t)){v.current.seekTo(we(t));var n=be(t);i({watchedProportion:Math.max(o.watchedProportion,n),seekProportion:n})}}},handleFullscreen:function(){g.current&&(V?(document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen(),H(!1)):(g.current.requestFullscreen&&g.current.requestFullscreen(),H(!0)))},handleCaptionsChange:function(e){if(v.current){var t=v.current.getInternalPlayer();if(null!=t&&t.textTracks)for(var n=t.textTracks,r=0;r<n.length;r++)n[r].mode=e?"hidden":"showing";$(e)}},handlePlaybackRateChange:function(e){v.current&&F(e)},captionsEnabled:B,playbackRate:D,isFullscreen:V})}),de&&!O&&Se&&v.current&&(0,Ut.jsx)(kZ,{currentTime:Math.max(0,v.current.getCurrentTime()-ve()),duration:ye()}),d]})}));function x1(e){return x1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(e)}function S1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S1(Object(n),!0).forEach((function(t){E1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=x1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x1(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}w1.displayName="VideoPlayer";function O1(e){var t=e.element,r=e.isSelected,o=e.width,i=e.buttonColor,a=(e.mode,be((function(e){return e.videoTileBeingEdited}))),s=be((function(e){return e.lessonContent.language}));if((0,n.useEffect)((function(){r||a!==t.id||be.setState((function(e){return k1(k1({},e),{},{videoTileBeingEdited:null})}))}),[r,t.id,a]),"videoElement"!==t.type||!t.data.video.source)return null;var l=t.data.video.objectFitCover||!1;return(0,Ut.jsx)("div",{className:"relative flex h-full items-center",style:{width:o,borderColor:r?i:void 0},children:t.data.video.source&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(w1,{video:k1(k1({},t.data.video),{},{aspectRatio:null}),lessonLanguage:s,restrictSkipAhead:!1,progress:{watchedProportion:0,seekProportion:0},setProgress:function(){},objectFit:l?"cover":"contain",className:"rounded-none"}),!r&&(0,Ut.jsx)("div",{className:"absolute inset-0",onClick:function(e){return e.preventDefault()}})]})})}function j1(e){var t=e.element;if("videoElement"!==t.type||!t.data.video.source)return null;var n=t.data.video.objectFitCover||!1;return(0,Ut.jsx)(_E.H1,{style:{backgroundColor:"transparent"},children:(0,Ut.jsx)("div",{className:"flex h-full items-center",children:(0,Ut.jsx)(_E.pe,{src:t.data.video.source,style:{width:"100%",objectFit:n?"cover":"contain"}})})})}var _1={textElement:function(e){var t=e.element,n=e.width,r=e.onUpdateContent,o=e.isSelected,i=(e.buttonColor,e.mode),a=t,s=vr("relative transition-colors",!o&&"hover:bg-[var(--text-10-color)]"),l="REMOTION_PREVIEW"===i||"FINAL_RENDER"===i;return(0,Ut.jsx)("div",{className:vr("flex h-full items-center justify-center p-[8%]",s),style:{width:n},children:(0,Ut.jsx)(GY,{value:a.data.text,onChange:function(e){r(JY(JY({},a),{},{data:JY(JY({},a.data),{},{text:e})}))},editable:!0,placeholder:l?" ":void 0,className:vr("text-[2em] [&_.tiptap_.display]:text-[2em] [&_.tiptap_h1]:text-[1.6em] [&_.tiptap_h2]:text-[1.4em]","center"===a.data.textAlignment&&"text-center","left"===a.data.textAlignment&&"text-left","right"===a.data.textAlignment&&"text-right")})})},imageElement:function(e){var t=e.element,n=e.width,r=e.isSelected,o=e.buttonColor,i=(e.pageId,e.mode),a=t,s=vr(r?"border-[var(--button-color)]":"border-transparent",!r&&"hover:bg-[var(--text-10-color)]");if("image"in a.data&&a.data.image&&"model"in a.data.image)return(0,Ut.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,Ut.jsx)(Ar,{size:16,className:"text-white"}),(0,Ut.jsx)("div",{className:"max-w-[400px] px-8 pt-4 text-center text-white",children:a.data.image.searchTerm})]});var l="imageUrl"in a.data?a.data.imageUrl:void 0,c="imageDescription"in a.data?a.data.imageDescription:"",u=a.data.objectFit||"cover";return("REMOTION_PREVIEW"===i||"FINAL_RENDER"===i)&&l&&lO(l)?(0,Ut.jsx)(sO,{src:l,style:{width:"100%",height:"100%"},fit:"cover"===u?"fill":"contain"}):(0,Ut.jsx)("div",{className:vr("flex h-full items-center justify-center",s),style:{width:n,borderColor:r?o:void 0},children:l&&(0,Ut.jsx)(_E.E9,{src:l,alt:c||"",className:vr("h-full w-full","cover"===u?"object-cover":"object-contain")})})},speakerElement:function(e){var t=e.element,n=e.width,r=e.isSelected,o=e.buttonColor,i=e.mode,a=t,s=vr("relative transition-colors",r?"border-[var(--button-color)]":"border-transparent",!r&&"hover:bg-[var(--text-10-color)]"),l=a.data.characterId,c=function(e){return"https://storage.googleapis.com/mindsmith/characters/heygen/".concat(e,".webp")}(l),u=a.data.backgroundImageUrl,d=nf.find((function(e){return e.id===l})),f="REMOTION_PREVIEW"===i||"FINAL_RENDER"===i;return(null==d?void 0:d.transparentBackground)?(0,Ut.jsxs)("div",{className:vr("relative flex h-full items-center justify-center",s),style:{width:n,borderColor:r?o:void 0},children:[u&&(0,Ut.jsx)(Ut.Fragment,{children:f?(0,Ut.jsx)(_E.E9,{src:u,alt:"Background",className:"absolute inset-0 h-full w-full object-cover"}):(0,Ut.jsx)("img",{src:u,alt:"Background",className:"absolute inset-0 h-full w-full object-cover"})}),"FINAL_RENDER"!==i&&(0,Ut.jsx)("img",{src:c,alt:"Character",className:"absolute inset-0 z-10 h-full w-full object-cover"})]}):(0,Ut.jsx)("div",{className:vr("flex h-full items-center justify-center",s),style:{width:n,borderColor:r?o:void 0},children:(0,Ut.jsx)("img",{src:c,alt:"Character",className:vr("h-full w-full object-cover")})})},videoElement:function(e){var t=e.element,n=e.isSelected,r=e.width,o=e.buttonColor,i=e.mode;return"REMOTION_PREVIEW"===i||"FINAL_RENDER"===i?(0,Ut.jsx)(j1,{element:t}):(0,Ut.jsx)(O1,{element:t,isSelected:n,width:r,buttonColor:o,onUpdateContent:function(){},mode:i})}};function C1(e){return C1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(e)}function T1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T1(Object(n),!0).forEach((function(t){A1(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T1(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A1(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=C1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C1(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M1(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M1(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M1(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I1=(0,n.memo)((function(e){var t=e.sceneElementId,r=e.element,o=e.onElementChange,i=e.selectedTileId,a=e.buttonColor,s=e.pageId,l=e.isOnlyElement,c=e.mode,u=e.sceneElements,d=Br(),f=hE({id:t}),p=f.attributes,h=f.listeners,m=f.setNodeRef,v=f.transform,g=f.transition,y=f.isDragging,b=N1((0,n.useState)(!1),2),w=b[0],x=b[1],S=N1((0,n.useState)(!1),2),k=S[0],E=S[1],O=_1[r.type],j={transform:Gx.Transform.toString(v),transition:g,zIndex:y?1:0,height:"100%",flex:1,cursor:"auto",opacity:y?.5:1,position:"relative"},_=u.findIndex((function(e){return N1(e,1)[0]===t})),C=u.length;return(0,Ut.jsxs)("div",P1(P1({"data-scene-element-id":t,ref:m,style:j},"EDIT"===c?P1(P1({},p),h):{}),{},{onClick:function(e){e.stopPropagation(),"EDIT"===c&&(be.setState({selectedTileId:t}),Th.setState((function(e){e.contextMode="tile"})))},className:vr("group/element",t===i?"opacity-100":"opacity-0 group-hover/element:opacity-100"),children:["EDIT"===c&&(0,Ut.jsxs)("div",{className:vr("absolute right-2 top-2 z-20 transition-opacity",t===i?"opacity-100":"opacity-0 group-hover/element:opacity-100"),children:[(0,Ut.jsxs)(MV,{delayDuration:300,open:k&&!w,onOpenChange:E,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{variant:"ghost",size:"xsIcon",onClick:function(e){e.stopPropagation(),!1===w&&(x(!0),E(!1))},className:"light bg-background text-foreground",children:(0,Ut.jsx)(OE,{className:"h-5 w-5"})})}),(0,Ut.jsxs)(RV,{children:[(0,Ut.jsx)("p",{className:"text-center font-sans",children:d("clickForActions")}),(0,Ut.jsx)("p",{className:"text-center font-sans",children:d("dragToMove")})]})]}),(0,Ut.jsxs)(dx,{onOpenChange:function(e){x(e),e||E(!1)},open:w,children:[(0,Ut.jsx)(fx,{disabled:!0,className:"pointer-events-none absolute bottom-0 left-0 right-0 top-0"}),(0,Ut.jsxs)(yx,{className:"z-[100000000]",children:[(0,Ut.jsx)(wx,{onClick:function(e){e.stopPropagation(),"EDIT"===c&&(be.setState({selectedTileId:t}),Th.setState((function(e){e.contextMode="tile"})))},children:"Options"}),(0,Ut.jsx)(wx,{className:"text-destructive",onClick:function(){!function(e){var t={label:"deleteBlock",mutations:[{type:"blockRemoval",blockId:e,before:be.getState().lessonContent.blocks[e]}]};Voe("deleteBlock-".concat(e),"instant",t)}(t)},disabled:l,children:"Delete"})]})]})]}),t===i&&(0,Ut.jsx)("div",{className:vr("pointer-events-none absolute inset-[0px] z-[100] border-4",1===C?"rounded-lg":C>=2?0===_?"rounded-l-lg":_===C-1?"rounded-r-lg":"":""),style:{borderColor:a}}),(0,Ut.jsx)(O,{element:r,width:"100%",onUpdateContent:function(e){return o(e,t)},isSelected:t===i,buttonColor:a,pageId:s,mode:c})]}))}));I1.displayName="SortableElement";var R1=(0,n.memo)((function(e){var t=e.element,n=e.buttonColor,r=e.pageId,o=_1[t.type],i="textElement"===t.type;return(0,Ut.jsx)("div",{style:{height:"100%",flex:1,position:"relative",backgroundColor:i?"rgba(0, 0, 0, 0.5)":void 0,borderRadius:"8px",backdropFilter:i?"blur(10px)":void 0,WebkitBackdropFilter:i?"blur(10px)":void 0,overflow:"hidden"},children:(0,Ut.jsx)(o,{element:t,width:"100%",onUpdateContent:function(){},isSelected:!1,buttonColor:n,pageId:r,mode:"VIEW"})})}));R1.displayName="DragOverlayContent";var L1=(0,n.memo)((function(e){var t,r,o,i=e.sceneElements,a=e.onElementChange,s=e.selectedTileId,l=e.buttonColor,c=e.scene,u=e.pageId,d=e.scale,f=void 0===d?1:d,p=e.mode,h=e.frame,m=e.sceneDurationInFrames,v=N1((0,n.useState)(null),2),g=v[0],y=v[1],b=(0,n.useMemo)((function(){return"EDIT"!==p&&void 0!==h&&m?Math.min(h/m,1):null}),[p,h,m]),w=(0,n.useMemo)((function(){var e,t;return function(e,t,n){if(null===n||void 0===e||void 0===t)return{};var r=t/16,o=1+r/20,i=t/100/4;return{none:{},zoomIn:{transform:"scale(".concat(1+n*i,")")},zoomOut:{transform:"scale(".concat(1+i-n*i,")")},slideRight:{transform:"scale(".concat(o,") translateX(").concat((n-.5)*r*2,"%)")},slideLeft:{transform:"scale(".concat(o,") translateX(").concat(-(n-.5)*r*2,"%)")},slideUp:{transform:"scale(".concat(o,") translateY(").concat(-(n-.5)*r*2,"%)")},slideDown:{transform:"scale(".concat(o,") translateY(").concat((n-.5)*r*2,"%)")}}[e||"none"]||{}}(null===(e=c.data.animation)||void 0===e?void 0:e.type,null===(t=c.data.animation)||void 0===t?void 0:t.distance,b)}),[null===(t=c.data.animation)||void 0===t?void 0:t.type,null===(r=c.data.animation)||void 0===r?void 0:r.distance,b]),x=(0,n.useMemo)((function(){var e;return g?null===(e=i.find((function(e){return N1(e,1)[0]===g})))||void 0===e?void 0:e[1]:null}),[g,i]),S=aS(iS(tk,{activationConstraint:{distance:10}})),k=(0,n.useCallback)((function(e){y(e.active.id)}),[]),E=(0,n.useCallback)((function(e){y(null);var t=e.active,n=e.over;if(n&&t.id!==n.id){var r=i.findIndex((function(e){return N1(e,1)[0]===t.id})),o=i.findIndex((function(e){return N1(e,1)[0]===n.id}));if(-1!==r&&-1!==o){var s=null,l=null;if(o>0){var c,u,d=null===(c=i[o>r?o:o-1])||void 0===c?void 0:c[0],f=null===(u=i.find((function(e){return N1(e,1)[0]===d})))||void 0===u?void 0:u[1];s=(null==f?void 0:f.order)||null}if(o<i.length-1){var p,h,m=null===(p=i[o>r?o+1:o])||void 0===p?void 0:p[0],v=null===(h=i.find((function(e){return N1(e,1)[0]===m})))||void 0===h?void 0:h[1];l=(null==v?void 0:v.order)||null}var g=SE(s,l),b=N1(i[r],2),w=b[0],x=b[1];a(P1(P1({},x),{},{order:g}),w)}}}),[i,a]),O=(0,n.useMemo)((function(){return i.map((function(e){return N1(e,1)[0]}))}),[i]),j=(0,n.useMemo)((function(){var e,t,n,r,o;return A1(A1(A1(A1({fontSize:24*f,backgroundColor:(null===(e=c.data.background)||void 0===e?void 0:e.baseColor)||"white"},"--body-color",(null===(t=c.data)||void 0===t?void 0:t.textColor)||"#FFFFFF"),"--header-color",(null===(n=c.data)||void 0===n?void 0:n.textColor)||"#FFFFFF"),"--header-placeholder",jE((null===(r=c.data)||void 0===r?void 0:r.textColor)||"#FFFFFF",.6)),"--body-placeholder",jE((null===(o=c.data)||void 0===o?void 0:o.textColor)||"#FFFFFF",.6))}),[f,null==c?void 0:c.data]),_=(0,n.useMemo)((function(){return P1(P1({opacity:c.data.background.overlay&&sf(c.data.background.overlay)?c.data.background.overlay.opacity:void 0},w),{},{transition:"EDIT"===p?"none":"all 0.1s linear",transform:w.transform,transformOrigin:"center center"})}),[c.data.background.overlay,w,p]),C="REMOTION_PREVIEW"===p||"FINAL_RENDER"===p;return(0,Ut.jsxs)(_E.H1,{style:j,children:[(0,Ut.jsx)("div",{className:"absolute inset-0",style:{backgroundColor:(null===(o=c.data.background)||void 0===o?void 0:o.baseColor)||"white"}}),c.data.background.overlay&&sf(c.data.background.overlay)&&(0,Ut.jsx)("div",{style:_,className:"absolute inset-0",children:C&&lO(c.data.background.overlay.imageUrl)?(0,Ut.jsx)(sO,{src:c.data.background.overlay.imageUrl,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,Ut.jsx)(_E.E9,{src:c.data.background.overlay.imageUrl,alt:"background",style:{height:"100%",width:"100%",objectFit:"cover"}})}),(0,Ut.jsx)(Ik,{sensors:S,onDragStart:k,onDragEnd:E,children:(0,Ut.jsxs)("div",{className:vr("absolute inset-0 z-10 flex","EDIT"!==p&&"pointer-events-none"),children:[(0,Ut.jsx)(sE,{items:O,strategy:rE,children:i.map((function(e){var t=N1(e,2),n=t[0],r=t[1],o="textElement"===r.type?P1(P1({},r),{},{data:P1(P1({},r.data),{},{textColor:c.data.textColor||"#FFFFFF"})}):r;return(0,Ut.jsx)(I1,{sceneElementId:n,element:o,onElementChange:a,selectedTileId:s,buttonColor:l,pageId:u,isOnlyElement:1===i.length,mode:p,sceneElements:i},n)}))}),(0,Ut.jsx)(Jk,{children:x&&(0,Ut.jsx)(R1,{element:x,buttonColor:l,pageId:u})})]})})]})}));L1.displayName="SceneRenderer";var D1=function(e,t){return t?Object.entries(e).filter((function(e){var n=e[1];return Op.includes(n.type)&&"parentId"in n&&n.parentId===t})).filter((function(e){return null!==e[1].order})).sort((function(e,t){var n=e[1].order,r=t[1].order;return n<r?-1:n>r?1:0})):[]};const F1="Avatar",[z1,B1]=fL(F1),[$1,U1]=z1(F1),V1=(0,n.forwardRef)(((e,t)=>{const{__scopeAvatar:r,...o}=e,[i,a]=(0,n.useState)("idle");return(0,n.createElement)($1,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a},(0,n.createElement)(bL.span,(0,ke.A)({},o,{ref:t})))})),H1="AvatarImage",W1=(0,n.forwardRef)(((e,t)=>{const{__scopeAvatar:r,src:o,onLoadingStatusChange:i=()=>{},...a}=e,s=U1(H1,r),l=function(e){const[t,r]=(0,n.useState)("idle");return UL((()=>{if(!e)return void r("error");let t=!0;const n=new window.Image,o=e=>()=>{t&&r(e)};return r("loading"),n.onload=o("loaded"),n.onerror=o("error"),n.src=e,()=>{t=!1}}),[e]),t}(o),c=wL((e=>{i(e),s.onImageLoadingStatusChange(e)}));return UL((()=>{"idle"!==l&&c(l)}),[l,c]),"loaded"===l?(0,n.createElement)(bL.img,(0,ke.A)({},a,{ref:t,src:o})):null})),q1="AvatarFallback",G1=(0,n.forwardRef)(((e,t)=>{const{__scopeAvatar:r,delayMs:o,...i}=e,a=U1(q1,r),[s,l]=(0,n.useState)(void 0===o);return(0,n.useEffect)((()=>{if(void 0!==o){const e=window.setTimeout((()=>l(!0)),o);return()=>window.clearTimeout(e)}}),[o]),s&&"loaded"!==a.imageLoadingStatus?(0,n.createElement)(bL.span,(0,ke.A)({},i,{ref:t})):null}));const K1=V1,X1=W1,Y1=G1;function Z1(e){return Z1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z1(e)}var J1=["className"],Q1=["className"],e2=["className"];function t2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t2(Object(n),!0).forEach((function(t){r2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r2(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Z1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z1(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z1(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o2(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i2=n.forwardRef((function(e,t){var n=e.className,r=o2(e,J1);return(0,Ut.jsx)(K1,n2({ref:t,className:vr("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},r))}));i2.displayName=K1.displayName;var a2=n.forwardRef((function(e,t){var n=e.className,r=o2(e,Q1);return(0,Ut.jsx)(X1,n2({ref:t,className:vr("aspect-square h-full w-full",n)},r))}));a2.displayName=X1.displayName;var s2=n.forwardRef((function(e,t){var n=e.className,r=o2(e,e2);return(0,Ut.jsx)(Y1,n2({ref:t,className:vr("flex h-full w-full items-center justify-center rounded-full bg-muted select-none",n)},r))}));s2.displayName=Y1.displayName;
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const l2=Gw("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);function c2(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=c2(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const u2=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=c2(e))&&(r&&(r+=" "),r+=t);return r};function d2(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r}const f2=d2;function p2(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function h2(...e){return n.useMemo((()=>e.every((e=>null==e))?null:t=>{e.forEach((e=>{p2(e,t)}))}),e)}const m2=h2;function v2(){const e=Mt(kt);return e[Et]||e}const g2=e=>e.scrollTop;function y2(e,t){var n,r;const{timeout:o,easing:i,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"==typeof o?o:o[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"==typeof i?i[t.mode]:i,delay:a.transitionDelay}}function b2(e){return e&&e.ownerDocument||document}function w2(e){return b2(e).defaultView||window}const x2=w2,S2=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function k2(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),i=x2(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const e=i.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(a&&"none"!==a&&"string"==typeof a){const e=a.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+s-r.left}px)`:`translateX(${i.innerWidth+s-r.left}px)`:"right"===e?o?`translateX(-${r.right-o.left-s}px)`:`translateX(-${r.left+r.width-s}px)`:"up"===e?o?`translateY(${o.bottom+l-r.top}px)`:`translateY(${i.innerHeight+l-r.top}px)`:o?`translateY(-${r.top-o.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}(e,t,"function"==typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const E2=n.forwardRef((function(e,t){const r=v2(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:l,container:c,direction:u="down",easing:d=o,in:f,onEnter:p,onEntered:h,onEntering:m,onExit:v,onExited:g,onExiting:y,style:b,timeout:w=i,TransitionComponent:x=so}=e,S=(0,Se.A)(e,S2),k=n.useRef(null),E=m2(l.ref,k,t),O=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},j=O(((e,t)=>{k2(u,e,c),g2(e),p&&p(e,t)})),_=O(((e,t)=>{const n=y2({timeout:w,style:b,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,ke.A)({},n)),e.style.transition=r.transitions.create("transform",(0,ke.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),C=O(h),T=O(y),P=O((e=>{const t=y2({timeout:w,style:b,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),k2(u,e,c),v&&v(e)})),A=O((e=>{e.style.webkitTransition="",e.style.transition="",g&&g(e)})),N=n.useCallback((()=>{k.current&&k2(u,k.current,c)}),[u,c]);return n.useEffect((()=>{if(f||"down"===u||"right"===u)return;const e=f2((()=>{k.current&&k2(u,k.current,c)})),t=x2(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,f,c]),n.useEffect((()=>{f||N()}),[f,N]),(0,Ut.jsx)(x,(0,ke.A)({nodeRef:k,onEnter:j,onEntered:C,onEntering:_,onExit:P,onExited:A,onExiting:T,addEndListener:e=>{a&&a(k.current,e)},appear:s,in:f,timeout:w},S,{children:(e,t)=>n.cloneElement(l,(0,ke.A)({ref:E,style:(0,ke.A)({visibility:"exited"!==e||f?void 0:"hidden"},b,l.props.style)},t))}))})),O2=E2,j2={};const _2=[];class C2{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new C2}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function T2(){const e=function(e,t){const r=n.useRef(j2);return r.current===j2&&(r.current=e(t)),r}(C2.create).current;return function(e){n.useEffect(e,_2)}(e.disposeEffect),e}function P2(e){return zt("MuiCollapse",e)}Bt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const A2=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],N2=_t("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((({theme:e,ownerState:t})=>(0,ke.A)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,ke.A)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"}))),M2=_t("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>(0,ke.A)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),I2=_t("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>(0,ke.A)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),R2=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiCollapse"}),{addEndListener:o,children:i,className:a,collapsedSize:s="0px",component:l,easing:c,in:u,onEnter:d,onEntered:f,onEntering:p,onExit:h,onExited:m,onExiting:v,orientation:g="vertical",style:y,timeout:b=mt.standard,TransitionComponent:w=so}=r,x=(0,Se.A)(r,A2),S=(0,ke.A)({},r,{orientation:g,collapsedSize:s}),k=(e=>{const{orientation:t,classes:n}=e;return Ce({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},P2,n)})(S),E=v2(),O=T2(),j=n.useRef(null),_=n.useRef(),C="number"==typeof s?`${s}px`:s,T="horizontal"===g,P=T?"width":"height",A=n.useRef(null),N=m2(t,A),M=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},I=()=>j.current?j.current[T?"clientWidth":"clientHeight"]:0,R=M(((e,t)=>{j.current&&T&&(j.current.style.position="absolute"),e.style[P]=C,d&&d(e,t)})),L=M(((e,t)=>{const n=I();j.current&&T&&(j.current.style.position="");const{duration:r,easing:o}=y2({style:y,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=E.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,_.current=t}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[P]=`${n}px`,e.style.transitionTimingFunction=o,p&&p(e,t)})),D=M(((e,t)=>{e.style[P]="auto",f&&f(e,t)})),F=M((e=>{e.style[P]=`${I()}px`,h&&h(e)})),z=M(m),B=M((e=>{const t=I(),{duration:n,easing:r}=y2({style:y,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=E.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,_.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[P]=C,e.style.transitionTimingFunction=r,v&&v(e)}));return(0,Ut.jsx)(w,(0,ke.A)({in:u,onEnter:R,onEntered:D,onEntering:L,onExit:F,onExited:z,onExiting:B,addEndListener:e=>{"auto"===b&&O.start(_.current||0,e),o&&o(A.current,e)},nodeRef:A,timeout:"auto"===b?null:b},x,{children:(e,t)=>(0,Ut.jsx)(N2,(0,ke.A)({as:l,className:je(k.root,a,{entered:k.entered,exited:!u&&"0px"===C&&k.hidden}[e]),style:(0,ke.A)({[T?"minWidth":"minHeight"]:C},y),ref:N},t,{ownerState:(0,ke.A)({},S,{state:e}),children:(0,Ut.jsx)(M2,{ownerState:(0,ke.A)({},S,{state:e}),className:k.wrapper,ref:j,children:(0,Ut.jsx)(I2,{ownerState:(0,ke.A)({},S,{state:e}),className:k.wrapperInner,children:i})})}))}))}));R2.muiSupportAuto=!0;const L2=R2;function D2(e){return zt("MuiSvgIcon",e)}Bt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const F2=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],z2=_t("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${tn(n.color)}`],t[`fontSize${tn(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,r,o,i,a,s,l,c,u,d,f,p,h;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(r=n.create)?void 0:r.call(n,"fill",{duration:null==(o=e.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(i=e.typography)||null==(a=i.pxToRem)?void 0:a.call(i,20))||"1.25rem",medium:(null==(s=e.typography)||null==(l=s.pxToRem)?void 0:l.call(s,24))||"1.5rem",large:(null==(c=e.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[t.fontSize],color:null!=(d=null==(f=(e.vars||e).palette)||null==(f=f[t.color])?void 0:f.main)?d:{action:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(h=(e.vars||e).palette)||null==(h=h.action)?void 0:h.disabled,inherit:void 0}[t.color]}})),B2=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiSvgIcon"}),{children:o,className:i,color:a="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:d,viewBox:f="0 0 24 24"}=r,p=(0,Se.A)(r,F2),h=n.isValidElement(o)&&"svg"===o.type,m=(0,ke.A)({},r,{color:a,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:f,hasSvgAsChild:h}),v={};u||(v.viewBox=f);const g=(e=>{const{color:t,fontSize:n,classes:r}=e;return Ce({root:["root","inherit"!==t&&`color${tn(t)}`,`fontSize${tn(n)}`]},D2,r)})(m);return(0,Ut.jsxs)(z2,(0,ke.A)({as:s,className:je(g.root,i),focusable:"false",color:c,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},v,p,h&&o.props,{ownerState:m,children:[h?o.props.children:o,d?(0,Ut.jsx)("title",{children:d}):null]}))}));B2.muiName="SvgIcon";const $2=B2,U2="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const V2=function(e){const t=n.useRef(e);return U2((()=>{t.current=e})),n.useRef(((...e)=>(0,t.current)(...e))).current};function H2(e){return e.substring(2).toLowerCase()}function W2(e){const{children:t,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:i,touchEvent:a="onTouchEnd"}=e,s=n.useRef(!1),l=n.useRef(null),c=n.useRef(!1),u=n.useRef(!1);n.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const d=h2(t.ref,l),f=V2((e=>{const t=u.current;u.current=!1;const n=b2(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(s.current)return void(s.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!n.documentElement.contains(e.target)||l.current.contains(e.target),o||!r&&t||i(e)})),p=e=>n=>{u.current=!0;const r=t.props[e];r&&r(n)},h={ref:d};return!1!==a&&(h[a]=p(a)),n.useEffect((()=>{if(!1!==a){const e=H2(a),t=b2(l.current),n=()=>{s.current=!0};return t.addEventListener(e,f),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,f),t.removeEventListener("touchmove",n)}}}),[f,a]),!1!==o&&(h[o]=p(o)),n.useEffect((()=>{if(!1!==o){const e=H2(o),t=b2(l.current);return t.addEventListener(e,f),()=>{t.removeEventListener(e,f)}}}),[f,o]),(0,Ut.jsx)(n.Fragment,{children:n.cloneElement(t,h)})}o(4146);function q2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G2(){return G2=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G2.apply(this,arguments)}function K2(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function X2(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y2=n.createContext(),Z2={containerRoot:{},containerAnchorOriginTopCenter:{},containerAnchorOriginBottomCenter:{},containerAnchorOriginTopRight:{},containerAnchorOriginBottomRight:{},containerAnchorOriginTopLeft:{},containerAnchorOriginBottomLeft:{}},J2={default:20,dense:4},Q2={default:6,dense:2},e4={maxSnack:3,dense:!1,hideIconVariant:!1,variant:"default",autoHideDuration:5e3,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:O2,transitionDuration:{enter:225,exit:195}},t4=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n4=function(e){return Object.keys(e).filter((function(e){return!Z2[e]})).reduce((function(t,n){var r;return G2({},t,((r={})[n]=e[n],r))}),{})},r4={TIMEOUT:"timeout",CLICKAWAY:"clickaway",MAXSNACK:"maxsnack",INSTRUCTED:"instructed"},o4=function(e){return"containerAnchorOrigin"+e},i4=function(e){var t=e.vertical,n=e.horizontal;return"anchorOrigin"+t4(t)+t4(n)},a4=function(e){return"variant"+t4(e)},s4=function(e){return!!e||0===e},l4=function(e){return"number"==typeof e||null===e};function c4(e,t,n){return void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={}),G2({},n,{},t,{},e)}var u4={root:"SnackbarContent-root"},d4=_t("div")((function(e){var t,n,r=e.theme;return(n={})["&."+u4.root]=((t={display:"flex",flexWrap:"wrap",flexGrow:1})[r.breakpoints.up("sm")]={flexGrow:"initial",minWidth:288},t),n})),f4=(0,n.forwardRef)((function(e,t){var r=e.className,o=K2(e,["className"]);return n.createElement(d4,Object.assign({ref:t,className:u2(u4.root,r)},o))})),p4={right:"left",left:"right",bottom:"up",top:"down"},h4=function(e){return"center"!==e.horizontal?p4[e.horizontal]:p4[e.vertical]},m4=function(e){return n.createElement($2,Object.assign({},e),n.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41\n        10.59L10 14.17L17.59 6.58L19 8L10 17Z"}))},v4=function(e){return n.createElement($2,Object.assign({},e),n.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},g4=function(e){return n.createElement($2,Object.assign({},e),n.createElement("path",{d:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,\n        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,\n        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"}))},y4=function(e){return n.createElement($2,Object.assign({},e),n.createElement("path",{d:"M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,\n        0 22,12A10,10 0 0,0 12,2Z"}))},b4={fontSize:20,marginInlineEnd:8},w4={default:void 0,success:n.createElement(m4,{style:b4}),warning:n.createElement(v4,{style:b4}),error:n.createElement(g4,{style:b4}),info:n.createElement(y4,{style:b4})};function x4(e,t){return e.reduce((function(e,n){return null==n?e:function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=[].concat(o);t&&-1===a.indexOf(t)&&a.push(t),e.apply(this,a),n.apply(this,a)}}),(function(){}))}var S4="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function k4(e){var t=(0,n.useRef)(e);return S4((function(){t.current=e})),(0,n.useCallback)((function(){return t.current.apply(void 0,arguments)}),[])}var E4="SnackbarItem",O4={contentRoot:E4+"-contentRoot",lessPadding:E4+"-lessPadding",variantSuccess:E4+"-variantSuccess",variantError:E4+"-variantError",variantInfo:E4+"-variantInfo",variantWarning:E4+"-variantWarning",message:E4+"-message",action:E4+"-action",wrappedRoot:E4+"-wrappedRoot"},j4=_t((0,n.forwardRef)((function(e,t){var r=e.children,o=e.autoHideDuration,i=e.ClickAwayListenerProps,a=e.disableWindowBlurListener,s=void 0!==a&&a,l=e.onClose,c=e.onMouseEnter,u=e.onMouseLeave,d=e.open,f=e.resumeHideDuration,p=K2(e,["children","autoHideDuration","ClickAwayListenerProps","disableWindowBlurListener","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration"]),h=(0,n.useRef)(),m=k4((function(){l&&l.apply(void 0,arguments)})),v=k4((function(e){l&&null!=e&&(clearTimeout(h.current),h.current=setTimeout((function(){m(null,r4.TIMEOUT)}),e))}));(0,n.useEffect)((function(){return d&&v(o),function(){clearTimeout(h.current)}}),[d,o,v]);var g=function(){clearTimeout(h.current)},y=(0,n.useCallback)((function(){null!=o&&v(null!=f?f:.5*o)}),[o,f,v]);return(0,n.useEffect)((function(){if(!s&&d)return window.addEventListener("focus",y),window.addEventListener("blur",g),function(){window.removeEventListener("focus",y),window.removeEventListener("blur",g)}}),[s,y,d]),(0,n.createElement)(W2,G2({onClickAway:function(e){l&&l(e,r4.CLICKAWAY)}},i),(0,n.createElement)("div",G2({onMouseEnter:function(e){c&&c(e),g()},onMouseLeave:function(e){u&&u(e),y()},ref:t},p),r))})))((function(e){var t,n=e.theme,r=n.palette.mode||n.palette.type,o=Be(n.palette.background.default,"light"===r?.8:.98);return(t={})["&."+O4.wrappedRoot]={position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0},t["."+O4.contentRoot]=G2({},n.typography.body2,{backgroundColor:o,color:n.palette.getContrastText(o),alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"}),t["."+O4.lessPadding]={paddingLeft:20},t["."+O4.variantSuccess]={backgroundColor:"#43a047",color:"#fff"},t["."+O4.variantError]={backgroundColor:"#d32f2f",color:"#fff"},t["."+O4.variantInfo]={backgroundColor:"#2196f3",color:"#fff"},t["."+O4.variantWarning]={backgroundColor:"#ff9800",color:"#fff"},t["."+O4.message]={display:"flex",alignItems:"center",padding:"8px 0"},t["."+O4.action]={display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8},t})),_4=function(e){var t=e.classes,r=K2(e,["classes"]),o=(0,n.useRef)(),i=(0,n.useState)(!0),a=i[0],s=i[1];(0,n.useEffect)((function(){return function(){o.current&&clearTimeout(o.current)}}),[]);var l=x4([r.snack.onClose,r.onClose],r.snack.key),c=r.style,u=r.ariaAttributes,d=r.className,f=r.hideIconVariant,p=r.iconVariant,h=r.snack,m=r.action,v=r.content,g=r.TransitionComponent,y=r.TransitionProps,b=r.transitionDuration,w=K2(r,["style","dense","ariaAttributes","className","hideIconVariant","iconVariant","snack","action","content","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),x=h.key,S=h.open,k=h.className,E=h.variant,O=h.content,j=h.action,_=h.ariaAttributes,C=h.anchorOrigin,T=h.message,P=h.TransitionComponent,A=h.TransitionProps,N=h.transitionDuration,M=K2(h,["persist","key","open","entered","requestClose","className","variant","content","action","ariaAttributes","anchorOrigin","message","TransitionComponent","TransitionProps","transitionDuration","onEnter","onEntered","onEntering","onExit","onExited","onExiting"]),I=G2({},w4,{},p)[E],R=G2({"aria-describedby":"notistack-snackbar"},c4(_,u)),L=P||g||e4.TransitionComponent,D=c4(N,b,e4.transitionDuration),F=G2({direction:h4(C)},c4(A,y)),z=j||m;"function"==typeof z&&(z=z(x));var B=O||v;"function"==typeof B&&(B=B(x,h.message));var $=["onEnter","onEntering","onEntered","onExit","onExiting","onExited"].reduce((function(e,t){var n;return G2({},e,((n={})[t]=x4([r.snack[t],r[t]],r.snack.key),n))}),{});return n.createElement(L2,{unmountOnExit:!0,timeout:175,in:a,onExited:$.onExited},n.createElement(j4,Object.assign({},w,M,{open:S,className:u2(t.root,O4.wrappedRoot,t[i4(C)]),onClose:l}),n.createElement(L,Object.assign({appear:!0,in:S,timeout:D},F,{onExit:$.onExit,onExiting:$.onExiting,onExited:function(){o.current=setTimeout((function(){s(!a)}),125)},onEnter:$.onEnter,onEntering:$.onEntering,onEntered:x4([$.onEntered,function(){r.snack.requestClose&&l(null,r4.INSTRCUTED)}])}),B||n.createElement(f4,Object.assign({},R,{role:"alert",style:c,className:u2(O4.contentRoot,O4[a4(E)],t[a4(E)],d,k,!f&&I&&O4.lessPadding)}),n.createElement("div",{id:R["aria-describedby"],className:O4.message},f?null:I,T),z&&n.createElement("div",{className:O4.action},z)))))},C4="& > .MuiCollapse-container, & > .MuiCollapse-root",T4="& > .MuiCollapse-container > .MuiCollapse-wrapper, & > .MuiCollapse-root > .MuiCollapse-wrapper",P4="SnackbarContainer",A4={root:P4+"-root",rootDense:P4+"-rootDense",top:P4+"-top",bottom:P4+"-bottom",left:P4+"-left",right:P4+"-right",center:P4+"-center"},N4=_t("div")((function(e){var t,n,r,o,i,a,s=e.theme;return(a={})["&."+A4.root]=((t={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:s.zIndex.snackbar,height:"auto",width:"auto",transition:"top 300ms ease 0ms, right 300ms ease 0ms, bottom 300ms ease 0ms, left 300ms ease 0ms, margin 300ms ease 0ms, max-width 300ms ease 0ms",pointerEvents:"none"})[C4]={pointerEvents:"all"},t[T4]={padding:Q2.default+"px 0px",transition:"padding 300ms ease 0ms"},t.maxWidth="calc(100% - "+2*J2.default+"px)",t[s.breakpoints.down("sm")]={width:"100%",maxWidth:"calc(100% - 32px)"},t),a["&."+A4.rootDense]=((n={})[T4]={padding:Q2.dense+"px 0px"},n),a["&."+A4.top]={top:J2.default-Q2.default,flexDirection:"column"},a["&."+A4.bottom]={bottom:J2.default-Q2.default,flexDirection:"column-reverse"},a["&."+A4.left]=((r={left:J2.default})[s.breakpoints.up("sm")]={alignItems:"flex-start"},r[s.breakpoints.down("sm")]={left:"16px"},r),a["&."+A4.right]=((o={right:J2.default})[s.breakpoints.up("sm")]={alignItems:"flex-end"},o[s.breakpoints.down("sm")]={right:"16px"},o),a["&."+A4.center]=((i={left:"50%",transform:"translateX(-50%)"})[s.breakpoints.up("sm")]={alignItems:"center"},i),a})),M4=function(e){var t=e.className,r=e.anchorOrigin,o=e.dense,i=K2(e,["className","anchorOrigin","dense"]),a=u2(A4[r.vertical],A4[r.horizontal],A4.root,t,o&&A4.rootDense);return n.createElement(N4,Object.assign({className:a},i))},I4=n.memo(M4),R4=function(e){var t,r,o,i,a;function s(t){var n;return(n=e.call(this,t)||this).enqueueSnackbar=function(e,t){void 0===t&&(t={});var r=t,o=r.key,i=r.preventDuplicate,a=K2(r,["key","preventDuplicate"]),s=s4(o),l=s?o:(new Date).getTime()+Math.random(),c=function(e,t,n){return function(r){return"autoHideDuration"===r?l4(e.autoHideDuration)?e.autoHideDuration:l4(t.autoHideDuration)?t.autoHideDuration:e4.autoHideDuration:e[r]||t[r]||n[r]}}(a,n.props,e4),u=G2({key:l},a,{message:e,open:!0,entered:!1,requestClose:!1,variant:c("variant"),anchorOrigin:c("anchorOrigin"),autoHideDuration:c("autoHideDuration")});return a.persist&&(u.autoHideDuration=void 0),n.setState((function(t){if(void 0===i&&n.props.preventDuplicate||i){var r=function(t){return s?t.key===o:t.message===e},a=t.queue.findIndex(r)>-1,l=t.snacks.findIndex(r)>-1;if(a||l)return t}return n.handleDisplaySnack(G2({},t,{queue:[].concat(t.queue,[u])}))})),l},n.handleDisplaySnack=function(e){return e.snacks.length>=n.maxSnack?n.handleDismissOldest(e):n.processQueue(e)},n.processQueue=function(e){var t=e.queue,n=e.snacks;return t.length>0?G2({},e,{snacks:[].concat(n,[t[0]]),queue:t.slice(1,t.length)}):e},n.handleDismissOldest=function(e){if(e.snacks.some((function(e){return!e.open||e.requestClose})))return e;var t=!1,r=!1;e.snacks.reduce((function(e,t){return e+(t.open&&t.persist?1:0)}),0)===n.maxSnack&&(r=!0);var o=e.snacks.map((function(e){return t||e.persist&&!r?G2({},e):(t=!0,e.entered?(e.onClose&&e.onClose(null,r4.MAXSNACK,e.key),n.props.onClose&&n.props.onClose(null,r4.MAXSNACK,e.key),G2({},e,{open:!1})):G2({},e,{requestClose:!0}))}));return G2({},e,{snacks:o})},n.handleEnteredSnack=function(e,t,r){if(!s4(r))throw new Error("handleEnteredSnack Cannot be called with undefined key");n.setState((function(e){return{snacks:e.snacks.map((function(e){return e.key===r?G2({},e,{entered:!0}):G2({},e)}))}}))},n.handleCloseSnack=function(e,t,r){if(n.props.onClose&&n.props.onClose(e,t,r),t!==r4.CLICKAWAY){var o=void 0===r;n.setState((function(e){var t=e.snacks,n=e.queue;return{snacks:t.map((function(e){return o||e.key===r?e.entered?G2({},e,{open:!1}):G2({},e,{requestClose:!0}):G2({},e)})),queue:n.filter((function(e){return e.key!==r}))}}))}},n.closeSnackbar=function(e){var t=n.state.snacks.find((function(t){return t.key===e}));s4(e)&&t&&t.onClose&&t.onClose(null,r4.INSTRUCTED,e),n.handleCloseSnack(null,r4.INSTRUCTED,e)},n.handleExitedSnack=function(e,t,r){var o=t||r;if(!s4(o))throw new Error("handleExitedSnack Cannot be called with undefined key");n.setState((function(e){var t=n.processQueue(G2({},e,{snacks:e.snacks.filter((function(e){return e.key!==o}))}));return 0===t.queue.length?t:n.handleDismissOldest(t)}))},n.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:n.enqueueSnackbar.bind(X2(n)),closeSnackbar:n.closeSnackbar.bind(X2(n))}},n}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this,t=this.state.contextValue,r=this.props,o=r.iconVariant,i=r.dense,a=void 0===i?e4.dense:i,s=r.hideIconVariant,l=void 0===s?e4.hideIconVariant:s,c=r.domRoot,u=r.children,d=r.classes,f=void 0===d?{}:d,p=K2(r,["maxSnack","preventDuplicate","variant","anchorOrigin","iconVariant","dense","hideIconVariant","domRoot","children","classes"]),h=this.state.snacks.reduce((function(e,t){var n,r,o=(r=t.anchorOrigin,""+t4(r.vertical)+t4(r.horizontal)),i=e[o]||[];return G2({},e,((n={})[o]=[].concat(i,[t]),n))}),{}),m=Object.keys(h).map((function(t){var r=h[t];return n.createElement(I4,{key:t,dense:a,anchorOrigin:r[0].anchorOrigin,className:u2(f.containerRoot,f[o4(t)])},r.map((function(t){return n.createElement(_4,Object.assign({},p,{key:t.key,snack:t,dense:a,iconVariant:o,hideIconVariant:l,classes:n4(f),onClose:e.handleCloseSnack,onExited:x4([e.handleExitedSnack,e.props.onExited]),onEntered:x4([e.handleEnteredSnack,e.props.onEntered])}))})))}));return n.createElement(Y2.Provider,{value:t},u,c?(0,Zr.createPortal)(m,c):m)},o=s,(i=[{key:"maxSnack",get:function(){return this.props.maxSnack||e4.maxSnack}}])&&q2(o.prototype,i),a&&q2(o,a),s}(n.Component),L4=function(){return(0,n.useContext)(Y2)};function D4(e){return D4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D4(e)}function F4(e){return function(e){if(Array.isArray(e))return H4(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V4(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z4(Object(n),!0).forEach((function(t){$4(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $4(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=D4(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D4(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D4(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||V4(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V4(e,t){if(e){if("string"==typeof e)return H4(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H4(e,t):void 0}}function H4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var W4,q4="This is a sample narration.",G4={Neural2:"PRO",WaveNet:"PRO",OpenAI:"PRO",ElevenLabs:"ENTERPRISE",Studio:"ENTERPRISE"},K4={EN:[{gender:"Female",voiceName:"en-US-Neural2-C",voiceType:"Neural2"},{gender:"Male",voiceName:"en-US-Neural2-A",voiceType:"Neural2"},{gender:"Female",voiceName:"en-US-Neural2-E",voiceType:"Neural2"},{gender:"Male",voiceName:"en-US-Neural2-D",voiceType:"Neural2"},{gender:"Female",voiceName:"en-US-Studio-O",voiceType:"Studio"},{gender:"Male",voiceName:"en-US-Studio-M",voiceType:"Studio"}],"EN-GB":[],ES:[{gender:"Female",voiceName:"es-US-Neural2-A",voiceType:"Neural2"},{gender:"Male",voiceName:"es-US-Neural2-B",voiceType:"Neural2"},{gender:"Male",voiceName:"es-US-Neural2-C",voiceType:"Neural2"},{gender:"Female",voiceName:"es-US-News-F",voiceType:"WaveNet"},{gender:"Male",voiceName:"es-US-Studio-B",voiceType:"Studio"}],EL:[],CS:[{gender:"Female",voiceName:"cs-CZ-Wavenet-A",voiceType:"WaveNet"}],DE:[{gender:"Female",voiceName:"de-DE-Neural2-C",voiceType:"Neural2"},{gender:"Male",voiceName:"de-DE-Neural2-B",voiceType:"Neural2"},{gender:"Female",voiceName:"de-DE-Neural2-F",voiceType:"Neural2"},{gender:"Male",voiceName:"de-DE-Neural2-D",voiceType:"Neural2"}],FR:[{gender:"Female",voiceName:"fr-FR-Neural2-A",voiceType:"Neural2"},{gender:"Male",voiceName:"fr-FR-Neural2-B",voiceType:"Neural2"},{gender:"Female",voiceName:"fr-FR-Neural2-C",voiceType:"Neural2"},{gender:"Male",voiceName:"fr-FR-Neural2-D",voiceType:"Neural2"}],IT:[{gender:"Female",voiceName:"it-IT-Neural2-A",voiceType:"Neural2"},{gender:"Male",voiceName:"it-IT-Neural2-C",voiceType:"Neural2"},{gender:"Female",voiceName:"it-IT-Wavenet-A",voiceType:"Neural2"},{gender:"Male",voiceName:"it-IT-Wavenet-C",voiceType:"Neural2"}],PT:[{gender:"Female",voiceName:"pt-BR-Neural2-A",voiceType:"Neural2"},{gender:"Male",voiceName:"pt-BR-Neural2-B",voiceType:"Neural2"},{gender:"Female",voiceName:"pt-BR-Neural2-C",voiceType:"Neural2"},{gender:"Male",voiceName:"pt-BR-Wavenet-B",voiceType:"WaveNet"}],RU:[{gender:"Female",voiceName:"ru-RU-Wavenet-A",voiceType:"WaveNet"},{gender:"Male",voiceName:"ru-RU-Wavenet-B",voiceType:"WaveNet"},{gender:"Female",voiceName:"ru-RU-Wavenet-C",voiceType:"WaveNet"},{gender:"Male",voiceName:"ru-RU-Wavenet-D",voiceType:"WaveNet"}],TR:[],ZH:[{gender:"Female",voiceName:"cmn-CN-Wavenet-A",voiceType:"WaveNet"},{gender:"Male",voiceName:"cmn-CN-Wavenet-B",voiceType:"WaveNet"},{gender:"Female",voiceName:"cmn-CN-Wavenet-D",voiceType:"WaveNet"},{gender:"Male",voiceName:"cmn-CN-Wavenet-C",voiceType:"WaveNet"}],RO:[{gender:"Female",voiceName:"ro-RO-Wavenet-A",voiceType:"WaveNet"}],BN:[],AR:[{gender:"Female",voiceName:"ar-XA-Wavenet-A",voiceType:"WaveNet"},{gender:"Male",voiceName:"ar-XA-Wavenet-B\t",voiceType:"WaveNet"},{gender:"Male",voiceName:"ar-XA-Wavenet-C",voiceType:"WaveNet"},{gender:"Female",voiceName:"ar-XA-Wavenet-D",voiceType:"WaveNet"}],PL:[{gender:"Female",voiceName:"pl-PL-Wavenet-A",voiceType:"WaveNet"},{gender:"Male",voiceName:"pl-PL-Wavenet-B",voiceType:"WaveNet"},{gender:"Male",voiceName:"pl-PL-Wavenet-C",voiceType:"WaveNet"},{gender:"Female",voiceName:"pl-PL-Wavenet-D",voiceType:"WaveNet"}],VI:[{gender:"Female",voiceName:"vi-VN-Neural2-A",voiceType:"Neural2"},{gender:"Male",voiceName:"vi-VN-Neural2-D",voiceType:"Neural2"}],JA:[],HI:[],TA:[{gender:"Female",voiceName:"ta-IN-Wavenet-A",voiceType:"WaveNet"}],TE:[{gender:"Female",voiceName:"te-IN-Wavenet-A",voiceType:"WaveNet"}],KN:[{gender:"Female",voiceName:"kn-IN-Wavenet-A",voiceType:"WaveNet"}],MR:[{gender:"Female",voiceName:"mr-IN-Wavenet-A",voiceType:"WaveNet"}],NL:[{gender:"Female",voiceName:"nl-BE-Wavenet-A",voiceType:"WaveNet"},{gender:"Male",voiceName:"nl-BE-Wavenet-B",voiceType:"WaveNet"},{gender:"Female",voiceName:"nl-NL-Wavenet-C",voiceType:"WaveNet"},{gender:"Male",voiceName:"nl-NL-Wavenet-D",voiceType:"WaveNet"}],ID:[],MG:[],SV:[],SW:[],TH:[{gender:"Female",voiceName:"th-TH-Standard-A",voiceType:"WaveNet"}],HA:[],YO:[],IG:[],IS:[],UK:[],HT:[],KO:[],NB:[],GL:[],BG:[],MS:[],HE:[],DA:[],ET:[],FI:[],HU:[],LT:[],LV:[],SK:[],SL:[],UR:[],YUE:[]},X4=(Object.values(K4).flat().map((function(e){return e.voiceName})),{"Charlie (AUS)":"IKne3meq5aSn9XLyUdCD","Vivian (AUS)":"luVEyhT3CocLZaLBps8v","Alice (UK)":"Xb7hH8MSUJpSbSDYk0k2","Daniel (UK)":"onwK4e9ZLuTAKqWW03F9","Claire (FR)":"6vTyAgAT8PncODBcLjRf",Liam:"TX3LPaxmHKxFdv7VOQHJ",Maltilda:"XrExE9yKIg1WjnnlVkGX",Roger:"CwhRBWXzGAHq8TQ4Fs17",Jessica:"cgSgspJ2msm6clMCkdW9",Bill:"pqHfZKP75CvOlQylNhV4",Hamid:"A9ATTqUUQ6GHu0coCz8t",Matilda:"XrExE9yKIg1WjnnlVkGX","Mark-1":"UgBBYS2sOqTuMpoF3BR0",Victoria:"tpFVjZdYBvOaWaUIRHRz",Zuri:"C3x1TEM7scV4p2AXJyrp",Anthea:"SDNKIYEpTz0h56jQX8rA","Mark-2":"1SM7GgM6IMuvQlz2BwM3",Eryn:"dMyQqiVXTU80dDl2eNK8",Ben:"wP7XBmkAmRwrjtfK2KeY",Lamar:"CVRACyqNcQefTlxMj9bt"}),Y4=Object.entries(X4).reduce((function(e,t){var n=U4(t,2),r=n[0],o=n[1];return B4(B4({},e),{},$4({},o,r))}),{}),Z4=Object.keys(X4),J4=["EN","JA","ZH","DE","HI","FR","PT","IT","ES","ID","NL","TR","PL","SV","RO","AR","CS","TA","RU","VI","UK","KO","EL","NB","BG","MS","DA","HU","FI","SK","UR"],Q4=["alloy","echo","fable","onyx","nova","shimmer"],e5=["EN","ES","CS","DE","FR","HI","IT","PT","RU","ZH","RO","AR","TR","PL","VI","JA","TA","TE","KN","MR","NL","SV","SW","TH","IS","UK","UR","KO","EL","NB","BG","GL","HE","DA","ET","FI","HU","LV","LT","SK","SL","YUE"].reduce((function(e,t){return e[t]=[],Q4.forEach((function(n){e[t].push({voiceName:n,voiceType:"OpenAI",gender:null,niceVoiceName:n})})),e}),{}),t5=(W4=B4({},K4),Object.keys(e5).forEach((function(e){var t=e;W4[t]?W4[t]=[].concat(F4(e5[t]),F4(W4[t])):W4[t]=e5[t]})),J4.forEach((function(e){W4[e]&&Z4.forEach((function(t){W4[e].push({voiceName:t,voiceType:"ElevenLabs",gender:null,niceVoiceName:t})}))})),W4["EN-GB"]=W4.EN,W4);function n5(e){return n5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n5(e)}function r5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r5(Object(n),!0).forEach((function(t){i5(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i5(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=n5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n5(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a5(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s5(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s5(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l5="selectedCharacterId",c5="characterVoiceMapping",u5=function(e){var t=e.selectedCharacterId,r=e.onCharacterSelect,o=e.isGenerator,i=void 0!==o&&o,a=a5((0,n.useState)(!1),2),s=a[0],l=a[1],c=a5((0,n.useState)(null),2),u=c[0],d=c[1],f=L4().enqueueSnackbar;return(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)("div",{className:"flex min-h-full items-center justify-between pb-4",children:(0,Ut.jsx)("div",{className:"flex items-center gap-2 text-sm font-medium",children:"Choose Character"})}),(0,Ut.jsx)("div",{className:"grid grid-cols-2 gap-4",children:nf.map((function(e){return(0,Ut.jsxs)("div",{className:"relative",children:[(0,Ut.jsxs)("button",{onClick:function(){return function(e){var n;if(localStorage.setItem(l5,e),r(e),t!==e&&!i){var o=be.getState().editingVideo;if(null!=o&&o.tileId){var a=Object.entries(be.getState().lessonContent.blocks).filter((function(e){var t=a5(e,2),n=(t[0],t[1]);return"videoScene"===n.type&&n.parentId===o.tileId})),s=o.sceneId?null===(n=a.find((function(e){return a5(e,1)[0]===o.sceneId})))||void 0===n?void 0:n[1]:void 0;(a.length>1||s&&s.data.transcript.length>1)&&f("Character changed. Would you like to update all characters in this video?",{action:function(t){return(0,Ut.jsx)(Fr,{variant:"secondary",size:"sm",onClick:function(){return f5(e)},children:"Update All"})}})}}}(e.id)},className:"w-full cursor-pointer text-left",children:[(0,Ut.jsx)("div",{className:vr("relative w-full rounded-md bg-accent object-contain",t===e.id?"ring-2 ring-primary ring-offset-2":"hover:ring-4 hover:ring-secondary-foreground/50"),children:(0,Ut.jsx)("img",{className:"aspect-video w-full rounded-md object-cover",alt:e.name,src:"https://storage.googleapis.com/mindsmith/characters/heygen/".concat(e.id,".webp")})}),(0,Ut.jsx)("div",{className:"py-2 pb-1 text-xs text-muted-foreground",children:e.name})]}),(0,Ut.jsx)(LV,{title:"View example video",side:"top",children:(0,Ut.jsx)(Fr,{variant:"secondary",size:"icon",className:"absolute right-1 top-1 h-8 w-8",onClick:function(){d({name:e.name,videoUrl:e.exampleVideoUrl}),l(!0)},children:(0,Ut.jsx)(l2,{className:"h-4 w-4"})})})]},e.id)}))}),u&&(0,Ut.jsx)(d5,{open:s,setOpen:l,videoUrl:u.videoUrl,characterName:u.name})]})};function d5(e){var t=e.open,n=e.setOpen,r=e.videoUrl,o=e.characterName;return(0,Ut.jsx)(MJ,{open:t,onOpenChange:n,children:(0,Ut.jsxs)(DJ,{bodyScroll:!0,className:"fixed inset-0 flex max-w-[1185px] flex-col gap-0 overflow-y-scroll p-4 md:relative md:inset-auto md:h-full md:max-h-[720px] md:min-w-0 md:overflow-hidden",children:[(0,Ut.jsx)(FJ,{className:"mb-4",children:(0,Ut.jsxs)(BJ,{children:[o," Preview"]})}),(0,Ut.jsx)("div",{className:"relative h-full w-full rounded-2xl bg-black",children:(0,Ut.jsx)("video",{src:r,controls:!0,autoPlay:!0,className:"absolute left-0 top-0 h-full w-full rounded-2xl"})})]})})}var f5=function(e){var t=be.getState().editingVideo;null!=t&&t.tileId&&Object.entries(be.getState().lessonContent.blocks).filter((function(e){var n=a5(e,2),r=(n[0],n[1]);return"videoScene"===r.type&&r.parentId===t.tileId})).forEach((function(t){var n=a5(t,2),r=n[0],o=n[1],i=o.data.transcript.map((function(t){return o5(o5({},t),{},{characterId:e})}));EE(r,o5(o5({},o.data),{},{transcript:i})),Object.entries(be.getState().lessonContent.blocks).filter((function(e){var t=a5(e,2),n=(t[0],t[1]);return"speakerElement"===n.type&&n.parentId===r})).forEach((function(t){var n=a5(t,2),r=n[0],o=n[1];EE(r,o5(o5({},o.data),{},{characterId:e}))}))}))};const p5=(0,n.createContext)(void 0);function h5(e){const t=(0,n.useContext)(p5);return e||t||"ltr"}function m5(e,[t,n]){return Math.min(n,Math.max(t,e))}const v5="ScrollArea",[g5,y5]=fL(v5),[b5,w5]=g5(v5),x5=(0,n.forwardRef)(((e,t)=>{const{__scopeScrollArea:r,type:o="hover",dir:i,scrollHideDelay:a=600,...s}=e,[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),[f,p]=(0,n.useState)(null),[h,m]=(0,n.useState)(null),[v,g]=(0,n.useState)(null),[y,b]=(0,n.useState)(0),[w,x]=(0,n.useState)(0),[S,k]=(0,n.useState)(!1),[E,O]=(0,n.useState)(!1),j=dL(t,(e=>c(e))),_=h5(i);return(0,n.createElement)(b5,{scope:r,type:o,dir:_,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:p,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:v,onScrollbarYChange:g,scrollbarYEnabled:E,onScrollbarYEnabledChange:O,onCornerWidthChange:b,onCornerHeightChange:x},(0,n.createElement)(bL.div,(0,ke.A)({dir:_},s,{ref:j,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})))})),S5="ScrollAreaViewport",k5=(0,n.forwardRef)(((e,t)=>{const{__scopeScrollArea:r,children:o,...i}=e,a=w5(S5,r),s=dL(t,(0,n.useRef)(null),a.onViewportChange);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),(0,n.createElement)(bL.div,(0,ke.A)({"data-radix-scroll-area-viewport":""},i,{ref:s,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style}}),(0,n.createElement)("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"}},o)))})),E5="ScrollAreaScrollbar",O5=(0,n.forwardRef)(((e,t)=>{const{forceMount:r,...o}=e,i=w5(E5,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:s}=i,l="horizontal"===e.orientation;return(0,n.useEffect)((()=>(l?a(!0):s(!0),()=>{l?a(!1):s(!1)})),[l,a,s]),"hover"===i.type?(0,n.createElement)(j5,(0,ke.A)({},o,{ref:t,forceMount:r})):"scroll"===i.type?(0,n.createElement)(_5,(0,ke.A)({},o,{ref:t,forceMount:r})):"auto"===i.type?(0,n.createElement)(C5,(0,ke.A)({},o,{ref:t,forceMount:r})):"always"===i.type?(0,n.createElement)(T5,(0,ke.A)({},o,{ref:t})):null})),j5=(0,n.forwardRef)(((e,t)=>{const{forceMount:r,...o}=e,i=w5(E5,e.__scopeScrollArea),[a,s]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const e=i.scrollArea;let t=0;if(e){const n=()=>{window.clearTimeout(t),s(!0)},r=()=>{t=window.setTimeout((()=>s(!1)),i.scrollHideDelay)};return e.addEventListener("pointerenter",n),e.addEventListener("pointerleave",r),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",n),e.removeEventListener("pointerleave",r)}}}),[i.scrollArea,i.scrollHideDelay]),(0,n.createElement)(fD,{present:r||a},(0,n.createElement)(C5,(0,ke.A)({"data-state":a?"visible":"hidden"},o,{ref:t})))})),_5=(0,n.forwardRef)(((e,t)=>{const{forceMount:r,...o}=e,i=w5(E5,e.__scopeScrollArea),a="horizontal"===e.orientation,s=K5((()=>c("SCROLL_END")),100),[l,c]=(u="hidden",d={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},(0,n.useReducer)(((e,t)=>{const n=d[e][t];return null!=n?n:e}),u));var u,d;return(0,n.useEffect)((()=>{if("idle"===l){const e=window.setTimeout((()=>c("HIDE")),i.scrollHideDelay);return()=>window.clearTimeout(e)}}),[l,i.scrollHideDelay,c]),(0,n.useEffect)((()=>{const e=i.viewport,t=a?"scrollLeft":"scrollTop";if(e){let n=e[t];const r=()=>{const r=e[t];n!==r&&(c("SCROLL"),s()),n=r};return e.addEventListener("scroll",r),()=>e.removeEventListener("scroll",r)}}),[i.viewport,a,c,s]),(0,n.createElement)(fD,{present:r||"hidden"!==l},(0,n.createElement)(T5,(0,ke.A)({"data-state":"hidden"===l?"hidden":"visible"},o,{ref:t,onPointerEnter:cL(e.onPointerEnter,(()=>c("POINTER_ENTER"))),onPointerLeave:cL(e.onPointerLeave,(()=>c("POINTER_LEAVE")))})))})),C5=(0,n.forwardRef)(((e,t)=>{const r=w5(E5,e.__scopeScrollArea),{forceMount:o,...i}=e,[a,s]=(0,n.useState)(!1),l="horizontal"===e.orientation,c=K5((()=>{if(r.viewport){const e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;s(l?e:t)}}),10);return X5(r.viewport,c),X5(r.content,c),(0,n.createElement)(fD,{present:o||a},(0,n.createElement)(T5,(0,ke.A)({"data-state":a?"visible":"hidden"},i,{ref:t})))})),T5=(0,n.forwardRef)(((e,t)=>{const{orientation:r="vertical",...o}=e,i=w5(E5,e.__scopeScrollArea),a=(0,n.useRef)(null),s=(0,n.useRef)(0),[l,c]=(0,n.useState)({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=U5(l.viewport,l.content),d={...o,sizes:l,onSizesChange:c,hasThumb:Boolean(u>0&&u<1),onThumbChange:e=>a.current=e,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:e=>s.current=e};function f(e,t){return function(e,t,n,r="ltr"){const o=V5(n),i=o/2,a=t||i,s=o-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-s,u=n.content-n.viewport,d="ltr"===r?[0,u]:[-1*u,0],f=W5([l,c],d);return f(e)}(e,s.current,l,t)}return"horizontal"===r?(0,n.createElement)(P5,(0,ke.A)({},d,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=H5(i.viewport.scrollLeft,l,i.dir);a.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=f(e,i.dir))}})):"vertical"===r?(0,n.createElement)(A5,(0,ke.A)({},d,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const e=H5(i.viewport.scrollTop,l);a.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=f(e))}})):null})),P5=(0,n.forwardRef)(((e,t)=>{const{sizes:r,onSizesChange:o,...i}=e,a=w5(E5,e.__scopeScrollArea),[s,l]=(0,n.useState)(),c=(0,n.useRef)(null),u=dL(t,c,a.onScrollbarXChange);return(0,n.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,n.createElement)(I5,(0,ke.A)({"data-orientation":"horizontal"},i,{ref:u,sizes:r,style:{bottom:0,left:"rtl"===a.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===a.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":V5(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollLeft+t.deltaX;e.onWheelScroll(r),q5(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&o({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$5(s.paddingLeft),paddingEnd:$5(s.paddingRight)}})}}))})),A5=(0,n.forwardRef)(((e,t)=>{const{sizes:r,onSizesChange:o,...i}=e,a=w5(E5,e.__scopeScrollArea),[s,l]=(0,n.useState)(),c=(0,n.useRef)(null),u=dL(t,c,a.onScrollbarYChange);return(0,n.useEffect)((()=>{c.current&&l(getComputedStyle(c.current))}),[c]),(0,n.createElement)(I5,(0,ke.A)({"data-orientation":"vertical"},i,{ref:u,sizes:r,style:{top:0,right:"ltr"===a.dir?0:void 0,left:"rtl"===a.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":V5(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,n)=>{if(a.viewport){const r=a.viewport.scrollTop+t.deltaY;e.onWheelScroll(r),q5(r,n)&&t.preventDefault()}},onResize:()=>{c.current&&a.viewport&&s&&o({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$5(s.paddingTop),paddingEnd:$5(s.paddingBottom)}})}}))})),[N5,M5]=g5(E5),I5=(0,n.forwardRef)(((e,t)=>{const{__scopeScrollArea:r,sizes:o,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...p}=e,h=w5(E5,r),[m,v]=(0,n.useState)(null),g=dL(t,(e=>v(e))),y=(0,n.useRef)(null),b=(0,n.useRef)(""),w=h.viewport,x=o.content-o.viewport,S=wL(d),k=wL(c),E=K5(f,10);function O(e){if(y.current){const t=e.clientX-y.current.left,n=e.clientY-y.current.top;u({x:t,y:n})}}return(0,n.useEffect)((()=>{const e=e=>{const t=e.target;(null==m?void 0:m.contains(t))&&S(e,x)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})}),[w,m,x,S]),(0,n.useEffect)(k,[o,k]),X5(m,E),X5(h.content,E),(0,n.createElement)(N5,{scope:r,scrollbar:m,hasThumb:i,onThumbChange:wL(a),onThumbPointerUp:wL(s),onThumbPositionChange:k,onThumbPointerDown:wL(l)},(0,n.createElement)(bL.div,(0,ke.A)({},p,{ref:g,style:{position:"absolute",...p.style},onPointerDown:cL(e.onPointerDown,(e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),y.current=m.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),O(e)}})),onPointerMove:cL(e.onPointerMove,O),onPointerUp:cL(e.onPointerUp,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=b.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null}))})))})),R5="ScrollAreaThumb",L5=(0,n.forwardRef)(((e,t)=>{const{forceMount:r,...o}=e,i=M5(R5,e.__scopeScrollArea);return(0,n.createElement)(fD,{present:r||i.hasThumb},(0,n.createElement)(D5,(0,ke.A)({ref:t},o)))})),D5=(0,n.forwardRef)(((e,t)=>{const{__scopeScrollArea:r,style:o,...i}=e,a=w5(R5,r),s=M5(R5,r),{onThumbPositionChange:l}=s,c=dL(t,(e=>s.onThumbChange(e))),u=(0,n.useRef)(),d=K5((()=>{u.current&&(u.current(),u.current=void 0)}),100);return(0,n.useEffect)((()=>{const e=a.viewport;if(e){const t=()=>{if(d(),!u.current){const t=G5(e,l);u.current=t,l()}};return l(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[a.viewport,d,l]),(0,n.createElement)(bL.div,(0,ke.A)({"data-state":s.hasThumb?"visible":"hidden"},i,{ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...o},onPointerDownCapture:cL(e.onPointerDownCapture,(e=>{const t=e.target.getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;s.onThumbPointerDown({x:n,y:r})})),onPointerUp:cL(e.onPointerUp,s.onThumbPointerUp)}))})),F5="ScrollAreaCorner",z5=(0,n.forwardRef)(((e,t)=>{const r=w5(F5,e.__scopeScrollArea),o=Boolean(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&o?(0,n.createElement)(B5,(0,ke.A)({},e,{ref:t})):null})),B5=(0,n.forwardRef)(((e,t)=>{const{__scopeScrollArea:r,...o}=e,i=w5(F5,r),[a,s]=(0,n.useState)(0),[l,c]=(0,n.useState)(0),u=Boolean(a&&l);return X5(i.scrollbarX,(()=>{var e;const t=(null===(e=i.scrollbarX)||void 0===e?void 0:e.offsetHeight)||0;i.onCornerHeightChange(t),c(t)})),X5(i.scrollbarY,(()=>{var e;const t=(null===(e=i.scrollbarY)||void 0===e?void 0:e.offsetWidth)||0;i.onCornerWidthChange(t),s(t)})),u?(0,n.createElement)(bL.div,(0,ke.A)({},o,{ref:t,style:{width:a,height:l,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}})):null}));function $5(e){return e?parseInt(e,10):0}function U5(e,t){const n=e/t;return isNaN(n)?0:n}function V5(e){const t=U5(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function H5(e,t,n="ltr"){const r=V5(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-o,a=t.content-t.viewport,s=i-r,l=m5(e,"ltr"===n?[0,a]:[-1*a,0]);return W5([0,a],[0,s])(l)}function W5(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function q5(e,t){return e>0&&e<t}const G5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function o(){const i={left:e.scrollLeft,top:e.scrollTop},a=n.left!==i.left,s=n.top!==i.top;(a||s)&&t(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function K5(e,t){const r=wL(e),o=(0,n.useRef)(0);return(0,n.useEffect)((()=>()=>window.clearTimeout(o.current)),[]),(0,n.useCallback)((()=>{window.clearTimeout(o.current),o.current=window.setTimeout(r,t)}),[r,t])}function X5(e,t){const n=wL(t);UL((()=>{let t=0;if(e){const r=new ResizeObserver((()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(n)}));return r.observe(e),()=>{window.cancelAnimationFrame(t),r.unobserve(e)}}}),[e,n])}const Y5=x5,Z5=k5,J5=z5;function Q5(e){return Q5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q5(e)}var e3=["className","children"],t3=["className","orientation"];function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n3(Object(n),!0).forEach((function(t){o3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o3(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Q5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q5(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q5(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i3(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var a3=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=i3(e,e3);return(0,Ut.jsxs)(Y5,r3(r3({ref:t,className:vr("relative overflow-hidden",n)},o),{},{children:[(0,Ut.jsx)(Z5,{className:"h-full w-full rounded-[inherit]",children:r}),(0,Ut.jsx)(s3,{}),(0,Ut.jsx)(J5,{})]}))}));a3.displayName=Y5.displayName;var s3=n.forwardRef((function(e,t){var n=e.className,r=e.orientation,o=void 0===r?"vertical":r,i=i3(e,t3);return(0,Ut.jsx)(O5,r3(r3({ref:t,orientation:o,className:vr("flex touch-none select-none transition-colors","vertical"===o&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===o&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",n)},i),{},{children:(0,Ut.jsx)(L5,{className:"relative flex-1 rounded-full bg-border dark:bg-gray-500 bg-gray-400"})}))}));s3.displayName=O5.displayName;const l3=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(d3);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(c3,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(c3,(0,ke.A)({},o,{ref:t}),r)}));l3.displayName="Slot";const c3=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...f3(o,r.props),ref:t?uL(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));c3.displayName="SlotClone";const u3=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function d3(e){return(0,n.isValidElement)(e)&&e.type===u3}function f3(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function p3(e){const t=e+"CollectionProvider",[r,o]=fL(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:r}=e,o=n.useRef(null),a=n.useRef(new Map).current;return n.createElement(i,{scope:t,itemMap:a,collectionRef:o},r)},l=e+"CollectionSlot",c=n.forwardRef(((e,t)=>{const{scope:r,children:o}=e,i=dL(t,a(l,r).collectionRef);return n.createElement(l3,{ref:i},o)})),u=e+"CollectionItemSlot",d="data-radix-collection-item",f=n.forwardRef(((e,t)=>{const{scope:r,children:o,...i}=e,s=n.useRef(null),l=dL(t,s),c=a(u,r);return n.useEffect((()=>(c.itemMap.set(s,{ref:s,...i}),()=>{c.itemMap.delete(s)}))),n.createElement(l3,{[d]:"",ref:l},o)}));return[{Provider:s,Slot:c,ItemSlot:f},function(t){const r=a(e+"CollectionConsumer",t),o=n.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`)),n=Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)));return n}),[r.collectionRef,r.itemMap]);return o},o]}const h3=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(g3);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(m3,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(m3,(0,ke.A)({},o,{ref:t}),r)}));h3.displayName="Slot";const m3=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...y3(o,r.props),ref:t?uL(t,r.ref):r.ref}):n.Children.count(r)>1?n.Children.only(null):null}));m3.displayName="SlotClone";const v3=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function g3(e){return(0,n.isValidElement)(e)&&e.type===v3}function y3(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...e)=>{i(...e),o(...e)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function b3(e){const t=(0,n.useRef)({value:e,previous:e});return(0,n.useMemo)((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}const w3=(0,n.forwardRef)(((e,t)=>(0,n.createElement)(bL.span,(0,ke.A)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})))),x3=[" ","Enter","ArrowUp","ArrowDown"],S3=[" ","Enter"],k3="Select",[E3,O3,j3]=p3(k3),[_3,C3]=fL(k3,[j3,XL]),T3=XL(),[P3,A3]=_3(k3),[N3,M3]=_3(k3),I3=e=>{const{__scopeSelect:t,children:r,open:o,defaultOpen:i,onOpenChange:a,value:s,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:h}=e,m=T3(t),[v,g]=(0,n.useState)(null),[y,b]=(0,n.useState)(null),[w,x]=(0,n.useState)(!1),S=h5(u),[k=!1,E]=bD({prop:o,defaultProp:i,onChange:a}),[O,j]=bD({prop:s,defaultProp:l,onChange:c}),_=(0,n.useRef)(null),C=!v||Boolean(v.closest("form")),[T,P]=(0,n.useState)(new Set),A=Array.from(T).map((e=>e.props.value)).join(";");return(0,n.createElement)(lD,m,(0,n.createElement)(P3,{required:h,scope:t,trigger:v,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:WL(),value:O,onValueChange:j,open:k,onOpenChange:E,dir:S,triggerPointerDownPosRef:_,disabled:p},(0,n.createElement)(E3.Provider,{scope:t},(0,n.createElement)(N3,{scope:e.__scopeSelect,onNativeOptionAdd:(0,n.useCallback)((e=>{P((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:(0,n.useCallback)((e=>{P((t=>{const n=new Set(t);return n.delete(e),n}))}),[])},r)),C?(0,n.createElement)(y6,{key:A,"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:O,onChange:e=>j(e.target.value),disabled:p},void 0===O?(0,n.createElement)("option",{value:""}):null,Array.from(T)):null))},R3="SelectTrigger",L3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,disabled:o=!1,...i}=e,a=T3(r),s=A3(R3,r),l=s.disabled||o,c=dL(t,s.onTriggerChange),u=O3(r),[d,f,p]=b6((e=>{const t=u().filter((e=>!e.disabled)),n=t.find((e=>e.value===s.value)),r=w6(t,e,n);void 0!==r&&s.onValueChange(r.value)})),h=()=>{l||(s.onOpenChange(!0),p())};return(0,n.createElement)(cD,(0,ke.A)({asChild:!0},a),(0,n.createElement)(bL.button,(0,ke.A)({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":g6(s.value)?"":void 0},i,{ref:c,onClick:cL(i.onClick,(e=>{e.currentTarget.focus()})),onPointerDown:cL(i.onPointerDown,(e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())})),onKeyDown:cL(i.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||x3.includes(e.key)&&(h(),e.preventDefault())}))})))})),D3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,children:o,...i}=e;return(0,n.createElement)(bL.span,(0,ke.A)({"aria-hidden":!0},i,{ref:t}),o||"▼")})),F3=e=>(0,n.createElement)(dD,(0,ke.A)({asChild:!0},e)),z3="SelectContent",B3=(0,n.forwardRef)(((e,t)=>{const r=A3(z3,e.__scopeSelect),[o,i]=(0,n.useState)();if(UL((()=>{i(new DocumentFragment)}),[]),!r.open){const t=o;return t?(0,Zr.createPortal)((0,n.createElement)(U3,{scope:e.__scopeSelect},(0,n.createElement)(E3.Slot,{scope:e.__scopeSelect},(0,n.createElement)("div",null,e.children))),t):null}return(0,n.createElement)(H3,(0,ke.A)({},e,{ref:t}))})),$3=10,[U3,V3]=_3(z3),H3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:s,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:g,...y}=e,b=A3(z3,r),[w,x]=(0,n.useState)(null),[S,k]=(0,n.useState)(null),E=dL(t,(e=>x(e))),[O,j]=(0,n.useState)(null),[_,C]=(0,n.useState)(null),T=O3(r),[P,A]=(0,n.useState)(!1),N=(0,n.useRef)(!1);(0,n.useEffect)((()=>{if(w)return Bg(w)}),[w]),PL();const M=(0,n.useCallback)((e=>{const[t,...n]=T().map((e=>e.ref.current)),[r]=n.slice(-1),o=document.activeElement;for(const n of e){if(n===o)return;if(null==n||n.scrollIntoView({block:"nearest"}),n===t&&S&&(S.scrollTop=0),n===r&&S&&(S.scrollTop=S.scrollHeight),null==n||n.focus(),document.activeElement!==o)return}}),[T,S]),I=(0,n.useCallback)((()=>M([O,w])),[M,O,w]);(0,n.useEffect)((()=>{P&&I()}),[P,I]);const{onOpenChange:R,triggerPointerDownPosRef:L}=b;(0,n.useEffect)((()=>{if(w){let e={x:0,y:0};const t=t=>{var n,r,o,i;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=L.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(o=null===(i=L.current)||void 0===i?void 0:i.y)&&void 0!==o?o:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||R(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[w,R,L]),(0,n.useEffect)((()=>{const e=()=>R(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[R]);const[D,F]=b6((e=>{const t=T().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=w6(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),z=(0,n.useCallback)(((e,t,n)=>{const r=!N.current&&!n;(void 0!==b.value&&b.value===t||r)&&(j(e),r&&(N.current=!0))}),[b.value]),B=(0,n.useCallback)((()=>null==w?void 0:w.focus()),[w]),$=(0,n.useCallback)(((e,t,n)=>{const r=!N.current&&!n;(void 0!==b.value&&b.value===t||r)&&C(e)}),[b.value]),U="popper"===o?q3:W3,V=U===q3?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:h,sticky:m,hideWhenDetached:v,avoidCollisions:g}:{};return(0,n.createElement)(U3,{scope:r,content:w,viewport:S,onViewportChange:k,itemRefCallback:z,selectedItem:O,onItemLeave:B,itemTextRefCallback:$,focusSelectedItem:I,selectedItemText:_,position:o,isPositioned:P,searchRef:D},(0,n.createElement)(FD,{as:h3,allowPinchZoom:!0},(0,n.createElement)(RL,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:cL(i,(e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()}))},(0,n.createElement)(jL,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},(0,n.createElement)(U,(0,ke.A)({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},y,V,{onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:cL(y.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||F(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=T().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>M(t))),e.preventDefault()}}))}))))))})),W3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,onPlaced:o,...i}=e,a=A3(z3,r),s=V3(z3,r),[l,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(null),f=dL(t,(e=>d(e))),p=O3(r),h=(0,n.useRef)(!1),m=(0,n.useRef)(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=s,w=(0,n.useCallback)((()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&g&&y){const e=a.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),r=y.getBoundingClientRect();if("rtl"!==a.dir){const o=r.left-t.left,i=n.left-o,a=e.left-i,s=e.width+a,c=Math.max(s,t.width),u=window.innerWidth-$3,d=m5(i,[$3,u-c]);l.style.minWidth=s+"px",l.style.left=d+"px"}else{const o=t.right-r.right,i=window.innerWidth-n.right-o,a=window.innerWidth-e.right-i,s=e.width+a,c=Math.max(s,t.width),u=window.innerWidth-$3,d=m5(i,[$3,u-c]);l.style.minWidth=s+"px",l.style.right=d+"px"}const i=p(),s=window.innerHeight-2*$3,c=v.scrollHeight,d=window.getComputedStyle(u),f=parseInt(d.borderTopWidth,10),m=parseInt(d.paddingTop,10),b=parseInt(d.borderBottomWidth,10),w=f+m+c+parseInt(d.paddingBottom,10)+b,x=Math.min(5*g.offsetHeight,w),S=window.getComputedStyle(v),k=parseInt(S.paddingTop,10),E=parseInt(S.paddingBottom,10),O=e.top+e.height/2-$3,j=s-O,_=g.offsetHeight/2,C=f+m+(g.offsetTop+_),T=w-C;if(C<=O){const e=g===i[i.length-1].ref.current;l.style.bottom="0px";const t=u.clientHeight-v.offsetTop-v.offsetHeight,n=C+Math.max(j,_+(e?E:0)+t+b);l.style.height=n+"px"}else{const e=g===i[0].ref.current;l.style.top="0px";const t=Math.max(O,f+v.offsetTop+(e?k:0)+_)+T;l.style.height=t+"px",v.scrollTop=C-O+v.offsetTop}l.style.margin=`${$3}px 0`,l.style.minHeight=x+"px",l.style.maxHeight=s+"px",null==o||o(),requestAnimationFrame((()=>h.current=!0))}}),[p,a.trigger,a.valueNode,l,u,v,g,y,a.dir,o]);UL((()=>w()),[w]);const[x,S]=(0,n.useState)();UL((()=>{u&&S(window.getComputedStyle(u).zIndex)}),[u]);const k=(0,n.useCallback)((e=>{e&&!0===m.current&&(w(),null==b||b(),m.current=!1)}),[w,b]);return(0,n.createElement)(G3,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:k},(0,n.createElement)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},(0,n.createElement)(bL.div,(0,ke.A)({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))})),q3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,align:o="start",collisionPadding:i=$3,...a}=e,s=T3(r);return(0,n.createElement)(uD,(0,ke.A)({},s,a,{ref:t,align:o,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))})),[G3,K3]=_3(z3,{}),X3="SelectViewport",Y3=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,...o}=e,i=V3(X3,r),a=K3(X3,r),s=dL(t,i.onViewportChange),l=(0,n.useRef)(0);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,n.createElement)(E3.Slot,{scope:r},(0,n.createElement)(bL.div,(0,ke.A)({"data-radix-select-viewport":"",role:"presentation"},o,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...o.style},onScroll:cL(o.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=a;if(null!=r&&r.current&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*$3,o=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),a=Math.max(o,i);if(a<r){const o=a+e,i=Math.min(r,o),s=o-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=s>0?s:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))}))))})),Z3="SelectGroup",[J3,Q3]=_3(Z3),e6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,...o}=e,i=WL();return(0,n.createElement)(J3,{scope:r,id:i},(0,n.createElement)(bL.div,(0,ke.A)({role:"group","aria-labelledby":i},o,{ref:t})))})),t6="SelectLabel",n6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,...o}=e,i=Q3(t6,r);return(0,n.createElement)(bL.div,(0,ke.A)({id:i.id},o,{ref:t}))})),r6="SelectItem",[o6,i6]=_3(r6),a6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:a,...s}=e,l=A3(r6,r),c=V3(r6,r),u=l.value===o,[d,f]=(0,n.useState)(null!=a?a:""),[p,h]=(0,n.useState)(!1),m=dL(t,(e=>{var t;return null===(t=c.itemRefCallback)||void 0===t?void 0:t.call(c,e,o,i)})),v=WL(),g=()=>{i||(l.onValueChange(o),l.onOpenChange(!1))};if(""===o)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,n.createElement)(o6,{scope:r,value:o,disabled:i,textId:v,isSelected:u,onItemTextChange:(0,n.useCallback)((e=>{f((t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()}))}),[])},(0,n.createElement)(E3.ItemSlot,{scope:r,value:o,disabled:i,textValue:d},(0,n.createElement)(bL.div,(0,ke.A)({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:m,onFocus:cL(s.onFocus,(()=>h(!0))),onBlur:cL(s.onBlur,(()=>h(!1))),onPointerUp:cL(s.onPointerUp,g),onPointerMove:cL(s.onPointerMove,(e=>{var t;i?null===(t=c.onItemLeave)||void 0===t||t.call(c):e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:cL(s.onPointerLeave,(e=>{var t;e.currentTarget===document.activeElement&&(null===(t=c.onItemLeave)||void 0===t||t.call(c))})),onKeyDown:cL(s.onKeyDown,(e=>{var t;""!==(null===(t=c.searchRef)||void 0===t?void 0:t.current)&&" "===e.key||(S3.includes(e.key)&&g()," "===e.key&&e.preventDefault())}))}))))})),s6="SelectItemText",l6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,className:o,style:i,...a}=e,s=A3(s6,r),l=V3(s6,r),c=i6(s6,r),u=M3(s6,r),[d,f]=(0,n.useState)(null),p=dL(t,(e=>f(e)),c.onItemTextChange,(e=>{var t;return null===(t=l.itemTextRefCallback)||void 0===t?void 0:t.call(l,e,c.value,c.disabled)})),h=null==d?void 0:d.textContent,m=(0,n.useMemo)((()=>(0,n.createElement)("option",{key:c.value,value:c.value,disabled:c.disabled},h)),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=u;return UL((()=>(v(m),()=>g(m))),[v,g,m]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(bL.span,(0,ke.A)({id:c.textId},a,{ref:p})),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?(0,Zr.createPortal)(a.children,s.valueNode):null)})),c6="SelectItemIndicator",u6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,...o}=e;return i6(c6,r).isSelected?(0,n.createElement)(bL.span,(0,ke.A)({"aria-hidden":!0},o,{ref:t})):null})),d6="SelectScrollUpButton",f6=(0,n.forwardRef)(((e,t)=>{const r=V3(d6,e.__scopeSelect),o=K3(d6,e.__scopeSelect),[i,a]=(0,n.useState)(!1),s=dL(t,o.onScrollButtonChange);return UL((()=>{if(r.viewport&&r.isPositioned){const e=r.viewport;function t(){const t=e.scrollTop>0;a(t)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[r.viewport,r.isPositioned]),i?(0,n.createElement)(m6,(0,ke.A)({},e,{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}})):null})),p6="SelectScrollDownButton",h6=(0,n.forwardRef)(((e,t)=>{const r=V3(p6,e.__scopeSelect),o=K3(p6,e.__scopeSelect),[i,a]=(0,n.useState)(!1),s=dL(t,o.onScrollButtonChange);return UL((()=>{if(r.viewport&&r.isPositioned){const e=r.viewport;function t(){const t=e.scrollHeight-e.clientHeight,n=Math.ceil(e.scrollTop)<t;a(n)}return t(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}}),[r.viewport,r.isPositioned]),i?(0,n.createElement)(m6,(0,ke.A)({},e,{ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}})):null})),m6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=e,a=V3("SelectScrollButton",r),s=(0,n.useRef)(null),l=O3(r),c=(0,n.useCallback)((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return(0,n.useEffect)((()=>()=>c()),[c]),UL((()=>{var e;const t=l().find((e=>e.ref.current===document.activeElement));null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})}),[l]),(0,n.createElement)(bL.div,(0,ke.A)({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:cL(i.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(o,50))})),onPointerMove:cL(i.onPointerMove,(()=>{var e;null===(e=a.onItemLeave)||void 0===e||e.call(a),null===s.current&&(s.current=window.setInterval(o,50))})),onPointerLeave:cL(i.onPointerLeave,(()=>{c()}))}))})),v6=(0,n.forwardRef)(((e,t)=>{const{__scopeSelect:r,...o}=e;return(0,n.createElement)(bL.div,(0,ke.A)({"aria-hidden":!0},o,{ref:t}))}));function g6(e){return""===e||void 0===e}const y6=(0,n.forwardRef)(((e,t)=>{const{value:r,...o}=e,i=(0,n.useRef)(null),a=dL(t,i),s=b3(r);return(0,n.useEffect)((()=>{const e=i.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(s!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[s,r]),(0,n.createElement)(w3,{asChild:!0},(0,n.createElement)("select",(0,ke.A)({},o,{ref:a,defaultValue:r})))}));function b6(e){const t=wL(e),r=(0,n.useRef)(""),o=(0,n.useRef)(0),i=(0,n.useCallback)((e=>{const n=r.current+e;t(n),function e(t){r.current=t,window.clearTimeout(o.current),""!==t&&(o.current=window.setTimeout((()=>e("")),1e3))}(n)}),[t]),a=(0,n.useCallback)((()=>{r.current="",window.clearTimeout(o.current)}),[]);return(0,n.useEffect)((()=>()=>window.clearTimeout(o.current)),[]),[r,i,a]}function w6(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,o=n?e.indexOf(n):-1;let i=function(e,t){return e.map(((n,r)=>e[(t+r)%e.length]))}(e,Math.max(o,0));1===r.length&&(i=i.filter((e=>e!==n)));const a=i.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return a!==n?a:void 0}y6.displayName="BubbleSelect";const x6=I3,S6=L3,k6=D3,E6=F3,O6=B3,j6=Y3,_6=e6,C6=n6,T6=a6,P6=l6,A6=u6,N6=f6,M6=h6,I6=v6,R6=Gw("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);function L6(e){return L6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L6(e)}var D6=["className","children"],F6=["className"],z6=["className"],B6=["className","children","position","bottomChildren"],$6=["className"],U6=["className"],V6=["className","children","fullWidth"],H6=["className","children"],W6=["className"];function q6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q6(Object(n),!0).forEach((function(t){K6(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K6(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=L6(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L6(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X6(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Y6=x6,Z6=_6,J6=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=X6(e,D6);return(0,Ut.jsxs)(S6,G6(G6({ref:t,className:vr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},o),{},{children:[r,(0,Ut.jsx)(k6,{asChild:!0,children:(0,Ut.jsx)(R6,{className:"h-4 w-4 opacity-50"})})]}))}));J6.displayName=S6.displayName;var Q6=n.forwardRef((function(e,t){var n=e.className,r=X6(e,F6);return(0,Ut.jsx)(N6,G6(G6({ref:t,className:vr("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Ut.jsx)($K,{className:"h-4 w-4"})}))}));Q6.displayName=N6.displayName;var e7=n.forwardRef((function(e,t){var n=e.className,r=X6(e,z6);return(0,Ut.jsx)(M6,G6(G6({ref:t,className:vr("flex cursor-default items-center justify-center py-1",n)},r),{},{children:(0,Ut.jsx)(R6,{className:"h-4 w-4"})}))}));e7.displayName=M6.displayName;var t7=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.position,i=void 0===o?"popper":o,a=e.bottomChildren,s=X6(e,B6);return(0,Ut.jsx)(E6,{children:(0,Ut.jsxs)(O6,G6(G6({ref:t,className:vr("relative z-[1300] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i},s),{},{children:[(0,Ut.jsx)(Q6,{}),(0,Ut.jsx)(j6,{className:vr("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,Ut.jsx)(e7,{}),a]}))})}));t7.displayName=O6.displayName;var n7=n.forwardRef((function(e,t){var n=e.className,r=X6(e,$6);return(0,Ut.jsx)(C6,G6({ref:t,className:vr("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},r))}));n7.displayName=C6.displayName;var r7=n.forwardRef((function(e,t){var n=e.className,r=X6(e,U6);return(0,Ut.jsx)(C6,G6({ref:t,className:vr("py-1.5 pl-2 pr-8 text-sm font-semibold",n)},r))}));r7.displayName=C6.displayName;var o7=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.fullWidth,i=X6(e,V6);return(0,Ut.jsxs)(T6,G6(G6({ref:t,className:vr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},i),{},{children:[(0,Ut.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Ut.jsx)(A6,{children:(0,Ut.jsx)(Xw,{className:"h-4 w-4"})})}),o?r:(0,Ut.jsx)(P6,{className:"block w-[300px]",children:r})]}))}));o7.displayName=T6.displayName;var i7=n.forwardRef((function(e,t){var n=e.className,r=e.children,o=X6(e,H6);return(0,Ut.jsxs)(T6,G6(G6({ref:t,className:vr("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},o),{},{children:[(0,Ut.jsx)(P6,{children:r}),(0,Ut.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,Ut.jsx)(A6,{children:(0,Ut.jsx)(Xw,{className:"h-4 w-4"})})})]}))}));i7.displayName="SelectItemRight";var a7=n.forwardRef((function(e,t){var n=e.className,r=X6(e,W6);return(0,Ut.jsx)(I6,G6({ref:t,className:vr("-mx-1 my-1 h-px bg-muted",n)},r))}));a7.displayName=I6.displayName;const s7=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}));function l7(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function c7(e,t=!1){return e&&(l7(e.value)&&""!==e.value||t&&l7(e.defaultValue)&&""!==e.defaultValue)}const u7=function(e,t){var r,o;return n.isValidElement(e)&&-1!==t.indexOf(null!=(r=e.type.muiName)?r:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)};const d7=n.createContext(void 0);function f7(e){return zt("MuiFormControl",e)}Bt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const p7=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],h7=_t("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,ke.A)({},t.root,t[`margin${tn(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,ke.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}))),m7=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiFormControl"}),{children:o,className:i,color:a="primary",component:s="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:f=!1,margin:p="none",required:h=!1,size:m="medium",variant:v="outlined"}=r,g=(0,Se.A)(r,p7),y=(0,ke.A)({},r,{color:a,component:s,disabled:l,error:c,fullWidth:d,hiddenLabel:f,margin:p,required:h,size:m,variant:v}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return Ce({root:["root","none"!==n&&`margin${tn(n)}`,r&&"fullWidth"]},f7,t)})(y),[w,x]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{if(!u7(t,["Input","Select"]))return;const n=u7(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,k]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{u7(t,["Input","Select"])&&(c7(t.props,!0)||c7(t.props.inputProps,!0))&&(e=!0)})),e})),[E,O]=n.useState(!1);l&&E&&O(!1);const j=void 0===u||l?E:u;let _;const C=n.useMemo((()=>({adornedStart:w,setAdornedStart:x,color:a,disabled:l,error:c,filled:S,focused:j,fullWidth:d,hiddenLabel:f,size:m,onBlur:()=>{O(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{O(!0)},registerEffect:_,required:h,variant:v})),[w,a,l,c,S,j,d,f,_,h,m,v]);return(0,Ut.jsx)(d7.Provider,{value:C,children:(0,Ut.jsx)(h7,(0,ke.A)({as:s,ownerState:y,className:je(b.root,i),ref:t},g,{children:o}))})})),v7=m7;let g7=!0,y7=!1;const b7=new C2,w7={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function x7(e){e.metaKey||e.altKey||e.ctrlKey||(g7=!0)}function S7(){g7=!1}function k7(){"hidden"===this.visibilityState&&y7&&(g7=!0)}function E7(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return g7||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!w7[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const O7=function(){const e=n.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",x7,!0),e.addEventListener("mousedown",S7,!0),e.addEventListener("pointerdown",S7,!0),e.addEventListener("touchstart",S7,!0),e.addEventListener("visibilitychange",k7,!0)}(e.ownerDocument)}),[]),t=n.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!E7(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(y7=!0,b7.start(100,(()=>{y7=!1})),t.current=!1,!0)},ref:e}};function j7(e){return zt("MuiLink",e)}const _7=Bt("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var C7=o(6481);const T7={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},P7=({theme:e,ownerState:t})=>{const n=(e=>T7[e]||e)(t.color),r=(0,C7.Yn)(e,`palette.${n}`,!1)||t.color,o=(0,C7.Yn)(e,`palette.${n}Channel`);return"vars"in e&&o?`rgba(${o} / 0.4)`:(0,qe.X4)(r,.4)},A7=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],N7=_t(cn,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${tn(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>(0,ke.A)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,ke.A)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:P7({theme:e,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_7.focusVisible}`]:{outline:"auto"}}))),M7=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiLink"}),{className:o,color:i="primary",component:a="a",onBlur:s,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:f}=r,p=(0,Se.A)(r,A7),{isFocusVisibleRef:h,onBlur:m,onFocus:v,ref:g}=O7(),[y,b]=n.useState(!1),w=m2(t,g),x=(0,ke.A)({},r,{color:i,component:a,focusVisible:y,underline:u,variant:d}),S=(e=>{const{classes:t,component:n,focusVisible:r,underline:o}=e;return Ce({root:["root",`underline${tn(o)}`,"button"===n&&"button",r&&"focusVisible"]},j7,t)})(x);return(0,Ut.jsx)(N7,(0,ke.A)({color:i,className:je(S.root,o),classes:c,component:a,onBlur:e=>{m(e),!1===h.current&&b(!1),s&&s(e)},onFocus:e=>{v(e),!0===h.current&&b(!0),l&&l(e)},ref:w,ownerState:x,variant:d,sx:[...Object.keys(T7).includes(i)?[]:[{color:i}],...Array.isArray(f)?f:[f]]},p))})),I7=M7;var R7=function(e,t){var n;return(null===(n=t5[t])||void 0===n||null===(n=n.find((function(t){return t.voiceName===e})))||void 0===n?void 0:n.voiceType)||"Neural2"},L7=o(3013);function D7(e){return D7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D7(e)}var F7=["className","variant"],z7=["className"],B7=["className"];function $7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$7(Object(n),!0).forEach((function(t){V7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V7(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=D7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D7(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var W7=Pn("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",info:"border-blue-300 bg-blue-50 text-blue-950 dark:border-blue-800 dark:bg-blue-950 dark:text-blue-100 [&>svg]:text-blue-800 dark:[&>svg]:text-blue-300"}},defaultVariants:{variant:"default"}}),q7=n.forwardRef((function(e,t){var n=e.className,r=e.variant,o=H7(e,F7);return(0,Ut.jsx)("div",U7({ref:t,role:"alert",className:vr(W7({variant:r}),n)},o))}));q7.displayName="Alert";var G7=n.forwardRef((function(e,t){var n=e.className,r=H7(e,z7);return(0,Ut.jsx)("h5",U7({ref:t,className:vr("mb-1 font-medium leading-none tracking-tight",n)},r))}));G7.displayName="AlertTitle";var K7=n.forwardRef((function(e,t){var n=e.className,r=H7(e,B7);return(0,Ut.jsx)("div",U7({ref:t,className:vr("text-sm [&_p]:leading-relaxed",n)},r))}));function X7(e){return X7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X7(e)}K7.displayName="AlertDescription";var Y7=["className","variant"];function Z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J7(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=X7(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=X7(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==X7(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q7=Pn("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function e8(e){var t=e.className,n=e.variant,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Y7);return(0,Ut.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z7(Object(n),!0).forEach((function(t){J7(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:vr(Q7({variant:n}),t)},r))}function t8(e){return t8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t8(e)}function n8(){n8=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==t8(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(t8(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function r8(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function o8(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){r8(i,r,o,a,s,"next",e)}function s(e){r8(i,r,o,a,s,"throw",e)}a(void 0)}))}}function i8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a8(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a8(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s8=function(e){var t=Br(),r=i8((0,n.useState)(null),2),o=r[0],i=r[1],a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.language}))||"EN",s=Ds.translate.translateText.useMutation(),l=Ds.generate.narrateText.useMutation(),c=xh().isDarkTheme,u=i8((0,n.useState)(!1),2),d=u[0],f=u[1],p=t5[a].find((function(t){return t.voiceName===e.voiceName})),h=function(){var e=o8(n8().mark((function e(t){var n,r;return n8().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("EN"!==a){e.next=4;break}e.t0=q4,e.next=7;break;case 4:return e.next=6,s.mutateAsync({text:q4,inputLanguage:"EN",outputLanguage:a});case 6:e.t0=e.sent;case 7:return n=e.t0,e.next=10,l.mutateAsync({text:n,voiceName:t});case 10:return r=e.sent,e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=o8(n8().mark((function e(t,n){var r,o;return n8().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,h(n);case 3:r=e.sent,(o=new Audio(r)).play(),i(o),o.play(),o.addEventListener("ended",(function(){i(null)}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=R7(e.voiceName,a),g=function(e){var t,n=(null===(t=(0,L7.useSession)().data)||void 0===t?void 0:t.user.tier)||"FREE",r={session:null,isLoading:!1,error:null},o=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.language}))||"EN",i=R7(e,o),a=function(e,t){return!(e&&t&&(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||"FREE"===e&&"FREE"===t||"PRO"===e&&"FREE"===t||"PRO"===e&&"PRO"===t||"ENTERPRISE"===e))}(n,G4[i],!(null==r||!r.session));return a}(e.voiceName),y="ENTERPRISE"===G4[v]&&g,b=t5[a];(0,n.useEffect)((function(){e.open||(null==o||o.pause(),i(null))}),[e.open,o]);return(0,Ut.jsx)("div",{className:"flex flex-col gap-4",children:(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)(qR,{children:t("voice")}),b.length>0?(0,Ut.jsx)("div",{className:"flex items-start gap-2",children:(0,Ut.jsx)("div",{className:"relative flex-grow",children:(0,Ut.jsx)(v7,{fullWidth:!0,children:(0,Ut.jsxs)(Y6,{value:e.voiceName,open:d,children:[(0,Ut.jsx)(J6,{onPointerDown:function(e){e.stopPropagation(),e.preventDefault(),f(!d)},children:(0,Ut.jsx)(l8,{voiceEntry:p})}),(0,Ut.jsx)(t7,{className:c?"dark":"text-foreground",onPointerDownOutside:function(){return f(!1)},children:(0,Ut.jsx)(Z6,{children:b.map((function(t){return(0,Ut.jsx)(o7,{value:t.voiceName,className:"pr-0",onPointerDown:function(n){n.stopPropagation(),n.preventDefault(),function(t){e.setVoiceName(t),null==o||o.pause(),i(null),f(!1)}(t.voiceName)},fullWidth:!0,children:(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,Ut.jsx)(l8,{voiceEntry:t}),(0,Ut.jsx)(Fr,{variant:"outline",size:"icon",color:"primary",onClick:function(e){return m(e,t.voiceName)},onPointerDown:function(e){e.stopPropagation(),e.preventDefault()},className:"pointer-events-auto mr-2 hover:border-gray-200",children:(0,Ut.jsx)(s7,{className:"h-6 w-6"})})]})},t.voiceName)}))})})]})})})}):(0,Ut.jsx)(c8,{}),y&&(0,Ut.jsx)(u8,{})]})})};function l8(e){var t,n,r,o,i;return(0,Ut.jsxs)("div",{children:[null!==(t=e.voiceEntry)&&void 0!==t&&t.niceVoiceName?function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(null===(n=e.voiceEntry)||void 0===n?void 0:n.niceVoiceName):(0,Ut.jsx)("span",{className:"capitalize",children:null===(r=e.voiceEntry)||void 0===r?void 0:r.gender})," ",(0,Ut.jsx)(e8,{variant:"Studio"===(null===(o=e.voiceEntry)||void 0===o?void 0:o.voiceType)?"default":"secondary",className:"border-gray-500",children:null===(i=e.voiceEntry)||void 0===i?void 0:i.voiceType})]})}var c8=function(){var e=Br(),t=Br();return(0,Ut.jsxs)(q7,{children:[(0,Ut.jsx)(G7,{children:e("noVoicesForLanguage")}),(0,Ut.jsx)(I7,{color:"inherit",target:"_blank",href:"mailto:ethan@mindsmith.ai",children:t("contactUs")})," "]})},u8=function(){var e=Br(),t=Br();return(0,Ut.jsx)("div",{className:"pt-4",children:(0,Ut.jsxs)(q7,{children:[(0,Ut.jsx)(G7,{children:e("thisVoiceIsOnlyAvailableOnOurBusinessPlan")}),(0,Ut.jsx)(I7,{color:"inherit",target:"_blank",href:"https://meetings.hubspot.com/ethanwebb/teams-demo-app",children:t("contactUs")})," ",e("toLearnMore")]})})};function d8(e){return d8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d8(e)}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p8(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f8(Object(n),!0).forEach((function(t){h8(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h8(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=d8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=d8(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d8(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v8(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v8(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var g8=function(e){var t=e.node,r=e.updateAttributes,o=(e.editor,L4().enqueueSnackbar),i=t.attrs.characterId,a=t.attrs.sceneId,s=m8((0,n.useState)(!1),2),l=s[0],c=s[1],u=m8((0,n.useState)(!1),2),d=u[0],f=u[1],p=m8((0,n.useState)(!1),2),h=p[0],m=p[1],v=function(e){var t=localStorage.getItem(c5),n=t?JSON.parse(t):{};if(n[e]){var r=n[e];return Y4[r]||r}var o=nf.find((function(t){return t.id===e})),i=(null==o?void 0:o.defaultVoiceId)||"";return Y4[i]||"shimmer"}(i),g=function(e,t){var n=be.getState().editingVideo;null!=n&&n.tileId&&(Object.entries(be.getState().lessonContent.blocks).filter((function(e){var t=m8(e,2),r=(t[0],t[1]);return"videoScene"===r.type&&r.parentId===n.tileId})).forEach((function(n){var r=m8(n,2),o=r[0],i=r[1],a=i.data.transcript.map((function(n){return p8(p8({},n),{},{voiceId:n.characterId===e?t:n.voiceId})}));EE(o,p8(p8({},i.data),{},{transcript:a}))})),o("Voices updated"))};return(0,Ut.jsxs)(TR,{className:"relative flex cursor-auto select-none items-center gap-2 font-mono",children:[(0,Ut.jsx)(CR,{className:"flex-grow"}),(0,Ut.jsxs)(dF,{open:l||d||h,children:[(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsx)("button",{className:"relative focus:outline-none",onClick:function(e){return e.stopPropagation()},onMouseEnter:function(){return c(!0)},children:(0,Ut.jsxs)(i2,{className:"h-8 w-8",children:[i?(0,Ut.jsx)(a2,{src:"https://storage.googleapis.com/mindsmith/characters/heygen/".concat(i,".webp"),alt:"Character",className:"object-cover object-top"}):null,(0,Ut.jsx)(s2,{className:"text-xs",children:i?"S":"?"})]})})}),(0,Ut.jsx)(pF,{className:"w-auto p-0 data-[state=closed]:!zoom-out-100 data-[state=open]:!zoom-in-100 data-[side=left]:!slide-in-from-right-0",side:"left",sideOffset:-37,align:"center",onMouseLeave:function(){c(!1)},onInteractOutside:function(){c(!1),f(!1),m(!1)},children:(0,Ut.jsxs)("div",{className:"flex",children:[(0,Ut.jsxs)(dF,{open:h,onOpenChange:m,children:[(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsx)("div",{className:"flex-1 cursor-pointer px-4 py-2 hover:bg-accent",onClick:function(){return m(!0)},children:(0,Ut.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,Ut.jsx)("span",{className:"text-sm font-medium",children:"Voice"})})})}),(0,Ut.jsx)(pF,{className:"z-[100] w-[240px]",side:"right",children:(0,Ut.jsx)(s8,{voiceName:v,setVoiceName:function(e){!function(e){var t,n=localStorage.getItem(c5),a=n?JSON.parse(n):{};a[i]=e,localStorage.setItem(c5,JSON.stringify(a)),r({voiceId:e}),m(!1),c(!1);var s=be.getState().editingVideo;if(null!=s&&s.tileId){var l=Object.entries(be.getState().lessonContent.blocks).filter((function(e){var t=m8(e,2),n=(t[0],t[1]);return"videoScene"===n.type&&n.parentId===s.tileId})),u=s.sceneId?null===(t=l.find((function(e){return m8(e,1)[0]===s.sceneId})))||void 0===t?void 0:t[1]:void 0;(l.length>1||u&&u.data.transcript.length>1)&&o("Voice changed. Would you like to update all voices for this character in this video?",{action:function(t){return(0,Ut.jsx)(Fr,{variant:"secondary",size:"sm",onClick:function(){return g(i,e)},children:"Update All"})}})}}(e)},open:h})})]}),(0,Ut.jsx)(kF,{orientation:"vertical",className:"h-auto"}),(0,Ut.jsxs)(dF,{open:d,onOpenChange:f,children:[(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsx)("div",{className:"flex-1 cursor-pointer p-1 hover:bg-accent",onClick:function(){return f(!0)},children:(0,Ut.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,Ut.jsxs)(i2,{className:"h-8 w-8",children:[i?(0,Ut.jsx)(a2,{src:"https://storage.googleapis.com/mindsmith/characters/heygen/".concat(i,".webp"),alt:"Character",className:"object-cover object-top"}):null,(0,Ut.jsx)(s2,{className:"text-xs",children:i?"S":"?"})]})})})}),(0,Ut.jsx)(pF,{className:"w-[240px] p-0",side:"right",children:(0,Ut.jsx)(a3,{className:"h-[300px]",onWheel:function(e){return e.stopPropagation()},onScroll:function(e){return e.stopPropagation()},children:(0,Ut.jsx)("div",{className:"p-4",children:(0,Ut.jsx)(u5,{selectedCharacterId:i,onCharacterSelect:function(e){!function(e){var t;if(r({characterId:e}),i!==e){var n=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.blocks[a],o=Object.entries(be.getState().lessonContent.blocks).filter((function(e){var t=m8(e,2),n=(t[0],t[1]);return"speakerElement"===n.type&&n.parentId===a})),s=n.data.transcript;if(1!==o.length||1!==n.data.transcript.length)if(o.length!==s.length)r({characterId:e});else{var l=s.every((function(e){return e.characterId===i})),c=o.find((function(e){var t=m8(e,2);return t[0],t[1].data.characterId===i}));if(c){var u=m8(c,2),d=u[0],f=u[1];l||EE(d,p8(p8({},f.data),{},{characterId:e}))}}else{var p=m8(o[0],2),h=p[0],m=p[1];EE(h,p8(p8({},m.data),{},{characterId:e}))}}}(e),f(!1),c(!1)}})})})})]})]})})]})]})};tM.create({name:"paragraphWithDropdown",group:"block",content:"inline*",draggable:!1,priority:1e3,addOptions:function(){return{defaultCharacterId:null,defaultSceneId:null,defaultVoiceId:null}},addAttributes:function(){return{characterId:{default:this.options.defaultCharacterId},sceneId:{default:this.options.defaultSceneId},voiceId:{default:this.options.defaultVoiceId}}},parseHTML:function(){return[{tag:"div[data-character-id]"}]},renderHTML:function(e){return["div",FA(e.HTMLAttributes,{"data-character-id":""}),0]},addNodeView:function(){return NR(g8)}}),iU.configure({bold:!1,italic:!1,strike:!1,code:!1,heading:!1,bulletList:!1,orderedList:!1,codeBlock:!1,blockquote:!1,horizontalRule:!1,paragraph:{}});function y8(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||b8(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b8(e,t){if(e){if("string"==typeof e)return w8(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w8(e,t):void 0}}function w8(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(function e(t,n,r,o=mE){if(0===r)return[];if(1===r)return[SE(t,n,o)];if(null==n){let e=SE(t,n,o);const i=[e];for(let t=0;t<r-1;t++)e=SE(e,n,o),i.push(e);return i}if(null==t){let e=SE(t,n,o);const i=[e];for(let n=0;n<r-1;n++)e=SE(t,e,o),i.push(e);return i.reverse(),i}const i=Math.floor(r/2),a=SE(t,n,o);return[...e(t,a,i,o),a,...e(a,n,r-i-1,o)]})(null,null,10);function x8(e,t){return Object.entries(e).filter((function(e){var n,r;return"videoScene"===(null===(n=e[1])||void 0===n?void 0:n.type)&&(null===(r=e[1])||void 0===r?void 0:r.parentId)===t})).sort((function(e,t){var n=e[1].order,r=t[1].order;return n<r?-1:n>r?1:0})).map((function(t){var n=y8(t,2),r=n[0];return{sceneId:r,scene:n[1],elements:D1(e,r)}}))}var S8=function(e,t){be.setState((function(n){if(n.lessonContent){var r=be.getState().selectedBlockId,o=(0,$p.cloneDeep)(n.lessonContent.blockOrder),i=be.getState().editingVideo,a=i?x8(n.lessonContent.blocks,i.tileId):[],s=i?a.findIndex((function(e){return e.sceneId===i.sceneId})):-1,l=n.mainLessonLanguage,c=n.lessonContent.language;e.mutations.forEach((function(e){Ph(n.lessonContent,e)}));var u=n.lessonContent.blockOrder,d=be.getState().selectedTileId,f=n.lessonContent.language;if(c!==f&&c===l&&(n.mainLessonLanguage=f),i){var p=x8(n.lessonContent.blocks,i.tileId),h=p.some((function(e){return e.sceneId===i.sceneId}));if(!h&&p.length>0){var m=p[s]||p[s-1];m&&(n.editingVideo={sceneId:m.sceneId,tileId:i.tileId})}}if(d)n.lessonContent.blocks[d]||(n.selectedTileId=null,Ch());if(t)n.selectedBlockId=t;else if(!Object.keys(n.lessonContent.blocks).includes(r)){for(var v=o.indexOf(r),g=null,y=v+1;y<o.length;y++)if(u.includes(o[y])){g=o[y];break}if(!g)for(var b=v-1;b>=0;b--)if(u.includes(o[b])){g=o[b];break}if(!g)throw new Error("No valid fallback block ID found after removal.");n.selectedBlockId=g}}}))},k8=function(e,t){delete t.members[e.clientId]},E8=function(e,t){t.lastUpdated=Date.now(),"cursorPositionUpdate"!==e.type?"presenceUpdate"!==e.type?"memberEnterLesson"!==e.type?"transaction"!==e.type&&(e.type,k8(e,t)):function(e,t){t.members[e.clientId]=e.data}(e,t):function(e,t){var n=t.members[e.clientId];n&&(n.presence=e.data)}(e,t):function(e,t){var n=t.members[e.clientId];n&&(n.position=e.data)}(e,t)};var O8=function(){var e=be.getState().realtimeConnection;if(!e)return null;var t=be.getState().lessonId,n=e.clientId;return n?e.lessonId!==t||"connected"!==e.status?null:{lessonId:t,clientId:n,ws:e.ws}:null},j8=function(e){var t,n=e.position,r=O8();if(r){var o=r.clientId,i=r.lessonId,a=r.ws;if(o&&i){var s={type:"cursorPositionUpdate",data:n,clientId:o};be.setState((function(e){var t,n=null===(t=e.realtimeConnection)||void 0===t?void 0:t.lessonSession;if(!n)return e;E8(s,n)}));var l=null===(t=be.getState().realtimeConnection)||void 0===t?void 0:t.lessonSession;l&&Object.keys(l.members).length>1&&a&&a.readyState===WebSocket.OPEN&&a.send(JSON.stringify(s))}}},_8=Eh()(j8,30),C8=o(7543),T8="undefined"!=typeof window?window:void 0,P8="undefined"!=typeof globalThis?globalThis:T8,A8=Array.prototype,N8=A8.forEach,M8=A8.indexOf,I8=null==P8?void 0:P8.navigator,R8=null==P8?void 0:P8.document,L8=null==P8?void 0:P8.location,D8=null==P8?void 0:P8.fetch,F8=null!=P8&&P8.XMLHttpRequest&&"withCredentials"in new P8.XMLHttpRequest?P8.XMLHttpRequest:void 0,z8=null==P8?void 0:P8.AbortController,B8=null==I8?void 0:I8.userAgent,$8=null!=T8?T8:{},U8={DEBUG:!1,LIB_VERSION:"1.165.0"},V8=Array.isArray,H8=Object.prototype,W8=H8.hasOwnProperty,q8=H8.toString,G8=V8||function(e){return"[object Array]"===q8.call(e)},K8=function(e){return"function"==typeof e},X8=function(e){return e===Object(e)&&!G8(e)},Y8=function(e){if(X8(e)){for(var t in e)if(W8.call(e,t))return!1;return!0}return!1},Z8=function(e){return void 0===e},J8=function(e){return"[object String]"==q8.call(e)},Q8=function(e){return J8(e)&&0===e.trim().length},e9=function(e){return null===e},t9=function(e){return Z8(e)||e9(e)},n9=function(e){return"[object Number]"==q8.call(e)},r9=function(e){return"[object Boolean]"===q8.call(e)},o9="[PostHog.js]",i9={_log:function(e){if(T8&&(U8.DEBUG||$8.POSTHOG_DEBUG)&&!Z8(T8.console)&&T8.console){for(var t=("__rrweb_original__"in T8.console[e]?T8.console[e].__rrweb_original__:T8.console[e]),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.apply(void 0,[o9].concat(r))}},info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i9._log.apply(i9,["log"].concat(t))},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i9._log.apply(i9,["warn"].concat(t))},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i9._log.apply(i9,["error"].concat(t))},critical:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,[o9].concat(n))},uninitializedWarning:function(e){i9.error("You must initialize PostHog before calling ".concat(e))}},a9=function(e,t,n){if(e.config.disable_external_dependency_loading)return i9.warn("".concat(t," was requested but loading of external scripts is disabled.")),n("Loading of external scripts is disabled");var r=function(){if(!R8)return n("document not found");var e=R8.createElement("script");e.type="text/javascript",e.src=t,e.onload=function(e){return n(void 0,e)},e.onerror=function(e){return n(e)};var r,o=R8.querySelectorAll("body > script");o.length>0?null===(r=o[0].parentNode)||void 0===r||r.insertBefore(e,o[0]):R8.body.appendChild(e)};null!=R8&&R8.body?r():null==R8||R8.addEventListener("DOMContentLoaded",r)};function s9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s9(Object(n),!0).forEach((function(t){p9(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s9(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c9(e){return c9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c9(e)}function u9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f9(e,t,n){return t&&d9(e.prototype,t),n&&d9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h9(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||v9(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m9(e){return function(e){if(Array.isArray(e))return g9(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v9(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v9(e,t){if(e){if("string"==typeof e)return g9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g9(e,t):void 0}}function g9(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y9(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=v9(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}$8.__PosthogExtensions__=$8.__PosthogExtensions__||{},$8.__PosthogExtensions__.loadExternalDependency=function(e,t,n){var r="/static/".concat(t,".js")+"?v=".concat(e.version);if("toolbar"===t){var o=3e5,i=Math.floor(Date.now()/o)*o;r="".concat(r,"?&=").concat(i)}var a=e.requestRouter.endpointFor("assets",r);a9(e,a,n)},$8.__PosthogExtensions__.loadSiteApp=function(e,t,n){var r=e.requestRouter.endpointFor("api",t);a9(e,r,n)};var b9={},w9=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function x9(e,t,n){if(G8(e))if(N8&&e.forEach===N8)e.forEach(t,n);else if("length"in e&&e.length===+e.length)for(var r=0,o=e.length;r<o;r++)if(r in e&&t.call(n,e[r],r)===b9)return}function S9(e,t,n){if(!t9(e)){if(G8(e))return x9(e,t,n);if(function(e){return e instanceof FormData}(e)){var r,o=y9(e.entries());try{for(o.s();!(r=o.n()).done;){var i=r.value;if(t.call(n,i[1],i[0])===b9)return}}catch(e){o.e(e)}finally{o.f()}}else for(var a in e)if(W8.call(e,a)&&t.call(n,e[a],a)===b9)return}}var k9=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return x9(n,(function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])})),e};function E9(e,t){return-1!==e.indexOf(t)}function O9(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var j9=function(e){try{return e()}catch(e){return}},_9=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(e){i9.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),i9.critical(e)}}},C9=function(e){var t={};return S9(e,(function(e,n){J8(e)&&e.length>0&&(t[n]=e)})),t},T9=function(e){return e.replace(/^\$/,"")};var P9,A9=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation),t}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(t,n,r,o,i){if(t)if(t.addEventListener&&!o)t.addEventListener(n,r,!!i);else{var a="on"+n,s=t[a];t[a]=function(t,n,r){return function(o){if(o=o||e(null==T8?void 0:T8.event)){var i,a=!0;K8(r)&&(i=r(o));var s=n.call(t,o);return!1!==i&&!1!==s||(a=!1),a}}}(t,r,s)}else i9.error("No valid element provided to register_event")}}();function N9(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}!function(e){e.GZipJS="gzip-js",e.Base64="base64"}(P9||(P9={}));var M9="$people_distinct_id",I9="__alias",R9="__timers",L9="$autocapture_disabled_server_side",D9="$heatmaps_enabled_server_side",F9="$exception_capture_enabled_server_side",z9="$exception_capture_endpoint_suffix",B9="$web_vitals_enabled_server_side",$9="$web_vitals_allowed_metrics",U9="$session_recording_enabled_server_side",V9="$console_log_recording_enabled_server_side",H9="$session_recording_network_payload_capture",W9="$session_recording_canvas_recording",q9="$replay_sample_rate",G9="$replay_minimum_duration",K9="$sesid",X9="$session_is_sampled",Y9="$enabled_feature_flags",Z9="$early_access_features",J9="$stored_person_properties",Q9="$stored_group_properties",eee="$surveys",tee="$surveys_activated",nee="$flag_call_reported",ree="$user_state",oee="$client_session_props",iee="$capture_rate_limit",aee="$initial_campaign_params",see="$initial_referrer_info",lee="$initial_person_info",cee="$epp",uee="__POSTHOG_TOOLBAR__",dee=[M9,I9,"__cmpns",R9,U9,D9,K9,Y9,ree,Z9,Q9,J9,eee,nee,oee,iee,aee,see,cee],fee="$active_feature_flags",pee="$override_feature_flags",hee="$feature_flag_payloads",mee=function(e){var t,n={},r=y9(O9(e||{}));try{for(r.s();!(t=r.n()).done;){var o=h9(t.value,2),i=o[0],a=o[1];a&&(n[i]=a)}}catch(e){r.e(e)}finally{r.f()}return n},vee=function(){function e(t){u9(this,e),this.instance=t,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return f9(e,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Y9),t=this.instance.get_property(pee);if(!t)return e||{};for(var n=k9({},e),r=Object.keys(t),o=0;o<r.length;o++)n[r[o]]=t[r[o]];return this._override_warning||(i9.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this._override_warning=!0),n}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(hee)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout((function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())}),5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var t=this.instance.config.token,n=this.instance.get_property(J9),r=this.instance.get_property(Q9),o={token:t,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:n,group_properties:r,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:o,compression:this.instance.config.disable_compression?void 0:P9.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){var n;e.setReloadingPaused(!1);var r=!0;200===t.statusCode&&(e.$anon_distinct_id=void 0,r=!1),e.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},r),e._startReloadTimer()}})}}},{key:"getFeatureFlag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var n,r=this.getFlagVariants()[e],o="".concat(r),i=this.instance.get_property(nee)||{};return!t.send_event&&"send_event"in t||e in i&&i[e].includes(o)||(G8(i[e])?i[e].push(o):i[e]=[o],null===(n=this.instance.persistence)||void 0===n||n.register(p9({},nee,i)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}i9.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);i9.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((function(t){return t!==e}))}},{key:"receivedFeatureFlags",value:function(e,t){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();!function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.featureFlags,a=e.featureFlagPayloads;if(i)if(G8(i)){var s,l={};if(i)for(var c=0;c<i.length;c++)l[i[c]]=!0;t&&t.register((p9(s={},fee,i),p9(s,Y9,l),s))}else{var u=i,d=a;e.errorsWhileComputingFlags&&(u=l9(l9({},r),u),d=l9(l9({},o),d)),t&&t.register((p9(n={},fee,Object.keys(mee(u))),p9(n,Y9,u||{}),p9(n,hee,d||{}),n))}}(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks(t)}}},{key:"override",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance.__loaded||!this.instance.persistence)return i9.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=t,!1===e)this.instance.persistence.unregister(pee);else if(G8(e)){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;this.instance.persistence.register(p9({},pee,n))}else this.instance.persistence.register(p9({},pee,e))}},{key:"onFeatureFlags",value:function(e){var t=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var n=this._prepareFeatureFlagsForCallbacks(),r=n.flags,o=n.flagVariants;e(r,o)}return function(){return t.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){var n,r,o=p9({},"$feature_enrollment/".concat(e),t);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:t,$set:o}),this.setPersonPropertiesForFlags(o,!1);var i=l9(l9({},this.getFlagVariants()),{},p9({},e,t));null===(n=this.instance.persistence)||void 0===n||n.register((p9(r={},fee,Object.keys(mee(i))),p9(r,Y9,i),r)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.instance.get_property(Z9);if(r&&!n)return e(r);this.instance._send_request({transport:"XHR",url:this.instance.requestRouter.endpointFor("api","/api/early_access_features/?token=".concat(this.instance.config.token)),method:"GET",callback:function(n){var r;if(n.json){var o=n.json.earlyAccessFeatures;return null===(r=t.instance.persistence)||void 0===r||r.register(p9({},Z9,o)),e(o)}}})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((function(e){return t[e]})),flagVariants:Object.keys(t).filter((function(e){return t[e]})).reduce((function(e,n){return e[n]=t[n],e}),{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(e){var t=this._prepareFeatureFlagsForCallbacks(),n=t.flags,r=t.flagVariants;this.featureFlagEventHandlers.forEach((function(t){return t(n,r,{errorsLoading:e})}))}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(J9)||{};this.instance.register(p9({},J9,l9(l9({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(J9)}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.instance.get_property(Q9)||{};0!==Object.keys(n).length&&Object.keys(n).forEach((function(t){n[t]=l9(l9({},n[t]),e[t]),delete e[t]})),this.instance.register(p9({},Q9,l9(l9({},n),e))),t&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var t=this.instance.get_property(Q9)||{};this.instance.register(p9({},Q9,l9(l9({},t),{},p9({},e,{}))))}else this.instance.unregister(Q9)}}]),e}();Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return n9(e)&&isFinite(e)&&Math.floor(e)===e});var gee="0123456789abcdef",yee=function(){function e(t){if(u9(this,e),this.bytes=t,16!==t.length)throw new TypeError("not 128-bit length")}return f9(e,[{key:"toString",value:function(){for(var e="",t=0;t<this.bytes.length;t++)e=e+gee.charAt(this.bytes[t]>>>4)+gee.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new e(this.bytes.slice(0))}},{key:"equals",value:function(e){return 0===this.compareTo(e)}},{key:"compareTo",value:function(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}],[{key:"fromFieldsV7",value:function(t,n,r,o){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(o)||t<0||n<0||r<0||o<0||t>0xffffffffffff||n>4095||r>1073741823||o>4294967295)throw new RangeError("invalid field value");var i=new Uint8Array(16);return i[0]=t/Math.pow(2,40),i[1]=t/Math.pow(2,32),i[2]=t/Math.pow(2,24),i[3]=t/Math.pow(2,16),i[4]=t/Math.pow(2,8),i[5]=t,i[6]=112|n>>>8,i[7]=n,i[8]=128|r>>>24,i[9]=r>>>16,i[10]=r>>>8,i[11]=r,i[12]=o>>>24,i[13]=o>>>16,i[14]=o>>>8,i[15]=o,new e(i)}}]),e}(),bee=function(){function e(){u9(this,e),p9(this,"timestamp",0),p9(this,"counter",0),p9(this,"random",new See)}return f9(e,[{key:"generate",value:function(){var e=this.generateOrAbort();if(Z8(e)){this.timestamp=0;var t=this.generateOrAbort();if(Z8(t))throw new Error("Could not generate UUID after timestamp reset");return t}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return yee.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),e}(),wee=function(e){if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};T8&&!Z8(T8.crypto)&&crypto.getRandomValues&&(wee=function(e){return crypto.getRandomValues(e)});var xee,See=function(){function e(){u9(this,e),p9(this,"buffer",new Uint32Array(8)),p9(this,"cursor",1/0)}return f9(e,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(wee(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),e}(),kee=function(){return Eee().toString()},Eee=function(){return(xee||(xee=new bee)).generate()},Oee="",jee=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;var _ee,Cee={is_supported:function(){return!!R8},error:function(e){i9.error("cookieStore error: "+e)},get:function(e){if(R8){try{for(var t=e+"=",n=R8.cookie.split(";").filter((function(e){return e.length})),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(Cee.get(e))||{}}catch(e){}return t},set:function(e,t,n,r,o){if(R8)try{var i="",a="",s=function(e,t){if(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R8;if(Oee)return Oee;if(!t)return"";if(["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),r=Math.min(n.length,8),o="dmn_chk_"+kee(),i=new RegExp("(^|;)\\s*"+o+"=1");!Oee&&r--;){var a=n.slice(r).join("."),s=o+"=1;domain=."+a;t.cookie=s,i.test(t.cookie)&&(t.cookie=s+";expires=Thu, 01 Jan 1970 00:00:00 GMT",Oee=a)}return Oee}(e);if(!n){var r=function(e){var t=e.match(jee);return t?t[0]:""}(e);r!==n&&i9.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(R8.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),i="; expires="+l.toUTCString()}o&&(a="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+i+"; SameSite=Lax; path=/"+s+a;return c.length>3686.4&&i9.warn("cookieStore warning: large cookie, len="+c.length),R8.cookie=c,c}catch(e){return}},remove:function(e,t){try{Cee.set(e,"",-1,t)}catch(e){return}}},Tee=null,Pee={is_supported:function(){if(!e9(Tee))return Tee;var e=!0;if(Z8(T8))e=!1;else try{var t="__mplssupport__";Pee.set(t,"xyz"),'"xyz"'!==Pee.get(t)&&(e=!1),Pee.remove(t)}catch(t){e=!1}return e||i9.error("localStorage unsupported; falling back to cookie store"),Tee=e,e},error:function(e){i9.error("localStorage error: "+e)},get:function(e){try{return null==T8?void 0:T8.localStorage.getItem(e)}catch(e){Pee.error(e)}return null},parse:function(e){try{return JSON.parse(Pee.get(e))||{}}catch(e){}return null},set:function(e,t){try{null==T8||T8.localStorage.setItem(e,JSON.stringify(t))}catch(e){Pee.error(e)}},remove:function(e){try{null==T8||T8.localStorage.removeItem(e)}catch(e){Pee.error(e)}}},Aee=["distinct_id",K9,X9,cee],Nee=l9(l9({},Pee),{},{parse:function(e){try{var t={};try{t=Cee.parse(e)||{}}catch(e){}var n=k9(t,JSON.parse(Pee.get(e)||"{}"));return Pee.set(e,n),n}catch(e){}return null},set:function(e,t,n,r,o,i){try{Pee.set(e,t,void 0,void 0,i);var a={};Aee.forEach((function(e){t[e]&&(a[e]=t[e])})),Object.keys(a).length&&Cee.set(e,a,n,r,o,i)}catch(e){Pee.error(e)}},remove:function(e,t){try{null==T8||T8.localStorage.removeItem(e),Cee.remove(e,t)}catch(e){Pee.error(e)}}}),Mee={},Iee={is_supported:function(){return!0},error:function(e){i9.error("memoryStorage error: "+e)},get:function(e){return Mee[e]||null},parse:function(e){return Mee[e]||null},set:function(e,t){Mee[e]=t},remove:function(e){delete Mee[e]}},Ree=null,Lee={is_supported:function(){if(!e9(Ree))return Ree;if(Ree=!0,Z8(T8))Ree=!1;else try{var e="__support__";Lee.set(e,"xyz"),'"xyz"'!==Lee.get(e)&&(Ree=!1),Lee.remove(e)}catch(e){Ree=!1}return Ree},error:function(e){i9.error("sessionStorage error: ",e)},get:function(e){try{return null==T8?void 0:T8.sessionStorage.getItem(e)}catch(e){Lee.error(e)}return null},parse:function(e){try{return JSON.parse(Lee.get(e))||null}catch(e){}return null},set:function(e,t){try{null==T8||T8.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){Lee.error(e)}},remove:function(e){try{null==T8||T8.sessionStorage.removeItem(e)}catch(e){Lee.error(e)}}},Dee=["localhost","127.0.0.1"],Fee=function(e){var t=null==R8?void 0:R8.createElement("a");return Z8(t)?null:(t.href=e,t)},zee=function(e,t){return!!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t)&&new RegExp(t).test(e)},Bee=function(e,t){for(var n,r=((e.split("#")[0]||"").split("?")[1]||"").split("&"),o=0;o<r.length;o++){var i=r[o].split("=");if(i[0]===t){n=i;break}}if(!G8(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch(e){i9.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},$ee=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},Uee="Mobile",Vee="iOS",Hee="Android",Wee="Tablet",qee=Hee+" "+Wee,Gee="iPad",Kee="Apple",Xee=Kee+" Watch",Yee="Safari",Zee="BlackBerry",Jee="Samsung",Qee=Jee+"Browser",ete=Jee+" Internet",tte="Chrome",nte=tte+" OS",rte=tte+" "+Vee,ote="Internet Explorer",ite=ote+" "+Uee,ate="Opera",ste=ate+" Mini",lte="Edge",cte="Microsoft "+lte,ute="Firefox",dte=ute+" "+Vee,fte="Nintendo",pte="PlayStation",hte="Xbox",mte=Hee+" "+Uee,vte=Uee+" "+Yee,gte="Windows",yte=gte+" Phone",bte="Nokia",wte="Ouya",xte="Generic",Ste=xte+" "+Uee.toLowerCase(),kte=xte+" "+Wee.toLowerCase(),Ete="Konqueror",Ote="(\\d+(\\.\\d+)?)",jte=new RegExp("Version/"+Ote),_te=new RegExp(hte,"i"),Cte=new RegExp(pte+" \\w+","i"),Tte=new RegExp(fte+" \\w+","i"),Pte=new RegExp(Zee+"|PlayBook|BB10","i"),Ate={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},Nte=function(e,t){return t=t||"",E9(e," OPR/")&&E9(e,"Mini")?ste:E9(e," OPR/")?ate:Pte.test(e)?Zee:E9(e,"IE"+Uee)||E9(e,"WPDesktop")?ite:E9(e,Qee)?ete:E9(e,lte)||E9(e,"Edg/")?cte:E9(e,"FBIOS")?"Facebook "+Uee:E9(e,"UCWEB")||E9(e,"UCBrowser")?"UC Browser":E9(e,"CriOS")?rte:E9(e,"CrMo")?tte:E9(e,Hee)&&E9(e,Yee)?mte:E9(e,tte)?tte:E9(e,"FxiOS")?dte:E9(e.toLowerCase(),Ete.toLowerCase())?Ete:function(e,t){return t&&E9(t,Kee)||function(e){return E9(e,Yee)&&!E9(e,tte)&&!E9(e,Hee)}(e)}(e,t)?E9(e,Uee)?vte:Yee:E9(e,ute)?ute:E9(e,"MSIE")||E9(e,"Trident/")?ote:E9(e,"Gecko")?ute:""},Mte=(p9(_ee={},ite,[new RegExp("rv:"+Ote)]),p9(_ee,cte,[new RegExp(lte+"?\\/"+Ote)]),p9(_ee,tte,[new RegExp("("+tte+"|CrMo)\\/"+Ote)]),p9(_ee,rte,[new RegExp("CriOS\\/"+Ote)]),p9(_ee,"UC Browser",[new RegExp("(UCBrowser|UCWEB)\\/"+Ote)]),p9(_ee,Yee,[jte]),p9(_ee,vte,[jte]),p9(_ee,ate,[new RegExp("(Opera|OPR)\\/"+Ote)]),p9(_ee,ute,[new RegExp(ute+"\\/"+Ote)]),p9(_ee,dte,[new RegExp("FxiOS\\/"+Ote)]),p9(_ee,Ete,[new RegExp("Konqueror[:/]?"+Ote,"i")]),p9(_ee,Zee,[new RegExp(Zee+" "+Ote),jte]),p9(_ee,mte,[new RegExp("android\\s"+Ote,"i")]),p9(_ee,ete,[new RegExp(Qee+"\\/"+Ote)]),p9(_ee,ote,[new RegExp("(rv:|MSIE )"+Ote)]),p9(_ee,"Mozilla",[new RegExp("rv:"+Ote)]),_ee),Ite=[[new RegExp(hte+"; "+hte+" (.*?)[);]","i"),function(e){return[hte,e&&e[1]||""]}],[new RegExp(fte,"i"),[fte,""]],[new RegExp(pte,"i"),[pte,""]],[Pte,[Zee,""]],[new RegExp(gte,"i"),function(e,t){if(/Phone/.test(t)||/WPDesktop/.test(t))return[yte,""];if(new RegExp(Uee).test(t)&&!/IEMobile\b/.test(t))return[gte+" "+Uee,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],o=Ate[r]||"";return/arm/i.test(t)&&(o="RT"),[gte,o]}return[gte,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,function(e){if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Vee,t.join(".")]}return[Vee,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,function(e){var t="";return e&&e.length>=3&&(t=Z8(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Hee+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Hee+")","i"),function(e){if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Hee,t.join(".")]}return[Hee,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,function(e){var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[nte,""]],[/Linux|debian/i,["Linux",""]]],Rte=function(e){return Tte.test(e)?fte:Cte.test(e)?pte:_te.test(e)?hte:new RegExp(wte,"i").test(e)?wte:new RegExp("("+yte+"|WPDesktop)","i").test(e)?yte:/iPad/.test(e)?Gee:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?Xee:Pte.test(e)?Zee:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(bte,"i").test(e)?bte:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Uee).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Hee:qee:Hee:new RegExp("(pda|"+Uee+")","i").test(e)?Ste:new RegExp(Wee,"i").test(e)&&!new RegExp(Wee+" pc","i").test(e)?kte:""},Lte="https?://(.*)",Dte=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gad_source","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","mc_cid","igshid","ttclid","rdt_cid"],Fte={campaignParams:function(e){return R8?this._campaignParamsFromUrl(R8.URL,e):{}},_campaignParamsFromUrl:function(e,t){var n=Dte.concat(t||[]),r={};return S9(n,(function(t){var n=Bee(e,t);n&&(r[t]=n)})),r},_searchEngine:function(e){return e?0===e.search(Lte+"google.([^/?]*)")?"google":0===e.search(Lte+"bing.com")?"bing":0===e.search(Lte+"yahoo.com")?"yahoo":0===e.search(Lte+"duckduckgo.com")?"duckduckgo":null:null},_searchInfoFromReferrer:function(e){var t=Fte._searchEngine(e),n="yahoo"!=t?"q":"p",r={};if(!e9(t)){r.$search_engine=t;var o=R8?Bee(R8.referrer,n):"";o.length&&(r.ph_keyword=o)}return r},searchInfo:function(){var e=null==R8?void 0:R8.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:Nte,browserVersion:function(e,t){var n=Nte(e,t),r=Mte[n];if(Z8(r))return null;for(var o=0;o<r.length;o++){var i=r[o],a=e.match(i);if(a)return parseFloat(a[a.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(e){for(var t=0;t<Ite.length;t++){var n=h9(Ite[t],2),r=n[0],o=n[1],i=r.exec(e),a=i&&(K8(o)?o(i,e):o);if(a)return a}return["",""]},device:Rte,deviceType:function(e){var t=Rte(e);return t===Gee||t===qee||"Kobo"===t||"Kindle Fire"===t||t===kte?Wee:t===fte||t===hte||t===pte||t===wte?"Console":t===Xee?"Wearable":t?Uee:"Desktop"},referrer:function(){return(null==R8?void 0:R8.referrer)||"$direct"},referringDomain:function(){var e;return null!=R8&&R8.referrer&&(null===(e=Fee(R8.referrer))||void 0===e?void 0:e.host)||"$direct"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},initialPersonInfo:function(){return{r:this.referrer(),u:null==L8?void 0:L8.href}},initialPersonPropsFromInfo:function(e){var t,n=e.r,r=e.u,o={$initial_referrer:n,$initial_referring_domain:null==n?void 0:"$direct"==n?"$direct":null===(t=Fee(n))||void 0===t?void 0:t.host};if(r){o.$initial_current_url=r;var i=Fee(r);o.$initial_host=null==i?void 0:i.host,o.$initial_pathname=null==i?void 0:i.pathname,S9(this._campaignParamsFromUrl(r),(function(e,t){o["$initial_"+T9(t)]=e}))}return n&&S9(this._searchInfoFromReferrer(n),(function(e,t){o["$initial_"+T9(t)]=e})),o},properties:function(){if(!B8)return{};var e=h9(Fte.os(B8),2),t=e[0],n=e[1];return k9(C9({$os:t,$os_version:n,$browser:Fte.browser(B8,navigator.vendor),$device:Fte.device(B8),$device_type:Fte.deviceType(B8)}),{$current_url:null==L8?void 0:L8.href,$host:null==L8?void 0:L8.host,$pathname:null==L8?void 0:L8.pathname,$raw_user_agent:B8.length>1e3?B8.substring(0,997)+"...":B8,$browser_version:Fte.browserVersion(B8,navigator.vendor),$browser_language:Fte.browserLanguage(),$screen_height:null==T8?void 0:T8.screen.height,$screen_width:null==T8?void 0:T8.screen.width,$viewport_height:null==T8?void 0:T8.innerHeight,$viewport_width:null==T8?void 0:T8.innerWidth,$lib:"web",$lib_version:U8.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!B8)return{};var e=h9(Fte.os(B8),2),t=e[0],n=e[1];return k9(C9({$os:t,$os_version:n,$browser:Fte.browser(B8,navigator.vendor)}),{$browser_version:Fte.browserVersion(B8,navigator.vendor)})}},zte=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Bte=function(){function e(t){u9(this,e),this.config=t,this.props={},this.campaign_params_saved=!1,this.name=function(e){var t="";return e.token&&(t=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+t+"_posthog"}(t),this.storage=this.buildStorage(t),this.load(),t.debug&&i9.info("Persistence loaded",t.persistence,l9({},this.props)),this.update_config(t,t),this.save()}return f9(e,[{key:"buildStorage",value:function(e){-1===zte.indexOf(e.persistence.toLowerCase())&&(i9.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&Pee.is_supported()?Pee:"localstorage+cookie"===t&&Nee.is_supported()?Nee:"sessionstorage"===t&&Lee.is_supported()?Lee:"memory"===t?Iee:"cookie"===t?Cee:Nee.is_supported()?Nee:Cee}},{key:"properties",value:function(){var e={};return S9(this.props,(function(t,n){if(n===Y9&&X8(t))for(var r=Object.keys(t),o=0;o<r.length;o++)e["$feature/".concat(r[o])]=t[r[o]];else a=n,s=!1,(e9(i=dee)?s:M8&&i.indexOf===M8?-1!=i.indexOf(a):(S9(i,(function(e){if(s||(s=e===a))return b9})),s))||(e[n]=t);var i,a,s})),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=k9({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,t,n){var r=this;if(X8(e)){Z8(t)&&(t="None"),this.expire_days=Z8(n)?this.default_expiry:n;var o=!1;if(S9(e,(function(e,n){r.props.hasOwnProperty(n)&&r.props[n]!==t||(r.props[n]=e,o=!0)})),o)return this.save(),!0}return!1}},{key:"register",value:function(e,t){var n=this;if(X8(e)){this.expire_days=Z8(t)?this.default_expiry:t;var r=!1;if(S9(e,(function(t,o){e.hasOwnProperty(o)&&n.props[o]!==t&&(n.props[o]=t,r=!0)})),r)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(Fte.campaignParams(this.config.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(Fte.searchInfo())}},{key:"update_referrer_info",value:function(){this.register_once(Fte.referrerInfo(),void 0)}},{key:"set_initial_person_info",value:function(){this.props[aee]||this.props[see]||this.register_once(p9({},lee,Fte.initialPersonInfo()),void 0)}},{key:"get_referrer_info",value:function(){return C9({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"get_initial_props",value:function(){var e=this,t={};S9([see,aee],(function(n){var r=e.props[n];r&&S9(r,(function(e,n){t["$initial_"+T9(n)]=e}))}));var n=this.props[lee];if(n){var r=Fte.initialPersonPropsFromInfo(n);k9(t,r)}return t}},{key:"safe_merge",value:function(e){return S9(this.props,(function(t,n){n in e||(e[n]=t)})),e}},{key:"update_config",value:function(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var n=this.buildStorage(e),r=this.props;this.clear(),this.storage=n,this.props=r,this.save()}}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,t){var n=this.props[R9]||{};n[e]=t,this.props[R9]=n,this.save()}},{key:"remove_event_timer",value:function(e){var t=(this.props[R9]||{})[e];return Z8(t)||(delete this.props[R9][e],this.save()),t}},{key:"get_property",value:function(e){return this.props[e]}},{key:"set_property",value:function(e,t){this.props[e]=t,this.save()}}]),e}();function $te(e){return JSON.stringify(e,(t=[],function(e,n){if(X8(n)){for(;t.length>0&&t.at(-1)!==this;)t.pop();return t.includes(n)?"[Circular]":(t.push(n),n)}return n})).length;var t}function Ute(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),o=e.data.slice(n);return[Ute({size:$te(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Ute({size:$te(o),data:o,sessionId:e.sessionId,windowId:e.windowId})].flatMap((function(e){return e}))}return[e]}var Vte=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(Vte||{}),Hte=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(Hte||{});function Wte(e){return e?w9(e).split(/\s+/):[]}function qte(e){var t=null==T8?void 0:T8.location.href;return!!(t&&e&&e.some((function(e){return t.match(e)})))}function Gte(e){var t="";switch(c9(e.className)){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return Wte(t)}function Kte(e){return t9(e)?null:w9(e).split(/(\s+)/).filter((function(e){return dne(e)})).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function Xte(e){var t="";return rne(e)&&!one(e)&&e.childNodes&&e.childNodes.length&&S9(e.childNodes,(function(e){var n;Qte(e)&&e.textContent&&(t+=null!==(n=Kte(e.textContent))&&void 0!==n?n:"")})),w9(t)}function Yte(e){return Z8(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}function Zte(e){return!!e&&1===e.nodeType}function Jte(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Qte(e){return!!e&&3===e.nodeType}function ene(e){return!!e&&11===e.nodeType}var tne=["a","button","form","input","select","textarea","label"];function nne(e){var t=e.parentNode;return!(!t||!Zte(t))&&t}function rne(e){for(var t=e;t.parentNode&&!Jte(t,"body");t=t.parentNode){var n=Gte(t);if(E9(n,"ph-sensitive")||E9(n,"ph-no-capture"))return!1}if(E9(Gte(e),"ph-include"))return!0;var r=e.type||"";if(J8(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var o=e.name||e.id||"";return!J8(o)||!/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(o.replace(/[^a-zA-Z0-9]/g,""))}function one(e){return!!(Jte(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Jte(e,"select")||Jte(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var ine="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ane=new RegExp("^(?:".concat(ine,")$")),sne=new RegExp(ine),lne="\\d{3}-?\\d{2}-?\\d{4}",cne=new RegExp("^(".concat(lne,")$")),une=new RegExp("(".concat(lne,")"));function dne(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t9(e))return!1;if(J8(e)){if(e=w9(e),(t?ane:sne).test((e||"").replace(/[- ]/g,"")))return!1;if((t?cne:une).test(e))return!1}return!0}function fne(e){var t=Xte(e);return dne(t="".concat(t," ").concat(pne(e)).trim())?t:""}function pne(e){var t="";return e&&e.childNodes&&e.childNodes.length&&S9(e.childNodes,(function(e){var n;if(e&&"span"===(null===(n=e.tagName)||void 0===n?void 0:n.toLowerCase()))try{var r=Xte(e);t="".concat(t," ").concat(r).trim(),e.childNodes&&e.childNodes.length&&(t="".concat(t," ").concat(pne(e)).trim())}catch(e){i9.error(e)}})),t}function hne(e){return function(e){var t=e.map((function(e){var t,n,r="";if(e.tag_name&&(r+=e.tag_name),e.attr_class){e.attr_class.sort();var o,i=y9(e.attr_class);try{for(i.s();!(o=i.n()).done;){var a=o.value;r+=".".concat(a.replace(/"/g,""))}}catch(e){i.e(e)}finally{i.f()}}var s=l9(l9(l9(l9({},e.text?{text:e.text}:{}),{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),l={};return O9(s).sort((function(e,t){var n=h9(e,1)[0],r=h9(t,1)[0];return n.localeCompare(r)})).forEach((function(e){var t=h9(e,2),n=t[0],r=t[1];return l[mne(n.toString())]=mne(r.toString())})),(r+=":")+O9(s).map((function(e){var t=h9(e,2),n=t[0],r=t[1];return"".concat(n,'="').concat(r,'"')})).join("")}));return t.join(";")}(function(e){return e.map((function(e){var t,n,r={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(n=e.attr__href)||void 0===n?void 0:n.slice(0,2048),attr_class:vne(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return O9(e).filter((function(e){return 0===h9(e,1)[0].indexOf("attr__")})).forEach((function(e){var t=h9(e,2),n=t[0],o=t[1];return r.attributes[n]=o})),r}))}(e))}function mne(e){return e.replace(/"|\\"/g,'\\"')}function vne(e){var t=e.attr__class;return t?G8(t)?t:Wte(t):void 0}var gne="[SessionRecording]",yne="redacted",bne={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(e){return e},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io"]},wne=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],xne=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],Sne=["/s/","/e/","/i/"];function kne(e,t,n,r){if(t9(e))return e;var o=(null==t?void 0:t["content-length"])||function(e){return new Blob([e]).size}(e);return J8(o)&&(o=parseInt(o)),o>n?gne+" ".concat(r," body too large to record (").concat(o," bytes)"):e}function Ene(e,t){if(t9(e))return e;var n=e;return dne(n,!1)||(n=gne+" "+t+" body "+yne),S9(xne,(function(e){var r,o;null!==(r=n)&&void 0!==r&&r.length&&-1!==(null===(o=n)||void 0===o?void 0:o.indexOf(e))&&(n=gne+" "+t+" body "+yne+" as might contain: "+e)})),n}var One=f9((function e(t){var n,r,o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u9(this,e),p9(this,"bucketSize",100),p9(this,"refillRate",10),p9(this,"mutationBuckets",{}),p9(this,"loggedTracker",{}),p9(this,"refillBuckets",(function(){Object.keys(o.mutationBuckets).forEach((function(e){o.mutationBuckets[e]=o.mutationBuckets[e]+o.refillRate,o.mutationBuckets[e]>=o.bucketSize&&delete o.mutationBuckets[e]}))})),p9(this,"getNodeOrRelevantParent",(function(e){var t=o.rrweb.mirror.getNode(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[o.rrweb.mirror.getId(n),n]}return[e,t]})),p9(this,"numberOfChanges",(function(e){var t,n,r,o,i,a,s,l;return(null!==(t=null===(n=e.removes)||void 0===n?void 0:n.length)&&void 0!==t?t:0)+(null!==(r=null===(o=e.attributes)||void 0===o?void 0:o.length)&&void 0!==r?r:0)+(null!==(i=null===(a=e.texts)||void 0===a?void 0:a.length)&&void 0!==i?i:0)+(null!==(s=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==s?s:0)})),p9(this,"throttleMutations",(function(e){if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=o.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((function(e){var t,n,r,i=h9(o.getNodeOrRelevantParent(e.id),2),a=i[0],s=i[1];return 0!==o.mutationBuckets[a]&&(o.mutationBuckets[a]=null!==(t=o.mutationBuckets[a])&&void 0!==t?t:o.bucketSize,o.mutationBuckets[a]=Math.max(o.mutationBuckets[a]-1,0),0===o.mutationBuckets[a]&&(o.loggedTracker[a]||(o.loggedTracker[a]=!0,null===(n=(r=o.options).onBlockedNode)||void 0===n||n.call(r,a,s))),e)})));var r=o.numberOfChanges(t);return 0!==r||n===r?e:void 0})),this.rrweb=t,this.options=i,this.refillRate=null!==(n=this.options.refillRate)&&void 0!==n?n:this.refillRate,this.bucketSize=null!==(r=this.options.bucketSize)&&void 0!==r?r:this.bucketSize,setInterval((function(){o.refillBuckets()}),1e3)})),jne=Uint8Array,_ne=Uint16Array,Cne=Uint32Array,Tne=new jne([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pne=new jne([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ane=new jne([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nne=function(e,t){for(var n=new _ne(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new Cne(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return[n,o]},Mne=Nne(Tne,2),Ine=Mne[0],Rne=Mne[1];Ine[28]=258,Rne[258]=28;for(var Lne=Nne(Pne,0)[1],Dne=new _ne(32768),Fne=0;Fne<32768;++Fne){var zne=(43690&Fne)>>>1|(21845&Fne)<<1;zne=(61680&(zne=(52428&zne)>>>2|(13107&zne)<<2))>>>4|(3855&zne)<<4,Dne[Fne]=((65280&zne)>>>8|(255&zne)<<8)>>>1}var Bne=function(e,t,n){for(var r=e.length,o=0,i=new _ne(t);o<r;++o)++i[e[o]-1];var a,s=new _ne(t);for(o=0;o<t;++o)s[o]=s[o-1]+i[o-1]<<1;if(n){a=new _ne(1<<t);var l=15-t;for(o=0;o<r;++o)if(e[o])for(var c=o<<4|e[o],u=t-e[o],d=s[e[o]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[Dne[d]>>>l]=c}else for(a=new _ne(r),o=0;o<r;++o)a[o]=Dne[s[e[o]-1]++]>>>15-e[o];return a},$ne=new jne(288);for(Fne=0;Fne<144;++Fne)$ne[Fne]=8;for(Fne=144;Fne<256;++Fne)$ne[Fne]=9;for(Fne=256;Fne<280;++Fne)$ne[Fne]=7;for(Fne=280;Fne<288;++Fne)$ne[Fne]=8;var Une=new jne(32);for(Fne=0;Fne<32;++Fne)Une[Fne]=5;var Vne=Bne($ne,9,0),Hne=Bne(Une,5,0),Wne=function(e){return(e/8|0)+(7&e&&1)},qne=function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(e instanceof _ne?_ne:e instanceof Cne?Cne:jne)(n-t);return r.set(e.subarray(t,n)),r},Gne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Kne=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Xne=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,i=n.slice();if(!o)return[new jne(0),0];if(1==o){var a=new jne(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var s=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:s.f+l.f,l:s,r:l};u!=o-1;)s=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:s.f+l.f,l:s,r:l};var f=i[0].s;for(r=1;r<o;++r)i[r].s>f&&(f=i[r].s);var p=new _ne(f+1),h=Yne(n[u-1],p,0);if(h>t){r=0;var m=0,v=h-t,g=1<<v;for(i.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));r<o;++r){var y=i[r].s;if(!(p[y]>t))break;m+=g-(1<<h-p[y]),p[y]=t}for(m>>>=v;m>0;){var b=i[r].s;p[b]<t?m-=1<<t-p[b]++-1:++r}for(;r>=0&&m;--r){var w=i[r].s;p[w]==t&&(--p[w],++m)}h=t}return[new jne(p),h]},Yne=function e(t,n,r){return-1==t.s?Math.max(e(t.l,n,r+1),e(t.r,n,r+1)):n[t.s]=r},Zne=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new _ne(++t),r=0,o=e[0],i=1,a=function(e){n[r++]=e},s=1;s<=t;++s)if(e[s]==o&&s!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=e[s]}return[n.subarray(0,r),t]},Jne=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Qne=function(e,t,n){var r=n.length,o=Wne(t+2);e[o]=255&r,e[o+1]=r>>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<r;++i)e[o+i+4]=n[i];return 8*(o+4+r)},ere=function(e,t,n,r,o,i,a,s,l,c,u){Gne(t,u++,n),++o[256];for(var d=Xne(o,15),f=d[0],p=d[1],h=Xne(i,15),m=h[0],v=h[1],g=Zne(f),y=g[0],b=g[1],w=Zne(m),x=w[0],S=w[1],k=new _ne(19),E=0;E<y.length;++E)k[31&y[E]]++;for(E=0;E<x.length;++E)k[31&x[E]]++;for(var O=Xne(k,7),j=O[0],_=O[1],C=19;C>4&&!j[Ane[C-1]];--C);var T,P,A,N,M=c+5<<3,I=Jne(o,$ne)+Jne(i,Une)+a,R=Jne(o,f)+Jne(i,m)+a+14+3*C+Jne(k,j)+(2*k[16]+3*k[17]+7*k[18]);if(M<=I&&M<=R)return Qne(t,u,e.subarray(l,l+c));if(Gne(t,u,1+(R<I)),u+=2,R<I){T=Bne(f,p,0),P=f,A=Bne(m,v,0),N=m;var L=Bne(j,_,0);for(Gne(t,u,b-257),Gne(t,u+5,S-1),Gne(t,u+10,C-4),u+=14,E=0;E<C;++E)Gne(t,u+3*E,j[Ane[E]]);u+=3*C;for(var D=[y,x],F=0;F<2;++F){var z=D[F];for(E=0;E<z.length;++E){var B=31&z[E];Gne(t,u,L[B]),u+=j[B],B>15&&(Gne(t,u,z[E]>>>5&127),u+=z[E]>>>12)}}}else T=Vne,P=$ne,A=Hne,N=Une;for(E=0;E<s;++E)if(r[E]>255){B=r[E]>>>18&31,Kne(t,u,T[B+257]),u+=P[B+257],B>7&&(Gne(t,u,r[E]>>>23&31),u+=Tne[B]);var $=31&r[E];Kne(t,u,A[$]),u+=N[$],$>3&&(Kne(t,u,r[E]>>>5&8191),u+=Pne[$])}else Kne(t,u,T[r[E]]),u+=P[r[E]];return Kne(t,u,T[256]),u+P[256]},tre=new Cne([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nre=new jne(0),rre=function(){for(var e=new Cne(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),ore=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function ire(e,t){void 0===t&&(t={});var n=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=rre[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}}(),r=e.length;n.p(e);var o=function(e,t,n,r,o){return function(e,t,n,r,o,i){var a=e.length,s=new jne(r+a+5*(1+Math.floor(a/7e3))+o),l=s.subarray(r,s.length-o),c=0;if(!t||a<8)for(var u=0;u<=a;u+=65535){var d=u+65535;d<a?c=Qne(l,c,e.subarray(u,d)):(l[u]=i,c=Qne(l,c,e.subarray(u,a)))}else{for(var f=tre[t-1],p=f>>>13,h=8191&f,m=(1<<n)-1,v=new _ne(32768),g=new _ne(m+1),y=Math.ceil(n/3),b=2*y,w=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&m},x=new Cne(25e3),S=new _ne(288),k=new _ne(32),E=0,O=0,j=(u=0,0),_=0,C=0;u<a;++u){var T=w(u),P=32767&u,A=g[T];if(v[P]=A,g[T]=P,_<=u){var N=a-u;if((E>7e3||j>24576)&&N>423){c=ere(e,l,0,x,S,k,O,j,C,u-C,c),j=E=O=0,C=u;for(var M=0;M<286;++M)S[M]=0;for(M=0;M<30;++M)k[M]=0}var I=2,R=0,L=h,D=P-A&32767;if(N>2&&T==w(u-D))for(var F=Math.min(p,N)-1,z=Math.min(32767,u),B=Math.min(258,N);D<=z&&--L&&P!=A;){if(e[u+I]==e[u+I-D]){for(var $=0;$<B&&e[u+$]==e[u+$-D];++$);if($>I){if(I=$,R=D,$>F)break;var U=Math.min(D,$-2),V=0;for(M=0;M<U;++M){var H=u-D+M+32768&32767,W=H-v[H]+32768&32767;W>V&&(V=W,A=H)}}}D+=(P=A)-(A=v[P])+32768&32767}if(R){x[j++]=268435456|Rne[I]<<18|Lne[R];var q=31&Rne[I],G=31&Lne[R];O+=Tne[q]+Pne[G],++S[257+q],++k[G],_=u+I,++E}else x[j++]=e[u],++S[e[u]]}}c=ere(e,l,i,x,S,k,O,j,C,u-C,c),i||(c=Qne(l,c,nre))}return qne(s,0,r+Wne(c)+o)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!o)}(e,t,function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8),i=o.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&ore(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}}(o,t),ore(o,i-8,n.d()),ore(o,i-4,r),o}function are(e,t){var n=e.length;if(!t&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var r=new jne(e.length+(e.length>>>1)),o=0,i=function(e){r[o++]=e},a=0;a<n;++a){if(o+5>r.length){var s=new jne(o+8+(n-a<<1));s.set(r),r=s}var l=e.charCodeAt(a);l<128||t?i(l):l<2048?(i(192|l>>>6),i(128|63&l)):l>55295&&l<57344?(i(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++a))>>>18),i(128|l>>>12&63),i(128|l>>>6&63),i(128|63&l)):(i(224|l>>>12),i(128|l>>>6&63),i(128|63&l))}return qne(r,0,o)}var sre=3e5,lre=sre,cre=[Hte.MouseMove,Hte.MouseInteraction,Hte.Scroll,Hte.ViewportResize,Hte.Input,Hte.TouchMove,Hte.MediaInteraction,Hte.Drag],ure=function(e){return{rrwebMethod:e,enqueuedAt:Date.now(),attempt:1}},dre="[SessionRecording]";function fre(e){return function(e){var t="";for(var n=0;n<e.length;){var r=e[n++];t+=String.fromCharCode(r)}return t}(ire(are(JSON.stringify(e))))}var pre,hre=function(){function e(t){var n=this;if(u9(this,e),p9(this,"queuedRRWebEvents",[]),p9(this,"isIdle",!1),p9(this,"_linkedFlagSeen",!1),p9(this,"_lastActivityTimestamp",Date.now()),p9(this,"_linkedFlag",null),p9(this,"_removePageViewCaptureHook",void 0),p9(this,"_onSessionIdListener",void 0),p9(this,"_persistDecideOnSessionListener",void 0),p9(this,"_samplingSessionListener",void 0),p9(this,"_forceAllowLocalhostNetworkCapture",!1),p9(this,"_onBeforeUnload",(function(){n._flushBuffer()})),p9(this,"_onOffline",(function(){n._tryAddCustomEvent("browser offline",{})})),p9(this,"_onOnline",(function(){n._tryAddCustomEvent("browser online",{})})),p9(this,"_onVisibilityChange",(function(){if(null!=R8&&R8.visibilityState){var e="window "+R8.visibilityState;n._tryAddCustomEvent(e,{})}})),this.instance=t,this._captureStarted=!1,this._endpoint="/s/",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw i9.error(dre+" started without valid sessionManager"),new Error(dre+" started without valid sessionManager. This is a bug.");var r=this.sessionManager.checkAndGetSessionAndWindowId(),o=r.sessionId,i=r.windowId;this.sessionId=o,this.windowId=i,this.buffer=this.clearBuffer()}return f9(e,[{key:"rrwebRecord",get:function(){var e,t;return null==$8||null===(e=$8.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}},{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw new Error(dre+" must be started with a valid sessionManager.");return this.instance.sessionManager}},{key:"fullSnapshotIntervalMillis",get:function(){var e;return(null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.full_snapshot_interval_millis)||sre}},{key:"isSampled",get:function(){var e=this.instance.get_property(X9);return r9(e)?e:null}},{key:"sessionDuration",get:function(){var e,t,n=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],r=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return n?n.timestamp-r:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(U9),t=!this.instance.config.disable_session_recording;return T8&&e&&t}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(V9),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}},{key:"canvasRecording",get:function(){var e=this.instance.get_property(W9);return e&&e.fps&&e.quality?{enabled:e.enabled,fps:e.fps,quality:e.quality}:void 0}},{key:"networkPayloadCapture",get:function(){var e,t,n=this.instance.get_property(H9),r={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},o=(null==r?void 0:r.recordHeaders)||(null==n?void 0:n.recordHeaders),i=(null==r?void 0:r.recordBody)||(null==n?void 0:n.recordBody),a=X8(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,s=!!(r9(a)?a:null==n?void 0:n.capturePerformance);return o||i||s?{recordHeaders:o,recordBody:i,recordPerformance:s}:void 0}},{key:"sampleRate",get:function(){var e=this.instance.get_property(q9);return n9(e)?e:null}},{key:"minimumDuration",get:function(){var e=this.instance.get_property(G9);return n9(e)?e:null}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?t9(this._linkedFlag)||this._linkedFlagSeen?r9(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"buffering":"disabled":"buffering"}},{key:"startIfEnabledOrStop",value:function(){var e=this;this.isRecordingEnabled?(this._startCapture(),null==T8||T8.addEventListener("beforeunload",this._onBeforeUnload),null==T8||T8.addEventListener("offline",this._onOffline),null==T8||T8.addEventListener("online",this._onOnline),null==T8||T8.addEventListener("visibilitychange",this._onVisibilityChange),this._setupSampling(),t9(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance._addCaptureHook((function(t){try{if("$pageview"===t){var n=T8?e._maskUrl(T8.location.href):"";if(!n)return;e._tryAddCustomEvent("$pageview",{href:n})}}catch(e){i9.error("Could not add $pageview to rrweb session",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId((function(t,n,r){r&&e._tryAddCustomEvent("$session_id_change",{sessionId:t,windowId:n,changeReason:r})}))),i9.info(dre+" started")):this.stopRecording()}},{key:"stopRecording",value:function(){var e,t,n;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==T8||T8.removeEventListener("beforeunload",this._onBeforeUnload),null==T8||T8.removeEventListener("offline",this._onOffline),null==T8||T8.removeEventListener("online",this._onOnline),null==T8||T8.removeEventListener("visibilitychange",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(t=this._onSessionIdListener)||void 0===t||t.call(this),this._onSessionIdListener=void 0,null===(n=this._samplingSessionListener)||void 0===n||n.call(this),this._samplingSessionListener=void 0,i9.info(dre+" stopped"))}},{key:"makeSamplingDecision",value:function(e){var t,n=this.sessionId!==e,r=this.sampleRate;if(n9(r)){var o,i=this.isSampled,a=n||!r9(i);!(o=a?Math.random()<r:i)&&a&&i9.warn(dre+" Sample rate (".concat(r,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),this._tryAddCustomEvent("samplingDecisionMade",{sampleRate:r}),null===(t=this.instance.persistence)||void 0===t||t.register(p9({},X9,o))}else{var s;null===(s=this.instance.persistence)||void 0===s||s.register(p9({},X9,null))}}},{key:"afterDecideResponse",value:function(e){var t,n,r,o=this;if(this._persistDecideResponse(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(n=e.sessionRecording)&&void 0!==n&&n.endpoint&&(this._endpoint=null===(r=e.sessionRecording)||void 0===r?void 0:r.endpoint),this._setupSampling(),!t9(this._linkedFlag)&&!this._linkedFlagSeen){var i=J8(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,a=J8(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags((function(e,t){var n=X8(t)&&i in t,r=a?t[i]===a:n;if(r){var s={linkedFlag:i,linkedVariant:a},l="linked flag matched";i9.info(dre+" "+l,s),o._tryAddCustomEvent(l,s)}o._linkedFlagSeen=r}))}this.receivedDecide=!0,this.startIfEnabledOrStop()}},{key:"_setupSampling",value:function(){var e=this;n9(this.sampleRate)&&t9(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((function(t){e.makeSamplingDecision(t)})))}},{key:"_persistDecideResponse",value:function(e){if(this.instance.persistence){var t,n=this.instance.persistence,r=function(){var t,r,o,i,a,s,l,c,u=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,d=t9(u)?null:parseFloat(u),f=null===(r=e.sessionRecording)||void 0===r?void 0:r.minimumDurationMilliseconds;n.register((p9(c={},U9,!!e.sessionRecording),p9(c,V9,null===(o=e.sessionRecording)||void 0===o?void 0:o.consoleLogRecordingEnabled),p9(c,H9,l9({capturePerformance:e.capturePerformance},null===(i=e.sessionRecording)||void 0===i?void 0:i.networkPayloadCapture)),p9(c,W9,{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(s=e.sessionRecording)||void 0===s?void 0:s.canvasFps,quality:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasQuality}),p9(c,q9,d),p9(c,G9,Z8(f)?null:f),c))};r(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(r)}}},{key:"log",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}},{key:"_startCapture",value:function(){var e,t,n=this;Z8(Object.assign)||this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut()||(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord?this._onScriptLoaded():null===(e=$8.__PosthogExtensions__)||void 0===e||null===(t=e.loadExternalDependency)||void 0===t||t.call(e,this.instance,"recorder",(function(e){if(e)return i9.error(dre+" could not load recorder",e);n._onScriptLoaded()})))}},{key:"isInteractiveEvent",value:function(e){var t;return 3===e.type&&-1!==cre.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}},{key:"_updateWindowAndSessionIds",value:function(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>lre&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:lre,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var n=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),o=r.windowId,i=r.sessionId,a=this.sessionId!==i,s=this.windowId!==o;this.windowId=o,this.sessionId=i,a||s?(this.stopRecording(),this.startIfEnabledOrStop()):n&&this._scheduleFullSnapshot()}}},{key:"_tryRRWebMethod",value:function(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):i9.warn(dre+" could not emit queued rrweb event.",t,e),!1}}},{key:"_tryAddCustomEvent",value:function(e,t){var n=this;return this._tryRRWebMethod(ure((function(){return n.rrwebRecord.addCustomEvent(e,t)})))}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRWebMethod(ure((function(){return e.rrwebRecord.takeFullSnapshot()})))}},{key:"_onScriptLoaded",value:function(){for(var e,t=this,n={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},r=this.instance.config.session_recording,o=0,i=Object.entries(r||{});o<i.length;o++){var a=h9(i[o],2),s=a[0],l=a[1];s in n&&("maskInputOptions"===s?n.maskInputOptions=l9({password:!0},l):n[s]=l)}if(this.canvasRecording&&this.canvasRecording.enabled&&(n.recordCanvas=!0,n.sampling={canvas:this.canvasRecording.fps},n.dataURLOptions={type:"image/webp",quality:this.canvasRecording.quality}),this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new One(this.rrwebRecord,{onBlockedNode:function(e,n){var r="Too many mutations on node '".concat(e,"'. Rate limiting. This could be due to SVG animations or something similar");i9.info(r,{node:n}),t.log(dre+" "+r,"warn")}});var c=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(l9({emit:function(e){t.onRRwebEmit(e)},plugins:c},n)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent("$session_options",{sessionRecordingOptions:n,activePlugins:c.map((function(e){return null==e?void 0:e.name}))}),this._tryAddCustomEvent("$posthog_config",{config:this.instance.config})}else i9.error(dre+"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_scheduleFullSnapshot",value:function(){var e=this;if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var t=this.fullSnapshotIntervalMillis;t&&(this._fullSnapshotTimer=setInterval((function(){e._tryTakeFullSnapshot()}),t))}}},{key:"_gatherRRWebPlugins",value:function(){var e,t,n,r,o=[],i=null===(e=$8.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;i&&this.isConsoleLogCaptureEnabled&&o.push(i());var a=null===(n=$8.__PosthogExtensions__)||void 0===n||null===(r=n.rrwebPlugins)||void 0===r?void 0:r.getRecordNetworkPlugin;return this.networkPayloadCapture&&K8(a)&&(!Dee.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?o.push(a(function(e,t){var n,r,o,i={payloadSizeLimitBytes:bne.payloadSizeLimitBytes,performanceEntryTypeToObserve:m9(bne.performanceEntryTypeToObserve),payloadHostDenyList:[].concat(m9(t.payloadHostDenyList||[]),m9(bne.payloadHostDenyList))},a=!1!==e.session_recording.recordHeaders&&t.recordHeaders,s=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,c=(n=i,o=Math.min(1e6,null!==(r=n.payloadSizeLimitBytes)&&void 0!==r?r:1e6),function(e){return null!=e&&e.requestBody&&(e.requestBody=kne(e.requestBody,e.requestHeaders,o,"Request")),null!=e&&e.responseBody&&(e.responseBody=kne(e.responseBody,e.responseHeaders,o,"Response")),e}),u=function(e){return c(function(e){var t=Fee(e.name);if(!(t&&t.pathname&&Sne.some((function(e){return 0===t.pathname.indexOf(e)}))))return e}((n=(t=e).requestHeaders,t9(n)||S9(Object.keys(null!=n?n:{}),(function(e){wne.includes(e.toLowerCase())&&(n[e]=yne)})),t)));var t,n},d=K8(e.session_recording.maskNetworkRequestFn);return d&&K8(e.session_recording.maskCapturedNetworkRequestFn)&&i9.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),d&&(e.session_recording.maskCapturedNetworkRequestFn=function(t){var n=e.session_recording.maskNetworkRequestFn({url:t.name});return l9(l9({},t),{},{name:null==n?void 0:n.url})}),i.maskRequestFn=K8(e.session_recording.maskCapturedNetworkRequestFn)?function(t){var n,r,o,i=u(t);return i&&null!==(n=null===(r=(o=e.session_recording).maskCapturedNetworkRequestFn)||void 0===r?void 0:r.call(o,i))&&void 0!==n?n:void 0}:function(e){return function(e){if(!Z8(e))return e.requestBody=Ene(e.requestBody,"Request"),e.responseBody=Ene(e.responseBody,"Response"),e}(u(e))},l9(l9(l9({},bne),i),{},{recordHeaders:a,recordBody:s,recordPerformance:l,recordInitialRequests:l})}(this.instance.config,this.networkPayloadCapture))):i9.info(dre+" NetworkCapture not started because we are on localhost.")),o}},{key:"onRRwebEmit",value:function(e){if(this._processQueuedEvents(),e&&X8(e)){if(e.type===Vte.Meta){var t=this._maskUrl(e.data.href);if(this._lastHref=t,!t)return;e.data.href=t}else this._pageViewFallBack();e.type===Vte.FullSnapshot&&this._scheduleFullSnapshot();var n=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(n){var r=function(e){var t=e;if(t&&X8(t)&&6===t.type&&X8(t.data)&&"rrweb/console@1"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push("...[truncated]"));for(var n=[],r=0;r<t.data.payload.payload.length;r++)t.data.payload.payload[r]&&t.data.payload.payload[r].length>2e3?n.push(t.data.payload.payload[r].slice(0,2e3)+"...[truncated]"):n.push(t.data.payload.payload[r]);return t.data.payload.payload=n,e}return e}(n);if(this._updateWindowAndSessionIds(r),!this.isIdle||r.type===Vte.Custom){if(r.type===Vte.Custom&&"sessionIdle"===r.data.tag){var o=r.data.payload;if(o){var i=o.lastActivityTimestamp,a=o.threshold;r.timestamp=i+a}}var s=this.instance.config.session_recording.compress_events?function(e,t){try{if(e.type===Vte.FullSnapshot)return l9(l9({},e),{},{data:fre(e.data),cv:"2024-10"});if(e.type===Vte.IncrementalSnapshot&&e.data.source===Hte.Mutation)return l9(l9({},e),{},{cv:"2024-10",data:l9(l9({},e.data),{},{texts:fre(e.data.texts),attributes:fre(e.data.attributes),removes:fre(e.data.removes),adds:fre(e.data.adds)})});if(e.type===Vte.IncrementalSnapshot&&e.data.source===Hte.StyleSheetRule)return l9(l9({},e),{},{cv:"2024-10",data:l9(l9({},e.data),{},{adds:fre(e.data.adds),removes:fre(e.data.removes)})})}catch(n){i9.error(dre+" could not compress event",n),t.captureException(n||"e was not an error",{attempted_event_type:(null==e?void 0:e.type)||"no event type"})}return e}(r,this.instance):r,l={$snapshot_bytes:$te(s),$snapshot_data:s,$session_id:this.sessionId,$window_id:this.windowId};"disabled"!==this.status?this._captureSnapshotBuffered(l):this.clearBuffer()}}}}},{key:"_pageViewFallBack",value:function(){if(!this.instance.config.capture_pageview&&T8){var e=this._maskUrl(T8.location.href);this._lastHref!==e&&(this._tryAddCustomEvent("$url_changed",{href:e}),this._lastHref=e)}}},{key:"_processQueuedEvents",value:function(){var e=this;if(this.queuedRRWebEvents.length){var t=m9(this.queuedRRWebEvents);this.queuedRRWebEvents=[],t.forEach((function(t){Date.now()-t.enqueuedAt<=2e3&&e._tryRRWebMethod(t)}))}}},{key:"_maskUrl",value:function(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var n,r={url:e};return null===(n=r=t.maskNetworkRequestFn(r))||void 0===n?void 0:n.url}return e}},{key:"clearBuffer",value:function(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var t=this.minimumDuration,n=this.sessionDuration,r=n9(n)&&n>=0,o=n9(t)&&r&&n<t;return"buffering"===this.status||o?(this.flushBufferTimer=setTimeout((function(){e._flushBuffer()}),2e3),this.buffer):(this.buffer.data.length>0&&Ute(this.buffer).forEach((function(t){e._captureSnapshot({$snapshot_bytes:t.size,$snapshot_data:t.data,$session_id:t.sessionId,$window_id:t.windowId})})),this.clearBuffer())}},{key:"_captureSnapshotBuffered",value:function(e){var t,n=this,r=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+r>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((function(){n._flushBuffer()}),2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{_url:this.instance.requestRouter.endpointFor("api",this._endpoint),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}},{key:"overrideLinkedFlag",value:function(){this._linkedFlagSeen=!0}}]),e}(),mre=function(){function e(t){u9(this,e),this.instance=t,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return f9(e,[{key:"call",value:function(){var e=this,t={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(J9),group_properties:this.instance.get_property(Q9),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0};this.instance._send_request({method:"POST",url:this.instance.requestRouter.endpointFor("api","/decide/?v=3"),data:t,compression:this.instance.config.disable_compression?void 0:P9.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:function(t){return e.parseDecideResponse(t.json)}})}},{key:"parseDecideResponse",value:function(e){var t=this;this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer();var n=!e;if(this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(null!=e?e:{},n),n)i9.error("Failed to fetch feature flags from PostHog.");else{if(!R8||!R8.body)return i9.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout((function(){t.parseDecideResponse(e)}),500);if(this.instance._afterDecideResponse(e),e.siteApps)if(this.instance.config.opt_in_site_apps){var r,o=y9(e.siteApps);try{var i=function(){var e,n,o=r.value,i=o.id,a=o.url;$8["__$$ph_site_app_".concat(i)]=t.instance,null===(e=$8.__PosthogExtensions__)||void 0===e||null===(n=e.loadSiteApp)||void 0===n||n.call(e,t.instance,a,(function(e){if(e)return i9.error("Error while initializing PostHog app with config id ".concat(i),e)}))};for(o.s();!(r=o.n()).done;)i()}catch(e){o.e(e)}finally{o.f()}}else e.siteApps.length>0&&i9.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}]),e}(),vre=null!=T8&&T8.location?$ee(T8.location.hash,"__posthog")||$ee(location.hash,"state"):null,gre="_postHogToolbarParams";!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(pre||(pre={}));var yre=function(){function e(t){u9(this,e),this.instance=t}return f9(e,[{key:"setToolbarState",value:function(e){$8.ph_toolbar_state=e}},{key:"getToolbarState",value:function(){var e;return null!==(e=$8.ph_toolbar_state)&&void 0!==e?e:pre.UNINITIALIZED}},{key:"maybeLoadToolbar",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!T8||!R8)return!1;n=null!==(e=n)&&void 0!==e?e:T8.location,o=null!==(t=o)&&void 0!==t?t:T8.history;try{if(!r){try{T8.localStorage.setItem("test","test"),T8.localStorage.removeItem("test")}catch(e){return!1}r=null==T8?void 0:T8.localStorage}var i,a=vre||$ee(n.hash,"__posthog")||$ee(n.hash,"state"),s=a?j9((function(){return JSON.parse(atob(decodeURIComponent(a)))}))||j9((function(){return JSON.parse(decodeURIComponent(a))})):null;return s&&"ph_authorize"===s.action?((i=s).source="url",i&&Object.keys(i).length>0&&(s.desiredHash?n.hash=s.desiredHash:o?o.replaceState(o.state,"",n.pathname+n.search):n.hash="")):((i=JSON.parse(r.getItem(gre)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token||(this.loadToolbar(i),0))}catch(e){return!1}}},{key:"_callLoadToolbar",value:function(e){($8.ph_load_toolbar||$8.ph_load_editor)(e,this.instance)}},{key:"loadToolbar",value:function(e){var t=this,n=!(null==R8||!R8.getElementById(uee));if(!T8||n)return!1;var r="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,o=l9(l9({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(T8.localStorage.setItem(gre,JSON.stringify(l9(l9({},o),{},{source:void 0}))),this.getToolbarState()===pre.LOADED)this._callLoadToolbar(o);else if(this.getToolbarState()===pre.UNINITIALIZED){var i,a;this.setToolbarState(pre.LOADING),null===(i=$8.__PosthogExtensions__)||void 0===i||null===(a=i.loadExternalDependency)||void 0===a||a.call(i,this.instance,"toolbar",(function(e){if(e)return i9.error("Failed to load toolbar",e),void t.setToolbarState(pre.UNINITIALIZED);t.setToolbarState(pre.LOADED),t._callLoadToolbar(o)})),A9(T8,"turbolinks:load",(function(){t.setToolbarState(pre.UNINITIALIZED),t.loadToolbar(o)}))}return!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,n)}}]),e}(),bre=function(){function e(t){u9(this,e),p9(this,"isPaused",!0),p9(this,"queue",[]),p9(this,"flushTimeoutMs",3e3),this.sendRequest=t}return f9(e,[{key:"enqueue",value:function(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}},{key:"unload",value:function(){var e=this;this.clearFlushTimeout();var t=this.queue.length>0?this.formatQueue():{},n=Object.values(t);[].concat(m9(n.filter((function(e){return 0===e.url.indexOf("/e")}))),m9(n.filter((function(e){return 0!==e.url.indexOf("/e")})))).map((function(t){e.sendRequest(l9(l9({},t),{},{transport:"sendBeacon"}))}))}},{key:"enable",value:function(){this.isPaused=!1,this.setFlushTimeout()}},{key:"setFlushTimeout",value:function(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((function(){if(e.clearFlushTimeout(),e.queue.length>0){var t=e.formatQueue(),n=function(n){var r=t[n],o=(new Date).getTime();r.data&&G8(r.data)&&S9(r.data,(function(e){e.offset=Math.abs(e.timestamp-o),delete e.timestamp})),e.sendRequest(r)};for(var r in t)n(r)}}),this.flushTimeoutMs))}},{key:"clearFlushTimeout",value:function(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}},{key:"formatQueue",value:function(){var e={};return S9(this.queue,(function(t){var n,r=t,o=(r?r.batchKey:null)||r.url;Z8(e[o])&&(e[o]=l9(l9({},r),{},{data:[]})),null===(n=e[o].data)||void 0===n||n.push(r.data)})),this.queue=[],e}}]),e}(),wre=!!F8||!!D8,xre="text/plain",Sre=function(e,t){var n=h9(e.split("?"),2),r=n[0],o=n[1],i=l9({},t);null==o||o.split("&").forEach((function(e){var t=h9(e.split("="),1)[0];delete i[t]}));var a=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",o=[];return S9(e,(function(e,r){Z8(e)||Z8(r)||"undefined"===r||(t=encodeURIComponent(function(e){return e instanceof File}(e)?e.name:e.toString()),n=encodeURIComponent(r),o[o.length]=n+"="+t)})),o.join(r)}(i);return a=a?(o?o+"&":"")+a:o,"".concat(r,"?").concat(a)},kre=function(e){var t=e.data,n=e.compression;if(t){if(n===P9.GZipJS){var r=ire(are(JSON.stringify(t)),{mtime:0}),o=new Blob([r],{type:xre});return{contentType:xre,body:o,estimatedSize:o.size}}if(n===P9.Base64){var i=function(e){var t,n,r,o,i,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,c="",u=[];if(!e)return e;e=function(e){var t,n,r,o,i="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<r;o++){var a=e.charCodeAt(o),s=null;a<128?n++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),e9(s)||(n>t&&(i+=e.substring(t,n)),i+=s,t=n=o+1)}return n>t&&(i+=e.substring(t,e.length)),i}(e);do{t=(i=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,n=i>>12&63,r=i>>6&63,o=63&i,u[l++]=a.charAt(t)+a.charAt(n)+a.charAt(r)+a.charAt(o)}while(s<e.length);switch(c=u.join(""),e.length%3){case 1:c=c.slice(0,-2)+"==";break;case 2:c=c.slice(0,-1)+"="}return c}(JSON.stringify(t)),a=function(e){return"data="+encodeURIComponent("string"==typeof e?e:JSON.stringify(e))}(i);return{contentType:"application/x-www-form-urlencoded",body:a,estimatedSize:new Blob([a]).size}}var s=JSON.stringify(t);return{contentType:"application/json",body:s,estimatedSize:new Blob([s]).size}}},Ere=[];F8&&Ere.push({transport:"XHR",method:function(e){var t,n=new F8;n.open(e.method||"GET",e.url,!0);var r=null!==(t=kre(e))&&void 0!==t?t:{},o=r.contentType,i=r.body;S9(e.headers,(function(e,t){n.setRequestHeader(t,e)})),o&&n.setRequestHeader("Content-Type",o),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=function(){if(4===n.readyState){var t,r={statusCode:n.status,text:n.responseText};if(200===n.status)try{r.json=JSON.parse(n.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,r)}},n.send(i)}}),D8&&Ere.push({transport:"fetch",method:function(e){var t,n,r=null!==(t=kre(e))&&void 0!==t?t:{},o=r.contentType,i=r.body,a=r.estimatedSize,s=new Headers;S9(e.headers,(function(e,t){s.append(t,e)})),o&&s.append("Content-Type",o);var l=e.url,c=null;if(z8){var u=new z8;c={signal:u.signal,timeout:setTimeout((function(){return u.abort()}),e.timeout)}}D8(l,{method:(null==e?void 0:e.method)||"GET",headers:s,keepalive:"POST"===e.method&&(a||0)<65536,body:i,signal:null===(n=c)||void 0===n?void 0:n.signal}).then((function(t){return t.text().then((function(n){var r,o={statusCode:t.status,text:n};if(200===t.status)try{o.json=JSON.parse(n)}catch(e){i9.error(e)}null===(r=e.callback)||void 0===r||r.call(e,o)}))})).catch((function(t){var n;i9.error(t),null===(n=e.callback)||void 0===n||n.call(e,{statusCode:0,text:t})})).finally((function(){return c?clearTimeout(c.timeout):null}))}}),null!=I8&&I8.sendBeacon&&Ere.push({transport:"sendBeacon",method:function(e){var t=Sre(e.url,{beacon:"1"});try{var n,r=null!==(n=kre(e))&&void 0!==n?n:{},o=r.contentType,i=r.body,a="string"==typeof i?new Blob([i],{type:o}):i;I8.sendBeacon(t,a)}catch(e){}}});var Ore,jre=["retriesPerformedSoFar"],_re=function(){function e(t){var n=this;u9(this,e),p9(this,"isPolling",!1),p9(this,"pollIntervalMs",3e3),p9(this,"queue",[]),this.instance=t,this.queue=[],this.areWeOnline=!0,!Z8(T8)&&"onLine"in T8.navigator&&(this.areWeOnline=T8.navigator.onLine,T8.addEventListener("online",(function(){n.areWeOnline=!0,n.flush()})),T8.addEventListener("offline",(function(){n.areWeOnline=!1})))}return f9(e,[{key:"retriableRequest",value:function(e){var t=this,n=e.retriesPerformedSoFar,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,jre);n9(n)&&n>0&&(r.url=Sre(r.url,{retry_count:n})),this.instance._send_request(l9(l9({},r),{},{callback:function(e){var o;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=n?n:0)<10?t.enqueue(l9({retriesPerformedSoFar:n},r)):null===(o=r.callback)||void 0===o||o.call(r,e)}}))}},{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var n=function(e){var t=3e3*Math.pow(2,e),n=t/2,r=Math.min(18e5,t),o=(Math.random()-.5)*(r-n);return Math.ceil(r+o)}(t),r=Date.now()+n;this.queue.push({retryAt:r,requestOptions:e});var o="Enqueued failed request for retry in ".concat(n);navigator.onLine||(o+=" (Browser is offline)"),i9.warn(o),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;this.poller&&clearTimeout(this.poller),this.poller=setTimeout((function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()}),this.pollIntervalMs)}},{key:"flush",value:function(){var e=Date.now(),t=[],n=this.queue.filter((function(n){return n.retryAt<e||(t.push(n),!1)}));if(this.queue=t,n.length>0){var r,o=y9(n);try{for(o.s();!(r=o.n()).done;){var i=r.value.requestOptions;this.retriableRequest(i)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"unload",value:function(){this.poller&&(clearTimeout(this.poller),this.poller=void 0);var e,t=y9(this.queue);try{for(t.s();!(e=t.n()).done;){var n=e.value.requestOptions;try{this.instance._send_request(l9(l9({},n),{},{transport:"sendBeacon"}))}catch(e){i9.error(e)}}}catch(e){t.e(e)}finally{t.f()}this.queue=[]}}]),e}(),Cre=1800,Tre=function(){function e(t,n,r,o){var i;u9(this,e),p9(this,"_sessionIdChangedHandlers",[]),this.config=t,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||kee,this._windowIdGenerator=o||kee;var a=t.persistence_name||t.token,s=t.session_idle_timeout_seconds||Cre;if(n9(s)?s>Cre?i9.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):s<60&&i9.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(i9.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),s=Cre),this._sessionTimeoutMs=1e3*Math.min(Math.max(s,60),Cre),this._window_id_storage_key="ph_"+a+"_window_id",this._primary_window_exists_storage_key="ph_"+a+"_primary_window_exists",this._canUseSessionStorage()){var l=Lee.parse(this._window_id_storage_key),c=Lee.parse(this._primary_window_exists_storage_key);l&&!c?this._windowId=l:Lee.remove(this._window_id_storage_key),Lee.set(this._primary_window_exists_storage_key,!0)}if(null!==(i=this.config.bootstrap)&&void 0!==i&&i.sessionID)try{var u=function(e){var t=e.replace(/-/g,"");if(32!==t.length)throw new Error("Not a valid UUID");if("7"!==t[12])throw new Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)}(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),u)}catch(t){i9.error("Invalid sessionID in bootstrap",t)}this._listenToReloadWindow()}return f9(e,[{key:"onSessionId",value:function(e){var t=this;return Z8(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){t._sessionIdChangedHandlers=t._sessionIdChangedHandlers.filter((function(t){return t!==e}))}}},{key:"_canUseSessionStorage",value:function(){return"memory"!==this.config.persistence&&!this.persistence.disabled&&Lee.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&Lee.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?Lee.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,t,n){e===this._sessionId&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register(p9({},K9,[t,e,n])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[K9];return G8(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;null==T8||T8.addEventListener("beforeunload",(function(){e._canUseSessionStorage()&&Lee.remove(e._primary_window_exists_storage_key)}))}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(new Date).getTime(),n=h9(this._getSessionId(),3),r=n[0],o=n[1],i=n[2],a=this._getWindowId(),s=n9(i)&&i>0&&Math.abs(t-i)>864e5,l=!1,c=!o,u=!e&&Math.abs(t-r)>this._sessionTimeoutMs;c||u||s?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),i9.info("[SessionId] new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:s}}),i=t,l=!0):a||(a=this._windowIdGenerator(),l=!0);var d=0===r||!e||s?t:r,f=0===i?(new Date).getTime():i;return this._setWindowId(a),this._setSessionId(o,d,f),l&&this._sessionIdChangedHandlers.forEach((function(e){return e(o,a,l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:s}:void 0)})),{sessionId:o,windowId:a,sessionStartTimestamp:f,changeReason:l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:s}:void 0}}}]),e}();!function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"}(Ore||(Ore={}));var Pre="i.posthog.com",Are=function(){function e(t){u9(this,e),p9(this,"_regionCache",{}),this.instance=t}return f9(e,[{key:"apiHost",get:function(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}},{key:"uiHost",get:function(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace(".".concat(Pre),".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}},{key:"region",get:function(){return this._regionCache[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ore.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=Ore.EU:this._regionCache[this.apiHost]=Ore.CUSTOM),this._regionCache[this.apiHost]}},{key:"endpointFor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t&&(t="/"===t[0]?t:"/".concat(t)),"ui"===e)return this.uiHost+t;if(this.region===Ore.CUSTOM)return this.apiHost+t;var n=Pre+t;switch(e){case"assets":return"https://".concat(this.region,"-assets.").concat(n);case"api":return"https://".concat(this.region,".").concat(n)}}}]),e}(),Nre="posthog-js";function Mre(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.organization,r=t.projectId,o=t.prefix,i=t.severityAllowList,a=void 0===i?["error"]:i;return function(t){var i,s,l,c,u;if("*"!==a&&!a.includes(t.level)||!e.__loaded)return t;t.tags||(t.tags={});var d=e.requestRouter.endpointFor("ui","/project/".concat(e.config.token,"/person/").concat(e.get_distinct_id()));t.tags["PostHog Person URL"]=d,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var f=(null===(i=t.exception)||void 0===i?void 0:i.values)||[],p={$exception_message:(null===(s=f[0])||void 0===s?void 0:s.value)||t.message,$exception_type:null===(l=f[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:t.level,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null===(c=f[0])||void 0===c?void 0:c.value)||t.message,$sentry_exception_type:null===(u=f[0])||void 0===u?void 0:u.type,$sentry_tags:t.tags,$level:t.level};return n&&r&&(p.$sentry_url=(o||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+t.event_id),e.exceptions.sendExceptionEvent(p),t}}var Ire=f9((function e(t,n,r,o,i){u9(this,e),this.name=Nre,this.setupOnce=function(e){e(Mre(t,{organization:n,projectId:r,prefix:o,severityAllowList:i}))}}));var Rre,Lre,Dre,Fre=function(){function e(t){u9(this,e),this._instance=t}return f9(e,[{key:"doPageView",value:function(e){var t,n=this._previousPageViewProperties(e);return this._currentPath=null!==(t=null==T8?void 0:T8.location.pathname)&&void 0!==t?t:"",this._instance.scrollManager.resetContext(),this._prevPageviewTimestamp=e,n}},{key:"doPageLeave",value:function(e){return this._previousPageViewProperties(e)}},{key:"_previousPageViewProperties",value:function(e){var t=this._currentPath,n=this._prevPageviewTimestamp,r=this._instance.scrollManager.getContext();if(!n)return{};var o={};if(r){var i=r.maxScrollHeight,a=r.lastScrollY,s=r.maxScrollY,l=r.maxContentHeight,c=r.lastContentY,u=r.maxContentY;Z8(i)||Z8(a)||Z8(s)||Z8(l)||Z8(c)||Z8(u)||(i=Math.ceil(i),a=Math.ceil(a),s=Math.ceil(s),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),o={$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:i<=1?1:zre(a/i,0,1),$prev_pageview_max_scroll:s,$prev_pageview_max_scroll_percentage:i<=1?1:zre(s/i,0,1),$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:l<=1?1:zre(c/l,0,1),$prev_pageview_max_content:u,$prev_pageview_max_content_percentage:l<=1?1:zre(u/l,0,1)})}return t&&(o.$prev_pageview_pathname=t),n&&(o.$prev_pageview_duration=(e.getTime()-n.getTime())/1e3),o}}]),e}();function zre(e,t,n){return Math.max(t,Math.min(e,n))}!function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(Rre||(Rre={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(Lre||(Lre={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(Dre||(Dre={}));var Bre=function(){function e(){u9(this,e),p9(this,"events",{}),this.events={}}return f9(e,[{key:"on",value:function(e,t){var n=this;return this.events[e]||(this.events[e]=[]),this.events[e].push(t),function(){n.events[e]=n.events[e].filter((function(e){return e!==t}))}}},{key:"emit",value:function(e,t){var n,r=y9(this.events[e]||[]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}var o,i=y9(this.events["*"]||[]);try{for(i.s();!(o=i.n()).done;)(0,o.value)(e,t)}catch(e){i.e(e)}finally{i.f()}}}]),e}(),$re=function(){function e(t){var n=this;u9(this,e),p9(this,"_debugEventEmitter",new Bre),p9(this,"checkStep",(function(e,t){return n.checkStepEvent(e,t)&&n.checkStepUrl(e,t)&&n.checkStepElement(e,t)})),p9(this,"checkStepEvent",(function(e,t){return null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event)})),this.instance=t,this.actionEvents=new Set,this.actionRegistry=new Set}return f9(e,[{key:"init",value:function(){var e,t,n=this;Z8(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)||(null===(t=this.instance)||void 0===t||t._addCaptureHook((function(e,t){n.on(e,t)})))}},{key:"register",value:function(e){var t,n,r=this;if(!Z8(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((function(e){var t,n;null===(t=r.actionRegistry)||void 0===t||t.add(e),null===(n=e.steps)||void 0===n||n.forEach((function(e){var t;null===(t=r.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||"")}))})),null!==(n=this.instance)&&void 0!==n&&n.autocapture)){var o,i=new Set;e.forEach((function(e){var t;null===(t=e.steps)||void 0===t||t.forEach((function(e){null!=e&&e.selector&&i.add(null==e?void 0:e.selector)}))})),null===(o=this.instance)||void 0===o||o.autocapture.setElementSelectors(i)}}},{key:"on",value:function(e,t){var n,r=this;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(n=this.actionRegistry)||void 0===n?void 0:n.size)>0&&this.actionRegistry.forEach((function(e){r.checkAction(t,e)&&r._debugEventEmitter.emit("actionCaptured",e.name)}))}},{key:"_addActionHook",value:function(e){this.onAction("actionCaptured",(function(t){return e(t)}))}},{key:"checkAction",value:function(e,t){if(null==(null==t?void 0:t.steps))return!1;var n,r=y9(t.steps);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(this.checkStep(e,o))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"onAction",value:function(e,t){return this._debugEventEmitter.on(e,t)}},{key:"checkStepUrl",value:function(t,n){if(null!=n&&n.url){var r,o=null==t||null===(r=t.properties)||void 0===r?void 0:r.$current_url;if(!o||"string"!=typeof o)return!1;if(!e.matchString(o,null==n?void 0:n.url,(null==n?void 0:n.url_matching)||"contains"))return!1}return!0}},{key:"checkStepElement",value:function(t,n){if((null!=n&&n.href||null!=n&&n.tag_name||null!=n&&n.text)&&!this.getElementsList(t).some((function(t){return!(null!=n&&n.href&&!e.matchString(t.href||"",null==n?void 0:n.href,(null==n?void 0:n.href_matching)||"exact")||null!=n&&n.tag_name&&t.tag_name!==(null==n?void 0:n.tag_name)||null!=n&&n.text&&!e.matchString(t.text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact")&&!e.matchString(t.$el_text||"",null==n?void 0:n.text,(null==n?void 0:n.text_matching)||"exact"))})))return!1;if(null!=n&&n.selector){var r,o=null==t||null===(r=t.properties)||void 0===r?void 0:r.$element_selectors;if(!o)return!1;if(!o.includes(null==n?void 0:n.selector))return!1}return!0}},{key:"getElementsList",value:function(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}],[{key:"matchString",value:function(t,n,r){switch(r){case"regex":return!!T8&&zee(t,n);case"exact":return n===t;case"contains":var o=e.escapeStringRegexp(n).replace(/_/g,".").replace(/%/g,".*");return zee(t,o);default:return!1}}},{key:"escapeStringRegexp",value:function(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}}]),e}(),Ure=function(){function e(t){u9(this,e),this.instance=t,this.eventToSurveys=new Map,this.actionToSurveys=new Map}return f9(e,[{key:"register",value:function(e){var t;Z8(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}},{key:"setupActionBasedSurveys",value:function(e){var t=this,n=e.filter((function(e){var t,n,r,o;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(n=e.conditions)||void 0===n||null===(r=n.actions)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)>0}));0!==n.length&&(null==this.actionMatcher&&(this.actionMatcher=new $re(this.instance),this.actionMatcher.init(),this.actionMatcher._addActionHook((function(e){t.onAction(e)}))),n.forEach((function(e){var n,r,o,i,a,s,l,c,u,d;e.conditions&&null!==(n=e.conditions)&&void 0!==n&&n.actions&&null!==(r=e.conditions)&&void 0!==r&&null!==(o=r.actions)&&void 0!==o&&o.values&&(null===(i=e.conditions)||void 0===i||null===(a=i.actions)||void 0===a||null===(s=a.values)||void 0===s?void 0:s.length)>0&&(null===(l=t.actionMatcher)||void 0===l||l.register(e.conditions.actions.values),null===(c=e.conditions)||void 0===c||null===(u=c.actions)||void 0===u||null===(d=u.values)||void 0===d||d.forEach((function(n){if(n&&n.name){var r=t.actionToSurveys.get(n.name);r&&r.push(e.id),t.actionToSurveys.set(n.name,r||[e.id])}})))})))}},{key:"setupEventBasedSurveys",value:function(e){var t,n=this;0!==e.filter((function(e){var t,n,r,o;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(n=e.conditions)||void 0===n||null===(r=n.events)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)>0})).length&&(null===(t=this.instance)||void 0===t||t._addCaptureHook((function(e,t){n.onEvent(e,t)})),e.forEach((function(e){var t,r,o;null===(t=e.conditions)||void 0===t||null===(r=t.events)||void 0===r||null===(o=r.values)||void 0===o||o.forEach((function(t){if(t&&t.name){var r=n.eventToSurveys.get(t.name);r&&r.push(e.id),n.eventToSurveys.set(t.name,r||[e.id])}}))})))}},{key:"onEvent",value:function(t,n){var r,o,i=(null===(r=this.instance)||void 0===r||null===(o=r.persistence)||void 0===o?void 0:o.props[tee])||[];if(e.SURVEY_SHOWN_EVENT_NAME==t&&n&&i.length>0){var a,s=null==n||null===(a=n.properties)||void 0===a?void 0:a.$survey_id;if(s){var l=i.indexOf(s);l>=0&&(i.splice(l,1),this._updateActivatedSurveys(i))}}else this.eventToSurveys.has(t)&&this._updateActivatedSurveys(i.concat(this.eventToSurveys.get(t)||[]))}},{key:"onAction",value:function(e){var t,n,r=(null===(t=this.instance)||void 0===t||null===(n=t.persistence)||void 0===n?void 0:n.props[tee])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.actionToSurveys.get(e)||[]))}},{key:"_updateActivatedSurveys",value:function(e){var t,n;null===(t=this.instance)||void 0===t||null===(n=t.persistence)||void 0===n||n.register(p9({},tee,m9(new Set(e))))}},{key:"getSurveys",value:function(){var e,t;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[tee])||[]}},{key:"getEventToSurveys",value:function(){return this.eventToSurveys}},{key:"_getActionMatcher",value:function(){return this.actionMatcher}}]),e}();p9(Ure,"SURVEY_SHOWN_EVENT_NAME","survey shown");var Vre="[Surveys]",Hre={icontains:function(e){return!!T8&&T8.location.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e){return!!T8&&-1===T8.location.href.toLowerCase().indexOf(e.toLowerCase())},regex:function(e){return!!T8&&zee(T8.location.href,e)},not_regex:function(e){return!!T8&&!zee(T8.location.href,e)},exact:function(e){return(null==T8?void 0:T8.location.href)===e},is_not:function(e){return(null==T8?void 0:T8.location.href)!==e}},Wre=function(){function e(t){u9(this,e),this.instance=t,this._surveyEventReceiver=null}return f9(e,[{key:"afterDecideResponse",value:function(e){this._decideServerResponse=!!e.surveys,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){var e,t,n,r=this,o=null==$8||null===(e=$8.__PosthogExtensions__)||void 0===e?void 0:e.generateSurveys;this.instance.config.disable_surveys||!this._decideServerResponse||o||(null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Ure(this.instance)),null===(t=$8.__PosthogExtensions__)||void 0===t||null===(n=t.loadExternalDependency)||void 0===n||n.call(t,this.instance,"surveys",(function(e){var t,n;if(e)return i9.error(Vre,"Could not load surveys script",e);r._surveyManager=null===(t=$8.__PosthogExtensions__)||void 0===t||null===(n=t.generateSurveys)||void 0===n?void 0:n.call(t,r.instance)})))}},{key:"getSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return e([]);null==this._surveyEventReceiver&&(this._surveyEventReceiver=new Ure(this.instance));var r=this.instance.get_property(eee);if(r&&!n)return e(r);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/surveys/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(n){var r;if(200!==n.statusCode||!n.json)return e([]);var o,i=n.json.surveys||[],a=i.filter((function(e){var t,n,r,o,i,a,s,l,c,u,d,f;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(n=e.conditions)||void 0===n||null===(r=n.events)||void 0===r?void 0:r.values)&&(null===(o=e.conditions)||void 0===o||null===(i=o.events)||void 0===i||null===(a=i.values)||void 0===a?void 0:a.length)>0||(null===(s=e.conditions)||void 0===s?void 0:s.actions)&&(null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c?void 0:c.values)&&(null===(u=e.conditions)||void 0===u||null===(d=u.actions)||void 0===d||null===(f=d.values)||void 0===f?void 0:f.length)>0}));return a.length>0&&(null===(o=t._surveyEventReceiver)||void 0===o||o.register(a)),null===(r=t.instance.persistence)||void 0===r||r.register(p9({},eee,i)),e(i)}})}},{key:"getActiveMatchingSurveys",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((function(n){var r,o=n.filter((function(e){return!(!e.start_date||e.end_date)})).filter((function(e){var t,n,r,o;if(!e.conditions)return!0;var i=null===(t=e.conditions)||void 0===t||!t.url||Hre[null!==(n=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==n?n:"icontains"](e.conditions.url),a=null===(o=e.conditions)||void 0===o||!o.selector||(null==R8?void 0:R8.querySelector(e.conditions.selector));return i&&a})),i=null===(r=t._surveyEventReceiver)||void 0===r?void 0:r.getSurveys(),a=o.filter((function(e){var n,r,o,a,s,l,c,u,d,f;if(!e.linked_flag_key&&!e.targeting_flag_key&&!e.internal_targeting_flag_key)return!0;var p=!e.linked_flag_key||t.instance.featureFlags.isFeatureEnabled(e.linked_flag_key),h=!e.targeting_flag_key||t.instance.featureFlags.isFeatureEnabled(e.targeting_flag_key),m=(null===(n=e.conditions)||void 0===n?void 0:n.events)&&(null===(r=e.conditions)||void 0===r||null===(o=r.events)||void 0===o?void 0:o.values)&&(null===(a=e.conditions)||void 0===a||null===(s=a.events)||void 0===s?void 0:s.values.length)>0,v=(null===(l=e.conditions)||void 0===l?void 0:l.actions)&&(null===(c=e.conditions)||void 0===c||null===(u=c.actions)||void 0===u?void 0:u.values)&&(null===(d=e.conditions)||void 0===d||null===(f=d.actions)||void 0===f?void 0:f.values.length)>0,g=!m&&!v||(null==i?void 0:i.includes(e.id)),y=t._canActivateRepeatedly(e),b=!(e.internal_targeting_flag_key&&!y)||t.instance.featureFlags.isFeatureEnabled(e.internal_targeting_flag_key);return p&&h&&b&&g}));return e(a)}),n)}},{key:"getNextSurveyStep",value:function(e,t,n){var r,o=e.questions[t],i=t+1;if(null===(r=o.branching)||void 0===r||!r.type)return t===e.questions.length-1?Dre.End:i;if(o.branching.type===Dre.End)return Dre.End;if(o.branching.type===Dre.SpecificQuestion){if(Number.isInteger(o.branching.index))return o.branching.index}else if(o.branching.type===Dre.ResponseBased){if(o.type===Lre.SingleChoice){var a,s,l=o.choices.indexOf("".concat(n));if(null!==(a=o.branching)&&void 0!==a&&null!==(s=a.responseValues)&&void 0!==s&&s.hasOwnProperty(l)){var c=o.branching.responseValues[l];return Number.isInteger(c)?c:c===Dre.End?Dre.End:i}}else if(o.type===Lre.Rating){var u,d;if("number"!=typeof n||!Number.isInteger(n))throw new Error("The response type must be an integer");var f=function(e,t){if(3===t){if(e<1||e>3)throw new Error("The response must be in range 1-3");return 1===e?"negative":2===e?"neutral":"positive"}if(5===t){if(e<1||e>5)throw new Error("The response must be in range 1-5");return e<=2?"negative":3===e?"neutral":"positive"}if(7===t){if(e<1||e>7)throw new Error("The response must be in range 1-7");return e<=3?"negative":4===e?"neutral":"positive"}if(10===t){if(e<0||e>10)throw new Error("The response must be in range 0-10");return e<=6?"detractors":e<=8?"passives":"promoters"}throw new Error("The scale must be one of: 3, 5, 7, 10")}(n,o.scale);if(null!==(u=o.branching)&&void 0!==u&&null!==(d=u.responseValues)&&void 0!==d&&d.hasOwnProperty(f)){var p=o.branching.responseValues[f];return Number.isInteger(p)?p:p===Dre.End?Dre.End:i}}return i}return i9.warn(Vre,"Falling back to next question index due to unexpected branching type"),i}},{key:"_canActivateRepeatedly",value:function(e){var t;return t9(null===(t=$8.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(i9.warn(Vre,"canActivateRepeatedly is not defined, must init before calling"),!1):$8.__PosthogExtensions__.canActivateRepeatedly(e)}},{key:"canRenderSurvey",value:function(e){var t=this;t9(this._surveyManager)?i9.warn(Vre,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys((function(n){var r=n.filter((function(t){return t.id===e}))[0];t._surveyManager.canRenderSurvey(r)}))}},{key:"renderSurvey",value:function(e,t){var n=this;t9(this._surveyManager)?i9.warn(Vre,"canActivateRepeatedly is not defined, must init before calling"):this.getSurveys((function(r){var o=r.filter((function(t){return t.id===e}))[0];n._surveyManager.renderSurvey(o,null==R8?void 0:R8.querySelector(t))}))}}]),e}(),qre=function(){function e(t){var n,r,o=this;u9(this,e),p9(this,"serverLimits",{}),p9(this,"lastEventRateLimited",!1),p9(this,"checkForLimiting",(function(e){var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((function(e){i9.info("[RateLimiter] ".concat(e||"events"," is quota limited.")),o.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void i9.warn('[RateLimiter] could not rate limit - continuing. Error: "'.concat(null==e?void 0:e.message,'"'),{text:t})}})),this.instance=t,this.captureEventsPerSecond=(null===(n=t.config.rate_limiting)||void 0===n?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(r=t.config.rate_limiting)||void 0===r?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}return f9(e,[{key:"clientRateLimitContext",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=(new Date).getTime(),i=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(iee))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:o};i.tokens+=(o-i.last)/1e3*this.captureEventsPerSecond,i.last=o,i.tokens>this.captureEventsBurstLimit&&(i.tokens=this.captureEventsBurstLimit);var a=i.tokens<1;return a||r||(i.tokens=Math.max(0,i.tokens-1)),!a||this.lastEventRateLimited||r||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to ".concat(this.captureEventsPerSecond," events per second and ").concat(this.captureEventsBurstLimit," events burst limit.")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,null===(n=this.instance.persistence)||void 0===n||n.set_property(iee,i),{isRateLimited:a,remainingTokens:i.tokens}}},{key:"isServerRateLimited",value:function(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}]),e}(),Gre=function(){return l9({initialPathName:(null==L8?void 0:L8.pathname)||"",referringDomain:Fte.referringDomain()},Fte.campaignParams())},Kre=function(){function e(t,n,r){var o=this;u9(this,e),p9(this,"_onSessionIdCallback",(function(e){var t=o._getStoredProps();if(!t||t.sessionId!==e){var n={sessionId:e,props:o._sessionSourceParamGenerator()};o._persistence.register(p9({},oee,n))}})),this._sessionIdManager=t,this._persistence=n,this._sessionSourceParamGenerator=r||Gre,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return f9(e,[{key:"_getStoredProps",value:function(){return this._persistence.props[oee]}},{key:"getSessionProps",value:function(){var e,t=null===(e=this._getStoredProps())||void 0===e?void 0:e.props;return t?{$client_session_initial_referring_host:t.referringDomain,$client_session_initial_pathname:t.initialPathName,$client_session_initial_utm_source:t.utm_source,$client_session_initial_utm_campaign:t.utm_campaign,$client_session_initial_utm_medium:t.utm_medium,$client_session_initial_utm_content:t.utm_content,$client_session_initial_utm_term:t.utm_term}:{}}}]),e}(),Xre=["ahrefsbot","ahrefssiteaudit","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","deepscan","duckduckbot","facebookexternal","facebookcatalog","gptbot","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","slurp","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","headlesschrome","cypress","Google-HotelAdsVerifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","Bytespider;"],Yre=function(e,t){if(!e)return!1;var n=e.toLowerCase();return Xre.concat(t||[]).some((function(e){var t=e.toLowerCase();return-1!==n.indexOf(t)}))},Zre=function(){function e(){u9(this,e),this.clicks=[]}return f9(e,[{key:"isRageClick",value:function(e,t,n){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(e-r.x)+Math.abs(t-r.y)<30&&n-r.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}]),e}();function Jre(e){var t;return e.id===uee||!(null===(t=e.closest)||void 0===t||!t.call(e,"#"+uee))}var Qre=function(){function e(t){var n,r=this;u9(this,e),p9(this,"rageclicks",new Zre),p9(this,"_enabledServerSide",!1),p9(this,"_initialized",!1),p9(this,"_flushInterval",null),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[D9]),null==T8||T8.addEventListener("beforeunload",(function(){r.flush()}))}return f9(e,[{key:"flushIntervalMilliseconds",get:function(){var e=5e3;return X8(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}},{key:"isEnabled",get:function(){return Z8(this.instance.config.capture_heatmaps)?Z8(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}},{key:"startIfEnabled",value:function(){if(this.isEnabled){if(this._initialized)return;i9.info("[heatmaps] starting..."),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),this.getAndClearBuffer()}}},{key:"afterDecideResponse",value:function(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register(p9({},D9,t)),this._enabledServerSide=t,this.startIfEnabled()}},{key:"getAndClearBuffer",value:function(){var e=this.buffer;return this.buffer=void 0,e}},{key:"_setupListeners",value:function(){var e=this;T8&&R8&&(A9(R8,"click",(function(t){return e._onClick(t||(null==T8?void 0:T8.event))}),!1,!0),A9(R8,"mousemove",(function(t){return e._onMouseMove(t||(null==T8?void 0:T8.event))}),!1,!0),this._initialized=!0)}},{key:"_getProperties",value:function(e,t){var n=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),i=function(e,t,n){for(var r=e;r&&Zte(r)&&!Jte(r,"body");){if(r===n)return!1;if(E9(t,null==T8?void 0:T8.getComputedStyle(r).position))return!0;r=nne(r)}return!1}(Yte(e),["fixed","sticky"],o);return{x:e.clientX+(i?0:r),y:e.clientY+(i?0:n),target_fixed:i,type:t}}},{key:"_onClick",value:function(e){var t;if(!Jre(e.target)){var n=this._getProperties(e,"click");null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(l9(l9({},n),{},{type:"rageclick"})),this._capture(n)}}},{key:"_onMouseMove",value:function(e){var t=this;Jre(e.target)||(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((function(){t._capture(t._getProperties(e,"mousemove"))}),500))}},{key:"_capture",value:function(e){if(T8){var t=T8.location.href;this.buffer=this.buffer||{},this.buffer[t]||(this.buffer[t]=[]),this.buffer[t].push(e)}}},{key:"flush",value:function(){this.buffer&&!Y8(this.buffer)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}]),e}(),eoe=function(){function e(t){var n=this;u9(this,e),p9(this,"_updateScrollData",(function(){var e,t,r,o;n.context||(n.context={});var i=n.scrollElement(),a=n.scrollY(),s=i?Math.max(0,i.scrollHeight-i.clientHeight):0,l=a+((null==i?void 0:i.clientHeight)||0),c=(null==i?void 0:i.scrollHeight)||0;n.context.lastScrollY=Math.ceil(a),n.context.maxScrollY=Math.max(a,null!==(e=n.context.maxScrollY)&&void 0!==e?e:0),n.context.maxScrollHeight=Math.max(s,null!==(t=n.context.maxScrollHeight)&&void 0!==t?t:0),n.context.lastContentY=l,n.context.maxContentY=Math.max(l,null!==(r=n.context.maxContentY)&&void 0!==r?r:0),n.context.maxContentHeight=Math.max(c,null!==(o=n.context.maxContentHeight)&&void 0!==o?o:0)})),this.instance=t}return f9(e,[{key:"getContext",value:function(){return this.context}},{key:"resetContext",value:function(){var e=this.context;return setTimeout(this._updateScrollData,0),e}},{key:"startMeasuringScrollPosition",value:function(){null==T8||T8.addEventListener("scroll",this._updateScrollData,!0),null==T8||T8.addEventListener("scrollend",this._updateScrollData,!0),null==T8||T8.addEventListener("resize",this._updateScrollData)}},{key:"scrollElement",value:function(){if(!this.instance.config.scroll_root_selector)return null==T8?void 0:T8.document.documentElement;var e,t=y9(G8(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector]);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=null==T8?void 0:T8.document.querySelector(n);if(r)return r}}catch(e){t.e(e)}finally{t.f()}}},{key:"scrollY",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return T8&&(T8.scrollY||T8.pageYOffset||T8.document.documentElement.scrollTop)||0}},{key:"scrollX",value:function(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return T8&&(T8.scrollX||T8.pageXOffset||T8.document.documentElement.scrollLeft)||0}}]),e}(),toe="$copy_autocapture";function noe(e,t){return t.length>e?t.slice(0,e)+"...":t}var roe,ooe=function(){function e(t){u9(this,e),p9(this,"_initialized",!1),p9(this,"_isDisabledServerSide",null),p9(this,"rageclicks",new Zre),p9(this,"_elementsChainAsString",!1),this.instance=t,this._elementSelectors=null}return f9(e,[{key:"config",get:function(){var e,t,n=X8(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=null===(e=n.url_allowlist)||void 0===e?void 0:e.map((function(e){return new RegExp(e)})),n.url_ignorelist=null===(t=n.url_ignorelist)||void 0===t?void 0:t.map((function(e){return new RegExp(e)})),n}},{key:"_addDomEventHandlers",value:function(){var e=this;if(this.isBrowserSupported()){if(T8&&R8){var t=function(t){t=t||(null==T8?void 0:T8.event);try{e._captureEvent(t)}catch(e){i9.error("Failed to capture event",e)}},n=function(t){t=t||(null==T8?void 0:T8.event),e._captureEvent(t,toe)};A9(R8,"submit",t,!1,!0),A9(R8,"change",t,!1,!0),A9(R8,"click",t,!1,!0),this.config.capture_copied_text&&(A9(R8,"copy",n,!1,!0),A9(R8,"cut",n,!1,!0))}}else i9.info("Disabling Automatic Event Collection because this browser is not supported")}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}},{key:"afterDecideResponse",value:function(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register(p9({},L9,!!e.autocapture_opt_out)),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}},{key:"setElementSelectors",value:function(e){this._elementSelectors=e}},{key:"getElementSelectors",value:function(e){var t,n=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((function(t){var r=null==R8?void 0:R8.querySelectorAll(t);null==r||r.forEach((function(r){e===r&&n.push(t)}))})),n}},{key:"isEnabled",get:function(){var e,t,n=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[L9],r=this._isDisabledServerSide;if(e9(r)&&!r9(n)&&!this.instance.config.advanced_disable_decide)return!1;var o=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!o}},{key:"_previousElementSibling",value:function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Zte(t));return t}},{key:"_getAugmentPropertiesFromElement",value:function(e){if(!rne(e))return{};var t={};return S9(e.attributes,(function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),r=e.value;n&&r&&dne(r)&&(t[n]=r)}})),t}},{key:"_getPropertiesFromElement",value:function(e,t,n){var r,o=e.tagName.toLowerCase(),i={tag_name:o};tne.indexOf(o)>-1&&!n&&("a"===o.toLowerCase()||"button"===o.toLowerCase()?i.$el_text=noe(1024,fne(e)):i.$el_text=noe(1024,Xte(e)));var a=Gte(e);a.length>0&&(i.classes=a.filter((function(e){return""!==e})));var s=null===(r=this.config)||void 0===r?void 0:r.element_attribute_ignorelist;S9(e.attributes,(function(n){var r;if((!one(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==s||!s.includes(n.name))&&!t&&dne(n.value)&&(r=n.name,!J8(r)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var o=n.value;"class"===n.name&&(o=Wte(o).join(" ")),i["attr__"+n.name]=noe(1024,o)}}));for(var l=1,c=1,u=e;u=this._previousElementSibling(u);)l++,u.tagName===e.tagName&&c++;return i.nth_child=l,i.nth_of_type=c,i}},{key:"_getDefaultProperties",value:function(e){return{$event_type:e,$ce_version:1}}},{key:"_captureEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$autocapture";if(this.isEnabled){var r,o=Yte(e);Qte(o)&&(o=o.parentNode||null),"$autocapture"===n&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!==(r=this.rageclicks)&&void 0!==r&&r.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,"$rageclick");var i=n===toe;if(o&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if(!T8||!e||Jte(e,"html")||!Zte(e))return!1;if(null!=n&&n.url_allowlist&&!qte(n.url_allowlist))return!1;if(null!=n&&n.url_ignorelist&&qte(n.url_ignorelist))return!1;if(null!=n&&n.dom_event_allowlist){var i=n.dom_event_allowlist;if(i&&!i.some((function(e){return t.type===e})))return!1}for(var a=!1,s=[e],l=!0,c=e;c.parentNode&&!Jte(c,"body");)if(ene(c.parentNode))s.push(c.parentNode.host),c=c.parentNode.host;else{if(!(l=nne(c)))break;if(r||tne.indexOf(l.tagName.toLowerCase())>-1)a=!0;else{var u=T8.getComputedStyle(l);u&&"pointer"===u.getPropertyValue("cursor")&&(a=!0)}s.push(l),c=l}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(Z8(n))return!0;var r,o=y9(e);try{var i=function(){var e=r.value;if(n.some((function(t){return e.tagName.toLowerCase()===t})))return{v:!0}};for(o.s();!(r=o.n()).done;){var a=i();if("object"===c9(a))return a.v}}catch(e){o.e(e)}finally{o.f()}return!1}(s,n))return!1;if(!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(Z8(n))return!0;var r,o=y9(e);try{var i=function(){var e=r.value;if(n.some((function(t){return e.matches(t)})))return{v:!0}};for(o.s();!(r=o.n()).done;){var a=i();if("object"===c9(a))return a.v}}catch(e){o.e(e)}finally{o.f()}return!1}(s,n))return!1;var d=T8.getComputedStyle(e);if(d&&"pointer"===d.getPropertyValue("cursor")&&"click"===t.type)return!0;var f=e.tagName.toLowerCase();switch(f){case"html":return!1;case"form":return(o||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(o||["change","click"]).indexOf(t.type)>=0;default:return a?(o||["click"]).indexOf(t.type)>=0:(o||["click"]).indexOf(t.type)>=0&&(tne.indexOf(f)>-1||"true"===e.getAttribute("contenteditable"))}}(o,e,this.config,i,i?["copy","cut"]:void 0)){for(var a,s,l=[o],c=o;c.parentNode&&!Jte(c,"body");)ene(c.parentNode)?(l.push(c.parentNode.host),c=c.parentNode.host):(l.push(c.parentNode),c=c.parentNode);var u,d,f=[],p={},h=!1;if(S9(l,(function(e){var n=rne(e);"a"===e.tagName.toLowerCase()&&(u=e.getAttribute("href"),u=n&&dne(u)&&u),E9(Gte(e),"ph-no-capture")&&(h=!0),f.push(t._getPropertiesFromElement(e,t.instance.config.mask_all_element_attributes,t.instance.config.mask_all_text));var r=t._getAugmentPropertiesFromElement(e);k9(p,r)})),this.instance.config.mask_all_text||("a"===o.tagName.toLowerCase()||"button"===o.tagName.toLowerCase()?f[0].$el_text=fne(o):f[0].$el_text=Xte(o)),u){var m,v;f[0].attr__href=u;var g=null===(m=Fee(u))||void 0===m?void 0:m.host,y=null==T8||null===(v=T8.location)||void 0===v?void 0:v.host;g&&y&&g!==y&&(d=u)}if(h)return!1;var b=k9(this._getDefaultProperties(e.type),this._elementsChainAsString?{$elements_chain:hne(f)}:{$elements:f},null!==(a=f[0])&&void 0!==a&&a.$el_text?{$el_text:null===(s=f[0])||void 0===s?void 0:s.$el_text}:{},d&&"click"===e.type?{$external_click_url:d}:{},p),w=this.getElementSelectors(o);if(w&&w.length>0&&(b.$element_selectors=w),n===toe){var x,S=Kte(null==T8||null===(x=T8.getSelection())||void 0===x?void 0:x.toString()),k=e.type||"clipboard";if(!S)return!1;b.$selected_content=S,b.$copy_type=k}return this.instance.capture(n,b),!0}}}},{key:"isBrowserSupported",value:function(){return K8(null==R8?void 0:R8.querySelectorAll)}}]),e}(),ioe=function(){function e(t){var n=this;u9(this,e),p9(this,"_restoreXHRPatch",void 0),p9(this,"_restoreFetchPatch",void 0),p9(this,"_startCapturing",(function(){var e,t,r,o;Z8(n._restoreXHRPatch)&&(null===(e=$8.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(n.instance.sessionManager)),Z8(n._restoreFetchPatch)&&(null===(r=$8.__PosthogExtensions__)||void 0===r||null===(o=r.tracingHeadersPatchFns)||void 0===o||o._patchFetch(n.instance.sessionManager))})),this.instance=t}return f9(e,[{key:"_loadScript",value:function(e){var t,n,r;null!==(t=$8.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(n=$8.__PosthogExtensions__)||void 0===n||null===(r=n.loadExternalDependency)||void 0===r||r.call(n,this.instance,"tracing-headers",(function(t){if(t)return i9.error("[TRACING-HEADERS] failed to load script",t);e()}))}},{key:"startIfEnabledOrStop",value:function(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}]),e}();!function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"}(roe||(roe={}));var aoe=function(){function e(t){u9(this,e),this.instance=t}return f9(e,[{key:"config",get:function(){return this.instance.config}},{key:"consent",get:function(){return this.getDnt()?roe.DENIED:this.storedConsent}},{key:"isOptedOut",value:function(){return this.consent===roe.DENIED||this.consent===roe.PENDING&&this.config.opt_out_capturing_by_default}},{key:"isOptedIn",value:function(){return!this.isOptedOut()}},{key:"optInOut",value:function(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}},{key:"reset",value:function(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}},{key:"storageKey",get:function(){var e=this.instance.config,t=e.token;return(e.opt_out_capturing_cookie_prefix||"__ph_opt_in_out_")+t}},{key:"storedConsent",get:function(){var e=this.storage.get(this.storageKey);return"1"===e?roe.GRANTED:"0"===e?roe.DENIED:roe.PENDING}},{key:"storage",get:function(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage="localStorage"===e?Pee:Cee;var t="localStorage"===e?Cee:Pee;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut("1"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}},{key:"getDnt",value:function(){return!!this.config.respect_dnt&&!!N9([null==I8?void 0:I8.doNotTrack,null==I8?void 0:I8.msDoNotTrack,$8.doNotTrack],(function(e){return E9([!0,1,"1","yes"],e)}))}}]),e}(),soe="[Exception Autocapture]",loe=function(){function e(t){var n,r=this;u9(this,e),p9(this,"originalOnUnhandledRejectionHandler",void 0),p9(this,"startCapturing",(function(){var e,t,n,o;if(T8&&r.isEnabled&&!r.hasHandlers&&!r.isCapturing){var i=null===(e=$8.__PosthogExtensions__)||void 0===e||null===(t=e.errorWrappingFunctions)||void 0===t?void 0:t.wrapOnError,a=null===(n=$8.__PosthogExtensions__)||void 0===n||null===(o=n.errorWrappingFunctions)||void 0===o?void 0:o.wrapUnhandledRejection;if(i&&a)try{r.unwrapOnError=i(r.captureException.bind(r)),r.unwrapUnhandledRejection=a(r.captureException.bind(r))}catch(e){i9.error(soe+" failed to start",e),r.stopCapturing()}else i9.error(soe+" failed to load error wrapping functions - cannot start")}})),this.instance=t,this.remoteEnabled=!(null===(n=this.instance.persistence)||void 0===n||!n.props[F9]),this.startIfEnabled()}return f9(e,[{key:"isEnabled",get:function(){var e;return null!==(e=this.remoteEnabled)&&void 0!==e&&e}},{key:"isCapturing",get:function(){var e;return!(null==T8||null===(e=T8.onerror)||void 0===e||!e.__POSTHOG_INSTRUMENTED__)}},{key:"hasHandlers",get:function(){return this.originalOnUnhandledRejectionHandler||this.unwrapOnError}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this.isCapturing&&(i9.info(soe+" enabled, starting..."),this.loadScript(this.startCapturing))}},{key:"loadScript",value:function(e){var t,n;this.hasHandlers&&e(),null===(t=$8.__PosthogExtensions__)||void 0===t||null===(n=t.loadExternalDependency)||void 0===n||n.call(t,this.instance,"exception-autocapture",(function(t){if(t)return i9.error(soe+" failed to load script",t);e()}))}},{key:"stopCapturing",value:function(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register(p9({},F9,this.remoteEnabled)),this.startIfEnabled()}},{key:"captureException",value:function(e){var t=this.instance.requestRouter.endpointFor("ui");e.$exception_personURL="".concat(t,"/project/").concat(this.instance.config.token,"/person/").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}]),e}(),coe=9e5,uoe="[Web Vitals]",doe=function(){function e(t){var n,r=this;u9(this,e),p9(this,"_enabledServerSide",!1),p9(this,"_initialized",!1),p9(this,"buffer",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),p9(this,"_flushToCapture",(function(){clearTimeout(r._delayedFlushTimer),0!==r.buffer.metrics.length&&(r.instance.capture("$web_vitals",r.buffer.metrics.reduce((function(e,t){var n;return l9(l9({},e),{},(p9(n={},"$web_vitals_".concat(t.name,"_event"),l9({},t)),p9(n,"$web_vitals_".concat(t.name,"_value"),t.value),n))}),{})),r.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),p9(this,"_addToBuffer",(function(e){var t,n=null===(t=r.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(Z8(n))i9.error(uoe+"Could not read session ID. Dropping metrics!");else{r.buffer=r.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var o=r._currentURL();Z8(o)||(t9(null==e?void 0:e.name)||t9(null==e?void 0:e.value)?i9.error(uoe+"Invalid metric received",e):r._maxAllowedValue&&e.value>=r._maxAllowedValue?i9.error(uoe+"Ignoring metric with value >= "+r._maxAllowedValue,e):(r.buffer.url!==o&&(r._flushToCapture(),r._delayedFlushTimer=setTimeout(r._flushToCapture,8e3)),Z8(r.buffer.url)&&(r.buffer.url=o),r.buffer.firstMetricTimestamp=Z8(r.buffer.firstMetricTimestamp)?Date.now():r.buffer.firstMetricTimestamp,r.buffer.metrics.push(l9(l9({},e),{},{$current_url:o,$session_id:n.sessionId,$window_id:n.windowId,timestamp:Date.now()})),r.buffer.metrics.length===r.allowedMetrics.length&&r._flushToCapture()))}})),p9(this,"_startCapturing",(function(){var e,t,n,o,i=$8.__PosthogExtensions__;if(!Z8(i)&&!Z8(i.postHogWebVitalsCallbacks)){var a=i.postHogWebVitalsCallbacks;e=a.onLCP,t=a.onCLS,n=a.onFCP,o=a.onINP}e&&t&&n&&o?(r.allowedMetrics.indexOf("LCP")>-1&&e(r._addToBuffer.bind(r)),r.allowedMetrics.indexOf("CLS")>-1&&t(r._addToBuffer.bind(r)),r.allowedMetrics.indexOf("FCP")>-1&&n(r._addToBuffer.bind(r)),r.allowedMetrics.indexOf("INP")>-1&&o(r._addToBuffer.bind(r)),r._initialized=!0):i9.error(uoe+"web vitals callbacks not loaded - not starting")})),this.instance=t,this._enabledServerSide=!(null===(n=this.instance.persistence)||void 0===n||!n.props[B9]),this.startIfEnabled()}return f9(e,[{key:"allowedMetrics",get:function(){var e,t,n=X8(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return Z8(n)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[$9])||["CLS","FCP","INP","LCP"]:n}},{key:"_maxAllowedValue",get:function(){var e=X8(this.instance.config.capture_performance)&&n9(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:coe;return 0<e&&e<=6e4?coe:e}},{key:"isEnabled",get:function(){var e=X8(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return r9(e)?e:this._enabledServerSide}},{key:"startIfEnabled",value:function(){this.isEnabled&&!this._initialized&&(i9.info(uoe+" enabled, starting..."),this.loadScript(this._startCapturing))}},{key:"afterDecideResponse",value:function(e){var t=X8(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=X8(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register(p9({},B9,t)),this.instance.persistence.register(p9({},$9,n))),this._enabledServerSide=t,this.startIfEnabled()}},{key:"loadScript",value:function(e){var t,n,r;null!==(t=$8.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(n=$8.__PosthogExtensions__)||void 0===n||null===(r=n.loadExternalDependency)||void 0===r||r.call(n,this.instance,"web-vitals",(function(t){t?i9.error(uoe+" failed to load script",t):e()}))}},{key:"_currentURL",value:function(){var e=T8?T8.location.href:void 0;return e||i9.error(uoe+"Could not determine current URL"),e}}]),e}(),foe={icontains:function(e,t){return!!T8&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1},not_icontains:function(e,t){return!!T8&&-1===t.href.toLowerCase().indexOf(e.toLowerCase())},regex:function(e,t){return!!T8&&zee(t.href,e)},not_regex:function(e,t){return!!T8&&!zee(t.href,e)},exact:function(e,t){return t.href===e},is_not:function(e,t){return t.href!==e}},poe=function(){function e(t){var n=this;u9(this,e),p9(this,"getWebExperimentsAndEvaluateDisplayLogic",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.getWebExperiments((function(t){e.logInfo("retrieved web experiments from the server"),n._flagToExperiments=new Map,t.forEach((function(t){if(t.feature_flag_key&&n._featureFlags&&n._featureFlags[t.feature_flag_key]){var r;n._flagToExperiments&&(e.logInfo("setting flag key ",t.feature_flag_key," to web experiment ",t),null===(r=n._flagToExperiments)||void 0===r||r.set(t.feature_flag_key,t));var o=n._featureFlags[t.feature_flag_key];o&&t.variants[o]&&e.applyTransforms(t.name,o,t.variants[o].transforms)}else if(t.variants)for(var i in t.variants){var a=t.variants[i];e.matchesTestVariant(a)&&e.applyTransforms(t.name,i,a.transforms)}}))}),t)})),this.instance=t,this.instance.onFeatureFlags&&this.instance.onFeatureFlags((function(e){n.applyFeatureFlagChanges(e)})),this._flagToExperiments=new Map}return f9(e,[{key:"applyFeatureFlagChanges",value:function(t){var n=this;e.logInfo("applying feature flags",t),t9(this._flagToExperiments)||this.instance.config.disable_web_experiments||t.forEach((function(t){var r;if(n._flagToExperiments&&null!==(r=n._flagToExperiments)&&void 0!==r&&r.has(t)){var o,i=n.instance.getFeatureFlag(t),a=null===(o=n._flagToExperiments)||void 0===o?void 0:o.get(t);i&&null!=a&&a.variants[i]&&e.applyTransforms(a.name,i,a.variants[i].transforms)}}))}},{key:"afterDecideResponse",value:function(e){this._featureFlags=e.featureFlags,this.loadIfEnabled()}},{key:"loadIfEnabled",value:function(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}},{key:"getWebExperiments",value:function(e,t){if(this.instance.config.disable_web_experiments)return e([]);var n=this.instance.get_property("$web_experiments");if(n&&!t)return e(n);this.instance._send_request({url:this.instance.requestRouter.endpointFor("api","/api/web_experiments/?token=".concat(this.instance.config.token)),method:"GET",transport:"XHR",callback:function(t){if(200!==t.statusCode||!t.json)return e([]);var n=t.json.experiments||[];return e(n)}})}}],[{key:"matchesTestVariant",value:function(t){return!t9(t.conditions)&&e.matchUrlConditions(t)&&e.matchUTMConditions(t)}},{key:"matchUrlConditions",value:function(t){var n;if(t9(t.conditions)||t9(null===(n=t.conditions)||void 0===n?void 0:n.url))return!0;var r,o,i,a=e.getWindowLocation();return!!a&&(null===(r=t.conditions)||void 0===r||!r.url||foe[null!==(o=null===(i=t.conditions)||void 0===i?void 0:i.urlMatchType)&&void 0!==o?o:"icontains"](t.conditions.url,a))}},{key:"getWindowLocation",value:function(){return null==T8?void 0:T8.location}},{key:"matchUTMConditions",value:function(e){var t;if(t9(e.conditions)||t9(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var n=Fte.campaignParams();if(n.utm_source){var r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b=null===(r=e.conditions)||void 0===r||null===(o=r.utm)||void 0===o||!o.utm_campaign||(null===(i=e.conditions)||void 0===i||null===(a=i.utm)||void 0===a?void 0:a.utm_campaign)==n.utm_campaign,w=null===(s=e.conditions)||void 0===s||null===(l=s.utm)||void 0===l||!l.utm_source||(null===(c=e.conditions)||void 0===c||null===(u=c.utm)||void 0===u?void 0:u.utm_source)==n.utm_source,x=null===(d=e.conditions)||void 0===d||null===(f=d.utm)||void 0===f||!f.utm_medium||(null===(p=e.conditions)||void 0===p||null===(h=p.utm)||void 0===h?void 0:h.utm_medium)==n.utm_medium,S=null===(m=e.conditions)||void 0===m||null===(v=m.utm)||void 0===v||!v.utm_term||(null===(g=e.conditions)||void 0===g||null===(y=g.utm)||void 0===y?void 0:y.utm_term)==n.utm_term;return b&&x&&S&&w}return!1}},{key:"logInfo",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i9.info("[WebExperiments] ".concat(e),n)}},{key:"applyTransforms",value:function(t,n,r){r.forEach((function(r){if(r.selector){var o;e.logInfo("applying transform of variant ".concat(n," for experiment ").concat(t," "),r);var i=null===(o=document)||void 0===o?void 0:o.querySelectorAll(r.selector);null==i||i.forEach((function(e){var t=e;r.attributes&&r.attributes.forEach((function(e){switch(e.name){case"text":t.innerText=e.value;break;case"html":t.innerHTML=e.value;break;case"cssClass":t.className=e.value;break;default:t.setAttribute(e.name,e.value)}})),r.text&&(t.innerText=r.text),r.html&&(t.innerHTML=r.html),r.className&&(t.className=r.className)}))}}))}}]),e}(),hoe=function(){function e(t){var n;u9(this,e),this.instance=t,this._endpointSuffix=(null===(n=this.instance.persistence)||void 0===n?void 0:n.props[z9])||"/e/"}return f9(e,[{key:"endpoint",get:function(){return this.instance.requestRouter.endpointFor("api",this._endpointSuffix)}},{key:"afterDecideResponse",value:function(e){var t=e.autocaptureExceptions;this._endpointSuffix=X8(t)&&t.endpoint||"/e/",this.instance.persistence&&this.instance.persistence.register(p9({},z9,this._endpointSuffix))}},{key:"sendExceptionEvent",value:function(e){this.instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent",_url:this.endpoint})}}]),e}(),moe={},voe=function(){},goe="posthog",yoe=!wre&&-1===(null==B8?void 0:B8.indexOf("MSIE"))&&-1===(null==B8?void 0:B8.indexOf("Mozilla")),boe=function(){var e,t,n;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(t=null==R8?void 0:R8.location,n=null==t?void 0:t.hostname,!!J8(n)&&"herokuapp.com"!==n.split(".").slice(-2).join(".")),persistence:"localStorage+cookie",persistence_name:"",loaded:voe,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:L8&&J8(null==L8?void 0:L8.search)&&-1!==L8.search.indexOf("__posthog_debug=true")||!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==T8||null===(e=T8.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,on_request_error:function(e){var t="Bad HTTP status: "+e.statusCode+" "+e.text;i9.error(t)},get_device_id:function(e){return e},_onCapture:voe,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"always",__add_tracing_headers:!1}},woe=function(e){var t={};Z8(e.process_person)||(t.person_profiles=e.process_person),Z8(e.xhr_headers)||(t.request_headers=e.xhr_headers),Z8(e.cookie_name)||(t.persistence_name=e.cookie_name),Z8(e.disable_cookie)||(t.disable_persistence=e.disable_cookie);var n=k9({},t,e);return G8(e.property_blacklist)&&(Z8(e.property_denylist)?n.property_denylist=e.property_blacklist:G8(e.property_denylist)?n.property_denylist=[].concat(m9(e.property_blacklist),m9(e.property_denylist)):i9.error("Invalid value for property_denylist config: "+e.property_denylist)),n},xoe=function(){function e(){u9(this,e),p9(this,"__forceAllowLocalhost",!1)}return f9(e,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){i9.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),e}(),Soe=function(){function e(){var t=this;u9(this,e),p9(this,"webPerformance",new xoe),p9(this,"version",U8.LIB_VERSION),p9(this,"_internalEventEmitter",new Bre),this.config=boe(),this.decideEndpointWasHit=!1,this.SentryIntegration=Ire,this.sentryIntegration=function(e){return function(e,t){var n=Mre(e,t);return{name:Nre,processEvent:function(e){return n(e)}}}(t,e)},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this._initialPageviewCaptured=!1,this.featureFlags=new vee(this),this.toolbar=new yre(this),this.scrollManager=new eoe(this),this.pageViewManager=new Fre(this),this.surveys=new Wre(this),this.experiments=new poe(this),this.exceptions=new hoe(this),this.rateLimiter=new qre(this),this.requestRouter=new Are(this),this.consent=new aoe(this),this.people={set:function(e,n,r){var o=J8(e)?p9({},e,n):e;t.setPersonProperties(o),null==r||r({})},set_once:function(e,n,r){var o=J8(e)?p9({},e,n):e;t.setPersonProperties(void 0,o),null==r||r({})}},this.on("eventCaptured",(function(e){return i9.info("send",e)}))}return f9(e,[{key:"init",value:function(t,n,r){if(r&&r!==goe){var o,i=null!==(o=moe[r])&&void 0!==o?o:new e;return i._init(t,n,r),moe[r]=i,moe[goe][r]=i,i}return this._init(t,n,r)}},{key:"_init",value:function(e){var t,n,r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;if(Z8(e)||Q8(e))return i9.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return i9.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],this.set_config(k9({},boe(),woe(o),{name:i,token:e})),this.config.on_xhr_error&&i9.error("[posthog] on_xhr_error is deprecated. Use on_request_error instead"),this.compression=o.disable_compression?void 0:P9.GZipJS,this.persistence=new Bte(this.config),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new Bte(l9(l9({},this.config),{},{persistence:"sessionStorage"}));var a=l9({},this.persistence.props),s=l9({},this.sessionPersistence.props);if(this._requestQueue=new bre((function(e){return r._send_retriable_request(e)})),this._retryQueue=new _re(this),this.__request_queue=[],this.sessionManager=new Tre(this.config,this.persistence),this.sessionPropsManager=new Kre(this.sessionManager,this.persistence),new ioe(this).startIfEnabledOrStop(),this.sessionRecording=new hre(this),this.sessionRecording.startIfEnabledOrStop(),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new ooe(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Qre(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new doe(this),this.exceptionObserver=new loe(this),this.exceptionObserver.startIfEnabled(),U8.DEBUG=U8.DEBUG||this.config.debug,U8.DEBUG&&i9.info("Starting in debug mode",{this:this,config:o,thisC:l9({},this.config),p:a,s}),this._sync_opt_out_with_persistence(),void 0!==(null===(t=o.bootstrap)||void 0===t?void 0:t.distinctID)){var l,c,u=this.config.get_device_id(kee()),d=null!==(l=o.bootstrap)&&void 0!==l&&l.isIdentifiedID?u:o.bootstrap.distinctID;this.persistence.set_property(ree,null!==(c=o.bootstrap)&&void 0!==c&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:o.bootstrap.distinctID,$device_id:d})}if(this._hasBootstrappedFeatureFlags()){var f,p,h=Object.keys((null===(f=o.bootstrap)||void 0===f?void 0:f.featureFlags)||{}).filter((function(e){var t,n;return!(null===(t=o.bootstrap)||void 0===t||null===(n=t.featureFlags)||void 0===n||!n[e])})).reduce((function(e,t){var n,r;return e[t]=(null===(n=o.bootstrap)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r[t])||!1,e}),{}),m=Object.keys((null===(p=o.bootstrap)||void 0===p?void 0:p.featureFlagPayloads)||{}).filter((function(e){return h[e]})).reduce((function(e,t){var n,r,i,a;return null!==(n=o.bootstrap)&&void 0!==n&&null!==(r=n.featureFlagPayloads)&&void 0!==r&&r[t]&&(e[t]=null===(i=o.bootstrap)||void 0===i||null===(a=i.featureFlagPayloads)||void 0===a?void 0:a[t]),e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:h,featureFlagPayloads:m})}if(!this.get_distinct_id()){var v=this.config.get_device_id(kee());this.register_once({distinct_id:v,$device_id:v},""),this.persistence.set_property(ree,"anonymous")}return null==T8||null===(n=T8.addEventListener)||void 0===n||n.call(T8,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),this.toolbar.maybeLoadToolbar(),o.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var r=function(n){var r=function(){return n.anonymousId()||kee()};e.config.get_device_id=r,n.id()&&(e.register({distinct_id:n.id(),$device_id:r()}),e.persistence.set_property(ree,"identified")),t()},o=n.user();"then"in o&&K8(o.then)?o.then((function(e){return r(e)})):r(o)}(e,(function(){n.register(function(e){Promise&&Promise.resolve||i9.warn("This browser does not have Promise support, and can not use the segment integration");var t=function(t,n){var r;if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(i9.info("Segment integration does not have a userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(i9.info("Segment integration has a userId set, identifying with PostHog"),e.identify(t.event.userId));var o=e._calculate_event_properties(n,null!==(r=t.event.properties)&&void 0!==r?r:{},new Date);return t.event.properties=Object.assign({},o,t.event.properties),t};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(e){return t(e,e.event.event)},page:function(e){return t(e,"$pageview")},identify:function(e){return t(e,"$identify")},screen:function(e){return t(e,"$screen")}}}(e)).then((function(){t()}))}))}(this,(function(){return r._loaded()})):this._loaded(),K8(this.config._onCapture)&&this.on("eventCaptured",(function(e){return r.config._onCapture(e.event,e)})),this}},{key:"_afterDecideResponse",value:function(e){var t,n,r,o,i,a,s,l,c;this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=E9(e.supportedCompression,P9.GZipJS)?P9.GZipJS:E9(e.supportedCompression,P9.Base64)?P9.Base64:void 0),null!==(t=e.analytics)&&void 0!==t&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),null===(n=this.sessionRecording)||void 0===n||n.afterDecideResponse(e),null===(r=this.autocapture)||void 0===r||r.afterDecideResponse(e),null===(o=this.heatmaps)||void 0===o||o.afterDecideResponse(e),null===(i=this.experiments)||void 0===i||i.afterDecideResponse(e),null===(a=this.surveys)||void 0===a||a.afterDecideResponse(e),null===(s=this.webVitalsAutocapture)||void 0===s||s.afterDecideResponse(e),null===(l=this.exceptions)||void 0===l||l.afterDecideResponse(e),null===(c=this.exceptionObserver)||void 0===c||c.afterDecideResponse(e)}},{key:"_loaded",value:function(){var e=this,t=this.config.advanced_disable_decide;t||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(e){i9.critical("`loaded` function failed",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((function(){e.consent.isOptedIn()&&e._captureInitialPageview()}),1),t||(new mre(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||x9(this.__request_queue,(function(t){return e._send_retriable_request(t)})),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_handle_unload",value:function(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture("$pageleave"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_send_request",value:function(e){var t=this;this.__loaded&&(yoe?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Sre(e.url,{ip:this.config.ip?1:0}),e.headers=l9({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,function(e){var t,n,r,o=l9({},e);o.timeout=o.timeout||6e4,o.url=Sre(o.url,{_:(new Date).getTime().toString(),ver:U8.LIB_VERSION,compression:o.compression});var i=null!==(t=o.transport)&&void 0!==t?t:"XHR",a=null!==(n=null===(r=N9(Ere,(function(e){return e.transport===i})))||void 0===r?void 0:r.method)&&void 0!==n?n:Ere[0].method;if(!a)throw new Error("No available transport method");a(o)}(l9(l9({},e),{},{callback:function(n){var r,o,i;t.rateLimiter.checkForLimiting(n),n.statusCode>=400&&(null===(o=(i=t.config).on_request_error)||void 0===o||o.call(i,n)),null===(r=e.callback)||void 0===r||r.call(e,n)}}))))}},{key:"_send_retriable_request",value:function(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}},{key:"_execute_array",value:function(e){var t,n=this,r=[],o=[],i=[];x9(e,(function(e){e&&(t=e[0],G8(t)?i.push(e):K8(e)?e.call(n):G8(e)&&"alias"===t?r.push(e):G8(e)&&-1!==t.indexOf("capture")&&K8(n[t])?i.push(e):o.push(e))}));var a=function(e,t){x9(e,(function(e){if(G8(e[0])){var n=t;S9(e,(function(e){n=n[e[0]].apply(n,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};a(r,this),a(o,this),a(i,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,t,n){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!Z8(e)&&J8(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var o=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==o||!o.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.store_google||this.config.save_referrer)&&this.persistence.set_initial_person_info();var i=new Date,a=(null==n?void 0:n.timestamp)||i,s={uuid:kee(),event:e,properties:this._calculate_event_properties(e,t||{},a)};o&&(s.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),(null==n?void 0:n.$set)&&(s.$set=null==n?void 0:n.$set);var l=this._calculate_set_once_properties(null==n?void 0:n.$set_once);l&&(s.$set_once=l),(s=function(e,t){return n=e,r=function(e){return J8(e)&&!e9(t)?e.slice(0,t):e},o=new Set,function e(t,n){return t!==Object(t)?r?r(t):t:o.has(t)?void 0:(o.add(t),G8(t)?(i=[],x9(t,(function(t){i.push(e(t))}))):(i={},S9(t,(function(t,n){o.has(t)||(i[n]=e(t,n))}))),i);var i}(n);var n,r,o}(s,null!=n&&n._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,Z8(null==n?void 0:n.timestamp)||(s.properties.$event_time_override_provided=!0,s.properties.$event_time_override_system_time=i);var c=l9(l9({},s.properties.$set),s.$set);Y8(c)||this.setPersonPropertiesForFlags(c),this._internalEventEmitter.emit("eventCaptured",s);var u={method:"POST",url:null!==(r=null==n?void 0:n._url)&&void 0!==r?r:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:s,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this._send_retriable_request(u):this._requestQueue.enqueue(u),s}i9.critical("This capture call is ignored due to client rate limiting.")}}else i9.error("No event name provided to posthog.capture")}else i9.uninitializedWarning("posthog.capture")}},{key:"_addCaptureHook",value:function(e){return this.on("eventCaptured",(function(t){return e(t.event,t)}))}},{key:"_calculate_event_properties",value:function(e,t,n){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var r=this.persistence.remove_event_timer(e),o=l9({},t);if(o.token=this.config.token,"$snapshot"===e){var i=l9(l9({},this.persistence.properties()),this.sessionPersistence.properties());return o.distinct_id=i.distinct_id,(!J8(o.distinct_id)&&!n9(o.distinct_id)||Q8(o.distinct_id))&&i9.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),o}var a=Fte.properties();if(this.sessionManager){var s=this.sessionManager.checkAndGetSessionAndWindowId(),l=s.sessionId,c=s.windowId;o.$session_id=l,o.$window_id=c}if(this.requestRouter.region===Ore.CUSTOM&&(o.$lib_custom_api_host=this.config.api_host),this.sessionPropsManager&&this.config.__preview_send_client_session_params&&("$pageview"===e||"$pageleave"===e||"$autocapture"===e)){var u=this.sessionPropsManager.getSessionProps();o=k9(o,u)}if(!this.config.disable_scroll_properties){var d={};"$pageview"===e?d=this.pageViewManager.doPageView(n):"$pageleave"===e&&(d=this.pageViewManager.doPageLeave(n)),o=k9(o,d)}if("$pageview"===e&&R8&&(o.title=R8.title),!Z8(r)){var f=n.getTime()-r;o.$duration=parseFloat((f/1e3).toFixed(3))}B8&&this.config.opt_out_useragent_filter&&(o.$browser_type=this._is_bot()?"bot":"browser"),(o=k9({},a,this.persistence.properties(),this.sessionPersistence.properties(),o)).$is_identified=this._isIdentified(),G8(this.config.property_denylist)?S9(this.config.property_denylist,(function(e){delete o[e]})):i9.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var p=this.config.sanitize_properties;return p&&(o=p(o,e)),o.$process_person_profile=this._hasPersonProcessing(),o}},{key:"_calculate_set_once_properties",value:function(e){if(!this.persistence||!this._hasPersonProcessing())return e;var t=k9({},this.persistence.get_initial_props(),e||{});return Y8(t)?void 0:t}},{key:"register",value:function(e,t){var n;null===(n=this.persistence)||void 0===n||n.register(e,t)}},{key:"register_once",value:function(e,t,n){var r;null===(r=this.persistence)||void 0===r||r.register_once(e,t,n)}},{key:"register_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}},{key:"unregister",value:function(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}},{key:"unregister_for_session",value:function(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}},{key:"_register_single",value:function(e,t){this.register(p9({},e,t))}},{key:"getFeatureFlag",value:function(e,t){return this.featureFlags.getFeatureFlag(e,t)}},{key:"getFeatureFlagPayload",value:function(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}},{key:"isFeatureEnabled",value:function(e,t){return this.featureFlags.isFeatureEnabled(e,t)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}},{key:"getEarlyAccessFeatures",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,t)}},{key:"on",value:function(e,t){return this._internalEventEmitter.on(e,t)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var t,n;return null!==(t=null===(n=this.sessionManager)||void 0===n?void 0:n.onSessionId(e))&&void 0!==t?t:function(){}}},{key:"getSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}},{key:"getActiveMatchingSurveys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}},{key:"renderSurvey",value:function(e,t){this.surveys.renderSurvey(e,t)}},{key:"canRenderSurvey",value:function(e){this.surveys.canRenderSurvey(e)}},{key:"getNextSurveyStep",value:function(e,t,n){return this.surveys.getNextSurveyStep(e,t,n)}},{key:"identify",value:function(e,t,n){if(!this.__loaded||!this.persistence)return i9.uninitializedWarning("posthog.identify");if(n9(e)&&(e=e.toString(),i9.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))i9.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing("posthog.identify")){var r=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==r&&e!==this.get_property(I9)&&(this.unregister(I9),this.register({distinct_id:e}));var i="anonymous"===(this.persistence.get_property(ree)||"anonymous");e!==r&&i?(this.persistence.set_property(ree,"identified"),this.setPersonPropertiesForFlags(t||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:r},{$set:t||{},$set_once:n||{}}),this.featureFlags.setAnonymousDistinctId(r)):(t||n)&&this.setPersonProperties(t,n),e!==r&&(this.reloadFeatureFlags(),this.unregister(nee))}}else i9.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,t){(e||t)&&this._requirePersonProcessing("posthog.setPersonProperties")&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:t||{}}))}},{key:"group",value:function(e,t,n){if(e&&t){if(this._requirePersonProcessing("posthog.group")){var r=this.getGroups();r[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:l9(l9({},r),{},p9({},e,t))}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags(p9({},e,n))),r[e]===t||n||this.reloadFeatureFlags()}}else i9.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setPersonPropertiesForFlags")&&this.featureFlags.setPersonPropertiesForFlags(e,t)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var t,n,r,o;if(i9.info("reset"),!this.__loaded)return i9.uninitializedWarning("posthog.reset");var i=this.get_property("$device_id");this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(n=this.sessionPersistence)||void 0===n||n.clear(),null===(r=this.persistence)||void 0===r||r.set_property(ree,"anonymous"),null===(o=this.sessionManager)||void 0===o||o.resetSessionId();var a=this.config.get_device_id(kee());this.register_once({distinct_id:a,$device_id:e?a:i},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var t=this.sessionManager.checkAndGetSessionAndWindowId(!0),n=t.sessionId,r=t.sessionStartTimestamp,o=this.requestRouter.endpointFor("ui","/project/".concat(this.config.token,"/replay/").concat(n));if(null!=e&&e.withTimestamp&&r){var i,a=null!==(i=e.timestampLookBack)&&void 0!==i?i:10;if(!r)return o;var s=Math.max(Math.floor(((new Date).getTime()-r)/1e3)-a,0);o+="?t=".concat(s)}return o}},{key:"alias",value:function(e,t){return e===this.get_property(M9)?(i9.critical("Attempting to create alias for existing People user - aborting."),-2):this._requirePersonProcessing("posthog.alias")?(Z8(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(I9,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(i9.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}},{key:"set_config",value:function(e){var t,n,r,o,i=l9({},this.config);X8(e)&&(k9(this.config,woe(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,i),this.sessionPersistence="sessionStorage"===this.config.persistence?this.persistence:new Bte(l9(l9({},this.config),{},{persistence:"sessionStorage"})),Pee.is_supported()&&"true"===Pee.get("ph_debug")&&(this.config.debug=!0),this.config.debug&&(U8.DEBUG=!0,i9.info("set_config",{config:e,oldConfig:i,newConfig:l9({},this.config)})),null===(n=this.sessionRecording)||void 0===n||n.startIfEnabledOrStop(),null===(r=this.autocapture)||void 0===r||r.startIfEnabled(),null===(o=this.heatmaps)||void 0===o||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}},{key:"startSessionRecording",value:function(e){var t,n=r9(e)&&e;if(n||null!=e&&e.sampling){var r,o,i=null===(r=this.sessionManager)||void 0===r?void 0:r.checkAndGetSessionAndWindowId();null===(o=this.persistence)||void 0===o||o.register(p9({},X9,!0)),i9.info("Session recording started with sampling override for session: ",null==i?void 0:i.sessionId)}(n||null!=e&&e.linked_flag)&&(null===(t=this.sessionRecording)||void 0===t||t.overrideLinkedFlag(),i9.info("Session recording started with linked_flags override")),this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}},{key:"captureException",value:function(e,t){var n,r=K8(null===(n=$8.__PosthogExtensions__)||void 0===n?void 0:n.parseErrorAsProperties)?$8.__PosthogExtensions__.parseErrorAsProperties([e.message,void 0,void 0,void 0,e]):l9({$exception_type:e.name,$exception_message:e.message,$exception_level:"error"},t);this.exceptions.sendExceptionEvent(r)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}},{key:"getSessionProperty",value:function(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}},{key:"toString",value:function(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:goe;return t!==goe&&(t=goe+"."+t),t}},{key:"_isIdentified",value:function(){var e,t;return"identified"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(ree))||"identified"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(ree))}},{key:"_hasPersonProcessing",value:function(){var e,t,n,r;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&Y8(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[I9])&&(null===(n=this.persistence)||void 0===n||null===(r=n.props)||void 0===r||!r[cee]))}},{key:"_shouldCapturePageleave",value:function(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&this.config.capture_pageview}},{key:"createPersonProfile",value:function(){this._hasPersonProcessing()||this._requirePersonProcessing("posthog.createPersonProfile")&&this.setPersonProperties({},{})}},{key:"_requirePersonProcessing",value:function(e){return"never"===this.config.person_profiles?(i9.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this._register_single(cee,!0),!0)}},{key:"_sync_opt_out_with_persistence",value:function(){var e,t,n,r,o=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||o&&!!i;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==a&&(null===(n=this.persistence)||void 0===n||n.set_disabled(a)),(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==a&&(null===(r=this.sessionPersistence)||void 0===r||r.set_disabled(a))}},{key:"opt_in_capturing",value:function(e){var t;this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),(Z8(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this._captureInitialPageview()}},{key:"opt_out_capturing",value:function(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}},{key:"has_opted_in_capturing",value:function(){return this.consent.isOptedIn()}},{key:"has_opted_out_capturing",value:function(){return this.consent.isOptedOut()}},{key:"clear_opt_in_out_capturing",value:function(){this.consent.reset(),this._sync_opt_out_with_persistence()}},{key:"_is_bot",value:function(){return I8?function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&Yre(n,t))return!0;try{var r=null==e?void 0:e.userAgentData;if(null!=r&&r.brands&&r.brands.some((function(e){return Yre(null==e?void 0:e.brand,t)})))return!0}catch(e){}return!!e.webdriver}(I8,this.config.custom_blocked_useragents):void 0}},{key:"_captureInitialPageview",value:function(){R8&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture("$pageview",{title:R8.title},{send_instantly:!0}))}},{key:"debug",value:function(e){!1===e?(null==T8||T8.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==T8||T8.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),e}();!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=_9(e.prototype[t[n]])}(Soe,["identify"]);var koe,Eoe=(koe=moe[goe]=new Soe,function(){function e(){e.done||(e.done=!0,yoe=!1,S9(moe,(function(e){e._dom_loaded()})))}null!=R8&&R8.addEventListener&&("complete"===R8.readyState?e():R8.addEventListener("DOMContentLoaded",e,!1)),T8&&A9(T8,"load",e,!0)}(),koe),Ooe=function(e,t){var n;Eoe&&(null!==(n=window)&&void 0!==n&&n.scorm_type||Eoe.capture(e,t))};function joe(e){return joe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},joe(e)}function _oe(){_oe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==joe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(joe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Coe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var Toe=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Coe(i,r,o,a,s,"next",e)}function s(e){Coe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(_oe().mark((function e(t){var n,r;return _oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.getState().lessonId,r=be.getState().lessonContent.language,e.prev=2,e.next=5,Fs.realtime.executeTransactions.mutate({lessonId:n,language:r,transactions:t});case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),console.log("Error sending transactions to server",e.t0),Ooe("transaction_error",{error:e.t0,lessonId:n,transactions:t}),(0,C8.captureException)("Error sending transactions to server",{extra:{lessonId:n,transactions:t,error:e.t0}}),be.setState({syncIssueDialogOpen:!0});case 13:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}();function Poe(e){return Poe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Poe(e)}function Aoe(){Aoe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Poe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Poe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Noe(e){return function(e){if(Array.isArray(e))return Moe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Moe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Moe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Moe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ioe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Roe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ioe(i,r,o,a,s,"next",e)}function s(e){Ioe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Loe=null,Doe=null,Foe=null,zoe=[],Boe=[],$oe=function(){var e=Roe(Aoe().mark((function e(t){return Aoe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return be.setState((function(e){var n;(n=e.undoStack).push.apply(n,Noe(t)),e.redoStack.length=0})),e.next=3,Toe(t);case 3:Boe.forEach((function(e){return e()})),Boe.length=0;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uoe=function(e){var t=zoe;zoe.length=0;var n=e;Foe&&(n=function(e,t){if(!t)return e;if(t.label!==e.label)throw new Error("Transaction labels do not match and cannot be merged.");if(t.mutations.length!==e.mutations.length)throw new Error("Transaction mutations do not match and cannot be merged.");return{label:t.label,mutations:t.mutations.map((function(t,n){return Oh(t,e.mutations[n])}))}}(e,Foe)),$oe([n].concat(t)),Foe=null},Voe=function(e,t,n,r){var o;if(S8(n,r),function(e){var t=O8();if(t){var n=t.clientId,r=t.lessonId,o=t.ws;if(n&&r){var i={type:"transaction",data:e,clientId:n};o&&o.readyState===WebSocket.OPEN&&setTimeout((function(){o.send(JSON.stringify(i))}),0)}}}(n),n=(0,$p.cloneDeep)(n),"debounce"===t){var i;if(e!==Loe)null===(i=Doe)||void 0===i||i.flush(),Loe=e,Doe=(0,$p.debounce)(Uoe,1e3);return Foe||(Foe=n),void Doe(n)}zoe.push(n),null===(o=Doe)||void 0===o||o.flush(),zoe.length>0&&Uoe(zoe[0]),zoe.length=0};const Hoe=function(e,t,n){var r=be.getState().lessonContent.blocks[e];if("tiledLayout"!==r.type)throw new Error("Block type must be tiledLayout");var o={label:"blockLayoutUpdate",mutations:[{type:"blockLayoutUpdate",before:r.layout,after:t,blockId:e}]};Voe("blockLayoutUpdate-".concat(e),n?"debounce":"instant",o)};var Woe=function(e){var t=e.id,n=e.mode,r=e.printMode,o=void 0!==r&&r,i=e.preview,a=e.parentId,s=fh(t,n),l=e5e[s.type];return l?(0,Ut.jsx)(l,{parentId:a,preview:i,printMode:o,id:t,mode:n}):null},qoe=(0,n.memo)(Woe);const Goe=(0,n.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Koe=(0,n.createContext)({});const Xoe=(0,n.createContext)(null),Yoe="undefined"!=typeof document,Zoe=Yoe?n.useLayoutEffect:n.useEffect,Joe=(0,n.createContext)({strict:!1});function Qoe(e,t,r,o){const i=(0,n.useContext)(Koe).visualElement,a=(0,n.useContext)(Joe),s=(0,n.useContext)(Xoe),l=(0,n.useContext)(Goe).reducedMotion,c=(0,n.useRef)();o=o||a.renderer,!c.current&&o&&(c.current=o(e,{visualState:t,parent:i,props:r,presenceId:s?s.id:void 0,blockInitialAnimation:!!s&&!1===s.initial,reducedMotionConfig:l}));const u=c.current;return Zoe((()=>{u&&u.render()})),Zoe((()=>{u&&u.animationState&&u.animationState.animateChanges()})),Zoe((()=>()=>u&&u.notify("Unmount")),[]),u}function eie(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tie(e){return"string"==typeof e||Array.isArray(e)}function nie(e){return"object"==typeof e&&"function"==typeof e.start}const rie=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function oie(e){return nie(e.animate)||rie.some((t=>tie(e[t])))}function iie(e){return Boolean(oie(e)||e.variants)}function aie(e){const{initial:t,animate:r}=function(e,t){if(oie(e)){const{initial:t,animate:n}=e;return{initial:!1===t||tie(t)?t:void 0,animate:tie(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,n.useContext)(Koe));return(0,n.useMemo)((()=>({initial:t,animate:r})),[sie(t),sie(r)])}function sie(e){return Array.isArray(e)?e.join(" "):e}const lie=e=>({isEnabled:t=>e.some((e=>!!t[e]))}),cie={measureLayout:lie(["layout","layoutId","drag"]),animation:lie(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:lie(["exit"]),drag:lie(["drag","dragControls"]),focus:lie(["whileFocus"]),hover:lie(["whileHover","onHoverStart","onHoverEnd"]),tap:lie(["whileTap","onTap","onTapStart","onTapCancel"]),pan:lie(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:lie(["whileInView","onViewportEnter","onViewportLeave"])};function uie(e){const t=(0,n.useRef)(null);return null===t.current&&(t.current=e()),t.current}const die={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let fie=1;const pie=(0,n.createContext)({});class hie extends n.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:t}=this.props;return e&&e.setProps(t),null}componentDidUpdate(){}render(){return this.props.children}}const mie=(0,n.createContext)({}),vie=Symbol.for("motionComponentSymbol");function gie({preloadedFeatures:e,createVisualElement:t,projectionNodeConstructor:r,useRender:o,useVisualState:i,Component:a}){e&&function(e){for(const t in e)"projectionNodeConstructor"===t?cie.projectionNodeConstructor=e[t]:cie[t].Component=e[t]}(e);const s=(0,n.forwardRef)((function(s,l){const c={...(0,n.useContext)(Goe),...s,layoutId:yie(s)},{isStatic:u}=c;let d=null;const f=aie(s),p=u?void 0:uie((()=>{if(die.hasEverUpdated)return fie++})),h=i(s,u);if(!u&&Yoe){f.visualElement=Qoe(a,h,c,t);const o=(0,n.useContext)(Joe).strict,i=(0,n.useContext)(mie);f.visualElement&&(d=f.visualElement.loadFeatures(c,o,e,p,r||cie.projectionNodeConstructor,i))}return n.createElement(hie,{visualElement:f.visualElement,props:c},d,n.createElement(Koe.Provider,{value:f},o(a,s,p,function(e,t,r){return(0,n.useCallback)((n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"==typeof r?r(n):eie(r)&&(r.current=n))}),[t])}(h,f.visualElement,l),h,u,f.visualElement)))}));return s[vie]=a,s}function yie({layoutId:e}){const t=(0,n.useContext)(pie).id;return t&&void 0!==e?t+"-"+e:e}function bie(e){function t(t,n={}){return gie(e(t,n))}if("undefined"==typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const wie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xie(e){return"string"==typeof e&&!e.includes("-")&&!!(wie.indexOf(e)>-1||/[A-Z]/.test(e))}const Sie={};const kie=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eie=new Set(kie);function Oie(e,{layout:t,layoutId:n}){return Eie.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Sie[e]||"opacity"===e)}const jie=e=>!!(null==e?void 0:e.getVelocity),_ie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cie=(e,t)=>kie.indexOf(e)-kie.indexOf(t);function Tie(e){return e.startsWith("--")}const Pie=(e,t)=>t&&"number"==typeof e?t.transform(e):e,Aie=(e,t,n)=>Math.min(Math.max(n,e),t),Nie={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Mie={...Nie,transform:e=>Aie(0,1,e)},Iie={...Nie,default:1},Rie=e=>Math.round(1e5*e)/1e5,Lie=/(-)?([\d]*\.?[\d])+/g,Die=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Fie=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zie(e){return"string"==typeof e}const Bie=e=>({test:t=>zie(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),$ie=Bie("deg"),Uie=Bie("%"),Vie=Bie("px"),Hie=Bie("vh"),Wie=Bie("vw"),qie={...Uie,parse:e=>Uie.parse(e)/100,transform:e=>Uie.transform(100*e)},Gie={...Nie,transform:Math.round},Kie={borderWidth:Vie,borderTopWidth:Vie,borderRightWidth:Vie,borderBottomWidth:Vie,borderLeftWidth:Vie,borderRadius:Vie,radius:Vie,borderTopLeftRadius:Vie,borderTopRightRadius:Vie,borderBottomRightRadius:Vie,borderBottomLeftRadius:Vie,width:Vie,maxWidth:Vie,height:Vie,maxHeight:Vie,size:Vie,top:Vie,right:Vie,bottom:Vie,left:Vie,padding:Vie,paddingTop:Vie,paddingRight:Vie,paddingBottom:Vie,paddingLeft:Vie,margin:Vie,marginTop:Vie,marginRight:Vie,marginBottom:Vie,marginLeft:Vie,rotate:$ie,rotateX:$ie,rotateY:$ie,rotateZ:$ie,scale:Iie,scaleX:Iie,scaleY:Iie,scaleZ:Iie,skew:$ie,skewX:$ie,skewY:$ie,distance:Vie,translateX:Vie,translateY:Vie,translateZ:Vie,x:Vie,y:Vie,z:Vie,perspective:Vie,transformPerspective:Vie,opacity:Mie,originX:qie,originY:qie,originZ:Vie,zIndex:Gie,fillOpacity:Mie,strokeOpacity:Mie,numOctaves:Gie};function Xie(e,t,n,r){const{style:o,vars:i,transform:a,transformKeys:s,transformOrigin:l}=e;s.length=0;let c=!1,u=!1,d=!0;for(const e in t){const n=t[e];if(Tie(e)){i[e]=n;continue}const r=Kie[e],f=Pie(n,r);if(Eie.has(e)){if(c=!0,a[e]=f,s.push(e),!d)continue;n!==(r.default||0)&&(d=!1)}else e.startsWith("origin")?(u=!0,l[e]=f):o[e]=f}if(t.transform||(c||r?o.transform=function({transform:e,transformKeys:t},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},o,i){let a="";t.sort(Cie);for(const n of t)a+=`${_ie[n]||n}(${e[n]}) `;return n&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,o?"":a):r&&o&&(a="none"),a}(e,n,d,r):o.transform&&(o.transform="none")),u){const{originX:e="50%",originY:t="50%",originZ:n=0}=l;o.transformOrigin=`${e} ${t} ${n}`}}const Yie=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function Zie(e,t,n){for(const r in t)jie(t[r])||Oie(r,n)||(e[r]=t[r])}function Jie(e,t,r){const o={};return Zie(o,e.style||{},e),Object.assign(o,function({transformTemplate:e},t,r){return(0,n.useMemo)((()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return Xie(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)}),[t])}(e,t,r)),e.transformValues?e.transformValues(o):o}function Qie(e,t,n){const r={},o=Jie(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=o,r}const eae=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function tae(e){return eae.has(e)}let nae=e=>!tae(e);try{(rae=require("@emotion/is-prop-valid").default)&&(nae=e=>e.startsWith("on")?!tae(e):rae(e))}catch(e){}var rae;function oae(e,t,n){return"string"==typeof e?e:Vie.transform(t+n*e)}const iae={offset:"stroke-dashoffset",array:"stroke-dasharray"},aae={offset:"strokeDashoffset",array:"strokeDasharray"};function sae(e,{attrX:t,attrY:n,originX:r,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...l},c,u,d){if(Xie(e,l,c,d),u)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:h}=e;f.transform&&(h&&(p.transform=f.transform),delete f.transform),h&&(void 0!==r||void 0!==o||p.transform)&&(p.transformOrigin=function(e,t,n){return`${oae(t,e.x,e.width)} ${oae(n,e.y,e.height)}`}(h,void 0!==r?r:.5,void 0!==o?o:.5)),void 0!==t&&(f.x=t),void 0!==n&&(f.y=n),void 0!==i&&function(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?iae:aae;e[i.offset]=Vie.transform(-r);const a=Vie.transform(t),s=Vie.transform(n);e[i.array]=`${a} ${s}`}(f,i,a,s,!1)}const lae=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}}),cae=e=>"string"==typeof e&&"svg"===e.toLowerCase();function uae(e,t,r,o){const i=(0,n.useMemo)((()=>{const n={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return sae(n,t,{enableHardwareAcceleration:!1},cae(o),e.transformTemplate),{...n.attrs,style:{...n.style}}}),[t]);if(e.style){const t={};Zie(t,e.style,e),i.style={...t,...i.style}}return i}function dae(e=!1){return(t,r,o,i,{latestValues:a},s)=>{const l=(xie(t)?uae:Qie)(r,a,s,t),c=function(e,t,n){const r={};for(const o in e)(nae(o)||!0===n&&tae(o)||!t&&!tae(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(r,"string"==typeof t,e),u={...c,...l,ref:i};return o&&(u["data-projection-id"]=o),(0,n.createElement)(t,u)}}const fae=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function pae(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const t in n)e.style.setProperty(t,n[t])}const hae=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mae(e,t,n,r){pae(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(hae.has(n)?n:fae(n),t.attrs[n])}function vae(e){const{style:t}=e,n={};for(const r in t)(jie(t[r])||Oie(r,e))&&(n[r]=t[r]);return n}function gae(e){const t=vae(e);for(const n in e)if(jie(e[n])){t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function yae(e,t,n,r={},o={}){return"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),"string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),t}const bae=e=>Array.isArray(e),wae=e=>bae(e)?e[e.length-1]||0:e;function xae(e){const t=jie(e)?e.get():e;return(e=>Boolean(e&&"object"==typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const Sae=e=>(t,r)=>{const o=(0,n.useContext)(Koe),i=(0,n.useContext)(Xoe),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const a={latestValues:kae(r,o,i,e),renderState:t()};return n&&(a.mount=e=>n(r,e,a)),a}(e,t,o,i);return r?a():uie(a)};function kae(e,t,n,r){const o={},i=r(e);for(const e in i)o[e]=xae(i[e]);let{initial:a,animate:s}=e;const l=oie(e),c=iie(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===s&&(s=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?s:a;if(d&&"boolean"!=typeof d&&!nie(d)){(Array.isArray(d)?d:[d]).forEach((t=>{const n=yae(e,t);if(!n)return;const{transitionEnd:r,transition:i,...a}=n;for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(o[e]=t)}for(const e in r)o[e]=r[e]}))}return o}const Eae={useVisualState:Sae({scrapeMotionValuesFromProps:gae,createRenderState:lae,onMount:(e,t,{renderState:n,latestValues:r})=>{try{n.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){n.dimensions={x:0,y:0,width:0,height:0}}sae(n,r,{enableHardwareAcceleration:!1},cae(t.tagName),e.transformTemplate),mae(t,n)}})},Oae={useVisualState:Sae({scrapeMotionValuesFromProps:vae,createRenderState:Yie})};var jae;function _ae(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Cae(e,t,r,o){(0,n.useEffect)((()=>{const n=e.current;if(r&&n)return _ae(n,t,r,o)}),[e,t,r,o])}function Tae(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Pae(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(jae||(jae={}));const Aae={pageX:0,pageY:0};function Nae(e,t="page"){const n=e.touches[0]||e.changedTouches[0]||Aae;return{x:n[t+"X"],y:n[t+"Y"]}}function Mae(e,t="page"){return{x:e[t+"X"],y:e[t+"Y"]}}function Iae(e,t="page"){return{point:Pae(e)?Nae(e,t):Mae(e,t)}}const Rae=(e,t=!1)=>{const n=t=>e(t,Iae(t));return t?(r=n,e=>{const t=e instanceof MouseEvent;(!t||t&&0===e.button)&&r(e)}):n;var r},Lae={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Dae={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Fae(e){return Yoe&&null===window.onpointerdown?e:Yoe&&null===window.ontouchstart?Dae[e]:Yoe&&null===window.onmousedown?Lae[e]:e}function zae(e,t,n,r){return _ae(e,Fae(t),Rae(n,"pointerdown"===t),r)}function Bae(e,t,n,r){return Cae(e,Fae(t),n&&Rae(n,"pointerdown"===t),r)}function $ae(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Uae=$ae("dragHorizontal"),Vae=$ae("dragVertical");function Hae(e){let t=!1;if("y"===e)t=Vae();else if("x"===e)t=Uae();else{const e=Uae(),n=Vae();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Wae(){const e=Hae(!0);return!e||(e(),!1)}function qae(e,t,n){return(r,o)=>{Tae(r)&&!Wae()&&(e.animationState&&e.animationState.setActive(jae.Hover,t),n&&n(r,o))}}const Gae=(e,t)=>!!t&&(e===t||Gae(e,t.parentElement));function Kae(e){return(0,n.useEffect)((()=>()=>e()),[])}const Xae=(e,t)=>n=>t(e(n)),Yae=(...e)=>e.reduce(Xae);const Zae=new Set;function Jae(e,t,n){e||Zae.has(t)||(console.warn(t),n&&console.warn(n),Zae.add(t))}const Qae=new WeakMap,ese=new WeakMap,tse=e=>{const t=Qae.get(e.target);t&&t(e)},nse=e=>{e.forEach(tse)};function rse(e,t,n){const r=function({root:e,...t}){const n=e||document;ese.has(n)||ese.set(n,{});const r=ese.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(nse,{root:e,...t})),r[o]}(t);return Qae.set(e,n),r.observe(e),()=>{Qae.delete(e),r.unobserve(e)}}const ose={some:0,all:1};function ise(e,t,r,{root:o,margin:i,amount:a="some",once:s}){(0,n.useEffect)((()=>{if(!e||!r.current)return;const n={root:null==o?void 0:o.current,rootMargin:i,threshold:"number"==typeof a?a:ose[a]};return rse(r.current,n,(e=>{const{isIntersecting:n}=e;if(t.isInView===n)return;if(t.isInView=n,s&&!n&&t.hasEnteredView)return;n&&(t.hasEnteredView=!0),r.animationState&&r.animationState.setActive(jae.InView,n);const o=r.getProps(),i=n?o.onViewportEnter:o.onViewportLeave;i&&i(e)}))}),[e,o,i,a])}function ase(e,t,r,{fallback:o=!0}){(0,n.useEffect)((()=>{e&&o&&requestAnimationFrame((()=>{t.hasEnteredView=!0;const{onViewportEnter:e}=r.getProps();e&&e(null),r.animationState&&r.animationState.setActive(jae.InView,!0)}))}),[e])}const sse=e=>t=>(e(t),null),lse={inView:sse((function({visualElement:e,whileInView:t,onViewportEnter:r,onViewportLeave:o,viewport:i={}}){const a=(0,n.useRef)({hasEnteredView:!1,isInView:!1});let s=Boolean(t||r||o);i.once&&a.current.hasEnteredView&&(s=!1),("undefined"==typeof IntersectionObserver?ase:ise)(s,a.current,e,i)})),tap:sse((function({onTap:e,onTapStart:t,onTapCancel:r,whileTap:o,visualElement:i}){const a=e||t||r||o,s=(0,n.useRef)(!1),l=(0,n.useRef)(null),c={passive:!(t||e||r||h)};function u(){l.current&&l.current(),l.current=null}function d(){return u(),s.current=!1,i.animationState&&i.animationState.setActive(jae.Tap,!1),!Wae()}function f(t,n){d()&&(Gae(i.current,t.target)?e&&e(t,n):r&&r(t,n))}function p(e,t){d()&&r&&r(e,t)}function h(e,n){u(),s.current||(s.current=!0,l.current=Yae(zae(window,"pointerup",f,c),zae(window,"pointercancel",p,c)),i.animationState&&i.animationState.setActive(jae.Tap,!0),t&&t(e,n))}Bae(i,"pointerdown",a?h:void 0,c),Kae(u)})),focus:sse((function({whileFocus:e,visualElement:t}){const{animationState:n}=t;Cae(t,"focus",e?()=>{n&&n.setActive(jae.Focus,!0)}:void 0),Cae(t,"blur",e?()=>{n&&n.setActive(jae.Focus,!1)}:void 0)})),hover:sse((function({onHoverStart:e,onHoverEnd:t,whileHover:n,visualElement:r}){Bae(r,"pointerenter",e||n?qae(r,!0,e):void 0,{passive:!e}),Bae(r,"pointerleave",t||n?qae(r,!1,t):void 0,{passive:!t})}))};function cse(){const e=(0,n.useContext)(Xoe);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,i=(0,n.useId)();(0,n.useEffect)((()=>o(i)),[]);return!t&&r?[!1,()=>r&&r(i)]:[!0]}function use(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const dse=e=>/^\-?\d*\.?\d+$/.test(e),fse=e=>/^0[^.\s]+$/.test(e),pse={delta:0,timestamp:0},hse=1/60*1e3,mse="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),vse="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(mse())),hse);let gse=!0,yse=!1,bse=!1;const wse=["read","update","preRender","render","postRender"],xse=wse.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,i=!1;const a=new WeakSet,s={schedule:(e,i=!1,s=!1)=>{const l=s&&o,c=l?t:n;return i&&a.add(e),-1===c.indexOf(e)&&(c.push(e),l&&o&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:l=>{if(o)i=!0;else{if(o=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(l),a.has(r)&&(s.schedule(r),e())}o=!1,i&&(i=!1,s.process(l))}}};return s}((()=>yse=!0)),e)),{}),Sse=wse.reduce(((e,t)=>{const n=xse[t];return e[t]=(e,t=!1,r=!1)=>(yse||_se(),n.schedule(e,t,r)),e}),{}),kse=wse.reduce(((e,t)=>(e[t]=xse[t].cancel,e)),{}),Ese=wse.reduce(((e,t)=>(e[t]=()=>xse[t].process(pse),e)),{}),Ose=e=>xse[e].process(pse),jse=e=>{yse=!1,pse.delta=gse?hse:Math.max(Math.min(e-pse.timestamp,40),1),pse.timestamp=e,bse=!0,wse.forEach(Ose),bse=!1,yse&&(gse=!1,vse(jse))},_se=()=>{yse=!0,gse=!0,bse||vse(jse)};function Cse(e,t){-1===e.indexOf(t)&&e.push(t)}function Tse(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Pse{constructor(){this.subscriptions=[]}add(e){return Cse(this.subscriptions,e),()=>Tse(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Ase(e,t){return t?e*(1e3/t):0}class Nse{constructor(e,t={}){this.version="7.10.3",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(e,t=!0)=>{this.prev=this.current,this.current=e;const{delta:n,timestamp:r}=pse;this.lastUpdated!==r&&(this.timeDelta=n,this.lastUpdated=r,Sse.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),t&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Sse.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{e!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(e=>!isNaN(parseFloat(e)))(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){return this.events[e]||(this.events[e]=new Pse),this.events[e].add(t)}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e){this.passiveEffect=e}set(e,t=!0){t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ase(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.stopAnimation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.stopAnimation&&(this.stopAnimation(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.clearListeners(),this.stop()}}function Mse(e,t){return new Nse(e,t)}const Ise=(e,t)=>n=>Boolean(zie(n)&&Fie.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),Rse=(e,t,n)=>r=>{if(!zie(r))return r;const[o,i,a,s]=r.match(Lie);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Lse={...Nie,transform:e=>Math.round((e=>Aie(0,255,e))(e))},Dse={test:Ise("rgb","red"),parse:Rse("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lse.transform(e)+", "+Lse.transform(t)+", "+Lse.transform(n)+", "+Rie(Mie.transform(r))+")"};const Fse={test:Ise("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:Dse.transform},zse={test:Ise("hsl","hue"),parse:Rse("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Uie.transform(Rie(t))+", "+Uie.transform(Rie(n))+", "+Rie(Mie.transform(r))+")"},Bse={test:e=>Dse.test(e)||Fse.test(e)||zse.test(e),parse:e=>Dse.test(e)?Dse.parse(e):zse.test(e)?zse.parse(e):Fse.parse(e),transform:e=>zie(e)?e:e.hasOwnProperty("red")?Dse.transform(e):zse.transform(e)},$se="${c}",Use="${n}";function Vse(e){"number"==typeof e&&(e=`${e}`);const t=[];let n=0,r=0;const o=e.match(Die);o&&(n=o.length,e=e.replace(Die,$se),t.push(...o.map(Bse.parse)));const i=e.match(Lie);return i&&(r=i.length,e=e.replace(Lie,Use),t.push(...i.map(Nie.parse))),{values:t,numColors:n,numNumbers:r,tokenised:e}}function Hse(e){return Vse(e).values}function Wse(e){const{values:t,numColors:n,tokenised:r}=Vse(e),o=t.length;return e=>{let t=r;for(let r=0;r<o;r++)t=t.replace(r<n?$se:Use,r<n?Bse.transform(e[r]):Rie(e[r]));return t}}const qse=e=>"number"==typeof e?0:e;const Gse={test:function(e){var t,n;return isNaN(e)&&zie(e)&&((null===(t=e.match(Lie))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(Die))||void 0===n?void 0:n.length)||0)>0},parse:Hse,createTransformer:Wse,getAnimatableNone:function(e){const t=Hse(e);return Wse(e)(t.map(qse))}},Kse=new Set(["brightness","contrast","saturate","opacity"]);function Xse(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Lie)||[];if(!r)return e;const o=n.replace(r,"");let i=Kse.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const Yse=/([a-z-]*)\(.*?\)/g,Zse={...Gse,getAnimatableNone:e=>{const t=e.match(Yse);return t?t.map(Xse).join(" "):e}},Jse={...Kie,color:Bse,backgroundColor:Bse,outlineColor:Bse,fill:Bse,stroke:Bse,borderColor:Bse,borderTopColor:Bse,borderRightColor:Bse,borderBottomColor:Bse,borderLeftColor:Bse,filter:Zse,WebkitFilter:Zse},Qse=e=>Jse[e];function ele(e,t){var n;let r=Qse(e);return r!==Zse&&(r=Gse),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}const tle=e=>t=>t.test(e),nle=[Nie,Vie,Uie,$ie,Wie,Hie,{test:e=>"auto"===e,parse:e=>e}],rle=e=>nle.find(tle(e)),ole=[...nle,Bse,Gse],ile=e=>ole.find(tle(e));function ale(e,t,n){const r=e.getProps();return yae(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.get())),t}(e),function(e){const t={};return e.values.forEach(((e,n)=>t[n]=e.getVelocity())),t}(e))}function sle(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Mse(n))}function lle(e,t){const n=ale(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const t in i){sle(e,t,wae(i[t]))}}function cle(e,t){if(!t)return;return(t[e]||t.default||t).from}function ule(e){return Boolean(jie(e)&&e.add)}function dle(e,t){const{MotionAppearAnimations:n}=window,r=((e,t)=>`${e}: ${t}`)(e,Eie.has(t)?"transform":t),o=n&&n.get(r);return o?(Sse.render((()=>{try{o.cancel(),n.delete(r)}catch(e){}})),o.currentTime||0):0}const fle="data-"+fae("framerAppearId");const ple=e=>1e3*e,hle=!1,mle=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vle=e=>t=>1-e(1-t),gle=e=>e*e,yle=vle(gle),ble=mle(gle),wle=(e,t,n)=>-n*e+n*t+e;function xle(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Sle=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},kle=[Fse,Dse,zse];function Ele(e){const t=(e=>kle.find((t=>t.test(e))))(e);Boolean(t);let n=t.parse(e);return t===zse&&(n=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let o=0,i=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;o=xle(s,r,e+1/3),i=xle(s,r,e),a=xle(s,r,e-1/3)}else o=i=a=n;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(n)),n}const Ole=(e,t)=>{const n=Ele(e),r=Ele(t),o={...n};return e=>(o.red=Sle(n.red,r.red,e),o.green=Sle(n.green,r.green,e),o.blue=Sle(n.blue,r.blue,e),o.alpha=wle(n.alpha,r.alpha,e),Dse.transform(o))};function jle(e,t){return"number"==typeof e?n=>wle(e,t,n):Bse.test(e)?Ole(e,t):Tle(e,t)}const _le=(e,t)=>{const n=[...e],r=n.length,o=e.map(((e,n)=>jle(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},Cle=(e,t)=>{const n={...e,...t},r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=jle(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Tle=(e,t)=>{const n=Gse.createTransformer(t),r=Vse(e),o=Vse(t);return r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Yae(_le(r.values,o.values),n):n=>`${n>0?t:e}`},Ple=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Ale=(e,t)=>n=>wle(e,t,n);function Nle(e,t,n){const r=[],o=n||function(e){return"number"==typeof e?Ale:"string"==typeof e?Bse.test(e)?Ole:Tle:Array.isArray(e)?_le:"object"==typeof e?Cle:Ale}(e[0]),i=e.length-1;for(let n=0;n<i;n++){let i=o(e[n],e[n+1]);if(t){const e=Array.isArray(t)?t[n]:t;i=Yae(e,i)}r.push(i)}return r}function Mle(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Nle(t,r,o),s=a.length,l=t=>{let n=0;if(s>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Ple(e[n],e[n+1],t);return a[n](r)};return n?t=>l(Aie(e[0],e[i-1],t)):l}const Ile=e=>e,Rle=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Lle(e,t,n,r){if(e===t&&n===r)return Ile;const o=t=>function(e,t,n,r,o){let i,a,s=0;do{a=t+(n-t)/2,i=Rle(a,r,o)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Rle(o(e),t,r)}const Dle=e=>1-Math.sin(Math.acos(e)),Fle=vle(Dle),zle=mle(Fle),Ble=Lle(.33,1.53,.69,.99),$le=vle(Ble),Ule=mle($le),Vle={linear:Ile,easeIn:gle,easeInOut:ble,easeOut:yle,circIn:Dle,circInOut:zle,circOut:Fle,backIn:$le,backInOut:Ule,backOut:Ble,anticipate:e=>(e*=2)<1?.5*$le(e):.5*(2-Math.pow(2,-10*(e-1)))},Hle=e=>{if(Array.isArray(e)){e.length;const[t,n,r,o]=e;return Lle(t,n,r,o)}return"string"==typeof e?Vle[e]:e};function Wle(e,t){return e.map((()=>t||ble)).splice(0,e.length-1)}function qle({keyframes:e,ease:t=ble,times:n,duration:r=300}){e=[...e];const o=qle[0],i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(t)?t.map(Hle):Hle(t),a={done:!1,value:o},s=function(e,t){return e.map((e=>e*t))}(n&&n.length===qle.length?n:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(e),r);function l(){return Mle(s,e,{ease:Array.isArray(i)?i:Wle(e,i)})}let c=l();return{next:e=>(a.value=c(e),a.done=e>=r,a),flipTarget:()=>{e.reverse(),c=l()}}}const Gle=.001;function Kle({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i,a=1-t;a=Aie(.05,1,a),e=Aie(.01,10,e/1e3),a<1?(o=t=>{const r=t*a,o=r*e,i=r-n,s=Yle(t,a),l=Math.exp(-o);return Gle-i/s*l},i=t=>{const r=t*a*e,i=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Yle(Math.pow(t,2),a);return(-o(t)+Gle>0?-1:1)*((i-s)*l)/c}):(o=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let n=1;n<Xle;n++)r-=e(r)/t(r);return r}(o,i,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const Xle=12;function Yle(e,t){return e*Math.sqrt(1-t*t)}const Zle=["duration","bounce"],Jle=["stiffness","damping","mass"];function Qle(e,t){return t.some((t=>void 0!==e[t]))}function ece({keyframes:e,restSpeed:t=2,restDelta:n=.01,...r}){let o=e[0],i=e[e.length-1];const a={done:!1,value:o},{stiffness:s,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:f}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Qle(e,Jle)&&Qle(e,Zle)){const n=Kle(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}(r);let p=tce,h=u?-u/1e3:0;const m=l/(2*Math.sqrt(s*c));function v(){const e=i-o,t=Math.sqrt(s/c)/1e3;if(void 0===n&&(n=Math.min(Math.abs(i-o)/100,.4)),m<1){const n=Yle(t,m);p=r=>{const o=Math.exp(-m*t*r);return i-o*((h+m*t*e)/n*Math.sin(n*r)+e*Math.cos(n*r))}}else if(1===m)p=n=>i-Math.exp(-t*n)*(e+(h+t*e)*n);else{const n=t*Math.sqrt(m*m-1);p=r=>{const o=Math.exp(-m*t*r),a=Math.min(n*r,300);return i-o*((h+m*t*e)*Math.sinh(a)+n*e*Math.cosh(a))/n}}}return v(),{next:e=>{const r=p(e);if(f)a.done=e>=d;else{let o=h;if(0!==e)if(m<1){const t=Math.max(0,e-5);o=Ase(r-p(t),e-t)}else o=0;const s=Math.abs(o)<=t,l=Math.abs(i-r)<=n;a.done=s&&l}return a.value=a.done?i:r,a},flipTarget:()=>{h=-h,[o,i]=[i,o],v()}}}ece.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;const tce=e=>0;const nce={decay:function({keyframes:e=[0],velocity:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:i}){const a=e[0],s={done:!1,value:a};let l=n*t;const c=a+l,u=void 0===i?c:i(c);return u!==c&&(l=u-a),{next:e=>{const t=-l*Math.exp(-e/r);return s.done=!(t>o||t<-o),s.value=s.done?u:u+t,s},flipTarget:()=>{}}},keyframes:qle,tween:qle,spring:ece};function rce(e,t,n=0){return e-t-n}const oce=e=>{const t=({delta:t})=>e(t);return{start:()=>Sse.update(t,!0),stop:()=>kse.update(t)}};function ice({duration:e,driver:t=oce,elapsed:n=0,repeat:r=0,repeatType:o="loop",repeatDelay:i=0,keyframes:a,autoplay:s=!0,onPlay:l,onStop:c,onComplete:u,onRepeat:d,onUpdate:f,type:p="keyframes",...h}){var m,v;let g,y,b,w=0,x=e,S=!1,k=!0;const E=nce[a.length>2?"keyframes":p],O=a[0],j=a[a.length-1];(null===(v=(m=E).needsInterpolation)||void 0===v?void 0:v.call(m,O,j))&&(b=Mle([0,100],[O,j],{clamp:!1}),a=[0,100]);const _=E({...h,duration:e,keyframes:a});function C(){w++,"reverse"===o?(k=w%2==0,n=function(e,t=0,n=0,r=!0){return r?rce(t+-e,t,n):t-(e-t)+n}(n,x,i,k)):(n=rce(n,x,i),"mirror"===o&&_.flipTarget()),S=!1,d&&d()}function T(e){if(k||(e=-e),n+=e,!S){const e=_.next(Math.max(0,n));y=e.value,b&&(y=b(y)),S=k?e.done:n<=0}f&&f(y),S&&(0===w&&(x=void 0!==x?x:n),w<r?function(e,t,n,r){return r?e>=t+n:e<=-n}(n,x,i,k)&&C():(g.stop(),u&&u()))}return s&&(l&&l(),g=t(T),g.start()),{stop:()=>{c&&c(),g.stop()},sample:e=>_.next(Math.max(0,e))}}const ace=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,sce={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ace([0,.65,.55,1]),circOut:ace([.55,0,1,.45]),backIn:ace([.31,.01,.66,-.59]),backOut:ace([.33,1.53,.69,.99])};function lce(e){if(e)return Array.isArray(e)?ace(e):sce[e]}function cce(e,t,{onUpdate:n,onComplete:r,...o}){let{keyframes:i,duration:a=.3,elapsed:s=0,ease:l}=o;if("spring"===o.type||!function(e){return!e||Array.isArray(e)||"string"==typeof e&&sce[e]}(o.ease)){const e=ice(o);let t={done:!1,value:i[0]};const n=[];let r=0;for(;!t.done;)t=e.sample(r),n.push(t.value),r+=10;i=n,a=r-10,l="linear"}const c=function(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:a="loop",ease:s,times:l}={}){return e.animate({[t]:n,offset:l},{delay:r,duration:o,easing:lce(s),fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,i,{...o,delay:-s,duration:a,ease:l});return c.onfinish=()=>{e.set(i[i.length-1]),r&&r()},()=>{const{currentTime:t}=c;if(t){const n=ice(o);e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}Sse.update((()=>c.cancel()))}}function uce(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(kse.read(r),e(i-t))};return Sse.read(r,!0),()=>kse.read(r)}function dce({keyframes:e,elapsed:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),()=>{});return t?uce(o,-t):o()}const fce=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),pce=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}),hce=()=>({type:"keyframes",ease:"linear",duration:.3}),mce={type:"keyframes",duration:.8},vce={x:fce,y:fce,z:fce,rotate:fce,rotateX:fce,rotateY:fce,rotateZ:fce,scaleX:pce,scaleY:pce,scale:pce,opacity:hce,backgroundColor:hce,color:hce,default:pce},gce=(e,{keyframes:t})=>{if(t.length>2)return mce;return(vce[e]||vce.default)(t[1])},yce=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!Gse.test(t)||t.startsWith("url(")));function bce(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function wce(e){return"number"==typeof e?0:ele("",e)}function xce(e,t){return e[t]||e.default||e}const Sce={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},kce={},Ece={};for(const e in Sce)Ece[e]=()=>(void 0===kce[e]&&(kce[e]=Sce[e]()),kce[e]);const Oce=new Set(["opacity"]),jce=(e,t,n,r={})=>o=>{const i=xce(r,e)||{},a=i.delay||r.delay||0;let{elapsed:s=0}=r;s-=ple(a);const l=function(e,t,n,r){const o=yce(t,n);let i=void 0!==r.from?r.from:e.get();return"none"===i&&o&&"string"==typeof n?i=ele(t,n):bce(i)&&"string"==typeof n?i=wce(n):!Array.isArray(n)&&bce(n)&&"string"==typeof i&&(n=wce(i)),Array.isArray(n)?(null===n[0]&&(n[0]=i),n):[i,n]}(t,e,n,i),c=l[0],u=l[l.length-1],d=yce(e,c),f=yce(e,u);let p={keyframes:l,velocity:t.getVelocity(),...i,elapsed:s,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(!d||!f||hle||!1===i.type)return dce(p);if("inertia"===i.type){const e=function({keyframes:e,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:i=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:l=1,modifyTarget:c,driver:u,onUpdate:d,onComplete:f,onStop:p}){const h=e[0];let m;function v(e){return void 0!==n&&e<n||void 0!==r&&e>r}function g(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function y(e){null==m||m.stop(),m=ice({keyframes:[0,1],velocity:0,...e,driver:u,onUpdate:t=>{var n;null==d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:f,onStop:p})}function b(e){y({type:"spring",stiffness:a,damping:s,restDelta:l,...e})}if(v(h))b({velocity:t,keyframes:[h,g(h)]});else{let e=o*t+h;void 0!==c&&(e=c(e));const r=g(e),a=r===n?-1:1;let s,u;const d=e=>{s=u,u=e,t=Ase(e-s,pse.delta),(1===a&&e>r||-1===a&&e<r)&&b({keyframes:[e,r],velocity:t})};y({type:"decay",keyframes:[h,0],velocity:t,timeConstant:i,power:o,restDelta:l,modifyTarget:c,onUpdate:v(e)?d:void 0})}return{stop:()=>null==m?void 0:m.stop()}}(p);return()=>e.stop()}(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:l,...c}){return!!Object.keys(c).length})(i)||(p={...p,...gce(e,p)}),p.duration&&(p.duration=ple(p.duration)),p.repeatDelay&&(p.repeatDelay=ple(p.repeatDelay));const h=t.owner,m=h&&h.current;if(Ece.waapi()&&Oce.has(e)&&!p.repeatDelay&&"mirror"!==p.repeatType&&0!==p.damping&&h&&m instanceof HTMLElement&&!h.getProps().onUpdate)return cce(t,e,p);{const e=ice(p);return()=>e.stop()}};function _ce(e,t,n={}){var r;const o=ale(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(i=n.transitionOverride);const a=o?()=>Cce(e,o,n):()=>Promise.resolve(),s=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?(r=0)=>{const{delayChildren:o=0,staggerChildren:a,staggerDirection:s}=i;return function(e,t,n=0,r=0,o=1,i){const a=[],s=(e.variantChildren.size-1)*r,l=1===o?(e=0)=>e*r:(e=0)=>s-e*r;return Array.from(e.variantChildren).sort(Tce).forEach(((e,r)=>{a.push(_ce(e,t,{...i,delay:n+l(r)}).then((()=>e.notify("AnimationComplete",t))))})),Promise.all(a)}(e,t,o+r,a,s,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[e,t]="beforeChildren"===l?[a,s]:[s,a];return e().then(t)}return Promise.all([a(),s(n.delay)])}function Cce(e,t,{delay:n=0,transitionOverride:r,type:o}={}){var i;let{transition:a=e.getDefaultTransition(),transitionEnd:s,...l}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=o&&(null===(i=e.animationState)||void 0===i?void 0:i.getState()[o]);for(const t in l){const r=e.getValue(t),o=l[t];if(!r||void 0===o||d&&Pce(d,t))continue;let i={delay:n,elapsed:0,...a};if(e.shouldReduceMotion&&Eie.has(t)&&(i={...i,type:!1,delay:0}),!r.hasAnimated){const n=e.getProps()[fle];n&&(i.elapsed=dle(n,t))}let s=r.start(jce(t,r,o,i));ule(c)&&(c.add(t),s=s.then((()=>c.remove(t)))),u.push(s)}return Promise.all(u).then((()=>{s&&lle(e,s)}))}function Tce(e,t){return e.sortNodePosition(t)}function Pce({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}const Ace=[jae.Animate,jae.InView,jae.Focus,jae.Hover,jae.Tap,jae.Drag,jae.Exit],Nce=[...Ace].reverse(),Mce=Ace.length;function Ice(e){return t=>Promise.all(t.map((({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>_ce(e,t,n)));r=Promise.all(o)}else if("string"==typeof t)r=_ce(e,t,n);else{const o="function"==typeof t?ale(e,t,n.custom):t;r=Cce(e,o,n)}return r.then((()=>e.notify("AnimationComplete",t)))}(e,t,n))))}function Rce(e){let t=Ice(e);const n={[jae.Animate]:Dce(!0),[jae.InView]:Dce(),[jae.Hover]:Dce(),[jae.Tap]:Dce(),[jae.Drag]:Dce(),[jae.Focus]:Dce(),[jae.Exit]:Dce()};let r=!0;const o=(t,n)=>{const r=ale(e,n);if(r){const{transition:e,transitionEnd:n,...o}=r;t={...t,...o,...n}}return t};function i(i,a){const s=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},f=1/0;for(let t=0;t<Mce;t++){const p=Nce[t],h=n[p],m=void 0!==s[p]?s[p]:l[p],v=tie(m),g=p===a?h.isActive:null;!1===g&&(f=t);let y=m===l[p]&&m!==s[p]&&v;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),h.protectedKeys={...d},!h.isActive&&null===g||!m&&!h.prevProp||nie(m)||"boolean"==typeof m)continue;const b=Lce(h.prevProp,m);let w=b||p===a&&h.isActive&&!y&&v||t>f&&v;const x=Array.isArray(m)?m:[m];let S=x.reduce(o,{});!1===g&&(S={});const{prevResolvedValues:k={}}=h,E={...k,...S},O=e=>{w=!0,u.delete(e),h.needsAnimating[e]=!0};for(const e in E){const t=S[e],n=k[e];d.hasOwnProperty(e)||(t!==n?bae(t)&&bae(n)?!use(t,n)||b?O(e):h.protectedKeys[e]=!0:void 0!==t?O(e):u.add(e):void 0!==t&&u.has(e)?O(e):h.protectedKeys[e]=!0)}h.prevProp=m,h.prevResolvedValues=S,h.isActive&&(d={...d,...S}),r&&e.blockInitialAnimation&&(w=!1),w&&!y&&c.push(...x.map((e=>({animation:e,options:{type:p,...i}}))))}if(u.size){const t={};u.forEach((n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)})),c.push({animation:t})}let p=Boolean(c.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(p=!1),r=!1,p?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,o){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=i(o,t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Lce(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!use(t,e)}function Dce(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}const Fce={animation:sse((({visualElement:e,animate:t})=>{e.animationState||(e.animationState=Rce(e)),nie(t)&&(0,n.useEffect)((()=>t.subscribe(e)),[t])})),exit:sse((e=>{const{custom:t,visualElement:r}=e,[o,i]=cse(),a=(0,n.useContext)(Xoe);(0,n.useEffect)((()=>{r.isPresent=o;const e=r.animationState&&r.animationState.setActive(jae.Exit,!o,{custom:a&&a.custom||t});e&&!o&&e.then(i)}),[o])}))},zce=(e,t)=>Math.abs(e-t);class Bce{constructor(e,t,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Vce(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=zce(e.x,t.x),r=zce(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=pse;this.history.push({...r,timestamp:o});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=$ce(t,this.transformPagePoint),Tae(e)&&0===e.buttons?this.handlePointerUp(e,t):Sse.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r}=this.handlers,o=Vce($ce(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,o),r&&r(e,o)},Pae(e)&&e.touches.length>1)return;this.handlers=t,this.transformPagePoint=n;const r=$ce(Iae(e),this.transformPagePoint),{point:o}=r,{timestamp:i}=pse;this.history=[{...o,timestamp:i}];const{onSessionStart:a}=t;a&&a(e,Vce(r,this.history)),this.removeListeners=Yae(zae(window,"pointermove",this.handlePointerMove),zae(window,"pointerup",this.handlePointerUp),zae(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),kse.update(this.updatePoint)}}function $ce(e,t){return t?{point:t(e.point)}:e}function Uce(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vce({point:e},t){return{point:e,delta:Uce(e,Wce(t)),offset:Uce(e,Hce(t)),velocity:qce(t,.1)}}function Hce(e){return e[0]}function Wce(e){return e[e.length-1]}function qce(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Wce(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>ple(t)));)n--;if(!r)return{x:0,y:0};const i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};const a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Gce(e){return e.max-e.min}function Kce(e,t=0,n=.01){return Math.abs(e-t)<=n}function Xce(e,t,n,r=.5){e.origin=r,e.originPoint=wle(t.min,t.max,e.origin),e.scale=Gce(n)/Gce(t),(Kce(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=wle(n.min,n.max,e.origin)-e.originPoint,(Kce(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Yce(e,t,n,r){Xce(e.x,t.x,n.x,null==r?void 0:r.originX),Xce(e.y,t.y,n.y,null==r?void 0:r.originY)}function Zce(e,t,n){e.min=n.min+t.min,e.max=e.min+Gce(t)}function Jce(e,t,n){e.min=t.min-n.min,e.max=e.min+Gce(t)}function Qce(e,t,n){Jce(e.x,t.x,n.x),Jce(e.y,t.y,n.y)}function eue(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function tue(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const nue=.35;function rue(e,t,n){return{min:oue(e,t),max:oue(e,n)}}function oue(e,t){return"number"==typeof e?e:e[t]||0}function iue(e){return[e("x"),e("y")]}function aue({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function sue(e){return void 0===e||1===e}function lue({scale:e,scaleX:t,scaleY:n}){return!sue(e)||!sue(t)||!sue(n)}function cue(e){return lue(e)||uue(e)||e.z||e.rotate||e.rotateX||e.rotateY}function uue(e){return due(e.x)||due(e.y)}function due(e){return e&&"0%"!==e}function fue(e,t,n){return n+t*(e-n)}function pue(e,t,n,r,o){return void 0!==o&&(e=fue(e,o,r)),fue(e,n,r)+t}function hue(e,t=0,n=1,r,o){e.min=pue(e.min,t,n,r,o),e.max=pue(e.max,t,n,r,o)}function mue(e,{x:t,y:n}){hue(e.x,t.translate,t.scale,t.originPoint),hue(e.y,n.translate,n.scale,n.originPoint)}function vue(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function gue(e,t){e.min=e.min+t,e.max=e.max+t}function yue(e,t,[n,r,o]){const i=void 0!==t[o]?t[o]:.5,a=wle(e.min,e.max,i);hue(e,t[n],t[r],a,t.scale)}const bue=["x","scaleX","originX"],wue=["y","scaleY","originY"];function xue(e,t){yue(e.x,t,bue),yue(e.y,t,wue)}function Sue(e,t){return aue(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const kue=new WeakMap;class Eue{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e,{snapToCursor:t=!1}={}){if(!1===this.visualElement.isPresent)return;this.panSession=new Bce(e,{onSessionStart:e=>{this.stopAnimation(),t&&this.snapToCursor(Iae(e,"page").point)},onStart:(e,t)=>{var n;const{drag:r,dragPropagation:o,onDragStart:i}=this.getProps();(!r||o||(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Hae(r),this.openGlobalLock))&&(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iue((e=>{var t,n;let r=this.getAxisMotionValue(e).get()||0;if(Uie.test(r)){const o=null===(n=null===(t=this.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===n?void 0:n.layoutBox[e];if(o){r=Gce(o)*(parseFloat(r)/100)}}this.originPoint[e]=r})),null==i||i(e,t),null===(n=this.visualElement.animationState)||void 0===n||n.setActive(jae.Drag,!0))},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&(null==o||o(this.currentDirection)));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),null==i||i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t)},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();null==o||o(e,t)}cancel(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(jae.Drag,!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Oue(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?wle(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?wle(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),{layout:n}=this.visualElement.projection||{},r=this.constraints;e&&eie(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:o}){return{x:eue(e.x,n,o),y:eue(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=nue){return!1===e?e=0:!0===e&&(e=nue),{x:rue(e,"left","right"),y:rue(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&iue((e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!eie(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Sue(e,n),{scroll:o}=t;return o&&(gue(r.x,o.offset.x),gue(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:tue(e.x,t.x),y:tue(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=aue(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},l=iue((a=>{if(!Oue(a,t,this.currentDirection))return;let l=(null==s?void 0:s[a])||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...o,...l};return this.startAxisValueAnimation(a,d)}));return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(jce(e,n,0,t))}stopAnimation(){iue((e=>this.getAxisMotionValue(e).stop()))}getAxisMotionValue(e){var t;const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps()[n];return r||this.visualElement.getValue(e,(null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])||0)}snapToCursor(e){iue((t=>{const{drag:n}=this.getProps();if(!Oue(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];o.set(e[t]-wle(n,i,.5))}}))}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!eie(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};iue((e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();o[e]=function(e,t){let n=.5;const r=Gce(e),o=Gce(t);return o>r?n=Ple(t.min,t.max-r,e.min):r>o&&(n=Ple(e.min,e.max-o,t.min)),Aie(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",null===(e=r.root)||void 0===e||e.updateScroll(),r.updateLayout(),this.resolveConstraints(),iue((e=>{if(!Oue(e,t,null))return;const n=this.getAxisMotionValue(e),{min:r,max:i}=this.constraints[e];n.set(wle(r,i,o[e]))}))}addListeners(){var e;if(!this.visualElement.current)return;kue.set(this.visualElement,this);const t=zae(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),n=()=>{const{dragConstraints:e}=this.getProps();eie(e)&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",n);r&&!r.layout&&(null===(e=r.root)||void 0===e||e.updateScroll(),r.updateLayout()),n();const i=_ae(window,"resize",(()=>this.scalePositionWithinConstraints())),a=r.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iue((t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))})),this.visualElement.render())}));return()=>{i(),t(),o(),null==a||a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=nue,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Oue(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const jue={pan:sse((function({onPan:e,onPanStart:t,onPanEnd:r,onPanSessionStart:o,visualElement:i}){const a=e||t||r||o,s=(0,n.useRef)(null),{transformPagePoint:l}=(0,n.useContext)(Goe),c={onSessionStart:o,onStart:t,onMove:e,onEnd:(e,t)=>{s.current=null,r&&r(e,t)}};(0,n.useEffect)((()=>{null!==s.current&&s.current.updateHandlers(c)})),Bae(i,"pointerdown",a&&function(e){s.current=new Bce(e,c,{transformPagePoint:l})}),Kae((()=>s.current&&s.current.end()))})),drag:sse((function(e){const{dragControls:t,visualElement:r}=e,o=uie((()=>new Eue(r)));(0,n.useEffect)((()=>t&&t.subscribe(o)),[o,t]),(0,n.useEffect)((()=>o.addListeners()),[o])}))};function _ue(e){return"string"==typeof e&&e.startsWith("var(--")}const Cue=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Tue(e,t,n=1){const[r,o]=function(e){const t=Cue.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);return i?i.trim():_ue(o)?Tue(o,t,n+1):o}const Pue=new Set(["width","height","top","left","right","bottom","x","y"]),Aue=e=>Pue.has(e),Nue=(e,t)=>{e.set(t,!1),e.set(t)},Mue=e=>e===Nie||e===Vie;var Iue;!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Iue||(Iue={}));const Rue=(e,t)=>parseFloat(e.split(", ")[t]),Lue=(e,t)=>(n,{transform:r})=>{if("none"===r||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return Rue(o[1],t);{const t=r.match(/^matrix\((.+)\)$/);return t?Rue(t[1],e):0}},Due=new Set(["x","y","z"]),Fue=kie.filter((e=>!Due.has(e)));const zue={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Lue(4,13),y:Lue(5,14)},Bue=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(Aue);let i=[],a=!1;const s=[];if(o.forEach((o=>{const l=e.getValue(o);if(!e.hasValue(o))return;let c=n[o],u=rle(c);const d=t[o];let f;if(bae(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=rle(c);for(let n=t;n<e;n++)f?rle(d[n]):(f=rle(d[n]),f===u||Mue(u)&&Mue(f))}else f=rle(d);if(u!==f)if(Mue(u)&&Mue(f)){const e=l.get();"string"==typeof e&&l.set(parseFloat(e)),"string"==typeof d?t[o]=parseFloat(d):Array.isArray(d)&&f===Vie&&(t[o]=d.map(parseFloat))}else(null==u?void 0:u.transform)&&(null==f?void 0:f.transform)&&(0===c||0===d)?0===c?l.set(f.transform(c)):t[o]=u.transform(d):(a||(i=function(e){const t=[];return Fue.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.render(),t}(e),a=!0),s.push(o),r[o]=void 0!==r[o]?r[o]:t[o],Nue(l,d))})),s.length){const n=s.indexOf("height")>=0?window.pageYOffset:null,o=((e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:a}=i,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((e=>{s[e]=zue[e](r,i)})),t.render();const l=t.measureViewportBox();return n.forEach((n=>{const r=t.getValue(n);Nue(r,s[n]),e[n]=zue[n](l,i)})),e})(t,e,s);return i.length&&i.forEach((([t,n])=>{e.getValue(t).set(n)})),e.render(),Yoe&&null!==n&&window.scrollTo({top:n}),{target:o,transitionEnd:r}}return{target:t,transitionEnd:r}};function $ue(e,t,n,r){return(e=>Object.keys(e).some(Aue))(t)?Bue(e,t,n,r):{target:t,transitionEnd:r}}const Uue=(e,t,n,r)=>{const o=function(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach((e=>{const t=e.get();if(!_ue(t))return;const n=Tue(t,r);n&&e.set(n)}));for(const e in t){const o=t[e];if(!_ue(o))continue;const i=Tue(o,r);i&&(t[e]=i,n&&void 0===n[e]&&(n[e]=o))}return{target:t,transitionEnd:n}}(e,t,r);return $ue(e,t=o.target,n,r=o.transitionEnd)},Vue={current:null},Hue={current:!1};const Wue=Object.keys(cie),que=Wue.length,Gue=["AnimationStart","AnimationComplete","Update","Unmount","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Kue{constructor({parent:e,props:t,reducedMotionConfig:n,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Sse.render(this.render,!1,!0);const{latestValues:i,renderState:a}=r;this.latestValues=i,this.baseTarget={...i},this.initialValues=t.initial?{...i}:{},this.renderState=a,this.parent=e,this.props=t,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=o,this.isControllingVariants=oie(t),this.isVariantNode=iie(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:s,...l}=this.scrapeMotionValuesFromProps(t);for(const e in l){const t=l[e];void 0!==i[e]&&jie(t)&&(t.set(i[e],!1),ule(s)&&s.add(e))}}scrapeMotionValuesFromProps(e){return{}}mount(e){var t;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=null===(t=this.parent)||void 0===t?void 0:t.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),Hue.current||function(){if(Hue.current=!0,Yoe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vue.current=e.matches;e.addListener(t),t()}else Vue.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Vue.current),this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,t,n;null===(e=this.projection)||void 0===e||e.unmount(),kse.update(this.notifyUpdate),kse.render(this.render),this.valueSubscriptions.forEach((e=>e())),null===(t=this.removeFromVariantTree)||void 0===t||t.call(this),null===(n=this.parent)||void 0===n||n.children.delete(this);for(const e in this.events)this.events[e].clear();this.current=null}bindToMotionValue(e,t){const n=Eie.has(e),r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Sse.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)})),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,(()=>{r(),o()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,r,o,i,a){const s=[];for(let t=0;t<que;t++){const r=Wue[t],{isEnabled:o,Component:i}=cie[r];o(e)&&i&&s.push((0,n.createElement)(i,{key:r,...e,visualElement:this}))}if(!this.projection&&i){this.projection=new i(o,this.latestValues,this.parent&&this.parent.projection);const{layoutId:t,layout:n,drag:r,dragConstraints:s,layoutScroll:l}=e;this.projection.setOptions({layoutId:t,layout:n,alwaysMeasureLayout:Boolean(r)||s&&eie(s),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof n?n:"both",initialPromotionConfig:a,layoutScroll:l})}return s}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.props=e;for(let t=0;t<Gue.length;t++){const n=Gue[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const r=e["on"+n];r&&(this.propEventSubscriptions[n]=this.on(n,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],a=n[o];if(jie(i))e.addValue(o,i),ule(r)&&r.add(o);else if(jie(a))e.addValue(o,Mse(i,{owner:e})),ule(r)&&r.remove(o);else if(a!==i)if(e.hasValue(o)){const t=e.getValue(o);!t.hasAnimated&&t.set(i)}else{const t=e.getStaticValue(o);e.addValue(o,Mse(void 0!==t?t:i))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e),this.prevMotionValues)}getProps(){return this.props}getVariant(e){var t;return null===(t=this.props.variants)||void 0===t?void 0:t[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:null===(e=this.parent)||void 0===e?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var t,n;if(e)return null===(t=this.parent)||void 0===t?void 0:t.getVariantContext();if(!this.isControllingVariants){const e=(null===(n=this.parent)||void 0===n?void 0:n.getVariantContext())||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const r={};for(let e=0;e<Yue;e++){const t=Xue[e],n=this.props[t];(tie(n)||!1===n)&&(r[t]=n)}return r}addVariantChild(e){var t;const n=this.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),()=>n.variantChildren.delete(e)}addValue(e,t){this.hasValue(e)&&this.removeValue(e),this.values.set(e,t),this.latestValues[e]=t.get(),this.bindToMotionValue(e,t)}removeValue(e){var t;this.values.delete(e),null===(t=this.valueSubscriptions.get(e))||void 0===t||t(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Mse(t,{owner:this}),this.addValue(e,n)),n}readValue(e){return void 0===this.latestValues[e]&&this.current?this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"==typeof n||"object"==typeof n?null===(t=yae(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||jie(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Pse),this.events[e].add(t)}notify(e,...t){var n;null===(n=this.events[e])||void 0===n||n.notify(...t)}}const Xue=["initial",...Ace],Yue=Xue.length;class Zue extends Kue{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...n},{transformValues:r},o){let i=function(e,t,n){var r;const o={};for(const i in e){const e=cle(i,t);o[i]=void 0!==e?e:null===(r=n.getValue(i))||void 0===r?void 0:r.get()}return o}(n,e||{},this);if(r&&(t&&(t=r(t)),n&&(n=r(n)),i&&(i=r(i))),o){!function(e,t,n){var r,o;const i=Object.keys(t).filter((t=>!e.hasValue(t))),a=i.length;if(a)for(let s=0;s<a;s++){const a=i[s],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(o=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==o?o:t[a]),null!=c&&("string"==typeof c&&(dse(c)||fse(c))?c=parseFloat(c):!ile(c)&&Gse.test(l)&&(c=ele(a,l)),e.addValue(a,Mse(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,n,i);const e=Uue(this,n,i,t);t=e.transitionEnd,n=e.target}return{transition:e,transitionEnd:t,...n}}}class Jue extends Zue{readValueFromInstance(e,t){if(Eie.has(t)){const e=Qse(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(Tie(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof o?o.trim():o}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return Sue(e,t)}build(e,t,n,r){Xie(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e){return vae(e)}renderInstance(e,t,n,r){pae(e,t,n,r)}}class Que extends Zue{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){var n;return Eie.has(t)?(null===(n=Qse(t))||void 0===n?void 0:n.default)||0:(t=hae.has(t)?t:fae(t),e.getAttribute(t))}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e){return gae(e)}build(e,t,n,r){sae(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){mae(e,t,0,r)}mount(e){this.isSVGTag=cae(e.tagName),super.mount(e)}}const ede=(e,t)=>xie(e)?new Que(t,{enableHardwareAcceleration:!1}):new Jue(t,{enableHardwareAcceleration:!0});function tde(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const nde={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Vie.test(e))return e;e=parseFloat(e)}return`${tde(e,t.target.x)}% ${tde(e,t.target.y)}%`}},rde="_$css",ode={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=e.includes("var("),i=[];o&&(e=e.replace(Cue,(e=>(i.push(e),rde))));const a=Gse.parse(e);if(a.length>5)return r;const s=Gse.createTransformer(e),l="number"!=typeof a[0]?1:0,c=n.x.scale*t.x,u=n.y.scale*t.y;a[0+l]/=c,a[1+l]/=u;const d=wle(c,u,.5);"number"==typeof a[2+l]&&(a[2+l]/=d),"number"==typeof a[3+l]&&(a[3+l]/=d);let f=s(a);if(o){let e=0;f=f.replace(rde,(()=>{const t=i[e];return e++,t}))}return f}};class ide extends n.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var i;i=ade,Object.assign(Sie,i),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),die.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,i=n.projection;return i?(i.isPresent=o,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Sse.postRender((()=>{var e;(null===(e=i.getStack())||void 0===e?void 0:e.members.length)||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),(null==t?void 0:t.group)&&t.group.remove(r),(null==n?void 0:n.deregister)&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;null==e||e()}render(){return null}}const ade={borderRadius:{...nde,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nde,borderTopRightRadius:nde,borderBottomLeftRadius:nde,borderBottomRightRadius:nde,boxShadow:ode},sde={measureLayout:function(e){const[t,r]=cse(),o=(0,n.useContext)(pie);return n.createElement(ide,{...e,layoutGroup:o,switchLayoutGroup:(0,n.useContext)(mie),isPresent:t,safeToRemove:r})}};const lde=["TopLeft","TopRight","BottomLeft","BottomRight"],cde=lde.length,ude=e=>"string"==typeof e?parseFloat(e):e,dde=e=>"number"==typeof e||Vie.test(e);function fde(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const pde=mde(0,.5,Fle),hde=mde(.5,.95,Ile);function mde(e,t,n){return r=>r<e?0:r>t?1:n(Ple(e,t,r))}function vde(e,t){e.min=t.min,e.max=t.max}function gde(e,t){vde(e.x,t.x),vde(e.y,t.y)}function yde(e,t,n,r,o){return e=fue(e-=t,1/n,r),void 0!==o&&(e=fue(e,1/o,r)),e}function bde(e,t,[n,r,o],i,a){!function(e,t=0,n=1,r=.5,o,i=e,a=e){Uie.test(t)&&(t=parseFloat(t),t=wle(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let s=wle(i.min,i.max,r);e===i&&(s-=t),e.min=yde(e.min,t,n,s,o),e.max=yde(e.max,t,n,s,o)}(e,t[n],t[r],t[o],t.scale,i,a)}const wde=["x","scaleX","originX"],xde=["y","scaleY","originY"];function Sde(e,t,n,r){bde(e.x,t,wde,null==n?void 0:n.x,null==r?void 0:r.x),bde(e.y,t,xde,null==n?void 0:n.y,null==r?void 0:r.y)}function kde(e){return 0===e.translate&&1===e.scale}function Ede(e){return kde(e.x)&&kde(e.y)}function Ode(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function jde(e){return Gce(e.x)/Gce(e.y)}class _de{constructor(){this.members=[]}add(e){Cse(this.members,e),e.scheduleRender()}remove(e){if(Tse(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let e=t;e>=0;e--){const t=this.members[e];if(!1!==t.isPresent){n=t;break}}return!!n&&(this.promote(n),!0)}promote(e,t){var n;const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;!1===o&&r.hide()}}exitAnimationComplete(){this.members.forEach((e=>{var t,n,r,o,i;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(i=null===(r=e.resumingFrom)||void 0===r?void 0:(o=r.options).onExitComplete)||void 0===i||i.call(o)}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cde(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:e,rotateX:t,rotateY:o}=n;e&&(r+=`rotate(${e}deg) `),t&&(r+=`rotateX(${t}deg) `),o&&(r+=`rotateY(${o}deg) `)}const a=e.x.scale*t.x,s=e.y.scale*t.y;return 1===a&&1===s||(r+=`scale(${a}, ${s})`),r||"none"}const Tde=(e,t)=>e.depth-t.depth;class Pde{constructor(){this.children=[],this.isDirty=!1}add(e){Cse(this.children,e),this.isDirty=!0}remove(e){Tse(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tde),this.isDirty=!1,this.children.forEach(e)}}const Ade=["","X","Y","Z"];let Nde=0;function Mde({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(e,n={},r=(null==t?void 0:t())){this.id=Nde++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Lde),this.nodes.forEach($de),this.nodes.forEach(Ude)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=e,this.latestValues=n,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pde)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Pse),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);null==n||n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}registerPotentialNode(e,t){this.potentialNodes.set(e,t)}mount(t,n=!1){var r;if(this.instance)return;this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;const{layoutId:o,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),n&&(i||o)&&(this.isLayoutDirty=!0),e){let n;const r=()=>this.root.updateBlockedByResize=!1;e(t,(()=>{this.root.updateBlockedByResize=!0,n&&n(),n=uce(r,250),die.hasAnimatedSinceResize&&(die.hasAnimatedSinceResize=!1,this.nodes.forEach(Bde))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&a&&(o||i)&&this.addEventListener("didUpdate",(({delta:e,hasLayoutChanged:t,hasRelativeTargetChanged:n,layout:r})=>{var o,i,s,l,c;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const u=null!==(i=null!==(o=this.options.transition)&&void 0!==o?o:a.getDefaultTransition())&&void 0!==i?i:Kde,{onLayoutAnimationStart:d,onLayoutAnimationComplete:f}=a.getProps(),p=!this.targetLayout||!Ode(this.targetLayout,r)||n,h=!t&&n;if((null===(s=this.resumeFrom)||void 0===s?void 0:s.instance)||h||t&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(e,h);const t={...xce(u,"layout"),onPlay:d,onComplete:f};a.shouldReduceMotion&&(t.delay=0,t.type=!1),this.startAnimation(t)}else t||0!==this.animationProgress||Bde(this),this.isLead()&&(null===(c=(l=this.options).onExitComplete)||void 0===c||c.call(l));this.targetLayout=r}))}unmount(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,kse.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}startUpdate(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Vde),this.animationId++)}willUpdate(e=!0){var t,n,r;if(this.root.isUpdateBlocked())return void(null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t));if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){const t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot")}const{layoutId:o,layout:i}=this.options;if(void 0===o&&!i)return;const a=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==a?void 0:a(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Fde);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Xde),this.potentialNodes.clear()),this.nodes.forEach(zde),this.nodes.forEach(Ide),this.nodes.forEach(Rde),this.clearAllSnapshots(),Ese.update(),Ese.preRender(),Ese.render())}clearAllSnapshots(){this.nodes.forEach(Dde),this.sharedNodes.forEach(Hde)}scheduleUpdateProjection(){Sse.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Sse.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){var e;if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++){this.path[e].updateScroll()}const t=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),null===(e=this.options.visualElement)||void 0===e||e.notify("LayoutMeasure",this.layout.layoutBox,null==t?void 0:t.layoutBox)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var e;if(!o)return;const t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!Ede(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null==r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(n||cue(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Yde((r=n).x),Yde(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(gue(t.x,n.offset.x),gue(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};gde(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:i}=r;if(r!==this.root&&o&&i.layoutScroll){if(o.isRoot){gde(t,e);const{scroll:n}=this.root;n&&(gue(t.x,-n.offset.x),gue(t.y,-n.offset.y))}gue(t.x,o.offset.x),gue(t.y,o.offset.y)}}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};gde(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];!t&&r.options.layoutScroll&&r.scroll&&r!==r.root&&xue(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),cue(r.latestValues)&&xue(n,r.latestValues)}return cue(this.latestValues)&&xue(n,this.latestValues),n}removeTransform(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};gde(n,e);for(let e=0;e<this.path.length;e++){const r=this.path[e];if(!r.instance)continue;if(!cue(r.latestValues))continue;lue(r.latestValues)&&r.updateSnapshot();const o={x:{min:0,max:0},y:{min:0,max:0}};gde(o,r.measurePageBox()),Sde(n,r.latestValues,null===(t=r.snapshot)||void 0===t?void 0:t.layoutBox,o)}return cue(this.latestValues)&&Sde(n,this.latestValues),n}setTargetDelta(e){this.targetDelta=e,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var e;const t=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:n,layoutId:r}=this.options;if(this.layout&&(n||r)){if(!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qce(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),gde(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var o,i,a;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(o=this.target,i=this.relativeTarget,a=this.relativeParent.target,Zce(o.x,i.x,a.x),Zce(o.y,i.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):gde(this.target,this.layout.layoutBox),mue(this.target,this.targetDelta)):gde(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target?(this.relativeParent=e,this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qce(this.relativeTargetOrigin,this.target,e.target),gde(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!lue(this.parent.latestValues)&&!uue(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var e;const{isProjectionDirty:t,isTransformDirty:n}=this;this.isProjectionDirty=this.isTransformDirty=!1;const r=this.getLead(),o=Boolean(this.resumingFrom)||this!==r;let i=!0;if(t&&(i=!1),o&&n&&(i=!1),i)return;const{layout:a,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!a&&!s)return;gde(this.layoutCorrected,this.layout.layoutBox),function(e,t,n,r=!1){var o,i;const a=n.length;if(!a)return;let s,l;t.x=t.y=1;for(let c=0;c<a;c++)s=n[c],l=s.projectionDelta,"contents"!==(null===(i=null===(o=s.instance)||void 0===o?void 0:o.style)||void 0===i?void 0:i.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xue(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,mue(e,l)),r&&cue(s.latestValues)&&xue(e,s.latestValues));t.x=vue(t.x),t.y=vue(t.y)}(this.layoutCorrected,this.treeScale,this.path,o);const{target:l}=r;if(!l)return;this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.treeScale.x,u=this.treeScale.y,d=this.projectionTransform;Yce(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Cde(this.projectionDelta,this.treeScale),this.projectionTransform===d&&this.treeScale.x===c&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t,n,r;null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e,t=!1){var n,r;const o=this.snapshot,i=(null==o?void 0:o.latestValues)||{},a={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;const l={x:{min:0,max:0},y:{min:0,max:0}},c=(null==o?void 0:o.source)!==(null===(n=this.layout)||void 0===n?void 0:n.source),u=((null===(r=this.getStack())||void 0===r?void 0:r.members.length)||0)<=1,d=Boolean(c&&!u&&!0===this.options.crossfade&&!this.path.some(Gde));this.animationProgress=0,this.mixTargetDelta=t=>{var n;const r=t/1e3;Wde(s.x,e.x,r),Wde(s.y,e.y,r),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(null===(n=this.relativeParent)||void 0===n?void 0:n.layout)&&(Qce(l,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){qde(e.x,t.x,n.x,r),qde(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,l,r)),c&&(this.animationValues=a,function(e,t,n,r,o,i){o?(e.opacity=wle(0,void 0!==n.opacity?n.opacity:1,pde(r)),e.opacityExit=wle(void 0!==t.opacity?t.opacity:1,0,hde(r))):i&&(e.opacity=wle(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let o=0;o<cde;o++){const i=`border${lde[o]}Radius`;let a=fde(t,i),s=fde(n,i);void 0===a&&void 0===s||(a||(a=0),s||(s=0),0===a||0===s||dde(a)===dde(s)?(e[i]=Math.max(wle(ude(a),ude(s),r),0),(Uie.test(s)||Uie.test(a))&&(e[i]+="%")):e[i]=s)}(t.rotate||n.rotate)&&(e.rotate=wle(t.rotate||0,n.rotate||0,r))}(a,i,this.latestValues,r,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(kse.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Sse.update((()=>{die.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n={}){const r=jie(e)?e:Mse(e);return r.start(jce("",r,t,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}(0,1e3,{...e,onUpdate:t=>{var n;this.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:()=>{var t;null===(t=e.onComplete)||void 0===t||t.call(e),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Zde(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Gce(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Gce(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}gde(t,n),xue(t,o),Yce(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){var n,r,o;this.sharedNodes.has(e)||this.sharedNodes.set(e,new _de);this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(o=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===o?void 0:o.call(r,t)})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let t=0;t<Ade.length;t++){const o="rotate"+Ade[t];n[o]&&(r[o]=n[o],e.setStaticValue(o,0))}null==e||e.render();for(const t in r)e.setStaticValue(t,r[t]);e.scheduleRender()}getProjectionStyles(e={}){var t,n,r;const o={};if(!this.instance||this.isSVG)return o;if(!this.isVisible)return{visibility:"hidden"};o.visibility="";const i=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=xae(e.pointerEvents)||"",o.transform=i?i(this.latestValues,""):"none",o;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=xae(e.pointerEvents)||""),this.hasProjected&&!cue(this.latestValues)&&(t.transform=i?i({},""):"none",this.hasProjected=!1),t}const s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),o.transform=Cde(this.projectionDeltaWithTransform,this.treeScale,s),i&&(o.transform=i(s,o.transform));const{x:l,y:c}=this.projectionDelta;o.transformOrigin=`${100*l.origin}% ${100*c.origin}% 0`,a.animationValues?o.opacity=a===this?null!==(r=null!==(n=s.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:o.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const e in Sie){if(void 0===s[e])continue;const{correct:t,applyTo:n}=Sie[e],r=t(s[e],a);if(n){const e=n.length;for(let t=0;t<e;t++)o[n[t]]=r}else o[e]=r}return this.options.layoutId&&(o.pointerEvents=a===this?xae(e.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Fde),this.root.sharedNodes.clear()}}}function Ide(e){e.updateLayout()}function Rde(e){var t,n,r;const o=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=e.layout,{animationType:r}=e.options,i=o.source!==e.layout.source;"size"===r?iue((e=>{const n=i?o.measuredBox[e]:o.layoutBox[e],r=Gce(n);n.min=t[e].min,n.max=n.min+r})):Zde(r,o.layoutBox,t)&&iue((e=>{const n=i?o.measuredBox[e]:o.layoutBox[e],r=Gce(t[e]);n.max=n.min+r}));const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Yce(a,t,o.layoutBox);const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Yce(s,e.applyTransform(n,!0),o.measuredBox):Yce(s,t,o.layoutBox);const l=!Ede(a);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:e,layout:r}=n;if(e&&r){const n={x:{min:0,max:0},y:{min:0,max:0}};Qce(n,o.layoutBox,e.layoutBox);const i={x:{min:0,max:0},y:{min:0,max:0}};Qce(i,t,r.layoutBox),Ode(n,i)||(c=!0)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:o,delta:s,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else e.isLead()&&(null===(r=(n=e.options).onExitComplete)||void 0===r||r.call(n));e.options.transition=void 0}function Lde(e){e.isProjectionDirty||(e.isProjectionDirty=Boolean(e.parent&&e.parent.isProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=Boolean(e.parent&&e.parent.isTransformDirty))}function Dde(e){e.clearSnapshot()}function Fde(e){e.clearMeasurements()}function zde(e){const{visualElement:t}=e.options;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Bde(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function $de(e){e.resolveTargetDelta()}function Ude(e){e.calcProjection()}function Vde(e){e.resetRotation()}function Hde(e){e.removeLeadSnapshot()}function Wde(e,t,n){e.translate=wle(t.translate,0,n),e.scale=wle(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function qde(e,t,n,r){e.min=wle(t.min,n.min,r),e.max=wle(t.max,n.max,r)}function Gde(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Kde={duration:.45,ease:[.4,0,.1,1]};function Xde(e,t){let n=e.root;for(let t=e.path.length-1;t>=0;t--)if(Boolean(e.path[t].instance)){n=e.path[t];break}const r=(n&&n!==e.root?n.instance:document).querySelector(`[data-projection-id="${t}"]`);r&&e.mount(r,!0)}function Yde(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function Zde(e,t,n){return"position"===e||"preserve-aspect"===e&&!Kce(jde(t),jde(n),.2)}const Jde=Mde({attachResizeListener:(e,t)=>_ae(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qde={current:void 0},efe=Mde({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qde.current){const e=new Jde(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Qde.current=e}return Qde.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),tfe={...Fce,...lse,...jue,...sde},nfe=bie(((e,t)=>function(e,{forwardMotionProps:t=!1},n,r,o){return{...xie(e)?Eae:Oae,preloadedFeatures:n,useRender:dae(t),createVisualElement:r,projectionNodeConstructor:o,Component:e}}(e,t,tfe,ede,efe)));var rfe=function(e,t){var n=be((function(e){return e.lessonContent.blocks[t]})).layout.rows.find((function(t){return t.tiles.some((function(t){return t.tileId===e}))}));if(!n)throw new Error("Row not found for tile with ID: ".concat(e));var r=null==n?void 0:n.tiles.find((function(t){return t.tileId===e}));if(!r)throw new Error("Tile not found for tile with ID: ".concat(e));var o=n.tiles.findIndex((function(t){return t.tileId===e})),i=n.tiles.length;return{relativeWidth:r.relativeWidth,relativeHeight:n.relativeHeight,tileIndex:o,totalTilesInRow:i}};function ofe(e){var t=e.buttonColor,n=e.buttonText,r=e.isDarkMode,o=e.variant,i=void 0===o?"default":o,a=be((function(e){return e.requiredInteractivePulse}));return be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings.requireInteractives}))?(0,Ut.jsx)(afe,{buttonColor:t,buttonText:n,isDarkMode:r,variant:i,showPulse:a}):null}var ife=function(e){var t=e.showPulse,n=void 0!==t&&t,r=xh(),o=r.buttonColor,i=r.buttonText,a=r.isDarkTheme;return(0,Ut.jsx)(nfe.div,{className:"cursor-pointer",layoutId:"narration-indicator",transition:{type:"spring",stiffness:150,damping:30},style:{zIndex:9999},onLayoutAnimationStart:function(){document.querySelectorAll('.overflow-x-auto, [class*="overflow-x-auto"]').forEach((function(e){e.style.setProperty("overflow","visible","important")}))},onLayoutAnimationComplete:function(){document.querySelectorAll('.overflow-x-auto, [class*="overflow-x-auto"]').forEach((function(e){e.style.removeProperty("overflow")}))},children:(0,Ut.jsx)(afe,{buttonColor:o,buttonText:i,isDarkMode:a,variant:"default",showPulse:n})})};function afe(e){var t=e.buttonColor,n=(e.buttonText,e.isDarkMode),r=e.variant,o=void 0===r?"default":r,i=e.showPulse,a=void 0!==i&&i;return(0,Ut.jsxs)("div",{className:"relative flex h-2 w-2 items-center justify-center duration-300 animate-in fade-in",children:["default"===o&&(0,Ut.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:t}}),a&&(0,Ut.jsx)("div",{className:vr("hot-button-pulse-ring absolute rounded-full border-[3px] border-solid",n?"dark":"light"),style:{width:"24px",height:"24px",transform:"translate(-11px, 0px)"}})]})}const sfe="rovingFocusGroup.onEntryFocus",lfe={bubbles:!1,cancelable:!0},cfe="RovingFocusGroup",[ufe,dfe,ffe]=p3(cfe),[pfe,hfe]=fL(cfe,[ffe]),[mfe,vfe]=pfe(cfe),gfe=(0,n.forwardRef)(((e,t)=>(0,n.createElement)(ufe.Provider,{scope:e.__scopeRovingFocusGroup},(0,n.createElement)(ufe.Slot,{scope:e.__scopeRovingFocusGroup},(0,n.createElement)(yfe,(0,ke.A)({},e,{ref:t})))))),yfe=(0,n.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,...d}=e,f=(0,n.useRef)(null),p=dL(t,f),h=h5(a),[m=null,v]=bD({prop:s,defaultProp:l,onChange:c}),[g,y]=(0,n.useState)(!1),b=wL(u),w=dfe(r),x=(0,n.useRef)(!1),[S,k]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=f.current;if(e)return e.addEventListener(sfe,b),()=>e.removeEventListener(sfe,b)}),[b]),(0,n.createElement)(mfe,{scope:r,orientation:o,dir:h,loop:i,currentTabStopId:m,onItemFocus:(0,n.useCallback)((e=>v(e)),[v]),onItemShiftTab:(0,n.useCallback)((()=>y(!0)),[]),onFocusableItemAdd:(0,n.useCallback)((()=>k((e=>e+1))),[]),onFocusableItemRemove:(0,n.useCallback)((()=>k((e=>e-1))),[])},(0,n.createElement)(bL.div,(0,ke.A)({tabIndex:g||0===S?-1:0,"data-orientation":o},d,{ref:p,style:{outline:"none",...e.style},onMouseDown:cL(e.onMouseDown,(()=>{x.current=!0})),onFocus:cL(e.onFocus,(e=>{const t=!x.current;if(e.target===e.currentTarget&&t&&!g){const t=new CustomEvent(sfe,lfe);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){const e=w().filter((e=>e.focusable));Sfe([e.find((e=>e.active)),e.find((e=>e.id===m)),...e].filter(Boolean).map((e=>e.ref.current)))}}x.current=!1})),onBlur:cL(e.onBlur,(()=>y(!1)))})))})),bfe="RovingFocusGroupItem",wfe=(0,n.forwardRef)(((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:i=!1,tabStopId:a,...s}=e,l=WL(),c=a||l,u=vfe(bfe,r),d=u.currentTabStopId===c,f=dfe(r),{onFocusableItemAdd:p,onFocusableItemRemove:h}=u;return(0,n.useEffect)((()=>{if(o)return p(),()=>h()}),[o,p,h]),(0,n.createElement)(ufe.ItemSlot,{scope:r,id:c,focusable:o,active:i},(0,n.createElement)(bL.span,(0,ke.A)({tabIndex:d?0:-1,"data-orientation":u.orientation},s,{ref:t,onMouseDown:cL(e.onMouseDown,(e=>{o?u.onItemFocus(c):e.preventDefault()})),onFocus:cL(e.onFocus,(()=>u.onItemFocus(c))),onKeyDown:cL(e.onKeyDown,(e=>{if("Tab"===e.key&&e.shiftKey)return void u.onItemShiftTab();if(e.target!==e.currentTarget)return;const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);return"vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)?void 0:xfe[r]}(e,u.orientation,u.dir);if(void 0!==t){e.preventDefault();let n=f().filter((e=>e.focusable)).map((e=>e.ref.current));if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const r=n.indexOf(e.currentTarget);n=u.loop?function(e,t){return e.map(((n,r)=>e[(t+r)%e.length]))}(n,r+1):n.slice(r+1)}setTimeout((()=>Sfe(n)))}}))})))})),xfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Sfe(e){const t=document.activeElement;for(const n of e){if(n===t)return;if(n.focus(),document.activeElement!==t)return}}const kfe=gfe,Efe=wfe,Ofe="Tabs",[jfe,_fe]=fL(Ofe,[hfe]),Cfe=hfe(),[Tfe,Pfe]=jfe(Ofe),Afe=(0,n.forwardRef)(((e,t)=>{const{__scopeTabs:r,value:o,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=h5(l),[f,p]=bD({prop:o,onChange:i,defaultProp:a});return(0,n.createElement)(Tfe,{scope:r,baseId:WL(),value:f,onValueChange:p,orientation:s,dir:d,activationMode:c},(0,n.createElement)(bL.div,(0,ke.A)({dir:d,"data-orientation":s},u,{ref:t})))})),Nfe="TabsList",Mfe=(0,n.forwardRef)(((e,t)=>{const{__scopeTabs:r,loop:o=!0,...i}=e,a=Pfe(Nfe,r),s=Cfe(r);return(0,n.createElement)(kfe,(0,ke.A)({asChild:!0},s,{orientation:a.orientation,dir:a.dir,loop:o}),(0,n.createElement)(bL.div,(0,ke.A)({role:"tablist","aria-orientation":a.orientation},i,{ref:t})))})),Ife="TabsTrigger",Rfe=(0,n.forwardRef)(((e,t)=>{const{__scopeTabs:r,value:o,disabled:i=!1,...a}=e,s=Pfe(Ife,r),l=Cfe(r),c=Ffe(s.baseId,o),u=zfe(s.baseId,o),d=o===s.value;return(0,n.createElement)(Efe,(0,ke.A)({asChild:!0},l,{focusable:!i,active:d}),(0,n.createElement)(bL.button,(0,ke.A)({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c},a,{ref:t,onMouseDown:cL(e.onMouseDown,(e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(o)})),onKeyDown:cL(e.onKeyDown,(e=>{[" ","Enter"].includes(e.key)&&s.onValueChange(o)})),onFocus:cL(e.onFocus,(()=>{const e="manual"!==s.activationMode;d||i||!e||s.onValueChange(o)}))})))})),Lfe="TabsContent",Dfe=(0,n.forwardRef)(((e,t)=>{const{__scopeTabs:r,value:o,forceMount:i,children:a,...s}=e,l=Pfe(Lfe,r),c=Ffe(l.baseId,o),u=zfe(l.baseId,o),d=o===l.value,f=(0,n.useRef)(d);return(0,n.useEffect)((()=>{const e=requestAnimationFrame((()=>f.current=!1));return()=>cancelAnimationFrame(e)}),[]),(0,n.createElement)(fD,{present:i||d},(({present:r})=>(0,n.createElement)(bL.div,(0,ke.A)({"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!r,id:u,tabIndex:0},s,{ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0}}),r&&a)))}));function Ffe(e,t){return`${e}-trigger-${t}`}function zfe(e,t){return`${e}-content-${t}`}const Bfe=Afe,$fe=Mfe,Ufe=Rfe,Vfe=Dfe;function Hfe(e){return Hfe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hfe(e)}var Wfe=["className"],qfe=["className"],Gfe=["className"];function Kfe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xfe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kfe(Object(n),!0).forEach((function(t){Yfe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kfe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yfe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Hfe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hfe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Hfe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zfe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Jfe=Bfe,Qfe=n.forwardRef((function(e,t){var n=e.className,r=Zfe(e,Wfe);return(0,Ut.jsx)($fe,Xfe({ref:t,className:vr("flex items-center justify-between gap-1 rounded-lg border bg-muted text-muted-foreground",n)},r))}));Qfe.displayName=$fe.displayName;var epe=n.forwardRef((function(e,t){var n=e.className,r=Zfe(e,qfe);return(0,Ut.jsx)(Ufe,Xfe({ref:t,className:vr("inline-flex flex-grow items-center justify-center whitespace-nowrap rounded-lg bg-muted px-1 py-2 text-sm font-medium ring-offset-background transition-all hover:bg-muted-foreground/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n)},r))}));epe.displayName=Ufe.displayName;var tpe=n.forwardRef((function(e,t){var n=e.className,r=Zfe(e,Gfe);return(0,Ut.jsx)(Vfe,Xfe({ref:t,className:vr("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n)},r))}));tpe.displayName=Vfe.displayName;const npe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}));const rpe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}));function ope(e){return ope="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ope(e)}var ipe=["as","className","size","variant","asChild","loading"];function ape(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function spe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ape(Object(n),!0).forEach((function(t){lpe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ape(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lpe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ope(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ope(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ope(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cpe=Pn("font-semibold hover:brightness-90 active:brightness-75 disabled:opacity-50 transition-colors flex cursor-pointer items-center justify-center gap-2 rounded-md border-0 border-none disabled:cursor-default disabled:hover:brightness-100",{variants:{size:{small:"px-4 py-2 text-lg",medium:"px-6 py-3 text-xl",large:"px-8 py-4 text-2xl",smallIcon:"h-8 w-8",xs:"h-7 rounded-sm px-2 gap-1 text-xs",default:"h-10 px-4 py-2"},variant:{primary:"",blend:"dark:hover:bg-white/10 hover:bg-gray-500/10 text-black dark:text-white",themable:"hover:brightness-90 active:brightness-75"}},defaultVariants:{size:"small"}}),upe=n.forwardRef((function(e,t){var n=e.as,r=void 0===n?"button":n,o=e.className,i=e.size,a=e.variant,s=void 0===a?"primary":a,l=e.asChild,c=void 0!==l&&l,u=e.loading,d=void 0!==u&&u,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ipe),p=c?xn:r,h=xh();return(0,Ut.jsxs)(p,spe(spe({className:vr(cpe({size:i,className:o,variant:s})),ref:t},f),{},{style:{backgroundColor:"primary"===s?h.buttonColor:void 0,color:"primary"===s?h.buttonText:void 0},disabled:d||f.disabled,children:[d&&(0,Ut.jsx)(Ar,{color:"inherit",size:12}),f.children]}))}));upe.displayName="Button";const dpe=upe;function fpe(e){var t=e.type,n=e.onClick,r=e.hasCompleted,o=void 0!==r&&r;return"complete"===t?(0,Ut.jsx)(Fr,{className:"text-lesson-bodyColor",variant:"blend",onClick:n,children:ZK(o?"Next":"Start over")}):(0,Ut.jsx)(dpe,{size:"default",variant:"primary",onClick:n,children:ZK("Continue")})}var ppe=function(e){be.setState((function(t){var n=(t.blockStates[e]||{}).hasCompleted||!1;t.blockStates[e]={nodeHistory:[],selected:void 0,hasCompleted:n};var r=t.lessonContent.blocks;Object.keys(r).forEach((function(n){var o=r[n];"parentId"in o&&o.parentId===e&&(t.blockStates[n]={nodeHistory:[],selected:void 0})}))}))},hpe=function(e){be.setState((function(t){t.blockStates[e]=void 0}))};function mpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||gpe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vpe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=gpe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function gpe(e,t){if(e){if("string"==typeof e)return ype(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ype(e,t):void 0}}function ype(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bpe=function(e){var t,n=e.pageNarrations,r=e.tileNarration,o=e.itemId;if(!o)return-1;if(null==r||null===(t=r.narrationMap)||void 0===t||null===(t=t[o])||void 0===t||null===(t=t.narration)||void 0===t||!t.audioUrl||!n)return-1;var i=r.narrationMap[o].narration.audioUrl;return n.findIndex((function(e){return e.audioUrl===i}))},wpe=function(e){var t,n=e.tileNarration,r=e.itemId,o=e.pageNarrations,i=e.delay,a=void 0===i?0:i;if("auto"===(null==n?void 0:n.mode)&&null!=n&&null!==(t=n.narrationMap)&&void 0!==t&&null!==(t=t[r])&&void 0!==t&&null!==(t=t.narration)&&void 0!==t&&t.audioUrl){var s=bpe({pageNarrations:o,tileNarration:n,itemId:r});if(-1===s)return;setTimeout((function(){be.setState({currentNarrationIndex:s,currentNarrationIsPlaying:!0})}),a)}},xpe=function(e){var t,n,r=e.nodeId,o=e.pageNarrations,i=e.delay,a=void 0===i?0:i;if(o){var s=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.blocks[r],l=null==s||null===(n=s.narration)||void 0===n||null===(n=n.narration)||void 0===n?void 0:n.audioUrl,c=o.findIndex((function(e){return e.audioUrl===l}));-1!==c&&setTimeout((function(){be.setState({currentNarrationIndex:c,currentNarrationIsPlaying:!0})}),a)}},Spe=function(e){var t=e.pageNarrations,n=e.tileNarration,r=e.itemId,o=e.currentNarrationIndex,i=bpe({pageNarrations:t,tileNarration:n,itemId:r});return null!==o&&(i===o||i===o+1)};function kpe(e,t,n){var r,o=t.narration;if(null===e)return!1;if(null==o||null===(r=o.narration)||void 0===r||!r.audioUrl||!n)return!1;var i=n.findIndex((function(e){return e.audioUrl===o.narration.audioUrl}));return-1!==i&&e-1===i}var Epe={tabsTile:function(e,t,n){var r=t.narration,o=t.data,i=bpe({pageNarrations:n,tileNarration:r,itemId:o.items[o.items.length-1].id});return null!==e&&(e-=1,!(o.items.length>0&&i===e)&&o.items.some((function(t){return bpe({pageNarrations:n,tileNarration:r,itemId:t.id})===e})))},flashcardsTile:function(e,t,n){var r=t.narration,o=t.data;return null!==e&&(e-=1,o.items.some((function(t){return bpe({pageNarrations:n,tileNarration:r,itemId:"".concat(t.id,"-front")})===e})))},accordionTile:function(e,t,n){var r=t.narration,o=t.data;return null!==e&&o.items.some((function(t){return bpe({pageNarrations:n,tileNarration:r,itemId:t.id})===e}))},hotButtonTile:function(e,t,n){var r,o=t.narration,i=t.data;return null!==e&&(e===bpe({pageNarrations:n,tileNarration:o,itemId:null===(r=i.items[0])||void 0===r?void 0:r.id})-1||bpe({pageNarrations:n,tileNarration:o,itemId:i.items[i.items.length-1].id})===e-1)},processTile:function(e,t,n){var r,o=t.narration,i=t.data;if(null===e)return!1;e-=1;var a=bpe({pageNarrations:n,tileNarration:o,itemId:null===(r=i.outro)||void 0===r?void 0:r.id}),s=bpe({pageNarrations:n,tileNarration:o,itemId:i.elements[i.elements.length-1].id});if(i.hasOutro&&a===e||i.elements.length>0&&s===e)return!1;if(i.hasIntro&&i.intro&&bpe({pageNarrations:n,tileNarration:o,itemId:i.intro.id})===e)return!0;var l,c=vpe(i.elements);try{for(c.s();!(l=c.n()).done;){var u=l.value;if(bpe({pageNarrations:n,tileNarration:o,itemId:u.id})===e)return!0}}catch(e){c.e(e)}finally{c.f()}return!1},questionTile:function(e,t,n){return kpe(e,t,n)},sortingTile:function(e,t,n){return kpe(e,t,n)},matchingTile:function(e,t,n){return kpe(e,t,n)},experienceTile:function(e,t,n){var r,o=t.data;if(null===e||!n)return!1;if(!("root"in o)||!o.root)return!1;var i=null===(r=be.getState().lessonContent)||void 0===r?void 0:r.blocks;if(!i)return!1;for(var a=null,s=0,l=Object.entries(i);s<l.length;s++){var c=mpe(l[s],2),u=c[0],d=c[1];if("experienceTile"===d.type&&"root"in d.data&&d.data.root.id===o.root.id){a=u;break}}if(!a)return!1;var f,p=function(e){var t,n,r=[];return null!==(t=e.narration)&&void 0!==t&&null!==(t=t.narration)&&void 0!==t&&t.audioUrl&&r.push(e.narration.narration.audioUrl),null!==(n=e.narration)&&void 0!==n&&n.narrationMap&&Object.values(e.narration.narrationMap).forEach((function(e){var t;null!==(t=e.narration)&&void 0!==t&&t.audioUrl&&r.push(e.narration.audioUrl)})),r},h=Object.keys(i).filter((function(e){var t=i[e],n=p(t).length>0;return"parentId"in t&&t.parentId===a&&n||e===o.root.id})),m=vpe(h);try{for(m.s();!(f=m.n()).done;){var v=f.value,g=i[v],y=p(g);if(!v.startsWith("completed")){var b,w=vpe(y);try{var x,S=function(){var t=b.value,r=n.findIndex((function(e){return e.audioUrl===t}));if(-1!==r&&e-1===r)return{v:!0}};for(w.s();!(b=w.n()).done;)if(x=S())return x.v}catch(e){w.e(e)}finally{w.f()}}}}catch(e){m.e(e)}finally{m.f()}return!1}};function Ope(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Cpe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function jpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Cpe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _pe(e){return function(e){if(Array.isArray(e))return Tpe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Cpe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cpe(e,t){if(e){if("string"==typeof e)return Tpe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tpe(e,t):void 0}}function Tpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Ppe=function(e){var t,n=e.blockContent,r=e.setNodeHistory,o=e.nodeHistory,i=e.rootId,a=e.setShowModalId,s=(L4().enqueueSnackbar,Gpe(Ape(i)).narrations),l=be((function(e){return e.blockStates[n.parentId]})),c=(null==l?void 0:l.hasCompleted)||!1;return(0,Ut.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-2 rounded-lg bg-lesson-pageColor p-4 shadow-md",children:[(0,Ut.jsx)("div",{className:"text-center",children:(0,Ut.jsx)(GY,{editable:!1,className:"text-center",value:n.data.text,onChange:function(e){}})}),(0,Ut.jsx)(fpe,{onClick:function(){var e,t,l,c;if("node"===(null===(e=n.data.next)||void 0===e?void 0:e.type)){var u=n.data.next.id;if(u){var d;hpe(u),xpe({nodeId:u,pageNarrations:s});var f=null===(d=be.getState().lessonContent)||void 0===d?void 0:d.blocks[u];"modalNode"===(null==f?void 0:f.type)?a(u):r([].concat(_pe(o),[u]))}else ppe(n.parentId),r([])}"restart"!==(null===(t=n.data.next)||void 0===t?void 0:t.type)&&"complete"!==(null===(l=n.data.next)||void 0===l?void 0:l.type)||(ppe(n.parentId),r([]),"complete"===(null===(c=n.data.next)||void 0===c?void 0:c.type)&&be.setState((function(e){e.blockStates[n.parentId]&&(e.blockStates[n.parentId].hasCompleted=!0)})),xpe({nodeId:i,pageNarrations:s}))},type:null===(t=n.data.next)||void 0===t?void 0:t.type,hasCompleted:c})]})},Ape=function(e){for(var t=be.getState().lessonContent,n=null,r=0,o=Object.entries(t.blocks);r<o.length;r++){var i=jpe(o[r],2),a=i[0],s=i[1];if("experienceTile"===s.type&&"root"in s.data&&s.data.root.id===e){n=a;break}}if(!n)return e;var l,c=Ope(t.blockOrder);try{for(c.s();!(l=c.n()).done;){var u=l.value,d=t.blocks[u];if(d&&"tiledLayout"===d.type){var f,p=Ope(d.layout.rows);try{for(p.s();!(f=p.n()).done;){var h,m=Ope(f.value.tiles);try{for(m.s();!(h=m.n()).done;){if(h.value.tileId===n)return u}}catch(e){m.e(e)}finally{m.f()}}}catch(e){p.e(e)}finally{p.f()}}}}catch(e){c.e(e)}finally{c.f()}return n};function Npe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ipe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mpe(e){return function(e){if(Array.isArray(e))return Rpe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ipe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ipe(e,t){if(e){if("string"==typeof e)return Rpe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rpe(e,t):void 0}}function Rpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lpe(e,t,n){var r,o,i,a=(null==t||null===(r=t.narration)||void 0===r?void 0:r.mode)||"manual",s="tiledLayout"===(null==t?void 0:t.type)&&"manual"!==a?function(e,t){var n=e.layout.rows.map((function(e){return e.tiles.map((function(e){var n,r,o=null==t?void 0:t[e.tileId];if(o&&"none"!==(null==o||null===(n=o.narration)||void 0===n?void 0:n.mode))return null===(r=o.narration)||void 0===r?void 0:r.narration}))})).flat(),r=n.filter((function(e){return void 0!==e}));return 0===r.length?void 0:r}(t,n):void 0,l={text:"",audioUrl:"https://storage.googleapis.com/mindsmith/uploads%2F3360563b-353a-4840-8bb5-1ae3244c03d5%2Fnarration.mp3",voiceName:"alloy",lengthMs:1032},c=null==s?void 0:s.reduce((function(e,t,n){return 0===n?[t]:[].concat(Mpe(e),[l,t])}),[]).filter((function(e){return e}));if("none"!==a){if("tiledLayout"===(null==t?void 0:t.type)&&"manual"!==a)return c;var u;if(null!=t&&null!==(o=t.narration)&&void 0!==o&&null!==(o=o.narration)&&void 0!==o&&o.audioUrl)return[null==t||null===(u=t.narration)||void 0===u?void 0:u.narration];var d=null===(i=be.getState().lessonContent)||void 0===i?void 0:i.narrationMap,f=null==d?void 0:d[e];if(null!=f&&f.audioUrl)return[{}]}}function Dpe(e){var t,n=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e]})),r=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks})),o=Lpe(e,n,r);return"none"===(null==n||null===(t=n.narration)||void 0===t?void 0:t.mode)&&(o=void 0),{narrations:o}}function Fpe(e,t,r){var o,i=(0,n.useRef)([]),a=Npe((0,n.useState)(0),2),s=a[0],l=a[1],c=Npe((0,n.useState)(0),2),u=c[0],d=c[1],f=be((function(e){return e.currentNarrationIndex}))||0,p=null==e?void 0:e.reduce((function(e,t){return e+t.lengthMs/1e3}),0),h=be((function(e){return e.currentNarrationIsPlaying})),m=function(e){l(e),be.setState({currentNarrationIndex:e})};i.current=i.current.filter((function(e){return null!==e}));var v=null!==(o=null==e?void 0:e.map((function(t,n){return null==e?void 0:e.slice(0,n+1).reduce((function(e,t){return e+t.lengthMs/1e3}),0)})))&&void 0!==o?o:[],g=(0,n.useRef)(void 0);(0,n.useEffect)((function(){var t=g.current;FV()(t,e)||(g.current=e,m(0),d(0))}),[e]),(0,n.useEffect)((function(){var e;null===(e=i.current[s])||void 0===e||e.pause();var t=i.current[s];t&&(t.currentTime=0),m(f),b(f),y(f)}),[f]),(0,n.useEffect)((function(){var e;h?y(f):null===(e=i.current[f])||void 0===e||e.pause()}),[h]);var y=function(e){if(i.current[e]){i.current.forEach((function(t,n){n!==e&&(null==t||t.pause())})),r&&(i.current[e].playbackRate=r);try{i.current[e].play()}catch(e){t&&t()}}},b=function(t){if(e&&0!==e.length){var n=i.current[t];if(n&&p){var r=t>0?v[t-1]:0,o=(null!=r?r:0)+n.currentTime;d(o/p)}}};(0,n.useEffect)((function(){var t=i.current[s];if(t){t.onended=function(){s===e.length-1&&be.setState({currentNarrationIsPlaying:!1}),function(t){t<e.length-1?(m(t+1),y(t+1)):(m(0),d(0),i.current.forEach((function(e){e.currentTime=0})))}(s)};var n=setInterval((function(){return b(s)}),30);return function(){clearInterval(n)}}}),[s,e]),(0,n.useEffect)((function(){r&&i.current[s]&&(i.current[s].playbackRate=r)}),[s,r]);var w=function(){return i.current.every((function(e){return null==e?void 0:e.paused}))};return{progress:u,togglePlayPause:function(){if(w()){if(-1===s)return;y(s),be.setState({currentNarrationIsPlaying:!0})}else{var e;null===(e=i.current[s])||void 0===e||e.pause(),be.setState({currentNarrationIsPlaying:!1})}},audioRefs:i,isPaused:w,playAudio:function(){y(s)}}}function zpe(e){var t=e.narrations,n=e.audioRefs,r={mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",m4a:"audio/x-m4a",mp4:"audio/mp4"};return(0,Ut.jsx)(Ut.Fragment,{children:null==t?void 0:t.map((function(e,t){return(0,Ut.jsxs)("audio",{ref:function(e){return n.current[t]=e},children:[(0,Ut.jsx)("source",{src:e.audioUrl,type:(o=e.audioUrl,a=null==o||null===(i=o.split(".").pop())||void 0===i?void 0:i.toLowerCase(),r[a]||"audio/mpeg")}),"Your browser does not support the audio element."]},t+e.audioUrl);var o,i,a}))})}var Bpe=function(e,t){var r=Ape(e||""),o=Dpe(e||"").narrations,i=Gpe(r).narrations,a=null!=i&&i.length?[]:o,s=function(e,t,r){var o,i=(0,n.useRef)([]),a=Npe((0,n.useState)(0),2),s=a[0],l=a[1],c=Npe((0,n.useState)(0),2),u=c[0],d=c[1],f=null==e?void 0:e.reduce((function(e,t){return e+t.lengthMs/1e3}),0);i.current=i.current.filter((function(e){return null!==e}));var p=null!==(o=null==e?void 0:e.map((function(t,n){return null==e?void 0:e.slice(0,n+1).reduce((function(e,t){return e+t.lengthMs/1e3}),0)})))&&void 0!==o?o:[],h=(0,n.useRef)(void 0);(0,n.useEffect)((function(){var t=h.current;FV()(t,e)||(h.current=e,l(0),d(0))}),[e]);var m=function(e){i.current[e]&&(i.current.forEach((function(t,n){n!==e&&(null==t||t.pause())})),r&&(i.current[e].playbackRate=r),i.current[e].play().catch((function(e){t&&t()})))},v=function(t){t<e.length-1?(l(t+1),m(t+1)):(l(0),d(0),i.current.forEach((function(e){e.currentTime=0})))},g=function(){if(e&&0!==e.length){var t=i.current[s];if(t&&f){var n=s>0?p[s-1]:0,r=(null!=n?n:0)+t.currentTime;d(r/f)}}};(0,n.useEffect)((function(){var e=i.current[s];if(e){e.onended=function(){return v(s)};var t=setInterval(g,30);return function(){clearInterval(t)}}}),[s,e]),(0,n.useEffect)((function(){r&&i.current[s]&&(i.current[s].playbackRate=r)}),[s,r]);var y=function(){return i.current.every((function(e){return null==e?void 0:e.paused}))},b=function(){var e;y()?m(s):null===(e=i.current[s])||void 0===e||e.pause()},w=function(){m(s)};return{progress:u,togglePlayPause:b,audioRefs:i,isPaused:y,playAudio:w}}([]),l=s.audioRefs,c=s.playAudio,u=(0,n.useRef)(e);return(0,n.useEffect)((function(){null!=i&&i.length||(e&&e!==u.current&&t===dh.VIEW&&c(),u.current=e)}),[e,c,t]),{narrations:a,audioRefs:l}};function $pe(e){return function(e){if(Array.isArray(e))return Wpe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hpe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Upe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hpe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Vpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Hpe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hpe(e,t){if(e){if("string"==typeof e)return Wpe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wpe(e,t):void 0}}function Wpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qpe(e){var t=Vpe((0,n.useState)(1),2),r=t[0],o=t[1],i=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.narrationAutoplay})),a=Vpe((0,n.useState)(i),2),s=a[0],l=a[1],c=be((function(e){return e.selectedBlockId})),u=Vpe((0,n.useState)(!1),2),d=u[0],f=u[1],p=(0,n.useRef)(null),h=(0,n.useRef)(null),m=Dpe(c).narrations,v=Gpe(c).narrations,g=v||m,y=Fpe(g,(function(){p.current&&!d&&(f(!0),N(!0),setTimeout((function(){l(!0)}),1))}),r),b=y.progress,w=y.togglePlayPause,x=y.audioRefs,S=y.isPaused,k=y.playAudio,E=be((function(e){return e.selectedBlockId})),O=xh(),j=O.buttonColor,_=O.buttonText,C=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),T=(null==C?void 0:C.showPoweredByMindsmith)&&!e.newPositioning?"w-10":"w-14",P=Vpe((0,n.useState)(!1),2),A=P[0],N=P[1];(0,n.useEffect)((function(){s&&setTimeout((function(){k()}),100)}),[c]);var M=S()?npe:rpe,I=bn(),R=Vpe((0,n.useState)(!1),2),L=R[0],D=R[1];if(!g)return null;if(Sp.includes(E))return null;var F=null==g?void 0:g.map((function(e){return e.text})).join(" ");return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(MJ,{open:L,onOpenChange:function(e){D(e)},"aria-labelledby":"narration-dialog-title",children:(0,Ut.jsxs)(DJ,{bodyScroll:!0,onOpenAutoFocus:function(e){e.preventDefault()},children:[(0,Ut.jsx)(FJ,{children:(0,Ut.jsx)(BJ,{id:"narration-dialog-title",children:ZK("Narration")})}),(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)(Jfe,{value:r.toString(),onValueChange:function(e){o(parseFloat(e))},className:"w-full",children:(0,Ut.jsxs)(Qfe,{children:[(0,Ut.jsx)(epe,{value:"0.75",children:"0.75x"}),(0,Ut.jsx)(epe,{value:"1",children:"1x"}),(0,Ut.jsx)(epe,{value:"1.25",children:"1.25x"}),(0,Ut.jsx)(epe,{value:"1.5",children:"1.5x"}),(0,Ut.jsx)(epe,{value:"2",children:"2.0x"})]})})}),(0,Ut.jsx)(Xpe,{text:F})]})]})}),(0,Ut.jsx)(NV,{children:(0,Ut.jsxs)(MV,{open:A,delayDuration:200,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsxs)("div",{onClick:function(){N(!1)},className:"relative flex h-full overflow-hidden rounded-md",children:[(0,Ut.jsx)("div",{style:{backgroundColor:j},className:"absolute bottom-0 left-0 right-0 top-0 z-10 ",children:(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 top-0 z-10 opacity-20",style:{width:v?"0%":"".concat(100*b,"%"),backgroundColor:_}})}),(0,Ut.jsx)("button",{ref:h,onClick:function(){d||(f(!0),setTimeout((function(){l(!0)}),1)),w(),S()?l(!1):l(!0)},disabled:!g,style:{color:_},className:"z-10 flex cursor-pointer items-center justify-center border-none bg-transparent px-2 py-2 transition-all hover:opacity-80 active:opacity-70 disabled:opacity-50 sm:w-14 ".concat(T),children:(0,Ut.jsx)(M,{className:"h-6 w-6 stroke-[2px]"})}),(0,Ut.jsx)("div",{className:"pointer-events-none absolute bottom-0 left-0 right-0 top-0 flex h-full items-stretch justify-center py-2 transition-all",children:(0,Ut.jsx)("div",{style:{backgroundColor:_},className:"w-[1px]"})}),(0,Ut.jsx)(zpe,{narrations:g,audioRefs:x}),(0,Ut.jsx)("button",{"aria-label":ZK("Narration"),ref:p,onClick:function(e){D(!0)},style:{color:_},className:"z-10 flex h-10 cursor-pointer items-center justify-center border-none bg-transparent px-2 py-2 transition-all hover:opacity-80 active:opacity-70 sm:w-14 ".concat(T),children:(0,Ut.jsx)(OE,{className:"h-6 w-6 stroke-[2px]"})})]})}),(0,Ut.jsx)(RV,{sideOffset:10,className:"max-w-sm",side:e.newPositioning||!I?"right":"top",children:ZK("Press to control narration")})]})})]})}function Gpe(e){var t,r,o=Vpe((0,n.useState)(void 0),2),i=o[0],a=o[1],s=be(),l=null===(t=s.lessonContent)||void 0===t?void 0:t.blocks,c=s.lessonId,u={text:"",audioUrl:"https://storage.googleapis.com/mindsmith/uploads%2F3360563b-353a-4840-8bb5-1ae3244c03d5%2Fnarration.mp3",voiceName:"alloy",lengthMs:1032};return(0,n.useEffect)((function(){!function(){var t;if(l&&e){var n=l[e];if(n)if("auto"===((null==n||null===(t=n.narration)||void 0===t?void 0:t.mode)||"manual"))if("tiledLayout"!==n.type);else{var r=n.layout.rows.flatMap((function(e){return e.tiles})).map((function(e){var t,n=l[e.tileId];if(n&&"auto"===(null===(t=n.narration)||void 0===t?void 0:t.mode))return function(e,t){var n,r,o=[];if(null!==(n=e.narration)&&void 0!==n&&null!==(n=n.narration)&&void 0!==n&&n.audioUrl){var i=e.narration.narration;o.push({text:i.text,audioUrl:i.audioUrl,voiceName:i.voiceName||null,lengthMs:i.lengthMs||0})}if("experienceTile"===e.type&&"root"in e.data&&l){var a=Kpe(t,l);o.push.apply(o,a)}if("processTile"===e.type){var s,c,u=e.data;if(u.hasIntro&&null!==(s=e.narration)&&void 0!==s&&null!==(s=s.narrationMap)&&void 0!==s&&null!==(s=s[u.intro.id])&&void 0!==s&&null!==(s=s.narration)&&void 0!==s&&s.audioUrl){var d=e.narration.narrationMap[u.intro.id].narration;d&&o.push({text:d.text,audioUrl:d.audioUrl,voiceName:d.voiceName||null,lengthMs:d.lengthMs||0})}var f,p=Upe(u.elements);try{for(p.s();!(f=p.n()).done;){var h,m=f.value,v=null===(h=e.narration)||void 0===h||null===(h=h.narrationMap)||void 0===h||null===(h=h[m.id])||void 0===h?void 0:h.narration;null!=v&&v.audioUrl&&o.push({text:v.text,audioUrl:v.audioUrl,voiceName:v.voiceName||null,lengthMs:v.lengthMs||0})}}catch(e){p.e(e)}finally{p.f()}if(u.hasOutro&&null!==(c=e.narration)&&void 0!==c&&null!==(c=c.narrationMap)&&void 0!==c&&null!==(c=c[u.outro.id])&&void 0!==c&&null!==(c=c.narration)&&void 0!==c&&c.audioUrl){var g=e.narration.narrationMap[u.outro.id].narration;g&&o.push({text:g.text,audioUrl:g.audioUrl,voiceName:g.voiceName||null,lengthMs:g.lengthMs||0})}return o}if("flashcardsTile"===e.type){var y,b=Upe(e.data.items);try{for(b.s();!(y=b.n()).done;){var w,x,S=y.value,k=null===(w=e.narration)||void 0===w||null===(w=w.narrationMap)||void 0===w||null===(w=w["".concat(S.id,"-front")])||void 0===w?void 0:w.narration;null!=k&&k.audioUrl&&o.push({text:k.text,audioUrl:k.audioUrl,voiceName:k.voiceName||null,lengthMs:k.lengthMs||0});var E=null===(x=e.narration)||void 0===x||null===(x=x.narrationMap)||void 0===x||null===(x=x["".concat(S.id,"-back")])||void 0===x?void 0:x.narration;null!=E&&E.audioUrl&&o.push({text:E.text,audioUrl:E.audioUrl,voiceName:E.voiceName||null,lengthMs:E.lengthMs||0})}}catch(e){b.e(e)}finally{b.f()}return o}var O="tabsTile"===e.type||"accordionTile"===e.type||"listTile"===e.type||"hotButtonTile"===e.type;if(null!==(r=e.narration)&&void 0!==r&&r.narrationMap&&O){var j,_=e.data.items,C=Upe(_);try{for(C.s();!(j=C.n()).done;){var T,P=j.value,A=null===(T=e.narration.narrationMap[P.id])||void 0===T?void 0:T.narration;null!=A&&A.audioUrl&&o.push({text:A.text,audioUrl:A.audioUrl,voiceName:A.voiceName||null,lengthMs:A.lengthMs||0})}}catch(e){C.e(e)}finally{C.f()}Object.entries(e.narration.narrationMap).forEach((function(e){var t=Vpe(e,2),n=t[0],r=t[1].narration;null!=r&&r.audioUrl&&!_.some((function(e){return e.id===n}))&&o.push({text:r.text,audioUrl:r.audioUrl,voiceName:r.voiceName||null,lengthMs:r.lengthMs||0})}))}return o}(n,e.tileId)})).filter((function(e){return Boolean(e)})).flat(),o=r.reduce((function(e,t,n){return 0===n?[t]:[].concat($pe(e),[u,t])}),[]);a(o)}else a(void 0);else a(void 0)}else a(void 0)}()}),[e,l,c,null===(r=s.lessonContent)||void 0===r?void 0:r.narrationMap]),{narrations:i}}var Kpe=function(e,t){var n=[],r=null,o=t[e];if("experienceTile"===(null==o?void 0:o.type)&&"root"in o.data){var i,a,s=t[o.data.root.id];if("dialogueNode"===(null==s?void 0:s.type)&&null!==(i=s.narration)&&void 0!==i&&i.narrationMap){var l,c=null===(l=s.narration.narrationMap.text)||void 0===l?void 0:l.narration;null!=c&&c.audioUrl&&n.push({text:c.text,audioUrl:c.audioUrl,voiceName:c.voiceName||null,lengthMs:c.lengthMs||0}),Object.entries(s.narration.narrationMap).forEach((function(e){var t=Vpe(e,2),r=t[0],o=t[1];if("text"!==r&&r.endsWith("-feedback")){var i=o.narration;null!=i&&i.audioUrl&&n.push({text:i.text,audioUrl:i.audioUrl,voiceName:i.voiceName||null,lengthMs:i.lengthMs||0})}}))}else if(null!=s&&null!==(a=s.narration)&&void 0!==a&&null!==(a=a.narration)&&void 0!==a&&a.audioUrl){var u=s.narration.narration;n.push({text:u.text,audioUrl:u.audioUrl,voiceName:u.voiceName||null,lengthMs:u.lengthMs||0})}}return Object.entries(t).filter((function(t){var n=Vpe(t,2),r=n[0],i=n[1];return"parentId"in i&&i.parentId===e&&Ep.includes(i.type)&&(!(null!=o&&o.type)||!("root"in o.data)||r!==o.data.root.id)})).forEach((function(e){var t,o,i=Vpe(e,2),a=i[0],s=i[1];if("dialogueNode"===s.type&&null!==(t=s.narration)&&void 0!==t&&t.narrationMap){var l,c=null===(l=s.narration.narrationMap.text)||void 0===l?void 0:l.narration;null!=c&&c.audioUrl&&n.push({text:c.text,audioUrl:c.audioUrl,voiceName:c.voiceName||null,lengthMs:c.lengthMs||0}),Object.entries(s.narration.narrationMap).forEach((function(e){var t=Vpe(e,2),r=t[0],o=t[1];if("text"!==r&&r.endsWith("-feedback")){var i=o.narration;null!=i&&i.audioUrl&&n.push({text:i.text,audioUrl:i.audioUrl,voiceName:i.voiceName||null,lengthMs:i.lengthMs||0})}}))}else if(null!==(o=s.narration)&&void 0!==o&&null!==(o=o.narration)&&void 0!==o&&o.audioUrl){var u=s.narration.narration,d={text:u.text,audioUrl:u.audioUrl,voiceName:u.voiceName||null,lengthMs:u.lengthMs||0};a.startsWith("completed")?r=d:n.push(d)}})),r&&n.push(r),n},Xpe=function(e){var t=e.text,r=Vpe((0,n.useState)(!1),2),o=r[0],i=r[1],a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return{truncated:"",hasMore:!1};var n=e.split(/(?<=[.!?])\s+/);return n.length<=t?{truncated:e,hasMore:!1}:{truncated:n.slice(0,t).join(" "),hasMore:!0}}(t),s=a.truncated,l=a.hasMore;return l?(0,Ut.jsxs)("div",{className:"pt-4",children:[(0,Ut.jsx)("div",{children:o?t:s}),l&&(0,Ut.jsx)(Fr,{variant:"link",size:"sm",onClick:function(){return i(!o)},className:"mt-2 h-auto p-0 text-sm",children:ZK(o?"Show Less":"Show More")})]}):(0,Ut.jsx)("div",{className:"pt-4",children:t})};const Ype=function(e,t,r){var o=be((function(e){return e.currentNarrationIndex})),i=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n?void 0:n.blocks[t]})),a=Gpe(e).narrations;(0,n.useEffect)((function(){null!==o&&i&&Epe[r]&&Epe[r](o,i,a)&&be.setState((function(e){e.currentNarrationIsPlaying=!1}))}),[o,i,a,r])};function Zpe(e){return Zpe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zpe(e)}function Jpe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qpe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qpe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qpe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ehe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function the(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ehe(Object(n),!0).forEach((function(t){nhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ehe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nhe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Zpe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zpe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zpe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rhe=function(e){var t,r,o=e.tileId,i=(e.onDelete,e.parentId),a=e.mode,s=(e.presentational,e.preview),l=a===dh.PRINT,c=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t||null===(t=t.settings)||void 0===t?void 0:t.entranceAnimations})),u=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[o]}));Ype(i,o,null==u?void 0:u.type);var d=be((function(e){return e.currentNarrationIndex})),f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t||null===(t=t.blocks[o])||void 0===t?void 0:t.narration})),p=Gpe(i).narrations,h=null!==(t=null==p?void 0:p.findIndex((function(e){var t;return e.audioUrl===(null==f||null===(t=f.narration)||void 0===t?void 0:t.audioUrl)})))&&void 0!==t?t:-1,m=function(){return null!==d&&(h===d||h===d+1)};(0,n.useEffect)((function(){if(a===dh.VIEW&&"auto"===(null==f?void 0:f.mode)){var e,t=m()&&(null==f||null===(e=f.narration)||void 0===e?void 0:e.audioUrl),n=function(e,t,n){var r,o=null===(r=be.getState().lessonContent)||void 0===r?void 0:r.blocks[e];if(!o||!t||!n)return!1;var i=o.type;return!!Epe[i]&&Epe[i](t+1,o,n)}(o,d,p);if(t||n){if(0===d)return;var r=document.querySelector('[data-tile-id="'.concat(o,'"]'));if(r){var i=r.getBoundingClientRect();i.top>=0&&i.bottom<=window.innerHeight||function(e){var t=document.querySelector(".slide-container")||document.querySelector(".swiper-container"),n=document.querySelector('[data-tile-id="'.concat(e,'"]'));n&&t&&n.scrollIntoView({behavior:"smooth",block:"end"})}(o)}}}}),[d,a,o,f]);var v=!(!c||a!==dh.VIEW),g=xh().buttonColor,y=be((function(e){return e.selectedTileId===o})),b=Th((function(e){return!!e.resizingImage})),w="transparent";y&&a===dh.VIEW&&"comments"===Th.getState().contextMode&&(w=g),b&&(w="transparent");var x=function(e){var t=Jpe((0,n.useState)(!1),2),r=t[0],o=t[1],i=(0,n.useRef)(null);return(0,n.useEffect)((function(){if(e&&i.current){var t=i.current.getBoundingClientRect().height,n=t<150?"-".concat(t,"px"):"-150px",r=new IntersectionObserver((function(e){var t=Jpe(e,1)[0];o(t.isIntersecting)}),{root:null,rootMargin:n}),a=i.current;return a&&r.observe(a),function(){r.disconnect()}}}),[e]),{isInView:r,ref:i}}(v),S=x.isInView,k=x.ref,E=rfe(o,i),O=E.tileIndex,j=E.totalTilesInRow,_=be((function(e){return e.blocksViewedMap[o]}));(0,n.useEffect)((function(){v&&S&&!_&&be.setState((function(e){e.blocksViewedMap[o]=!0}))}),[o,S,_]);var C={opacity:0,x:0,y:25,rotate:0},T={opacity:1,x:0,y:0,rotate:0},P={duration:.4,delay:j<3?0:.35*(O+1)*.18,type:"keyframes"},A=a==dh.THUMBNAIL?"div":nfe.div;return(0,Ut.jsx)(A,the(the({},v&&{initial:_?T:C,animate:_?T:C,transition:P}),{},{ref:k,"data-tile-id":o,className:"relative h-full",children:(0,Ut.jsxs)("div",{onClick:function(e){var t;a===dh.EDIT||"comments"===Th.getState().contextMode?(be.setState({selectedTileId:o}),e.stopPropagation()):-1!==h&&a===dh.VIEW&&"auto"===(null==f?void 0:f.mode)&&null!=f&&null!==(t=f.narration)&&void 0!==t&&t.audioUrl&&be.setState({currentNarrationIndex:h,currentNarrationIsPlaying:!0})},style:{borderColor:w},className:vr("relative h-full min-h-[20px] rounded-[14px] border-transparent transition-colors",!y&&a===dh.EDIT&&"hover:bg-[var(--text-10-color)]",a===dh.VIEW&&"border-2",a===dh.VIEW&&"auto"===(null==f?void 0:f.mode)&&(null==f||null===(r=f.narration)||void 0===r?void 0:r.audioUrl)&&"hover:bg-[var(--text-10-color)]"),children:[a===dh.VIEW&&m()&&(0,Ut.jsx)("div",{className:"absolute left-2 top-2 z-20",children:(0,Ut.jsx)(ife,{showPulse:!be.getState().currentNarrationIsPlaying})}),(0,Ut.jsx)(qoe,{parentId:i,printMode:l,id:o,mode:a,preview:s})]})}))};var ohe=["MANAGER"],ihe=function(e,t){var n,r;if((r=t)&&ohe.includes(r))return!1;var o=null===(n=e.profile)||void 0===n?void 0:n.role;return!!o&&ohe.includes(o)},ahe=o(4498),she=o.n(ahe),lhe=function(e){var t=e,n=she()[t];return{gradientStart:n[800],gradientEnd:n[700]}};function che(e){return che="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},che(e)}var uhe=["startColor","endColor","id"];function dhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dhe(Object(n),!0).forEach((function(t){phe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function phe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=che(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=che(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==che(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hhe=function(e){var t=e.startColor,n=e.endColor,r=e.id,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,uhe);return(0,Ut.jsxs)("svg",fhe(fhe({width:"27",height:"27",viewBox:"0 0 27 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o),{},{children:[(0,Ut.jsx)("path",{d:"M0.391407 3.21084L7.76105 25.3198C8.27823 26.8713 10.2474 27.3361 11.4038 26.1797L26.1431 11.4404C27.2995 10.284 26.8347 8.31485 25.2831 7.79767L3.17421 0.42803C1.45434 -0.145257 -0.181883 1.49097 0.391407 3.21084Z",fill:"url(#gradient-".concat(r,")"),stroke:"white",strokeWidth:1}),(0,Ut.jsx)("defs",{children:(0,Ut.jsxs)("linearGradient",{id:"gradient-".concat(r),x1:"28.6602",y1:"-0.963373",x2:"-0.999994",y2:"28.6968",gradientUnits:"userSpaceOnUse",children:[(0,Ut.jsx)("stop",{stopColor:t}),(0,Ut.jsx)("stop",{offset:"1",stopColor:n})]})})]}))},mhe=function(e){var t,n,r,o,i=e.blockId,a=(t=i,r=(0,L7.useSession)().data,o=null==r||null===(n=r.user)||void 0===n?void 0:n.role,be((function(e){var n,r,i=null===(n=e.realtimeConnection)||void 0===n?void 0:n.lessonSession;if(!i)return null;var a=null===(r=e.realtimeConnection)||void 0===r?void 0:r.clientId;return a?Object.values(i.members).filter((function(e){return e.clientId!==a})).filter((function(e){return!ihe(e,o)})).filter((function(e){return e.presence.selectedBlockId===t&&e.position})):null})));return(0,Ut.jsx)("div",{className:"pointer-events-none absolute left-0 top-0 z-[100] h-full w-full",children:null==a?void 0:a.map((function(e){var t=e.profile;if(!t)return null;var n=lhe(t.color.name),r=n.gradientStart,o=n.gradientEnd;return(0,Ut.jsxs)("div",{style:{position:"absolute",top:"".concat(e.position.y,"%"),left:"".concat(e.position.x,"%"),transitionDuration:"20ms"},className:"transition-all",children:[(0,Ut.jsx)(hhe,{startColor:r,endColor:o,id:e.clientId}),t.name&&(0,Ut.jsx)("p",{style:{background:"linear-gradient(".concat(r,", ").concat(o,")")},className:"absolute mt-2 max-w-[120px] truncate rounded-xl border border-white bg-gradient-to-b px-3 py-1.5 text-sm text-white transition-all",children:t.name.split(" ")[0]})]},e.clientId)}))})};function vhe(e){return vhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vhe(e)}function ghe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yhe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yhe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function whe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bhe(Object(n),!0).forEach((function(t){xhe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xhe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=vhe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vhe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vhe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const She=function(e,t){var n=be.getState();if(n.lessonContent){var r=n.lessonContent.blocks[e].layout,o=(0,$p.cloneDeep)(r),i=(0,$p.cloneDeep)(r),a=o.rows.find((function(e){return e.tiles.find((function(e){return e.tileId===t}))}));if(a){var s=a.tiles.findIndex((function(e){return e.tileId===t}));a.tiles.splice(s,1);var l=a.tiles.reduce((function(e,t){var n;return e+(null!==(n=t.relativeWidth)&&void 0!==n?n:1)}),0);a.tiles.forEach((function(e){var t;e.relativeWidth=(null!==(t=e.relativeWidth)&&void 0!==t?t:1)/l}));var c=n.lessonContent.blocks[t];o.rows=o.rows.map((function(e){return whe(whe({},e),{},{tiles:e.tiles.filter((function(e){return e.tileId}))})})).filter((function(e){return e.tiles.length>0}));var u={label:"deleteTile",mutations:[{type:"blockLayoutUpdate",blockId:e,before:i,after:o},{type:"blockRemoval",blockId:t,before:c}]};if("experienceTile"===(null==c?void 0:c.type)){var d=Object.entries(n.lessonContent.blocks).filter((function(e){var n=ghe(e,2),r=(n[0],n[1]);return"parentId"in r&&r.parentId===t})).map((function(e){var t=ghe(e,2),n=t[0];t[1];return n}));d.forEach((function(e){u.mutations.push({type:"blockRemoval",blockId:e,before:n.lessonContent.blocks[e]})}))}Voe("deleteTile-".concat(t),"instant",u)}}};[].concat(["BN","AR","VI","HI","CS","TA","TE","KN","MR","HA","YO","IG","ID","MG","SW","TH","IS","HT","GL","MS","HE","UR","YUE"],["AR","BG","CS","DA","DE","EL","EN","EN-GB","ES","ET","FI","FR","HU","ID","IT","JA","KO","LT","LV","NB","NL","PL","PT","RO","RU","SK","SL","SV","TR","UK","ZH"]);var khe={AR:"عربى",BG:"български",BN:"বাংলা",CS:"Čeština",DA:"Dansk",DE:"Deutsch",EN:"English","EN-GB":"English (UK)",EL:"Ελληνικά",ES:"Español",ET:"Eesti",FI:"Suomi",FR:"Français",GL:"Galego",HA:"Hausa",HE:"עברית",HI:"हिंदी",HT:"Kreyòl Ayisyen",HU:"Magyar",ID:"Bahasa",IG:"Igbo",IS:"Íslenska",IT:"Italiano",JA:"日本語",KN:"ಕನ್ನಡ",KO:"한국어",LT:"Lietuvių",LV:"Latviešu",MS:"Bahasa Melayu",MG:"Malagasy",MR:"मराठी",NB:"Norsk bokmål",NL:"Nederlands",PL:"Polski",PT:"Português",RO:"Română",RU:"Русский",SK:"Slovenčina",SL:"Slovenščina",SV:"Svenska",SW:"Swahili",TA:"தமிழ்",TE:"తెలుగు",TH:"ไทย",TR:"Türkçe",UK:"Українська",UR:"اردو",VI:"Tiếng Việt",YO:"Yoruba",YUE:"廣東話",ZH:"中文 (简体)"},Ehe={AR:!0,BG:!1,BN:!1,CS:!1,DA:!1,DE:!1,EN:!1,"EN-GB":!1,EL:!1,ES:!1,ET:!1,FI:!1,FR:!1,GL:!1,HA:!1,HE:!0,HI:!1,HT:!1,HU:!1,ID:!1,IG:!1,IS:!1,IT:!1,JA:!1,KN:!1,KO:!1,LT:!1,LV:!1,MS:!1,MG:!1,MR:!1,NB:!1,NL:!1,PL:!1,PT:!1,RO:!1,RU:!1,SK:!1,SL:!1,SV:!1,SW:!1,TA:!1,TE:!1,TH:!1,TR:!1,UK:!1,UR:!0,VI:!1,YO:!1,YUE:!1,ZH:!1},Ohe=function(){var e,t=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.language}));return null!==(e=Ehe[t||"EN"])&&void 0!==e&&e},jhe=function(e){Th((function(e){return e.sidebarExpanded}));var t=yn({wait:50}),n=bn();return e===dh.THUMBNAIL?900:e===dh.PRINT?800:n?t:900},_he=function(e){return jE(e,1).replace(/^rgba?\(|\)$/g,"").split(",").slice(0,3).join(" ")},Che=function(e){var t=e.theme,n=e.buttonText,r=e.buttonColor;return{"--highlight-color":jE(r,.7),"--highlight-text":n,"--text-10-color":jE(t.bodyColor,.05),"--text-color":_he(t.bodyColor),"--text-20-color":jE(t.bodyColor,.2),"--header-color":_he(t.headerColor),"--header-font":t.headerFont.name,"--header-weight":t.headerWeight,"--header-placeholder":jE(t.headerColor,.7),"--body-font":t.bodyFont.name,"--body-weight":t.bodyWeight,"--body-color":t.bodyColor,"--body-placeholder":jE(t.bodyColor,.8),"--page-color":_he(t.pageColor),"--button-color":_he(r),"--button-text":_he(n),"--element-color":_he(t.accentColor)}},The=function(e){return null===e?"full":e?1===e?"md":.7===e?"sm":1.2===e?"lg":"md":"md"},Phe=function(e){return"sm"===e?.7:"md"===e?1:"lg"===e?1.2:"full"===e?null:1};const Ahe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}));function Nhe(e){return Nhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nhe(e)}function Mhe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ihe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ihe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Ihe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Rhe(){Rhe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Nhe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Nhe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Lhe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Dhe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lhe(i,r,o,a,s,"next",e)}function s(e){Lhe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Fhe=function(){var e=Dhe(Rhe().mark((function e(t){var n,r,o,i,a;return Rhe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),r=Buffer.from(n).toString("base64"),o='<div data-mindsmith-content-v1="'.concat(r,'"></div>'),i=new Blob([o],{type:"text/html"}),a=new ClipboardItem({"text/html":i}),e.next=7,navigator.clipboard.write([a]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zhe=function(){var e=Dhe(Rhe().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d;return Rhe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.read();case 3:t=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:r=Mhe(t),e.prev=10,r.s();case 12:if((o=r.n()).done){e.next=39;break}i=o.value,a=Mhe(i.types),e.prev=15,a.s();case 17:if((s=a.n()).done){e.next=29;break}return l=s.value,e.next=21,i.getType(l);case 21:if(c=e.sent,"text/html"!==l){e.next=27;break}return e.next=25,c.text();case 25:u=e.sent,n=Bhe(u);case 27:e.next=17;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(15),a.e(e.t1);case 34:return e.prev=34,a.f(),e.finish(34);case 37:e.next=12;break;case 39:e.next=44;break;case 41:e.prev=41,e.t2=e.catch(10),r.e(e.t2);case 44:return e.prev=44,r.f(),e.finish(44);case 47:if(n){e.next=49;break}return e.abrupt("return",null);case 49:return d=JSON.parse(n),e.abrupt("return",d);case 51:case"end":return e.stop()}}),e,null,[[0,6],[10,41,44,47],[15,31,34,37]])})));return function(){return e.apply(this,arguments)}}();function Bhe(e){var t=e.match(/data-mindsmith-content-v1="(.*)"/),n=null==t?void 0:t[0];if(n){var r=n.replace('data-mindsmith-content-v1="',"");return r=r.replace(/"/g,""),Buffer.from(r,"base64").toString()}}function $he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Uhe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uhe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uhe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const Vhe=function(e){var t=be.getState().lessonContent.blocks,n=t[e];if("editableVideoTile"===n.type){var r=function(e,t){var n=Object.entries(t).filter((function(t){var n=$he(t,2),r=(n[0],n[1]);return"videoScene"===r.type&&r.parentId===e})),r={};return n.forEach((function(e){var n=$he(e,2),o=n[0],i=n[1];r[o]=i,Object.entries(t).filter((function(e){var t=$he(e,2),n=(t[0],t[1]);return!!Op.includes(n.type)&&n.parentId===o})).forEach((function(e){var t=$he(e,2),n=t[0],o=t[1];r[n]=o}))})),r}(e,t);Fhe({type:"Tiles",tiles:[{id:e,block:n,dependencies:r}]})}else if("experienceTile"===n.type){var o=function(e,t){var n={};return Object.entries(t).filter((function(t){var n=$he(t,2),r=(n[0],n[1]);return"parentId"in r&&r.parentId===e&&Ep.includes(r.type)})).forEach((function(e){var t=$he(e,2),r=t[0],o=t[1];n[r]=o})),n}(e,t);Fhe({type:"Tiles",tiles:[{id:e,block:n,dependencies:o}]})}else Fhe({type:"Tiles",tiles:[{id:e,block:n}]})};var Hhe=o(8055),Whe=o.n(Hhe);function qhe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ghe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ghe(e,t){if(e){if("string"==typeof e)return Khe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Khe(e,t):void 0}}function Khe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xhe=function(e,t,n){var r=be.getState(),o=r.selectedBlockId,i=r.selectedTileId;if(!o)return null;var a=r.lessonContent.blocks[o];if(!a||"tiledLayout"!==a.type)return null;var s=Whe()(a.layout),l=s.rows.findIndex((function(e){return e.tiles.some((function(e){return e.tileId===i}))}));-1===l&&(l=s.rows.length-1);var c=e.type,u=_p[c],d=jp[c],f=t||sd(),p={rowId:sd(),relativeHeight:u,relativeWidth:d,tiles:[{tileId:f,relativeWidth:d}]};return s.rows.splice(l+1,0,p),{selectedBlockId:o,newTileId:f,clonedLayout:s,rowId:s.rows[l+1].rowId}},Yhe=function(e,t,n){var r=Xhe(e,t);if(r){var o=r.selectedBlockId,i=r.newTileId,a=r.clonedLayout,s=r.rowId;!function(e){var t=e.pageId,n=e.tile,r=e.tileId,o=e.blockLayout,i=e.blocks,a=be.getState().lessonContent.blocks[t],s=[{type:"blockAddition",blockId:r,after:n}];i&&Object.entries(i).forEach((function(e){var t=qhe(e,2),n=t[0],r=t[1];s.push({type:"blockAddition",blockId:n,after:r})}));var l={label:"tileInsertion",mutations:[{type:"blockLayoutUpdate",blockId:t,before:a.layout,after:o}].concat(s)};Voe("tileInsertion-".concat(r),"instant",l),be.setState({selectedTileId:r})}({pageId:o,tile:e,tileId:i,blockLayout:a,blocks:n}),be.setState({selectedTileId:i}),setTimeout((function(){!function(e){var t=document.querySelector('.editor-scroll-container [data-rowid="'.concat(e,'"]'));t&&t.scrollIntoView({behavior:"smooth",block:"center"})}(s)}),100)}};function Zhe(e){return Zhe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zhe(e)}function Jhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qhe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jhe(Object(n),!0).forEach((function(t){eme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jhe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eme(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Zhe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zhe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zhe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tme(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nme(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nme(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rme=function(e,t){for(var n={},r=0,o=Object.entries(e);r<o.length;r++){var i=tme(o[r],2),a=i[0],s=i[1];"textNode"!==s.type&&"dialogueNode"!==s.type&&"sceneNode"!==s.type||s.parentId!==t||(n[a]=s)}return n},ome=function(e){var t=e.tileId,n=e.blocksCopy,r=e.tile,o=e.newTileId,i=ame(n||{}),a=sme(r,i);return i[t]=o,{reMappedNodes:lme(n||{},i),newTileData:a}},ime=function(e,t){var n=Object.entries(e).map((function(e){var t=tme(e,2);return{type:"blockAddition",blockId:t[0],after:t[1]}})),r={label:"addAllNodes",mutations:n};Voe("add-node-blocks-".concat(t),"instant",r)},ame=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var o=tme(r[n],2),i=o[0],a=o[1];Ep.includes(a.type)&&(t[i]=sd())}return t},sme=function(e,t){var n=e;return null!=n&&n.data&&"root"in n.data?Qhe(Qhe({},n),{},{data:Qhe(Qhe({},n.data),{},{root:Qhe(Qhe({},n.data.root),{},{id:t[n.data.root.id]})})}):n},lme=function(e,t){for(var n={},r=0,o=Object.entries(e);r<o.length;r++){var i=tme(o[r],2),a=i[0],s=i[1];if(Ep.includes(s.type)){var l=cme(s,a,t);n[l.blockId]=l.block}}return n},cme=function(e,t,n){if(e&&"dialogueNode"===e.type){var r=e;return{block:Qhe(Qhe({},r),{},{parentId:n[r.parentId],data:Qhe(Qhe({},r.data),{},{options:r.data.options.map((function(e){return Qhe(Qhe({},e),{},{next:Qhe(Qhe({},e.next),{},{id:"node"===e.next.type?n[e.next.id]:""})})})),scene:{id:n[r.data.scene.id]}})}),blockId:n[t]}}if(e&&"textNode"===e.type){var o=e;return{block:Qhe(Qhe({},o),{},{parentId:n[o.parentId],data:Qhe(Qhe({},o.data),{},{next:Qhe(Qhe({},o.data.next),"node"===o.data.next.type&&{id:n[o.data.next.id]}),scene:{id:n[o.data.scene.id]}})}),blockId:n[t]}}if(e&&"sceneNode"===e.type){var i=e;return{block:Qhe(Qhe({},i),{},{parentId:n[i.parentId]}),blockId:n[t]}}return{block:e,blockId:t}};const ume=function(e){var t=be.getState().lessonContent.blocks[e],n=be.getState().lessonContent.blocks,r=Whe()(n);if("experienceTile"===t.type){var o=sd(),i=rme(r,e),a=ome({tileId:e,blocksCopy:i,tile:t,newTileId:o});ime(a.reMappedNodes,o),Yhe(a.newTileData,o)}else{var s=Whe()(t);Yhe(s)}};function dme(e){return dme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dme(e)}function fme(){fme=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==dme(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(dme(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function pme(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function hme(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mme(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mme(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vme(Object(n),!0).forEach((function(t){yme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yme(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dme(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dme(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dme(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bme=function(e,t){var n=new Map,r={};Object.keys(t).forEach((function(e){var t=sd();n.set(e,t)}));var o=gme(gme({},e),{},{type:e.type,data:e.data}),i=sd();Object.entries(t).forEach((function(e){var t=hme(e,2),o=t[0],a=t[1],s=n.get(o),l=n.get(a.parentId);"videoScene"===a.type&&(l=i),r[s]=gme(gme({},a),{},{parentId:l})})),Yhe(o,i,r)},wme=function(e,t){var n={},r={};Object.keys(t).forEach((function(e){var t=sd();n[e]=t}));var o,i=sd();n[i]=i,o="root"in e.data?gme(gme({},e),{},{data:gme(gme({},e.data),{},{root:gme(gme({},e.data.root),{},{id:n[e.data.root.id]||e.data.root.id})})}):gme({},e),Object.entries(t).forEach((function(e){var t=hme(e,2),o=t[0],a=t[1],s=cme(a,o,n),l=s.block,c=s.blockId;r[c]=gme(gme({},l),{},{parentId:i})})),Yhe(o,i,r)},xme=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pme(i,r,o,a,s,"next",e)}function s(e){pme(i,r,o,a,s,"throw",e)}a(void 0)}))}}(fme().mark((function e(){var t,n;return fme().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zhe();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:"Tiles"===t.type&&("editableVideoTile"===(n=t.tiles[0]).block.type&&n.dependencies?bme(n.block,n.dependencies):"experienceTile"===n.block.type&&n.dependencies?wme(n.block,n.dependencies):Yhe(n.block));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const Sme=xme;const kme=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}));var Eme=function(e){var t=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e]}));return t||{}};function Ome(e){return Ome="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ome(e)}function jme(e){return function(e){if(Array.isArray(e))return _me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return _me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Cme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cme(Object(n),!0).forEach((function(t){Pme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pme(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Ome(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ome(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ome(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ame=["questionTile","accordionTile","flashcardsTile","matchingTile","sortingTile","buttonsTile","listTile","tabsTile","timelineTile","processTile","rankingTile"],Nme={questionTile:"Choice",accordionTile:"Item",flashcardsTile:"Flashcard",matchingTile:"Matching Pair",sortingTile:"Category",buttonsTile:"Button",listTile:"List Item",tabsTile:"Tab",timelineTile:"Event",processTile:"Step",rankingTile:"Item"},Mme={questionTile:function(e,t){var n=Tme(Tme({},t.data),{},{options:[].concat(jme(t.data.options),[{id:sd(),correct:!1,text:"",feedback:""}])});EE(e,n)},rankingTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{id:sd(),text:""}])});EE(e,n)},accordionTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{header:"",content:"",id:sd(),image:null,imageAlign:"start"}])});EE(e,n)},flashcardsTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{front:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:""}]}]},back:{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:""}]}]},id:sd(),frontType:"text",frontImage:null,backType:"text",backImage:null}])});EE(e,n)},matchingTile:function(e,t){var n=sd(),r=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{choice:"",match:"",id:n}])});EE(e,r)},sortingTile:function(e,t){var n=sd(),r=Tme(Tme({},t.data),{},{categories:[].concat(jme(t.data.categories),[{items:[],content:"",id:n}])});EE(e,r)},buttonsTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{label:"",destination:{type:"url",value:""},style:"primary"}])});EE(e,n)},listTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{id:sd(),text:{type:"doc",content:[{type:"heading",attrs:{level:3}},{type:"paragraph"}]}}])});EE(e,n)},tabsTile:function(e,t){var n=Tme(Tme({},t.data),{},{items:[].concat(jme(t.data.items),[{label:"",content:"",id:sd()}])});EE(e,n)},timelineTile:function(e,t){var n=Tme(Tme({},t.data),{},{events:[].concat(jme(t.data.events),[{id:sd(),media:null,content:{type:"doc",content:[{type:"heading",attrs:{level:3}},{type:"paragraph"}]}}])});EE(e,n)},processTile:function(e,t){var n=Tme(Tme({},t.data),{},{elements:[].concat(jme(t.data.elements),[{id:sd(),content:{type:"doc",content:[{type:"heading",attrs:{level:3}},{type:"paragraph"}]},media:null}])});EE(e,n)}};function Ime(e){var t=xh(),n=t.buttonColor,r=t.buttonText,o=Eme(e.tileId);if(!o)return null;var i=o.type;return Ame.includes(i)?(0,Ut.jsxs)("button",{onClick:function(t){t.stopPropagation(),(0,Mme[o.type])(e.tileId,o)},style:{backgroundColor:n,color:r},className:"pointer-events-auto flex cursor-pointer items-center gap-1 rounded px-2 py-0.5 font-sans text-sm",children:[(0,Ut.jsx)(kme,{className:"h-4 w-4 stroke-2"}),Nme[i]]}):null}function Rme(e){return Rme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rme(e)}function Lme(){Lme=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Rme(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Rme(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function Dme(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Fme(e){var t=e.open,n=e.setOpen;return(0,Ut.jsx)(MJ,{open:t,onOpenChange:n,children:(0,Ut.jsxs)(DJ,{bodyScroll:!0,children:[(0,Ut.jsx)(FJ,{children:(0,Ut.jsx)(BJ,{children:"Clipboard Permission"})}),(0,Ut.jsx)("div",{children:"You have disabled clipboard permissions. Use Ctrl + V or enable these permissions through your browser."})]})})}function zme(e){return Bme.apply(this,arguments)}function Bme(){return Bme=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Dme(i,r,o,a,s,"next",e)}function s(e){Dme(i,r,o,a,s,"throw",e)}a(void 0)}))}}(Lme().mark((function e(t){var n,r;return Lme().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.permissions.query({name:"clipboard-read"});case 3:if("prompt"!==(n=e.sent).state){e.next=6;break}return e.abrupt("return",!1);case 6:if("denied"!==n.state){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,zhe();case 10:if((null==(r=e.sent)?void 0:r.type)!==t){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!0);case 16:return e.prev=16,e.t0=e.catch(0),e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),Bme.apply(this,arguments)}function $me(e){return $me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$me(e)}function Ume(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ume(Object(n),!0).forEach((function(t){Hme(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ume(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hme(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$me(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wme(){Wme=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==$me(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError($me(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function qme(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Gme(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qme(i,r,o,a,s,"next",e)}function s(e){qme(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Kme(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Xme(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xme(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xme(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Yme=function(e){var t,r,o,i=e.tileId,a=e.onDelete,s=e.parentId,l=e.mode,c=e.preview,u=Br(),d=Br(),f=L4().enqueueSnackbar,p=Kme((0,n.useState)(!1),2),h=p[0],m=p[1],v=Kme((0,n.useState)(!1),2),g=v[0],y=v[1],b=be((function(e){return e.selectedTileId===i})),w=Th((function(e){return"tile"===e.contextMode})),x=Th((function(e){return!!e.resizingImage})),S=be((function(e){var t,n=(null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[s]).layout.rows.find((function(e){return e.tiles.find((function(e){return e.tileId===i}))}));return The(null==n?void 0:n.relativeWidth)})),k=Dk({id:"tile+".concat(i),disabled:l!==dh.EDIT||x}),E=k.attributes,O=k.listeners,j=k.setNodeRef,_=k.isDragging,C=xh(),T=C.buttonColor,P=C.buttonText,A=be((function(e){var t=e.realtimeConnection,n=e.lessonId;return!!t&&t.lessonId===n&&"connected"===t.status})),N=(r=(0,L7.useSession)().data,o=null==r||null===(t=r.user)||void 0===t?void 0:t.role,be((function(e){var t,n,r=null===(t=e.realtimeConnection)||void 0===t?void 0:t.lessonSession;if(!r)return null;var i=null===(n=e.realtimeConnection)||void 0===n?void 0:n.clientId;if(!i)return null;var a=e.realtimeConnection;if(!a)return null;var s=e.lessonId;return a.lessonId!==s?null:{self:r.members[i],others:Object.values(r.members).filter((function(e){return e.clientId!==i})).filter((function(e){return!ihe(e,o)})),members:Object.values(r.members)}}))),M=((null==N?void 0:N.others)||[]).filter((function(e){var t=e.presence;return(null==t?void 0:t.selectedTileId)===i})),I=Kme((0,n.useState)(!1),2),R=I[0],L=I[1],D=M[0],F="transparent";if(!b||l!==dh.EDIT&&l!==dh.THUMBNAIL||(F=T),D&&A){var z=D.profile.color.name;F=she()[z][800]}x&&(F="transparent");var B=Eme(i),$=(be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks})),"editableVideoTile"===B.type&&B.data.video);return(0,Ut.jsxs)("div",Vme(Vme(Vme({ref:j,"data-tileid":i,style:{borderColor:F,cursor:_?"":"auto"}},l===dh.EDIT?E:{}),l===dh.EDIT?O:{}),{},{className:vr("h-full rounded-[14px] border-2 transition-colors",!b&&l===dh.EDIT&&"hover:bg-[var(--text-10-color)]"),children:[b&&l===dh.EDIT&&!x&&(0,Ut.jsx)("div",{className:"pointer-events-none absolute left-0 right-0 top-0 z-[1000] flex translate-y-[-50%] justify-center",children:(0,Ut.jsxs)("div",{className:"flex items-center gap-1",children:[("editableVideoTile"!==B.type||$)&&(0,Ut.jsx)("button",{onClick:function(e){if("experienceTile"===B.type)return be.setState({selectedBlockId:i}),window.location.hash="#".concat(i),void Ooe("edit_experience_tile");w?Th.setState({contextMode:null}):Th.setState({contextMode:"tile"}),e.stopPropagation()},style:{backgroundColor:T,color:P},className:"pointer-events-auto  flex cursor-pointer items-center gap-2 rounded px-2 py-0.5 font-sans text-sm hover:brightness-90",children:"experienceTile"===B.type?u("editExperience"):d("options")}),(0,Ut.jsx)(Ime,{tileId:i}),(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsxs)("div",{className:"relative flex items-center",children:[(0,Ut.jsxs)(MV,{delayDuration:300,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)("button",{onClick:function(){var e=Gme(Wme().mark((function e(t){var n;return Wme().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),!1!==R){e.next=7;break}return e.next=4,zme("Tiles");case 4:n=e.sent,m(n),L(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),style:{backgroundColor:T,color:P},className:"pointer-events-auto cursor-pointer rounded px-2 py-0.5 transition-all hover:brightness-90",children:(0,Ut.jsx)(OE,{className:"h-5 w-5"})})}),(0,Ut.jsxs)(RV,{children:[(0,Ut.jsx)("p",{className:"text-center font-sans",children:u("clickForActions")}),(0,Ut.jsx)("p",{className:"text-center font-sans",children:u("dragToMove")})]})]}),(0,Ut.jsxs)(dx,{onOpenChange:function(e){L(e)},open:R,children:[(0,Ut.jsx)(fx,{disabled:!0,className:"pointer-events-none absolute bottom-0 left-0 right-0 top-0"}),(0,Ut.jsxs)(yx,{onClick:function(e){e.stopPropagation()},sideOffset:5,side:"bottom",className:"z-[1000] w-48",children:[(0,Ut.jsx)(Ex,{children:u("rowWidth")}),(0,Ut.jsx)(Jfe,{value:S,onValueChange:function(e){var t;if(e){var n=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.blocks[s],r=(0,$p.cloneDeep)(n.layout),o=r.rows.find((function(e){return e.tiles.find((function(e){return e.tileId===i}))}));o&&(o.relativeWidth=Phe(e),Hoe(s,r))}},children:(0,Ut.jsxs)(Qfe,{children:[(0,Ut.jsx)(epe,{value:"sm",children:(0,Ut.jsx)("div",{children:u("sm")})}),(0,Ut.jsx)(epe,{value:"md",children:(0,Ut.jsx)("div",{children:u("md")})}),(0,Ut.jsx)(epe,{value:"lg",children:(0,Ut.jsx)("div",{children:u("lg")})}),(0,Ut.jsx)(epe,{value:"full",children:(0,Ut.jsx)("div",{children:u("full")})})]})}),(0,Ut.jsx)(Ox,{}),(0,Ut.jsxs)(wx,{className:"flex items-center justify-between gap-2",onClick:function(e){e.stopPropagation(),ume(i)},children:[d("duplicate"),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"D"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl+D"})})})]}),(0,Ut.jsxs)(wx,{className:"flex items-center justify-between gap-2",onClick:function(e){e.stopPropagation(),Vhe(i),f(u("copiedTile"))},children:[u("copy"),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"C"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl+C"})})})]}),(0,Ut.jsxs)(wx,{disabled:h,className:"flex items-center justify-between gap-2",onClick:function(){var e=Gme(Wme().mark((function e(t){return Wme().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.prev=1,e.next=4,navigator.permissions.query({name:"clipboard-read"});case 4:if("denied"!==e.sent.state){e.next=8;break}return y(!0),e.abrupt("return");case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:return e.next=14,Sme();case 14:f(u("pastedTile"));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),children:[u("pasteBelow"),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(DF,{className:"h-3 w-3"}),(0,Ut.jsx)("div",{children:"V"})]}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"Ctrl+V"})})})]}),(0,Ut.jsxs)(wx,{className:"flex items-center justify-between gap-2",variant:"destructive",onClick:function(e){e.stopPropagation(),She(s,i),f(u("deletedTile"))},children:[u("delete"),(0,Ut.jsx)(zV,{macContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"del"})}),windowsContent:(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{children:"del"})})})]})]})]})]})})]})}),D&&A&&l===dh.EDIT&&!x&&(0,Ut.jsx)("div",{style:{backgroundColor:lhe(D.profile.color.name).gradientStart},className:"absolute left-[-0.5px] top-0 z-10 flex translate-y-[-50%] rounded-t-md rounded-br-md p-1 font-sans",children:(0,Ut.jsxs)("div",{className:"flex items-center gap-1 text-xs text-white",children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)(Ahe,{className:"h-4 w-4"})}),D.profile.name]})}),(0,Ut.jsx)(rhe,{mode:l,parentId:s,onDelete:a,tileId:i,preview:c}),g&&(0,Ut.jsx)(Fme,{open:g,setOpen:y})]}))};function Zme(e){return Zme="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zme(e)}function Jme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qme(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jme(Object(n),!0).forEach((function(t){eve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jme(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Zme(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zme(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Zme(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tve=function(e){var t=Bk({id:e.id,disabled:e.mode!==dh.EDIT}),n=t.isOver,r=t.setNodeRef,o=xh().buttonColor;return(0,Ut.jsxs)("div",{ref:r,className:vr("group flex min-h-full w-3 flex-shrink-0 items-center justify-center rounded-full",e.draggable&&"cursor-col-resize"),onMouseDown:e.onMouseDown,children:[e.draggable&&!n&&(0,Ut.jsx)("div",{style:{backgroundColor:o},className:vr("mx-auto h-full max-h-40  w-1 rounded transition-opacity","opacity-0 group-hover:opacity-70")}),n&&(0,Ut.jsx)("div",{style:{backgroundColor:o},className:vr("mx-auto h-full w-1 rounded transition-opacity","opacity-70")})]})},nve=function(e){var t=Bk({id:e.id,disabled:e.mode!==dh.EDIT}),n=t.isOver,r=t.setNodeRef,o=xh().buttonColor;return(0,Ut.jsxs)("div",Qme(Qme({},e),{},{ref:r,className:vr("group flex h-3 w-full flex-grow-0 items-center justify-center rounded-full",{"cursor-row-resize":e.draggable}),children:[e.draggable&&!n&&(0,Ut.jsx)("div",{style:{backgroundColor:o},className:vr("h-1 w-72 rounded bg-white transition-opacity","opacity-0 group-hover:opacity-70")}),n&&(0,Ut.jsx)("div",{style:{backgroundColor:o},className:vr("mx-auto h-1 w-full rounded bg-white transition-opacity")})]}))};const rve=(0,n.createContext)(null);function ove(){const e=(0,n.useRef)(!1);return Zoe((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function ive(){const e=ove(),[t,r]=(0,n.useState)(0),o=(0,n.useCallback)((()=>{e.current&&r(t+1)}),[t]);return[(0,n.useCallback)((()=>Sse.postRender(o)),[o]),t]}const ave=e=>!e.isLayoutDirty&&e.willUpdate(!1);function sve(){const e=new Set,t=new WeakMap,n=()=>e.forEach(ave);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{var o;e.delete(r),null===(o=t.get(r))||void 0===o||o(),t.delete(r),n()},dirty:n}}const lve=e=>!0===e,cve=({children:e,id:t,inheritId:r,inherit:o=!0})=>{void 0!==r&&(o=r);const i=(0,n.useContext)(pie),a=(0,n.useContext)(rve),[s,l]=ive(),c=(0,n.useRef)(null),u=i.id||a;null===c.current&&((e=>lve(!0===e)||"id"===e)(o)&&u&&(t=t?u+"-"+t:u),c.current={id:t,group:lve(o)&&i.group||sve()});const d=(0,n.useMemo)((()=>({...c.current,forceRender:s})),[l]);return n.createElement(pie.Provider,{value:d},e)};function uve(e){return uve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uve(e)}function dve(e){return function(e){if(Array.isArray(e))return gve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fve(Object(n),!0).forEach((function(t){hve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=uve(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uve(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||vve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vve(e,t){if(e){if("string"==typeof e)return gve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gve(e,t):void 0}}function gve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var yve=function(e){var t=e.width,n=e.tileLayout,r=e.parentId,o=e.onDelete,i=e.mode,a=e.preview,s=bn();return(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{className:vr("border-box relative w-full flex-col rounded-xl"),style:{flex:s?void 0:null===t?1:t,minWidth:"0px"},children:i===dh.EDIT?(0,Ut.jsx)(Yme,{mode:i,parentId:r,onDelete:o,tileId:n.tileId,preview:a},n.tileId):(0,Ut.jsx)(rhe,{mode:i,parentId:r,onDelete:o,tileId:n.tileId,preview:a})})})},bve=function(e){var t=e.rowLayout,r=e.onUpdateRow,o=e.onDeleteTile,i=e.parentId,a=e.mode,s=e.tiledLayout,l=e.preview,c=n.useRef(null),u=mve((0,n.useState)(null),2),d=u[0],f=u[1],p=jhe(a),h=9*p/16,m=t.relativeHeight?h*t.relativeHeight:void 0,v=(0,n.useRef)(t);v.current=t;var g=(0,n.useRef)(s);g.current=s,(0,n.useEffect)((function(){if(d){var e=function(e){if(d&&c.current){var t=c.current.getBoundingClientRect(),n=d===v.current.tiles[v.current.tiles.length-1].tileId;if("start"===d||n){var o=c.current.offsetWidth/2,i=2*Math.abs(e.clientX-(t.left+o)),a=Phe(i<720?"sm":i<950?"md":i<1250?"lg":"full");return void r(pve(pve({},v.current),{},{relativeWidth:a}),"drag-row-width-".concat(v.current.rowId))}var s=(e.clientX-t.left)/t.width;s=Math.round(12*s)/12,s=Math.max(1/12,Math.min(s,11/12));var l=v.current,u=l.tiles.findIndex((function(e){return e.tileId===d})),f=l.tiles.slice(0,u+1),p=l.tiles.slice(u+1),h=s/f.length,m=f.map((function(e){return pve(pve({},e),{},{relativeWidth:h})})),g=1-s,y=p.map((function(e){return pve(pve({},e),{},{relativeWidth:g/p.length})})),b=[].concat(dve(m),dve(y));r(pve(pve({},l),{},{tiles:b}),"drag-column-width-".concat(v.current.rowId))}},t=function(){f(null)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}}),[r,d,p]);var y=mve((0,n.useState)(!1),2),b=y[0],w=y[1],x=(0,n.useRef)(null);(0,n.useEffect)((function(){if(b){var e=Eh()((function(){var e=document.querySelector(".editor-scroll-container");null==e||e.scrollBy({top:10})}),15),t=function(t){if(b&&c.current){var n=v.current,o=g.current.rows.findIndex((function(e){return e.rowId===n.rowId})),i=9*p/16,a=c.current.getBoundingClientRect(),s=a.top,l=t.clientY-s;n.relativeHeight,a.height;x.current=l;var u=l/i,d=Math.round(12*u)/12;if(o===g.current.rows.length-1){var f=window.innerHeight;t.clientY>f-50&&e()}r(pve(pve({},n),{},{relativeHeight:d}),"drag-row-height-".concat(n.rowId))}},n=function(){w(!1)};return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n),x.current=null}}}),[b,r,p]);var S,k=t.relativeWidth,E="sm"===(S=The(k))?"720px":"md"===S?"900px":"full"===S?"100%":"1140px";return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{"data-rowid":t.rowId,ref:c,className:vr("border-box relative flex w-full flex-row flex-wrap items-stretch transition-all md:flex-nowrap"),style:{minHeight:m?"".concat(m,"px"):p/16*9/12/2,maxWidth:E},children:[(0,Ut.jsx)(tve,{mode:a,onMouseDown:function(e){e.preventDefault(),f("start")},draggable:a===dh.EDIT,id:"col+".concat(t.rowId,"+start")}),t.tiles.map((function(e){return(0,Ut.jsxs)(n.Fragment,{children:[(0,Ut.jsx)(yve,{mode:a,parentId:i,onDelete:function(){return o(e.tileId)},width:null===e.relativeWidth?void 0:100*e.relativeWidth,tileLayout:e,preview:l}),(0,Ut.jsx)(tve,{mode:a,id:"col+".concat(t.rowId,"+").concat(e.tileId),draggable:a===dh.EDIT,onMouseDown:function(t){be.setState((function(e){e.selectedTileId=null})),t.preventDefault(),f(e.tileId)}})]},e.tileId)}))]}),(0,Ut.jsx)("div",{className:"w-full",style:{maxWidth:p*(null!=k?k:1)},children:(0,Ut.jsx)(nve,{mode:a,id:"row+".concat(t.rowId),draggable:a===dh.EDIT,onMouseDown:function(e){return function(e){be.setState((function(e){e.selectedTileId=null})),a===dh.EDIT&&(e.preventDefault(),w(!0))}(e)}})})]})};function wve(e){var t,r=e.layout,o=e.setLayout,i=e.parentId,a=e.mode,s=e.preview,l=Ohe(),c=jhe(a),u=(0,n.useCallback)((function(e,t){var n=pve(pve({},r),{},{rows:r.rows.map((function(t){return t.rowId===e.rowId?e:t}))}),a=be.getState().lessonContent.blocks[i];(0,$p.isEqual)(a.layout,n)||o(pve(pve({},r),{},{rows:r.rows.map((function(t){return t.rowId===e.rowId?e:t}))}),t)}),[r,o]),d=(0,n.useRef)(null);!function(e){(0,n.useEffect)((function(){if(e.current){var t=e.current,n=function(e){var n=t.getBoundingClientRect(),r=n.top,o=n.left,i=n.width,a=n.height;j8({position:{x:(e.clientX-o)/i*100,y:(e.clientY-r)/a*100}})},r=function(e){var n=t.getBoundingClientRect(),r=n.top,o=n.left,i=n.width,a=n.height;_8({position:{x:(e.clientX-o)/i*100,y:(e.clientY-r)/a*100}})},o=function(e){var n=t.getBoundingClientRect();n.top,n.left,n.width,n.height,j8({position:null})};return t.addEventListener("mouseenter",n),t.addEventListener("mousemove",r),t.addEventListener("mouseleave",o),function(){t.removeEventListener("mouseenter",n),t.removeEventListener("mousemove",r),t.removeEventListener("mouseleave",o)}}}),[e])}(d);var f=Sh();return(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{ref:d,className:"relative flex w-full items-center justify-center",dir:l?"rtl":"ltr",children:[a===dh.EDIT&&(0,Ut.jsx)(mhe,{blockId:i}),(0,Ut.jsxs)("div",{className:"flex w-full flex-col items-center justify-center",style:{color:f.bodyColor,fontFamily:(null===(t=f.bodyFont)||void 0===t?void 0:t.name)||"inherit"},onClick:function(){a!==dh.EDIT&&"comments"!==Th.getState().contextMode||be.setState((function(e){e.selectedTileId=null}))},children:[(0,Ut.jsx)("div",{className:"w-full",style:{maxWidth:c},children:(0,Ut.jsx)(nve,{mode:a,id:"row+start"})}),r.rows.map((function(e,t){return(0,Ut.jsx)(bve,{tiledLayout:r,mode:a,parentId:i,onDeleteTile:function(e){She(i,e)},rowLayout:e,onUpdateRow:u,preview:s},e.rowId)}))]})]})})}var xve=function(e){var t,r=e.parentId,o=e.layout,i=e.mode,a=e.preview,s=jhe(i),l=Sh(),c=9*s/16,u=be((function(e){return e.lessonContent.blocks}));return(0,Ut.jsx)("div",{className:"flex flex-col items-stretch gap-2 px-2",style:{color:l.bodyColor,fontFamily:(null===(t=l.bodyFont)||void 0===t?void 0:t.name)||"inherit"},children:o.rows.map((function(e,t){var s=t===o.rows.length-1,l=e.relativeHeight;if(s){var d,f=o.rows.reduce((function(e,t){var n;return e+(null!==(n=t.relativeHeight)&&void 0!==n?n:0)}),0);if(f<1)l=(null!==(d=l)&&void 0!==d?d:0)+(1-f)}return(0,Ut.jsx)(n.Fragment,{children:e.tiles.map((function(t,o){var s,d,f,p;l&&(s=c/(null!==(d=t.relativeWidth)&&void 0!==d?d:1)/(null!==(f=e.relativeWidth)&&void 0!==f?f:1)*(null!==(p=l)&&void 0!==p?p:1));var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||"textTile"===e.type&&e.data.backgroundImage||("imageTile"===(null==e?void 0:e.type)&&"contain"===e.data.objectFit?t:"imageTile"===(null==e?void 0:e.type)||"videoTile"===(null==e?void 0:e.type)||"embedTile"===(null==e?void 0:e.type)||"carouselTile"===(null==e?void 0:e.type)))}(u[t.tileId]);return(0,Ut.jsx)("div",{className:vr("border-box relative flex flex-row flex-wrap items-stretch md:flex-nowrap"),style:{width:"100%",minHeight:s&&!h?"".concat(s,"px"):void 0},children:(0,Ut.jsx)(n.Fragment,{children:(0,Ut.jsx)(yve,{mode:i,parentId:r,onDelete:function(){},tileLayout:t,preview:a})},t.tileId)},t.tileId)}))},e.rowId)}))})};const Sve=function(e){var t=e.id,n=e.mode,r=e.preview,o=fh(t,n).data,i=be((function(e){return e.lessonContent.blocks[t]})).layout,a=bn(),s=xh(),l=Th((function(e){return e.sidebarExpanded}));return o?(0,Ut.jsx)(cve,{children:(0,Ut.jsx)("div",{className:vr("relative z-10 flex min-h-full w-full items-center justify-center",n!==dh.THUMBNAIL&&"py-16"),children:(0,Ut.jsx)("div",{style:Che(s),className:vr("tiled-layout relative w-full",{"sidebar-open":l&&n===dh.EDIT}),children:a?(0,Ut.jsx)(xve,{mode:n,parentId:t,layout:i,preview:r}):(0,Ut.jsx)(wve,{mode:n,parentId:t,layout:i,setLayout:function(e,n){Hoe(t,e,n)},preview:r})})})}):(0,Ut.jsx)("div",{children:"Block Not Found"})};const kve=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}));function Eve(e){var t,n=e.id,r=e.children,o=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[n]}));return(0,Ut.jsxs)("div",{className:"relative h-[600px] w-full overflow-hidden rounded-xl md:h-[550px]",children:[(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-10",children:r}),(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-0",children:(0,Ut.jsx)("img",{src:null==o||null===(t=o.data)||void 0===t||null===(t=t.background)||void 0===t?void 0:t.source,className:"h-full w-full object-cover"})})]})}var Ove="https://storage.googleapis.com/mindsmith/characters",jve=[{name:"Eric",id:"eric"},{name:"Sophia",id:"sophia"},{name:"Alyssa",id:"alyssa"},{name:"Michael",id:"michael"},{name:"Alexis",id:"alexis"},{name:"Jordan",id:"jordan"},{name:"Nova",id:"nova"}],_ve=function(e){if("uploaded"===e.type)return e.image.source;var t=jve.find((function(t){return t.id===e.characterId}));return t?"".concat(Ove,"/").concat(t.id,"/").concat(e.emotion,".png"):"".concat(Ove,"/sophia/").concat(e.emotion,".png")},Cve=function(e){var t=e.pose;return t&&t.type?"uploaded"===t.type&&"full-body"===t.layout?(0,Ut.jsx)("div",{className:"absolute -left-[60px] bottom-0 w-[130%] max-w-[450px] sm:-left-[30px] md:left-0 md:w-[450px]",children:(0,Ut.jsx)("div",{className:"relative aspect-[4/5] h-full ",children:(0,Ut.jsx)("img",{className:"absolute -bottom-[25%] left-0 right-0 z-10 h-[120%] object-contain",src:_ve(t)})})}):(0,Ut.jsx)("div",{className:"absolute -left-[100px] bottom-0 flex w-[130%] max-w-[450px] sm:-left-[80px] md:left-0 md:w-[450px]",children:(0,Ut.jsx)("img",{className:"aspect-[4/5] h-full object-contain",src:_ve(t)})}):null},Tve=function(e){var t=e.children,n=e.hasCharacter,r=void 0===n||n;return(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex w-full justify-center border",children:(0,Ut.jsx)("div",{className:vr("relative flex w-full max-w-4xl flex-col md:flex-row md:items-center",r?"justify-end":"justify-center"),children:t})})};const Pve=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}));class Ave extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Nve({children:e,isPresent:t}){const r=(0,n.useId)(),o=(0,n.useRef)(null),i=(0,n.useRef)({width:0,height:0,top:0,left:0});return(0,n.useInsertionEffect)((()=>{const{width:e,height:n,top:a,left:s}=i.current;if(t||!o.current||!e||!n)return;o.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`\n          [data-motion-pop-id="${r}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            top: ${a}px !important;\n            left: ${s}px !important;\n          }\n        `),()=>{document.head.removeChild(l)}}),[t]),n.createElement(Ave,{isPresent:t,childRef:o,sizeRef:i},n.cloneElement(e,{ref:o}))}const Mve=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:a,mode:s})=>{const l=uie(Ive),c=(0,n.useId)(),u=(0,n.useMemo)((()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:e=>{l.set(e,!0);for(const e of l.values())if(!e)return;o&&o()},register:e=>(l.set(e,!1),()=>l.delete(e))})),a?void 0:[r]);return(0,n.useMemo)((()=>{l.forEach(((e,t)=>l.set(t,!1)))}),[r]),n.useEffect((()=>{!r&&!l.size&&o&&o()}),[r]),"popLayout"===s&&(e=n.createElement(Nve,{isPresent:r},e)),n.createElement(Xoe.Provider,{value:u},e)};function Ive(){return new Map}const Rve=e=>e.key||"";const Lve=({children:e,custom:t,initial:r=!0,onExitComplete:o,exitBeforeEnter:i,presenceAffectsLayout:a=!0,mode:s="sync"})=>{i&&(s="wait",Jae(!1,"Replace exitBeforeEnter with mode='wait'"));let[l]=ive();const c=(0,n.useContext)(pie).forceRender;c&&(l=c);const u=ove(),d=function(e){const t=[];return n.Children.forEach(e,(e=>{(0,n.isValidElement)(e)&&t.push(e)})),t}(e);let f=d;const p=new Set,h=(0,n.useRef)(f),m=(0,n.useRef)(new Map).current,v=(0,n.useRef)(!0);if(Zoe((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=Rve(e);t.set(n,e)}))}(d,m),h.current=f})),Kae((()=>{v.current=!0,m.clear(),p.clear()})),v.current)return n.createElement(n.Fragment,null,f.map((e=>n.createElement(Mve,{key:Rve(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:a,mode:s},e))));f=[...f];const g=h.current.map(Rve),y=d.map(Rve),b=g.length;for(let e=0;e<b;e++){const t=g[e];-1===y.indexOf(t)&&p.add(t)}return"wait"===s&&p.size&&(f=[]),p.forEach((e=>{if(-1!==y.indexOf(e))return;const r=m.get(e);if(!r)return;const i=g.indexOf(e);f.splice(i,0,n.createElement(Mve,{key:Rve(r),isPresent:!1,onExitComplete:()=>{m.delete(e),p.delete(e);const t=h.current.findIndex((t=>t.key===e));if(h.current.splice(t,1),!p.size){if(h.current=d,!1===u.current)return;l(),o&&o()}},custom:t,presenceAffectsLayout:a,mode:s},r))})),f=f.map((e=>{const t=e.key;return p.has(t)?e:n.createElement(Mve,{key:Rve(e),isPresent:!0,presenceAffectsLayout:a,mode:s},e)})),n.createElement(n.Fragment,null,p.size?f:f.map((e=>(0,n.cloneElement)(e))))};function Dve(e){return function(e){if(Array.isArray(e))return Fve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Fve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fve(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function zve(e){var t,n=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]}));return(0,Ut.jsx)(Lve,{children:(0,Ut.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/50",children:(0,Ut.jsxs)(nfe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"mx-4 w-[400px] rounded-lg bg-lesson-pageColor p-6 shadow-xl",children:[(0,Ut.jsx)("div",{className:"mb-6 max-h-[280px]",children:(0,Ut.jsx)(GY,{value:n.data.text,editable:!1,onChange:function(){},className:"max-h-[280px] overflow-y-auto"})}),(0,Ut.jsx)("div",{className:"flex flex-wrap justify-center gap-2",children:null===(t=n.data.buttons)||void 0===t?void 0:t.map((function(t){return(0,Ut.jsxs)(dpe,{size:"default",variant:t.isPrimary?"primary":"blend",className:vr("w-full",t.isPrimary?"bg-lesson-buttonColor text-lesson-pageColor hover:bg-lesson-buttonColor":"border-2 border-lesson-buttonColor bg-transparent text-lesson-buttonColor hover:bg-lesson-buttonColor/10"),onClick:function(){var r;"node"===(r=t.next).type?e.setNodeHistory([].concat(Dve(e.nodeHistory),[r.id])):"complete"===r.type?(e.setNodeHistory([].concat(Dve(e.nodeHistory),["completed"])),be.setState((function(e){e.blockStates[n.parentId]&&(e.blockStates[n.parentId].hasCompleted=!0)}))):"restart"===r.type?e.setNodeHistory([]):"retry"===r.type&&e.nodeHistory.length>0&&e.setNodeHistory(Dve(e.nodeHistory.slice(0,-1)))},children:[(0,Ut.jsx)("span",{children:t.text}),(0,Ut.jsx)(kve,{className:"ml-2 h-4 w-4"})]},t.id)}))})]})})})}function Bve(e){return function(e){if(Array.isArray(e))return Vve(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Uve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Uve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uve(e,t){if(e){if("string"==typeof e)return Vve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vve(e,t):void 0}}function Vve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Hve=function(){var e=(0,n.useRef)(null),t=$ve((0,n.useState)(0),2),r=t[0],o=t[1];return(0,n.useEffect)((function(){if(e.current){var t=new ResizeObserver((function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Uve(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;o(r.contentRect.width)}}catch(e){n.e(e)}finally{n.f()}}));return t.observe(e.current),function(){return t.disconnect()}}}),[]),{containerRef:e,containerWidth:r}},Wve=function(e){var t=e.value,n=e.position,r=e.className,o=e.isNew,i=void 0!==o&&o;return(0,Ut.jsx)(nfe.div,{className:vr("speech-bubble-".concat(n," relative z-10  inline-block max-w-[85vw] rounded-lg p-3 md:max-w-xs"),"left"===n?"rounded-bl-none":"rounded-br-none",r||"bg-lesson-pageColor"),style:{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.25)"},initial:i?{opacity:0}:{opacity:1},animate:{opacity:1},transition:i?{duration:.15,ease:"easeOut"}:{duration:0},children:(0,Ut.jsx)(GY,{value:t,editable:!1,onChange:function(){}})})};function qve(e){var t,r,o,i,a=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]})),s=L4().enqueueSnackbar,l=Hve(),c=l.containerRef,u=l.containerWidth,d=Gpe(Ape(e.rootId)).narrations,f=fh(e.id,e.mode),p=(null===(t=f.state)||void 0===t?void 0:t.selected)||null,h=$ve((0,n.useState)(null),2),m=h[0],v=h[1];(0,n.useEffect)((function(){v(null)}),[e.nodeHistory]);var g,y=(0,n.useMemo)((function(){return a.data.randomizeOptions?function(e){for(var t=Bve(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),o=[t[r],t[n]];t[n]=o[0],t[r]=o[1]}return t}(a.data.options):a.data.options}),[a.data.options,a.data.randomizeOptions]),b=a.data.characterPose;p&&(b=(null===(g=a.data.options.find((function(e){return e.id===p})))||void 0===g?void 0:g.characterReaction)||a.data.characterPose);var w=function(t){if("node"===t.next.type){var n,r,o=t.next.id;hpe(o),e.setNodeHistory([].concat(Bve(e.nodeHistory),[o]));var i=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.blocks[o];"dialogueNode"===(null==i?void 0:i.type)&&null!==(r=i.narration)&&void 0!==r&&r.narrationMap?wpe({tileNarration:i.narration,itemId:"text",pageNarrations:d}):xpe({nodeId:o,pageNarrations:d}),"modalNode"===(null==i?void 0:i.type)?v(t.next.id):e.setNodeHistory([].concat(Bve(e.nodeHistory),[t.next.id]))}else"retry"===t.next.type?(s(ZK("Try again!"),{variant:"default"}),f.updateState({selected:null})):"complete"===t.next.type?(e.setNodeHistory([].concat(Bve(e.nodeHistory),["completed"])),be.setState((function(e){e.blockStates[a.parentId]&&(e.blockStates[a.parentId].hasCompleted=!0)}))):"restart"===t.next.type&&ppe(a.parentId)},x=e.nodeHistory[e.nodeHistory.length-2],S=be((function(e){var t;return x?null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[x]:null})),k=be((function(e){return x?e.blockStates[x]:null})),E=null==k?void 0:k.selected,O=("dialogueNode"===(null==S?void 0:S.type)&&S.data.options.find((function(e){return e.id===E})),(0,n.useMemo)((function(){if(!a.data.showMessageHistory)return[];for(var t=[],n=function(){var n,o=e.nodeHistory[r];if(o===e.id)return 1;var i=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.blocks[o],a=be.getState().blockStates[o];if(i&&"dialogueNode"===i.type&&(t.push({type:"character",text:i.data.text,nodeId:o}),null!=a&&a.selected)){var s=i.data.options.find((function(e){return e.id===a.selected}));s&&t.push({type:"user",text:s.text,nodeId:o})}},r=0;r<e.nodeHistory.length-1;r++)n();return t}),[e.nodeHistory,a.data.showMessageHistory,e.id])),j=(0,n.useRef)(null),_=(0,n.useRef)(null),C=$ve((0,n.useState)(!1),2),T=C[0],P=C[1],A=$ve((0,n.useState)(!1),2),N=A[0],M=A[1],I=$ve((0,n.useState)(!1),2),R=I[0],L=I[1],D=$ve((0,n.useState)(!1),2),F=D[0],z=D[1];return(0,n.useEffect)((function(){var e=function(){if(j.current&&_.current){var e=j.current.clientHeight,t=_.current.scrollHeight;P(!!(t>e))}};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[S,p,a.data.text,N,R,F]),(0,n.useEffect)((function(){j.current&&T&&(j.current.scrollTop=j.current.scrollHeight)}),[S,p,a.data.text,T,N,R,F]),(0,n.useEffect)((function(){if(m)return M(!0),L(!0),void z(!0);M(!0),L(!1),z(!1);var e=setTimeout((function(){L(!0),z(!0)}),300),t=setTimeout((function(){z((function(e){return e||(console.debug("DialogueNode: Safety check activated - ensuring message visibility"),!0)}))}),500);return function(){clearTimeout(e),clearTimeout(t)}}),[e.id,m]),(0,n.useEffect)((function(){if(m)return L(!0),void z(!0);if(p){L(!1),z(!1);var e=setTimeout((function(){L(!0),z(!0)}),300);return function(){clearTimeout(e)}}}),[p,m]),(0,Ut.jsxs)(Eve,{id:a.data.scene.id,children:[(0,Ut.jsxs)(Tve,{children:[(0,Ut.jsx)(Cve,{pose:b}),(0,Ut.jsxs)("div",{ref:c,className:"z-10 flex h-full w-full",children:[(0,Ut.jsx)("div",{className:vr(" flex-shrink-0",u<=600&&"block w-0",u>600&&"w-[375px]")}),(0,Ut.jsxs)("div",{className:"flex h-full w-full max-w-4xl flex-col",children:[(0,Ut.jsx)("div",{ref:j,className:vr("scrollbar-hide flex-1 overflow-y-auto p-2",T?"flex flex-col justify-end":"flex flex-col"),style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:(0,Ut.jsx)(cve,{children:(0,Ut.jsxs)(nfe.div,{ref:_,className:"flex flex-col gap-2",layout:"position",transition:{layout:{duration:.4,ease:"easeOut"},opacity:{duration:.3}},children:[O.length>0&&(0,Ut.jsx)(nfe.div,{className:"flex flex-col gap-2",layout:"position",layoutId:"message-history",transition:{layout:{duration:.2,ease:"easeOut"}},children:O.map((function(e,t){return(0,Ut.jsx)("div",{className:"flex w-full ".concat("user"===e.type?"justify-end":""),children:(0,Ut.jsx)("div",{className:"".concat("user"===e.type?"flex w-[85%] justify-end md:w-[70%]":"w-[85%] md:w-[60%]"),children:(0,Ut.jsx)(Wve,{position:"user"===e.type?"right":"left",value:e.text,isNew:!1})})},"".concat(e.nodeId,"-").concat(t))}))}),F&&(0,Ut.jsx)(nfe.div,{className:"flex w-full",layout:"position",layoutId:"current-message-".concat(e.id),initial:!!e.nodeHistory.length&&{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3,ease:"easeOut",x:{type:"spring",stiffness:100,damping:15}},children:(0,Ut.jsx)("div",{className:"w-[85%] md:w-[60%]",children:(0,Ut.jsx)(Wve,{position:"left",value:a.data.text,className:"bg-lesson-pageColor/90 md:bg-lesson-pageColor",isNew:!1})})}),p&&R&&(0,Ut.jsx)(nfe.div,{className:"flex w-full justify-end",layout:"position",layoutId:"selected-response-".concat(p),transition:{layout:{duration:.2,ease:"easeOut"}},children:(0,Ut.jsx)("div",{className:"flex w-[85%] justify-end md:w-[70%]",children:(0,Ut.jsx)(Wve,{position:"right",value:(null===(r=a.data.options.find((function(e){return e.id===p})))||void 0===r?void 0:r.text)||"",isNew:!0})})})]})})}),(0,Ut.jsx)("div",{className:"w-full p-4",children:p?(null===(o=a.data.options.find((function(e){return e.id===p})))||void 0===o?void 0:o.feedback)&&(0,Ut.jsxs)(nfe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.35},className:"flex w-full items-center justify-between gap-2 rounded-md p-2",children:[(0,Ut.jsxs)(nfe.div,{initial:{x:-20},animate:{x:0},className:"flex max-w-[70%] items-center gap-2 rounded-md bg-lesson-pageColor p-2 md:max-w-none",children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)(Pve,{className:"h-4 w-4"})}),null===(i=a.data.options.find((function(e){return e.id===p})))||void 0===i?void 0:i.feedback]}),(0,Ut.jsxs)(Fr,{className:"bg-lesson-buttonColor text-lesson-buttonText",variant:"themable",onClick:function(){var e=a.data.options.find((function(e){return e.id===p}));e&&w(e)},children:[ZK("Continue"),(0,Ut.jsx)(kve,{className:"h-4 w-4"})]})]}):(0,Ut.jsx)("div",{className:"flex w-full justify-end",children:(0,Ut.jsx)("div",{className:"flex w-[85%] flex-col items-end gap-2 md:w-[70%]",children:y.map((function(e,t){return(0,Ut.jsx)(nfe.div,{className:"flex w-full cursor-pointer justify-end",onClick:function(){f.updateState({selected:e.id}),e.feedback?wpe({tileNarration:a.narration,itemId:"".concat(e.id,"-feedback"),pageNarrations:d}):w(e)},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*t},children:(0,Ut.jsx)("div",{className:"flex w-full justify-end",children:(0,Ut.jsx)(Wve,{position:"right",value:e.text})})},e.id)}))})})})]})]})]}),m&&(0,Ut.jsx)(zve,{id:m,nodeHistory:e.nodeHistory,setNodeHistory:e.setNodeHistory,rootId:e.rootId,parentId:a.parentId,mode:dh.VIEW,printMode:!1,preview:!1})]})}function Gve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kve(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Xve=function(e){var t,r=e.id,o=e.nodeHistory,i=e.setNodeHistory,a=e.rootId,s=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),l=Gve((0,n.useState)(null),2),c=l[0],u=l[1];return(0,n.useEffect)((function(){u(null)}),[o]),(0,Ut.jsxs)(Eve,{id:null===(t=s.data.scene)||void 0===t?void 0:t.id,children:[(0,Ut.jsxs)(Tve,{hasCharacter:!!s.data.characterPose,children:[s.data.characterPose&&(0,Ut.jsx)(Cve,{pose:s.data.characterPose}),(0,Ut.jsx)("div",{className:"relative w-full p-4 md:w-[500px]",children:(0,Ut.jsx)(Ppe,{blockContent:s,setNodeHistory:i,nodeHistory:o,rootId:a,setShowModalId:u})})]}),c&&(0,Ut.jsx)(zve,{id:c,nodeHistory:o,setNodeHistory:i,rootId:a,parentId:s.parentId,mode:dh.VIEW,printMode:!1,preview:!1})]})},Yve=function(e){var t,n,r,o=e.previousNodeId,i=e.setNodeHistory,a=e.rootId,s=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[o]})),l=be((function(e){return e.blockStates[o]})),c=be((function(e){return e.blockStates[(null==s?void 0:s.parentId)||""]})),u=(null==c?void 0:c.hasCompleted)||!1;if(!s)return(0,Ut.jsx)(Tve,{hasCharacter:!1,children:(0,Ut.jsx)("div",{className:"relative w-full p-4 md:w-[500px]",children:(0,Ut.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-2 rounded-lg bg-lesson-pageColor p-4 shadow-md",children:[(0,Ut.jsx)("div",{className:"text-center",children:(0,Ut.jsx)(GY,{editable:!1,className:"text-center",value:{content:[{type:"heading",content:[{type:"text",text:ZK("Completed")}],attrs:{level:2}},{type:"paragraph",content:[{type:"text",text:ZK("Correct")}]}],type:"doc"},onChange:function(e){}})}),(0,Ut.jsx)(fpe,{onClick:function(){console.log("Restarting experience"),ppe(a),i([]),be.setState((function(e){e.blockStates[a]&&(e.blockStates[a].hasCompleted=!0)}))},type:"complete",hasCompleted:u})]})})});var d=null===(t=s.data.scene)||void 0===t?void 0:t.id,f=null==l?void 0:l.selected,p=null!==(n=null===(r=s.data.options)||void 0===r?void 0:r.find((function(e){return e.id===f})))&&void 0!==n?n:null,h=p&&"result"in p.next?p.next.result:null,m=ZK("Correct");return"incorrect"===h?m=ZK("Incorrect"):"partial"===h&&(m="Partial"),(0,Ut.jsx)(Eve,{id:d,children:(0,Ut.jsx)(Tve,{hasCharacter:!1,children:(0,Ut.jsx)("div",{className:"relative w-full p-4 md:w-[500px]",children:(0,Ut.jsxs)("div",{className:"flex w-full flex-col items-center justify-center gap-2 rounded-lg bg-lesson-pageColor p-4 shadow-md",children:[(0,Ut.jsx)("div",{className:"text-center",children:(0,Ut.jsx)(GY,{editable:!1,className:"text-center",value:{content:[{type:"heading",content:[{type:"text",text:ZK("Completed")}],attrs:{level:2}},{type:"paragraph",content:[{type:"text",text:m}]}],type:"doc"},onChange:function(e){}})}),(0,Ut.jsx)(fpe,{onClick:function(){ppe(s.parentId),i([]),ppe(a),be.setState((function(e){e.blockStates[s.parentId]&&(e.blockStates[s.parentId].hasCompleted=!0)}))},type:"complete",hasCompleted:u})]})})})})};
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Zve=Gw("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);function Jve(e){return Jve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jve(e)}function Qve(){Qve=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Jve(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Jve(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function ege(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function tge(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ege(i,r,o,a,s,"next",e)}function s(e){ege(i,r,o,a,s,"throw",e)}a(void 0)}))}}function nge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rge(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rge(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oge(e){var t=e.id,r=e.parentId,o=e.data,i=nge((0,n.useState)(!1),2),a=i[0],s=i[1],l=be((function(e){return e.lessonId})),c=Sh(),u=Th((function(e){return e.postGenIds})),d=(0,n.useCallback)(tge(Qve().mark((function e(){var t,n,i,a;return Qve().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&r){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.next=5,Fs.generateExperience.generateScenario.mutate({generateExperienceInstructions:o.instructions,learnerInstructions:o.learner,characterInstructions:o.character,length:"medium",characterPose:{characterId:"eric",emotion:"neutral",type:"preset"},lessonId:l});case 5:t=e.sent,n=t.tile,i=t.tileId,a=t.blocks,s(!1),Yhe(n,i,a);case 11:case"end":return e.stop()}}),e)}))),[t,r,l,o]);return(0,Ut.jsx)(Eve,{id:"",children:(0,Ut.jsx)("div",{className:"relative h-full rounded-xl",style:{borderWidth:1,borderStyle:"solid",borderColor:c.headerColor},children:(0,Ut.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col items-center justify-center overflow-hidden rounded-xl ",children:[(0,Ut.jsxs)("div",{className:"relative flex h-12 w-12 items-center justify-center",children:[(0,Ut.jsx)(Zve,{className:"absolute h-6 w-6",style:{color:c.accentColor}}),(a||r&&u.includes(r))&&(0,Ut.jsx)(Ar,{className:"absolute h-12 w-12",style:{color:c.accentColor},sx:{animationDuration:"10s"}})]}),(0,Ut.jsxs)("div",{className:"max-w-[400px] px-8 pt-4 text-center",style:{color:c.accentColor},children:["Character: ",o.character," ",(0,Ut.jsx)("br",{})," ",(0,Ut.jsx)("br",{}),"Learner: ",o.learner," ",(0,Ut.jsx)("br",{}),(0,Ut.jsx)("br",{}),"Instructions: ",o.instructions]}),!a&&!(r&&u.includes(r))&&(0,Ut.jsx)("div",{className:"mt-4",children:(0,Ut.jsx)(Fr,{variant:"primary",style:{backgroundColor:c.accentColor,color:c.pageColor},onClick:function(){d()},children:"Generate"})})]})})})}const ige=(e,t)=>{if("number"==typeof e)return 3===t?{mode:"rgb",r:(e>>8&15|e>>4&240)/255,g:(e>>4&15|240&e)/255,b:(15&e|e<<4&240)/255}:4===t?{mode:"rgb",r:(e>>12&15|e>>8&240)/255,g:(e>>8&15|e>>4&240)/255,b:(e>>4&15|240&e)/255,alpha:(15&e|e<<4&240)/255}:6===t?{mode:"rgb",r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}:8===t?{mode:"rgb",r:(e>>24&255)/255,g:(e>>16&255)/255,b:(e>>8&255)/255,alpha:(255&e)/255}:void 0},age={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},sge=e=>ige(age[e.toLowerCase()],6),lge=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,cge=e=>{let t;return(t=e.match(lge))?ige(parseInt(t[1],16),t[1].length):void 0},uge="([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)",dge=`${uge}%`,fge=`(?:${uge}%|${uge})`,pge=`(?:${uge}(deg|grad|rad|turn)|${uge})`,hge="\\s*,\\s*",mge=(new RegExp("^"+`(?:${uge}%|${uge}|none)`+"$"),new RegExp(`^rgba?\\(\\s*${uge}${hge}${uge}${hge}${uge}\\s*(?:,\\s*${fge}\\s*)?\\)$`)),vge=new RegExp(`^rgba?\\(\\s*${dge}${hge}${dge}${hge}${dge}\\s*(?:,\\s*${fge}\\s*)?\\)$`),gge=e=>{let t,n={mode:"rgb"};if(t=e.match(mge))void 0!==t[1]&&(n.r=t[1]/255),void 0!==t[2]&&(n.g=t[2]/255),void 0!==t[3]&&(n.b=t[3]/255);else{if(!(t=e.match(vge)))return;void 0!==t[1]&&(n.r=t[1]/100),void 0!==t[2]&&(n.g=t[2]/100),void 0!==t[3]&&(n.b=t[3]/100)}return void 0!==t[4]?n.alpha=Math.max(0,Math.min(1,t[4]/100)):void 0!==t[5]&&(n.alpha=Math.max(0,Math.min(1,+t[5]))),n},yge=(e,t)=>void 0===e?void 0:"object"!=typeof e?Gge(e):void 0!==e.mode?e:t?{...e,mode:t}:void 0,bge=(e="rgb")=>t=>void 0!==(t=yge(t,e))?t.mode===e?t:wge[t.mode][e]?wge[t.mode][e](t):"rgb"===e?wge[t.mode].rgb(t):wge.rgb[e](wge[t.mode].rgb(t)):void 0,wge={},xge={},Sge=[],kge={},Ege=e=>e,Oge=e=>(wge[e.mode]={...wge[e.mode],...e.toMode},Object.keys(e.fromMode||{}).forEach((t=>{wge[t]||(wge[t]={}),wge[t][e.mode]=e.fromMode[t]})),e.ranges||(e.ranges={}),e.difference||(e.difference={}),e.channels.forEach((t=>{if(void 0===e.ranges[t]&&(e.ranges[t]=[0,1]),!e.interpolate[t])throw new Error(`Missing interpolator for: ${t}`);"function"==typeof e.interpolate[t]&&(e.interpolate[t]={use:e.interpolate[t]}),e.interpolate[t].fixup||(e.interpolate[t].fixup=Ege)})),xge[e.mode]=e,(e.parse||[]).forEach((t=>{jge(t,e.mode)})),bge(e.mode)),jge=(e,t)=>{if("string"==typeof e){if(!t)throw new Error("'mode' required when 'parser' is a string");kge[e]=t}else"function"==typeof e&&Sge.indexOf(e)<0&&Sge.push(e)},_ge=/[^\x00-\x7F]|[a-zA-Z_]/,Cge=/[^\x00-\x7F]|[-\w]/,Tge="function",Pge="ident",Age="number",Nge="percentage",Mge=")",Ige="none",Rge="hue",Lge="alpha";let Dge=0;function Fge(e){let t=e[Dge],n=e[Dge+1];return"-"===t||"+"===t?/\d/.test(n)||"."===n&&/\d/.test(e[Dge+2]):/\d/.test("."===t?n:t)}function zge(e){if(Dge>=e.length)return!1;let t=e[Dge];if(_ge.test(t))return!0;if("-"===t){if(e.length-Dge<2)return!1;let t=e[Dge+1];return!("-"!==t&&!_ge.test(t))}return!1}const Bge={deg:1,rad:180/Math.PI,grad:.9,turn:360};function $ge(e){let t="";if("-"!==e[Dge]&&"+"!==e[Dge]||(t+=e[Dge++]),t+=Uge(e),"."===e[Dge]&&/\d/.test(e[Dge+1])&&(t+=e[Dge++]+Uge(e)),"e"!==e[Dge]&&"E"!==e[Dge]||("-"!==e[Dge+1]&&"+"!==e[Dge+1]||!/\d/.test(e[Dge+2])?/\d/.test(e[Dge+1])&&(t+=e[Dge++]+Uge(e)):t+=e[Dge++]+e[Dge++]+Uge(e)),zge(e)){let n=Vge(e);return"deg"===n||"rad"===n||"turn"===n||"grad"===n?{type:Rge,value:t*Bge[n]}:void 0}return"%"===e[Dge]?(Dge++,{type:Nge,value:+t}):{type:Age,value:+t}}function Uge(e){let t="";for(;/\d/.test(e[Dge]);)t+=e[Dge++];return t}function Vge(e){let t="";for(;Dge<e.length&&Cge.test(e[Dge]);)t+=e[Dge++];return t}function Hge(e){let t=Vge(e);return"("===e[Dge]?(Dge++,{type:Tge,value:t}):"none"===t?{type:Ige,value:void 0}:{type:Pge,value:t}}function Wge(e){e._i=0;let t=e[e._i++];if(!t||t.type!==Tge||"color"!==t.value)return;if(t=e[e._i++],t.type!==Pge)return;const n=kge[t.value];if(!n)return;const r={mode:n},o=qge(e,!1);if(!o)return;const i=(e=>xge[e])(n).channels;for(let e,t,n=0;n<i.length;n++)e=o[n],t=i[n],e.type!==Ige&&(r[t]=e.type===Age?e.value:e.value/100,"alpha"===t&&(r[t]=Math.max(0,Math.min(1,r[t]))));return r}function qge(e,t){const n=[];let r;for(;e._i<e.length;)if(r=e[e._i++],r.type===Ige||r.type===Age||r.type===Lge||r.type===Nge||t&&r.type===Rge)n.push(r);else{if(r.type!==Mge)return;if(e._i<e.length)return}if(!(n.length<3||n.length>4)){if(4===n.length){if(n[3].type!==Lge)return;n[3]=n[3].value}return 3===n.length&&n.push({type:Ige,value:void 0}),n.every((e=>e.type!==Lge))?n:void 0}}const Gge=e=>{if("string"!=typeof e)return;const t=function(e=""){let t,n=e.trim(),r=[];for(Dge=0;Dge<n.length;)if(t=n[Dge++],"\n"!==t&&"\t"!==t&&" "!==t){if(","===t)return;if(")"!==t){if("+"===t){if(Dge--,Fge(n)){r.push($ge(n));continue}return}if("-"===t){if(Dge--,Fge(n)){r.push($ge(n));continue}if(zge(n)){r.push({type:Pge,value:Vge(n)});continue}return}if("."===t){if(Dge--,Fge(n)){r.push($ge(n));continue}return}if("/"===t){for(;Dge<n.length&&("\n"===n[Dge]||"\t"===n[Dge]||" "===n[Dge]);)Dge++;let e;if(Fge(n)&&(e=$ge(n),e.type!==Rge)){r.push({type:Lge,value:e});continue}if(zge(n)&&"none"===Vge(n)){r.push({type:Lge,value:{type:Ige,value:void 0}});continue}return}if(/\d/.test(t))Dge--,r.push($ge(n));else{if(!_ge.test(t))return;Dge--,r.push(Hge(n))}}else r.push({type:Mge})}else for(;Dge<n.length&&("\n"===n[Dge]||"\t"===n[Dge]||" "===n[Dge]);)Dge++;return r}(e),n=t?function(e,t){e._i=0;let n=e[e._i++];if(!n||n.type!==Tge)return;let r=qge(e,t);return r?(r.unshift(n.value),r):void 0}(t,!0):void 0;let r,o=0,i=Sge.length;for(;o<i;)if(void 0!==(r=Sge[o++](e,n)))return r;return t?Wge(t):void 0};const Kge=function(e,t){if(!t||"rgb"!==t[0]&&"rgba"!==t[0])return;const n={mode:"rgb"},[,r,o,i,a]=t;return r.type!==Rge&&o.type!==Rge&&i.type!==Rge?(r.type!==Ige&&(n.r=r.type===Age?r.value/255:r.value/100),o.type!==Ige&&(n.g=o.type===Age?o.value/255:o.value/100),i.type!==Ige&&(n.b=i.type===Age?i.value/255:i.value/100),a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n):void 0},Xge=e=>"transparent"===e?{mode:"rgb",r:0,g:0,b:0,alpha:0}:void 0,Yge=(e,t,n)=>e+n*(t-e),Zge=(Jge=Yge,e=>{let t=(e=>{let t=[];for(let n=0;n<e.length-1;n++){let r=e[n],o=e[n+1];void 0===r&&void 0===o?t.push(void 0):void 0!==r&&void 0!==o?t.push([r,o]):t.push(void 0!==r?[r,r]:[o,o])}return t})(e);return e=>{let n=e*t.length,r=e>=1?t.length-1:Math.max(Math.floor(n),0),o=t[r];return void 0===o?void 0:Jge(o[0],o[1],n-r)}});var Jge;const Qge=e=>{let t=!1,n=e.map((e=>void 0!==e?(t=!0,e):1));return t?n:e},eye={mode:"rgb",channels:["r","g","b","alpha"],parse:[Kge,cge,gge,sge,Xge,"srgb"],serialize:"srgb",interpolate:{r:Zge,g:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}},gamut:!0,white:{r:1,g:1,b:1},black:{r:0,g:0,b:0}},tye=(e=0)=>Math.pow(Math.abs(e),563/256)*Math.sign(e),nye=e=>{let t=tye(e.r),n=tye(e.g),r=tye(e.b),o={mode:"xyz65",x:.5766690429101305*t+.1855582379065463*n+.1882286462349947*r,y:.297344975250536*t+.6273635662554661*n+.0752914584939979*r,z:.0270313613864123*t+.0706888525358272*n+.9913375368376386*r};return void 0!==e.alpha&&(o.alpha=e.alpha),o},rye=e=>Math.pow(Math.abs(e),256/563)*Math.sign(e),oye=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o={mode:"a98",r:rye(2.0415879038107465*e-.5650069742788597*t-.3447313507783297*n),g:rye(-.9692436362808798*e+1.8759675015077206*t+.0415550574071756*n),b:rye(.0134442806320312*e-.1183623922310184*t+1.0151749943912058*n)};return void 0!==r&&(o.alpha=r),o},iye=(e=0)=>{const t=Math.abs(e);return t<=.04045?e/12.92:(Math.sign(e)||1)*Math.pow((t+.055)/1.055,2.4)},aye=({r:e,g:t,b:n,alpha:r})=>{let o={mode:"lrgb",r:iye(e),g:iye(t),b:iye(n)};return void 0!==r&&(o.alpha=r),o},sye=e=>{let{r:t,g:n,b:r,alpha:o}=aye(e),i={mode:"xyz65",x:.4123907992659593*t+.357584339383878*n+.1804807884018343*r,y:.2126390058715102*t+.715168678767756*n+.0721923153607337*r,z:.0193308187155918*t+.119194779794626*n+.9505321522496607*r};return void 0!==o&&(i.alpha=o),i},lye=(e=0)=>{const t=Math.abs(e);return t>.0031308?(Math.sign(e)||1)*(1.055*Math.pow(t,1/2.4)-.055):12.92*e},cye=({r:e,g:t,b:n,alpha:r},o="rgb")=>{let i={mode:o,r:lye(e),g:lye(t),b:lye(n)};return void 0!==r&&(i.alpha=r),i},uye=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=cye({r:3.2409699419045226*e-1.537383177570094*t-.4986107602930034*n,g:-.9692436362808796*e+1.8759675015077204*t+.0415550574071756*n,b:.0556300796969936*e-.2039769588889765*t+1.0569715142428784*n});return void 0!==r&&(o.alpha=r),o},dye={...eye,mode:"a98",parse:["a98-rgb"],serialize:"a98-rgb",fromMode:{rgb:e=>oye(sye(e)),xyz65:oye},toMode:{rgb:e=>uye(nye(e)),xyz65:nye}},fye=dye,pye=e=>(e%=360)<0?e+360:e,hye=(e,t)=>e.map(((n,r,o)=>{if(void 0===n)return n;let i=pye(n);return 0===r||void 0===e[r-1]?i:t(i-pye(o[r-1]))})).reduce(((e,t)=>e.length&&void 0!==t&&void 0!==e[e.length-1]?(e.push(t+e[e.length-1]),e):(e.push(t),e)),[]),mye=e=>hye(e,(e=>Math.abs(e)<=180?e:e-360*Math.sign(e))),vye=[-.14861,1.78277,-.29227,-.90649,1.97294,0],gye=Math.PI/180,yye=180/Math.PI;let bye=vye[3]*vye[4],wye=vye[1]*vye[4],xye=vye[1]*vye[2]-vye[0]*vye[3];const Sye=({r:e,g:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=(xye*n+e*bye-t*wye)/(xye+bye-wye),i=n-o,a=(vye[4]*(t-o)-vye[2]*i)/vye[3],s={mode:"cubehelix",l:o,s:0===o||1===o?void 0:Math.sqrt(i*i+a*a)/(vye[4]*o*(1-o))};return s.s&&(s.h=Math.atan2(a,i)*yye-120),void 0!==r&&(s.alpha=r),s},kye=({h:e,s:t,l:n,alpha:r})=>{let o={mode:"rgb"};e=(void 0===e?0:e+120)*gye,void 0===n&&(n=0);let i=void 0===t?0:t*n*(1-n),a=Math.cos(e),s=Math.sin(e);return o.r=n+i*(vye[0]*a+vye[1]*s),o.g=n+i*(vye[2]*a+vye[3]*s),o.b=n+i*(vye[4]*a+vye[5]*s),void 0!==r&&(o.alpha=r),o},Eye=(e,t)=>{if(void 0===e.h||void 0===t.h||!e.s||!t.s)return 0;let n=pye(e.h),r=pye(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.s*t.s)*o},Oye=(e,t)=>{if(void 0===e.h||void 0===t.h||!e.c||!t.c)return 0;let n=pye(e.h),r=pye(t.h),o=Math.sin((r-n+360)/2*Math.PI/180);return 2*Math.sqrt(e.c*t.c)*o},jye=e=>{let t=e.reduce(((e,t)=>{if(void 0!==t){let n=t*Math.PI/180;e.sin+=Math.sin(n),e.cos+=Math.cos(n)}return e}),{sin:0,cos:0}),n=180*Math.atan2(t.sin,t.cos)/Math.PI;return n<0?360+n:n};const _ye={mode:"cubehelix",channels:["h","s","l","alpha"],parse:["--cubehelix"],serialize:"--cubehelix",ranges:{h:[0,360],s:[0,4.614],l:[0,1]},fromMode:{rgb:Sye},toMode:{rgb:kye},interpolate:{h:{use:Zge,fixup:mye},s:Zge,l:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Eye},average:{h:jye}},Cye=({l:e,a:t,b:n,alpha:r},o="lch")=>{void 0===t&&(t=0),void 0===n&&(n=0);let i=Math.sqrt(t*t+n*n),a={mode:o,l:e,c:i};return i&&(a.h=pye(180*Math.atan2(n,t)/Math.PI)),void 0!==r&&(a.alpha=r),a},Tye=({l:e,c:t,h:n,alpha:r},o="lab")=>{void 0===n&&(n=0);let i={mode:o,l:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return void 0!==r&&(i.alpha=r),i},Pye=Math.pow(29,3)/Math.pow(3,3),Aye=Math.pow(6,3)/Math.pow(29,3),Nye=.3457/.3585,Mye=1,Iye=.2958/.3585,Rye=.3127/.329,Lye=1,Dye=.3583/.329;Math.pow(29,3),Math.pow(3,3),Math.pow(6,3),Math.pow(29,3);let Fye=e=>Math.pow(e,3)>Aye?Math.pow(e,3):(116*e-16)/Pye;const zye=({l:e,a:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=(e+16)/116,i=o-n/200,a={mode:"xyz65",x:Fye(t/500+o)*Rye,y:Fye(o)*Lye,z:Fye(i)*Dye};return void 0!==r&&(a.alpha=r),a},Bye=e=>uye(zye(e)),$ye=e=>e>Aye?Math.cbrt(e):(Pye*e+16)/116,Uye=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=$ye(e/Rye),i=$ye(t/Lye),a={mode:"lab65",l:116*i-16,a:500*(o-i),b:200*(i-$ye(n/Dye))};return void 0!==r&&(a.alpha=r),a},Vye=e=>{let t=Uye(sye(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Hye=26/180*Math.PI,Wye=Math.cos(Hye),qye=Math.sin(Hye),Gye=100/Math.log(1.39),Kye=({l:e,c:t,h:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o={mode:"lab65",l:(Math.exp(1*e/Gye)-1)/.0039},i=(Math.exp(.0435*t*1*1)-1)/.075,a=i*Math.cos(n/180*Math.PI-Hye),s=i*Math.sin(n/180*Math.PI-Hye);return o.a=a*Wye-s/.83*qye,o.b=a*qye+s/.83*Wye,void 0!==r&&(o.alpha=r),o},Xye=({l:e,a:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=t*Wye+n*qye,i=.83*(n*Wye-t*qye),a=Math.sqrt(o*o+i*i),s={mode:"dlch",l:Gye/1*Math.log(1+.0039*e),c:Math.log(1+.075*a)/.0435};return s.c&&(s.h=pye((Math.atan2(i,o)+Hye)/Math.PI*180)),void 0!==r&&(s.alpha=r),s},Yye=e=>Kye(Cye(e,"dlch")),Zye=e=>Tye(Xye(e),"dlab"),Jye={mode:"dlab",parse:["--din99o-lab"],serialize:"--din99o-lab",toMode:{lab65:Yye,rgb:e=>Bye(Yye(e))},fromMode:{lab65:Zye,rgb:e=>Zye(Vye(e))},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-40.09,45.501],b:[-40.469,44.344]},interpolate:{l:Zge,a:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}}},Qye=Jye,ebe={mode:"dlch",parse:["--din99o-lch"],serialize:"--din99o-lch",toMode:{lab65:Kye,dlab:e=>Tye(e,"dlab"),rgb:e=>Bye(Kye(e))},fromMode:{lab65:Xye,dlab:e=>Cye(e,"dlch"),rgb:e=>Xye(Vye(e))},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,51.484],h:[0,360]},interpolate:{l:Zge,c:Zge,h:{use:Zge,fixup:mye},alpha:{use:Zge,fixup:Qge}},difference:{h:Oye},average:{h:jye}},tbe=ebe;const nbe={mode:"hsi",toMode:{rgb:function({h:e,s:t,i:n,alpha:r}){e=pye(void 0!==e?e:0),void 0===t&&(t=0),void 0===n&&(n=0);let o,i=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:n*(1+t*(3/(2-i)-1)),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1-t)};break;case 1:o={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1+t*(3/(2-i)-1)),b:n*(1-t)};break;case 2:o={r:n*(1-t),g:n*(1+t*(3/(2-i)-1)),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;case 3:o={r:n*(1-t),g:n*(1+t*(3*(1-i)/(2-i)-1)),b:n*(1+t*(3/(2-i)-1))};break;case 4:o={r:n*(1+t*(3*(1-i)/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3/(2-i)-1))};break;case 5:o={r:n*(1+t*(3/(2-i)-1)),g:n*(1-t),b:n*(1+t*(3*(1-i)/(2-i)-1))};break;default:o={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return o.mode="rgb",void 0!==r&&(o.alpha=r),o}},parse:["--hsi"],serialize:"--hsi",fromMode:{rgb:function({r:e,g:t,b:n,alpha:r}){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsi",s:e+t+n===0?0:1-3*i/(e+t+n),i:(e+t+n)/3};return o-i!=0&&(a.h=60*(o===e?(t-n)/(o-i)+6*(t<n):o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)),void 0!==r&&(a.alpha=r),a}},channels:["h","s","i","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Zge,fixup:mye},s:Zge,i:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Eye},average:{h:jye}},rbe=nbe;const obe=(e,t)=>{switch(t){case"deg":return+e;case"rad":return e/Math.PI*180;case"grad":return e/10*9;case"turn":return 360*e}},ibe=new RegExp(`^hsla?\\(\\s*${pge}${hge}${dge}${hge}${dge}\\s*(?:,\\s*${fge}\\s*)?\\)$`),abe=e=>{let t=e.match(ibe);if(!t)return;let n={mode:"hsl"};return void 0!==t[3]?n.h=+t[3]:void 0!==t[1]&&void 0!==t[2]&&(n.h=obe(t[1],t[2])),void 0!==t[4]&&(n.s=Math.min(Math.max(0,t[4]/100),1)),void 0!==t[5]&&(n.l=Math.min(Math.max(0,t[5]/100),1)),void 0!==t[6]?n.alpha=Math.max(0,Math.min(1,t[6]/100)):void 0!==t[7]&&(n.alpha=Math.max(0,Math.min(1,+t[7]))),n};const sbe=function(e,t){if(!t||"hsl"!==t[0]&&"hsla"!==t[0])return;const n={mode:"hsl"},[,r,o,i,a]=t;if(r.type!==Ige){if(r.type===Nge)return;n.h=r.value}if(o.type!==Ige){if(o.type===Rge)return;n.s=o.value/100}if(i.type!==Ige){if(i.type===Rge)return;n.l=i.value/100}return a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n},lbe={mode:"hsl",toMode:{rgb:function({h:e,s:t,l:n,alpha:r}){e=pye(void 0!==e?e:0),void 0===t&&(t=0),void 0===n&&(n=0);let o,i=n+t*(n<.5?n:1-n),a=i-2*(i-n)*Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:i,g:a,b:2*n-i};break;case 1:o={r:a,g:i,b:2*n-i};break;case 2:o={r:2*n-i,g:i,b:a};break;case 3:o={r:2*n-i,g:a,b:i};break;case 4:o={r:a,g:2*n-i,b:i};break;case 5:o={r:i,g:2*n-i,b:a};break;default:o={r:2*n-i,g:2*n-i,b:2*n-i}}return o.mode="rgb",void 0!==r&&(o.alpha=r),o}},fromMode:{rgb:function({r:e,g:t,b:n,alpha:r}){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsl",s:o===i?0:(o-i)/(1-Math.abs(o+i-1)),l:.5*(o+i)};return o-i!=0&&(a.h=60*(o===e?(t-n)/(o-i)+6*(t<n):o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)),void 0!==r&&(a.alpha=r),a}},channels:["h","s","l","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[sbe,abe],serialize:e=>`hsl(${void 0!==e.h?e.h:"none"} ${void 0!==e.s?100*e.s+"%":"none"} ${void 0!==e.l?100*e.l+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Zge,fixup:mye},s:Zge,l:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Eye},average:{h:jye}},cbe=lbe;function ube({h:e,s:t,v:n,alpha:r}){e=pye(void 0!==e?e:0),void 0===t&&(t=0),void 0===n&&(n=0);let o,i=Math.abs(e/60%2-1);switch(Math.floor(e/60)){case 0:o={r:n,g:n*(1-t*i),b:n*(1-t)};break;case 1:o={r:n*(1-t*i),g:n,b:n*(1-t)};break;case 2:o={r:n*(1-t),g:n,b:n*(1-t*i)};break;case 3:o={r:n*(1-t),g:n*(1-t*i),b:n};break;case 4:o={r:n*(1-t*i),g:n*(1-t),b:n};break;case 5:o={r:n,g:n*(1-t),b:n*(1-t*i)};break;default:o={r:n*(1-t),g:n*(1-t),b:n*(1-t)}}return o.mode="rgb",void 0!==r&&(o.alpha=r),o}function dbe({r:e,g:t,b:n,alpha:r}){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.max(e,t,n),i=Math.min(e,t,n),a={mode:"hsv",s:0===o?0:1-i/o,v:o};return o-i!=0&&(a.h=60*(o===e?(t-n)/(o-i)+6*(t<n):o===t?(n-e)/(o-i)+2:(e-t)/(o-i)+4)),void 0!==r&&(a.alpha=r),a}const fbe={mode:"hsv",toMode:{rgb:ube},parse:["--hsv"],serialize:"--hsv",fromMode:{rgb:dbe},channels:["h","s","v","alpha"],ranges:{h:[0,360]},gamut:"rgb",interpolate:{h:{use:Zge,fixup:mye},s:Zge,v:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Eye},average:{h:jye}};const pbe=function(e,t){if(!t||"hwb"!==t[0])return;const n={mode:"hwb"},[,r,o,i,a]=t;if(r.type!==Ige){if(r.type===Nge)return;n.h=r.value}if(o.type!==Ige){if(o.type===Rge)return;n.w=o.value/100}if(i.type!==Ige){if(i.type===Rge)return;n.b=i.value/100}return a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n},hbe={mode:"hwb",toMode:{rgb:function({h:e,w:t,b:n,alpha:r}){if(void 0===t&&(t=0),void 0===n&&(n=0),t+n>1){let e=t+n;t/=e,n/=e}return ube({h:e,s:1===n?1:1-t/(1-n),v:1-n,alpha:r})}},fromMode:{rgb:function(e){let t=dbe(e);if(void 0===t)return;let n=void 0!==t.s?t.s:0,r=void 0!==t.v?t.v:0,o={mode:"hwb",w:(1-n)*r,b:1-r};return void 0!==t.h&&(o.h=t.h),void 0!==t.alpha&&(o.alpha=t.alpha),o}},channels:["h","w","b","alpha"],ranges:{h:[0,360]},gamut:"rgb",parse:[pbe],serialize:e=>`hwb(${void 0!==e.h?e.h:"none"} ${void 0!==e.w?100*e.w+"%":"none"} ${void 0!==e.b?100*e.b+"%":"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Zge,fixup:mye},w:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:(e,t)=>{if(void 0===e.h||void 0===t.h)return 0;let n=pye(e.h),r=pye(t.h);return Math.abs(r-n)>180?n-(r-360*Math.sign(r-n)):r-n}},average:{h:jye}},mbe=hbe,vbe=.1593017578125,gbe=78.84375,ybe=.8359375,bbe=18.8515625,wbe=18.6875;function xbe(e){if(e<0)return 0;const t=Math.pow(e,1/gbe);return 1e4*Math.pow(Math.max(0,t-ybe)/(bbe-wbe*t),1/vbe)}function Sbe(e){if(e<0)return 0;const t=Math.pow(e/1e4,vbe);return Math.pow((ybe+bbe*t)/(1+wbe*t),gbe)}const kbe=e=>Math.max(e/203,0),Ebe=({i:e,t,p:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);const o=xbe(e+.008609037037932761*t+.11102962500302593*n),i=xbe(e-.00860903703793275*t-.11102962500302599*n),a=xbe(e+.5600313357106791*t-.32062717498731885*n),s={mode:"xyz65",x:kbe(2.070152218389422*o-1.3263473389671556*i+.2066510476294051*a),y:kbe(.3647385209748074*o+.680566024947227*i-.0453045459220346*a),z:kbe(-.049747207535812*o-.0492609666966138*i+1.1880659249923042*a)};return void 0!==r&&(s.alpha=r),s},Obe=(e=0)=>Math.max(203*e,0),jbe=({x:e,y:t,z:n,alpha:r})=>{const o=Obe(e),i=Obe(t),a=Obe(n),s=Sbe(.3592832590121217*o+.6976051147779502*i-.0358915932320289*a),l=Sbe(-.1920808463704995*o+1.1004767970374323*i+.0753748658519118*a),c=Sbe(.0070797844607477*o+.0748396662186366*i+.8433265453898765*a),u={mode:"itp",i:.5*s+.5*l,t:1.61376953125*s-3.323486328125*l+1.709716796875*c,p:4.378173828125*s-4.24560546875*l-.132568359375*c};return void 0!==r&&(u.alpha=r),u},_be={mode:"itp",channels:["i","t","p","alpha"],parse:["--ictcp"],serialize:"--ictcp",toMode:{xyz65:Ebe,rgb:e=>uye(Ebe(e))},fromMode:{xyz65:jbe,rgb:e=>jbe(sye(e))},ranges:{i:[0,.581],t:[-.369,.272],p:[-.164,.331]},interpolate:{i:Zge,t:Zge,p:Zge,alpha:{use:Zge,fixup:Qge}}},Cbe=_be,Tbe=e=>{if(e<0)return 0;let t=Math.pow(e/1e4,vbe);return Math.pow((ybe+bbe*t)/(1+wbe*t),134.03437499999998)},Pbe=(e=0)=>Math.max(203*e,0),Abe=({x:e,y:t,z:n,alpha:r})=>{e=Pbe(e),t=Pbe(t);let o=1.15*e-.15*(n=Pbe(n)),i=.66*t+.34*e,a=Tbe(.41478972*o+.579999*i+.014648*n),s=Tbe(-.20151*o+1.120649*i+.0531008*n),l=Tbe(-.0166008*o+.2648*i+.6684799*n),c=(a+s)/2,u={mode:"jab",j:.44*c/(1-.56*c)-16295499532821565e-27,a:3.524*a-4.066708*s+.542708*l,b:.199076*a+1.096799*s-1.295875*l};return void 0!==r&&(u.alpha=r),u},Nbe=16295499532821565e-27,Mbe=e=>{if(e<0)return 0;let t=Math.pow(e,.007460772656268216);return 1e4*Math.pow((ybe-t)/(wbe*t-bbe),1/vbe)},Ibe=e=>e/203,Rbe=({j:e,a:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=(e+Nbe)/(.44+.56*(e+Nbe)),i=Mbe(o+.13860504*t+.058047316*n),a=Mbe(o-.13860504*t-.058047316*n),s=Mbe(o-.096019242*t-.8118919*n),l={mode:"xyz65",x:Ibe(1.661373024652174*i-.914523081304348*a+.23136208173913045*s),y:Ibe(-.3250758611844533*i+1.571847026732543*a-.21825383453227928*s),z:Ibe(-.090982811*i-.31272829*a+1.5227666*s)};return void 0!==r&&(l.alpha=r),l},Lbe=e=>{let t=Abe(sye(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Dbe=e=>uye(Rbe(e)),Fbe={mode:"jab",channels:["j","a","b","alpha"],parse:["--jzazbz"],serialize:"--jzazbz",fromMode:{rgb:Lbe,xyz65:Abe},toMode:{rgb:Dbe,xyz65:Rbe},ranges:{j:[0,.222],a:[-.109,.129],b:[-.185,.134]},interpolate:{j:Zge,a:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}}},zbe=({j:e,a:t,b:n,alpha:r})=>{void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"jch",j:e,c:o};return o&&(i.h=pye(180*Math.atan2(n,t)/Math.PI)),void 0!==r&&(i.alpha=r),i},Bbe=({j:e,c:t,h:n,alpha:r})=>{void 0===n&&(n=0);let o={mode:"jab",j:e,a:t?t*Math.cos(n/180*Math.PI):0,b:t?t*Math.sin(n/180*Math.PI):0};return void 0!==r&&(o.alpha=r),o},$be={mode:"jch",parse:["--jzczhz"],serialize:"--jzczhz",toMode:{jab:Bbe,rgb:e=>Dbe(Bbe(e))},fromMode:{rgb:e=>zbe(Lbe(e)),jab:zbe},channels:["j","c","h","alpha"],ranges:{j:[0,.221],c:[0,.19],h:[0,360]},interpolate:{h:{use:Zge,fixup:mye},c:Zge,j:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Oye},average:{h:jye}},Ube=$be,Vbe=Math.pow(29,3)/Math.pow(3,3),Hbe=Math.pow(6,3)/Math.pow(29,3);let Wbe=e=>Math.pow(e,3)>Hbe?Math.pow(e,3):(116*e-16)/Vbe;const qbe=({l:e,a:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=(e+16)/116,i=o-n/200,a={mode:"xyz50",x:Wbe(t/500+o)*Nye,y:Wbe(o)*Mye,z:Wbe(i)*Iye};return void 0!==r&&(a.alpha=r),a},Gbe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=cye({r:3.1341359569958707*e-1.6173863321612538*t-.4906619460083532*n,g:-.978795502912089*e+1.916254567259524*t+.03344273116131949*n,b:.07195537988411677*e-.2289768264158322*t+1.405386058324125*n});return void 0!==r&&(o.alpha=r),o},Kbe=e=>Gbe(qbe(e)),Xbe=e=>{let{r:t,g:n,b:r,alpha:o}=aye(e),i={mode:"xyz50",x:.436065742824811*t+.3851514688337912*n+.14307845442264197*r,y:.22249319175623702*t+.7168870538238823*n+.06061979053616537*r,z:.013923904500943465*t+.09708128566574634*n+.7140993584005155*r};return void 0!==o&&(i.alpha=o),i},Ybe=e=>e>Hbe?Math.cbrt(e):(Vbe*e+16)/116,Zbe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Ybe(e/Nye),i=Ybe(t/Mye),a={mode:"lab",l:116*i-16,a:500*(o-i),b:200*(i-Ybe(n/Iye))};return void 0!==r&&(a.alpha=r),a},Jbe=e=>{let t=Zbe(Xbe(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t};const Qbe=function(e,t){if(!t||"lab"!==t[0])return;const n={mode:"lab"},[,r,o,i,a]=t;return r.type!==Rge&&o.type!==Rge&&i.type!==Rge?(r.type!==Ige&&(n.l=Math.min(Math.max(0,r.value),100)),o.type!==Ige&&(n.a=o.type===Age?o.value:125*o.value/100),i.type!==Ige&&(n.b=i.type===Age?i.value:125*i.value/100),a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n):void 0},ewe={mode:"lab",toMode:{xyz50:qbe,rgb:Kbe},fromMode:{xyz50:Zbe,rgb:Jbe},channels:["l","a","b","alpha"],ranges:{l:[0,100],a:[-100,100],b:[-100,100]},parse:[Qbe],serialize:e=>`lab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{l:Zge,a:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}}},twe=ewe,nwe={...twe,mode:"lab65",parse:["--lab-d65"],serialize:"--lab-d65",toMode:{xyz65:zye,rgb:Bye},fromMode:{xyz65:Uye,rgb:Vye},ranges:{l:[0,100],a:[-86.182,98.234],b:[-107.86,94.477]}};const rwe=function(e,t){if(!t||"lch"!==t[0])return;const n={mode:"lch"},[,r,o,i,a]=t;if(r.type!==Ige){if(r.type===Rge)return;n.l=Math.min(Math.max(0,r.value),100)}if(o.type!==Ige&&(n.c=Math.max(0,o.type===Age?o.value:150*o.value/100)),i.type!==Ige){if(i.type===Nge)return;n.h=i.value}return a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n},owe={mode:"lch",toMode:{lab:Tye,rgb:e=>Kbe(Tye(e))},fromMode:{rgb:e=>Cye(Jbe(e)),lab:Cye},channels:["l","c","h","alpha"],ranges:{l:[0,100],c:[0,150],h:[0,360]},parse:[rwe],serialize:e=>`lch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,interpolate:{h:{use:Zge,fixup:mye},c:Zge,l:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Oye},average:{h:jye}},iwe=owe,awe={...iwe,mode:"lch65",parse:["--lch-d65"],serialize:"--lch-d65",toMode:{lab65:e=>Tye(e,"lab65"),rgb:e=>Bye(Tye(e,"lab65"))},fromMode:{rgb:e=>Cye(Vye(e),"lch65"),lab65:e=>Cye(e,"lch65")},ranges:{l:[0,100],c:[0,133.807],h:[0,360]}},swe=awe,lwe=({l:e,u:t,v:n,alpha:r})=>{void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.sqrt(t*t+n*n),i={mode:"lchuv",l:e,c:o};return o&&(i.h=pye(180*Math.atan2(n,t)/Math.PI)),void 0!==r&&(i.alpha=r),i},cwe=({l:e,c:t,h:n,alpha:r})=>{void 0===n&&(n=0);let o={mode:"luv",l:e,u:t?t*Math.cos(n/180*Math.PI):0,v:t?t*Math.sin(n/180*Math.PI):0};return void 0!==r&&(o.alpha=r),o},uwe=(e,t,n)=>4*e/(e+15*t+3*n),dwe=(e,t,n)=>9*t/(e+15*t+3*n),fwe=uwe(Nye,Mye,Iye),pwe=dwe(Nye,Mye,Iye),hwe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=(e=>e<=Hbe?Vbe*e:116*Math.cbrt(e)-16)(t/Mye),i=uwe(e,t,n),a=dwe(e,t,n);isFinite(i)&&isFinite(a)?(i=13*o*(i-fwe),a=13*o*(a-pwe)):o=i=a=0;let s={mode:"luv",l:o,u:i,v:a};return void 0!==r&&(s.alpha=r),s},mwe=((e,t,n)=>4*e/(e+15*t+3*n))(Nye,Mye,Iye),vwe=((e,t,n)=>9*t/(e+15*t+3*n))(Nye,Mye,Iye),gwe=({l:e,u:t,v:n,alpha:r})=>{if(void 0===e&&(e=0),0===e)return{mode:"xyz50",x:0,y:0,z:0};void 0===t&&(t=0),void 0===n&&(n=0);let o=t/(13*e)+mwe,i=n/(13*e)+vwe,a=Mye*(e<=8?e/Vbe:Math.pow((e+16)/116,3)),s={mode:"xyz50",x:a*(9*o)/(4*i),y:a,z:a*(12-3*o-20*i)/(4*i)};return void 0!==r&&(s.alpha=r),s},ywe={mode:"lchuv",toMode:{luv:cwe,rgb:e=>Gbe(gwe(cwe(e)))},fromMode:{rgb:e=>lwe(hwe(Xbe(e))),luv:lwe},channels:["l","c","h","alpha"],parse:["--lchuv"],serialize:"--lchuv",ranges:{l:[0,100],c:[0,176.956],h:[0,360]},interpolate:{h:{use:Zge,fixup:mye},c:Zge,l:Zge,alpha:{use:Zge,fixup:Qge}},difference:{h:Oye},average:{h:jye}},bwe=ywe,wwe={...eye,mode:"lrgb",toMode:{rgb:cye},fromMode:{rgb:aye},parse:["srgb-linear"],serialize:"srgb-linear"},xwe={mode:"luv",toMode:{xyz50:gwe,rgb:e=>Gbe(gwe(e))},fromMode:{xyz50:hwe,rgb:e=>hwe(Xbe(e))},channels:["l","u","v","alpha"],parse:["--luv"],serialize:"--luv",ranges:{l:[0,100],u:[-84.936,175.042],v:[-125.882,87.243]},interpolate:{l:Zge,u:Zge,v:Zge,alpha:{use:Zge,fixup:Qge}}},Swe=xwe,kwe=({r:e,g:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.cbrt(.41222147079999993*e+.5363325363*t+.0514459929*n),i=Math.cbrt(.2119034981999999*e+.6806995450999999*t+.1073969566*n),a=Math.cbrt(.08830246189999998*e+.2817188376*t+.6299787005000002*n),s={mode:"oklab",l:.2104542553*o+.793617785*i-.0040720468*a,a:1.9779984951*o-2.428592205*i+.4505937099*a,b:.0259040371*o+.7827717662*i-.808675766*a};return void 0!==r&&(s.alpha=r),s},Ewe=e=>{let t=kwe(aye(e));return e.r===e.b&&e.b===e.g&&(t.a=t.b=0),t},Owe=({l:e,a:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=Math.pow(.9999999984505198*e+.39633779217376786*t+.2158037580607588*n,3),i=Math.pow(1.0000000088817609*e-.10556134232365635*t-.06385417477170591*n,3),a=Math.pow(1.0000000546724108*e-.08948418209496575*t-1.2914855378640917*n,3),s={mode:"lrgb",r:4.076741661347994*o-3.307711590408193*i+.230969928729428*a,g:-1.2684380040921763*o+2.6097574006633715*i-.3413193963102197*a,b:-.004196086541837188*o-.7034186144594493*i+1.7076147009309444*a};return void 0!==r&&(s.alpha=r),s},jwe=e=>cye(Owe(e));function _we(e){const t=.206,n=1.206/1.03;return.5*(n*e-t+Math.sqrt((n*e-t)*(n*e-t)+.12*n*e))}function Cwe(e){return(e*e+.206*e)/(1.206/1.03*(e+.03))}function Twe(e,t){let n=function(e,t){let n,r,o,i,a,s,l,c;-1.88170328*e-.80936493*t>1?(n=1.19086277,r=1.76576728,o=.59662641,i=.75515197,a=.56771245,s=4.0767416621,l=-3.3077115913,c=.2309699292):1.81444104*e-1.19445276*t>1?(n=.73956515,r=-.45954404,o=.08285427,i=.1254107,a=.14503204,s=-1.2684380046,l=2.6097574011,c=-.3413193965):(n=1.35733652,r=-.00915799,o=-1.1513021,i=-.50559606,a=.00692167,s=-.0041960863,l=-.7034186147,c=1.707614701);let u=n+r*e+o*t+i*e*e+a*e*t,d=.3963377774*e+.2158037573*t,f=-.1055613458*e-.0638541728*t,p=-.0894841775*e-1.291485548*t;{let e=1+u*d,t=1+u*f,n=1+u*p,r=s*(e*e*e)+l*(t*t*t)+c*(n*n*n),o=s*(3*d*e*e)+l*(3*f*t*t)+c*(3*p*n*n);u-=r*o/(o*o-.5*r*(s*(6*d*d*e)+l*(6*f*f*t)+c*(6*p*p*n)))}return u}(e,t),r=Owe({l:1,a:n*e,b:n*t}),o=Math.cbrt(1/Math.max(r.r,r.g,r.b));return[o,o*n]}function Pwe(e,t,n=null){n||(n=Twe(e,t));let r=n[0],o=n[1];return[o/r,o/(1-r)]}function Awe(e,t,n){let r=Twe(t,n),o=function(e,t,n,r,o,i=null){let a;if(i||(i=Twe(e,t)),(n-o)*i[1]-(i[0]-o)*r<=0)a=i[1]*o/(r*i[0]+i[1]*(o-n));else{a=i[1]*(o-1)/(r*(i[0]-1)+i[1]*(o-n));{let i=n-o,s=.3963377774*e+.2158037573*t,l=-.1055613458*e-.0638541728*t,c=-.0894841775*e-1.291485548*t,u=i+r*s,d=i+r*l,f=i+r*c;{let e=o*(1-a)+a*n,t=a*r,i=e+t*s,p=e+t*l,h=e+t*c,m=i*i*i,v=p*p*p,g=h*h*h,y=3*u*i*i,b=3*d*p*p,w=3*f*h*h,x=6*u*u*i,S=6*d*d*p,k=6*f*f*h,E=4.0767416621*m-3.3077115913*v+.2309699292*g-1,O=4.0767416621*y-3.3077115913*b+.2309699292*w,j=O/(O*O-.5*E*(4.0767416621*x-3.3077115913*S+.2309699292*k)),_=-E*j,C=-1.2684380046*m+2.6097574011*v-.3413193965*g-1,T=-1.2684380046*y+2.6097574011*b-.3413193965*w,P=T/(T*T-.5*C*(-1.2684380046*x+2.6097574011*S-.3413193965*k)),A=-C*P,N=-.0041960863*m-.7034186147*v+1.707614701*g-1,M=-.0041960863*y-.7034186147*b+1.707614701*w,I=M/(M*M-.5*N*(-.0041960863*x-.7034186147*S+1.707614701*k)),R=-N*I;_=j>=0?_:1e6,A=P>=0?A:1e6,R=I>=0?R:1e6,a+=Math.min(_,Math.min(A,R))}}}return a}(t,n,e,1,e,r),i=Pwe(t,n,r),a=e*(.11516993+1/(7.4477897+4.1590124*n+t*(1.75198401*n-2.19557347+t*(-2.13704948-10.02301043*n+t*(5.38770819*n-4.24894561+4.69891013*t))))),s=(1-e)*(.11239642+1/(1.6132032-.68124379*n+t*(.40370612+.90148123*n+t*(.6122399*n-.27087943+t*(.00299215-.45399568*n-.14661872*t))))),l=.9*(o/Math.min(e*i[0],(1-e)*i[1]))*Math.sqrt(Math.sqrt(1/(1/(a*a*a*a)+1/(s*s*s*s))));return a=.4*e,s=.8*(1-e),[Math.sqrt(1/(1/(a*a)+1/(s*s))),l,o]}function Nwe(e){const t=void 0!==e.l?e.l:0,n=void 0!==e.a?e.a:0,r=void 0!==e.b?e.b:0,o={mode:"okhsl",l:_we(t)};void 0!==e.alpha&&(o.alpha=e.alpha);let i=Math.sqrt(n*n+r*r);if(!i)return o.s=0,o;let a,[s,l,c]=Awe(t,n/i,r/i);if(i<l){let e=0,t=.8*s;a=.8*((i-e)/(t+(1-t/l)*(i-e)))}else{let e=.2*l*l*1.25*1.25/s;a=.8+.2*((i-l)/(e+(1-e/(c-l))*(i-l)))}return a&&(o.s=a,o.h=pye(180*Math.atan2(r,n)/Math.PI)),o}function Mwe(e){let t=void 0!==e.h?e.h:0,n=void 0!==e.s?e.s:0,r=void 0!==e.l?e.l:0;const o={mode:"oklab",l:Cwe(r)};if(void 0!==e.alpha&&(o.alpha=e.alpha),!n||1===r)return o.a=o.b=0,o;let i,a,s,l,c=Math.cos(t/180*Math.PI),u=Math.sin(t/180*Math.PI),[d,f,p]=Awe(o.l,c,u);n<.8?(i=1.25*n,a=0,s=.8*d,l=1-s/f):(i=5*(n-.8),a=f,s=.2*f*f*1.25*1.25/d,l=1-s/(p-f));let h=a+i*s/(1-l*i);return o.a=h*c,o.b=h*u,o}const Iwe={...cbe,mode:"okhsl",channels:["h","s","l","alpha"],parse:["--okhsl"],serialize:"--okhsl",fromMode:{oklab:Nwe,rgb:e=>Nwe(Ewe(e))},toMode:{oklab:Mwe,rgb:e=>jwe(Mwe(e))}},Rwe=Iwe;function Lwe(e){let t=void 0!==e.l?e.l:0,n=void 0!==e.a?e.a:0,r=void 0!==e.b?e.b:0,o=Math.sqrt(n*n+r*r),i=o?n/o:1,a=o?r/o:1,[s,l]=Pwe(i,a),c=1-.5/s,u=l/(o+t*l),d=u*t,f=u*o,p=Cwe(d),h=f*p/d,m=Owe({l:p,a:i*h,b:a*h}),v=Math.cbrt(1/Math.max(m.r,m.g,m.b,0));t/=v,o=o/v*_we(t)/t,t=_we(t);const g={mode:"okhsv",s:o?(.5+l)*f/(.5*l+l*c*f):0,v:t?t/d:0};return g.s&&(g.h=pye(180*Math.atan2(r,n)/Math.PI)),void 0!==e.alpha&&(g.alpha=e.alpha),g}function Dwe(e){const t={mode:"oklab"};void 0!==e.alpha&&(t.alpha=e.alpha);const n=void 0!==e.h?e.h:0,r=void 0!==e.s?e.s:0,o=void 0!==e.v?e.v:0,i=Math.cos(n/180*Math.PI),a=Math.sin(n/180*Math.PI),[s,l]=Pwe(i,a),c=.5,u=1-c/s,d=1-r*c/(c+l-l*u*r),f=r*l*c/(c+l-l*u*r),p=Cwe(d),h=f*p/d,m=Owe({l:p,a:i*h,b:a*h}),v=Math.cbrt(1/Math.max(m.r,m.g,m.b,0)),g=Cwe(o*d),y=f*g/d;return t.l=g*v,t.a=y*i*v,t.b=y*a*v,t}const Fwe={...fbe,mode:"okhsv",channels:["h","s","v","alpha"],parse:["--okhsv"],serialize:"--okhsv",fromMode:{oklab:Lwe,rgb:e=>Lwe(Ewe(e))},toMode:{oklab:Dwe,rgb:e=>jwe(Dwe(e))}},zwe=Fwe;const Bwe=function(e,t){if(!t||"oklab"!==t[0])return;const n={mode:"oklab"},[,r,o,i,a]=t;return r.type!==Rge&&o.type!==Rge&&i.type!==Rge?(r.type!==Ige&&(n.l=Math.min(Math.max(0,r.type===Age?r.value:r.value/100),1)),o.type!==Ige&&(n.a=o.type===Age?o.value:.4*o.value/100),i.type!==Ige&&(n.b=i.type===Age?i.value:.4*i.value/100),a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n):void 0},$we={...twe,mode:"oklab",toMode:{lrgb:Owe,rgb:jwe},fromMode:{lrgb:kwe,rgb:Ewe},ranges:{l:[0,1],a:[-.4,.4],b:[-.4,.4]},parse:[Bwe],serialize:e=>`oklab(${void 0!==e.l?e.l:"none"} ${void 0!==e.a?e.a:"none"} ${void 0!==e.b?e.b:"none"}${e.alpha<1?` / ${e.alpha}`:""})`},Uwe=$we;const Vwe=function(e,t){if(!t||"oklch"!==t[0])return;const n={mode:"oklch"},[,r,o,i,a]=t;if(r.type!==Ige){if(r.type===Rge)return;n.l=Math.min(Math.max(0,r.type===Age?r.value:r.value/100),1)}if(o.type!==Ige&&(n.c=Math.max(0,o.type===Age?o.value:.4*o.value/100)),i.type!==Ige){if(i.type===Nge)return;n.h=i.value}return a.type!==Ige&&(n.alpha=Math.min(1,Math.max(0,a.type===Age?a.value:a.value/100))),n},Hwe={...iwe,mode:"oklch",toMode:{oklab:e=>Tye(e,"oklab"),rgb:e=>jwe(Tye(e,"oklab"))},fromMode:{rgb:e=>Cye(Ewe(e),"oklch"),oklab:e=>Cye(e,"oklch")},parse:[Vwe],serialize:e=>`oklch(${void 0!==e.l?e.l:"none"} ${void 0!==e.c?e.c:"none"} ${void 0!==e.h?e.h:"none"}${e.alpha<1?` / ${e.alpha}`:""})`,ranges:{l:[0,1],c:[0,.4],h:[0,360]}},Wwe=Hwe,qwe=e=>{let{r:t,g:n,b:r,alpha:o}=aye(e),i={mode:"xyz65",x:.486570948648216*t+.265667693169093*n+.1982172852343625*r,y:.2289745640697487*t+.6917385218365062*n+.079286914093745*r,z:0*t+.0451133818589026*n+1.043944368900976*r};return void 0!==o&&(i.alpha=o),i},Gwe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o=cye({r:2.4934969119414263*e-.9313836179191242*t-.402710784450717*n,g:-.8294889695615749*e+1.7626640603183465*t+.0236246858419436*n,b:.0358458302437845*e-.0761723892680418*t+.9568845240076871*n},"p3");return void 0!==r&&(o.alpha=r),o},Kwe={...eye,mode:"p3",parse:["display-p3"],serialize:"display-p3",fromMode:{rgb:e=>Gwe(sye(e)),xyz65:Gwe},toMode:{rgb:e=>uye(qwe(e)),xyz65:qwe}},Xwe=Kwe,Ywe=e=>{let t=Math.abs(e);return t>=1/512?Math.sign(e)*Math.pow(t,1/1.8):16*e},Zwe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o={mode:"prophoto",r:Ywe(1.3457868816471585*e-.2555720873797946*t-.0511018649755453*n),g:Ywe(-.5446307051249019*e+1.5082477428451466*t+.0205274474364214*n),b:Ywe(0*e+0*t+1.2119675456389452*n)};return void 0!==r&&(o.alpha=r),o},Jwe=(e=0)=>{let t=Math.abs(e);return t>=16/512?Math.sign(e)*Math.pow(t,1.8):e/16},Qwe=e=>{let t=Jwe(e.r),n=Jwe(e.g),r=Jwe(e.b),o={mode:"xyz50",x:.7977666449006423*t+.1351812974005331*n+.0313477341283922*r,y:.2880748288194013*t+.7118352342418731*n+899369387256e-16*r,z:0*t+0*n+.8251046025104602*r};return void 0!==e.alpha&&(o.alpha=e.alpha),o},exe={...eye,mode:"prophoto",parse:["prophoto-rgb"],serialize:"prophoto-rgb",fromMode:{xyz50:Zwe,rgb:e=>Zwe(Xbe(e))},toMode:{xyz50:Qwe,rgb:e=>Gbe(Qwe(e))}},txe=exe,nxe=1.09929682680944,rxe=e=>{const t=Math.abs(e);return t>.018053968510807?(Math.sign(e)||1)*(nxe*Math.pow(t,.45)-(nxe-1)):4.5*e},oxe=({x:e,y:t,z:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);let o={mode:"rec2020",r:rxe(1.7166511879712683*e-.3556707837763925*t-.2533662813736599*n),g:rxe(-.6666843518324893*e+1.6164812366349395*t+.0157685458139111*n),b:rxe(.0176398574453108*e-.0427706132578085*t+.9421031212354739*n)};return void 0!==r&&(o.alpha=r),o},ixe=1.09929682680944,axe=(e=0)=>{let t=Math.abs(e);return t<.08124285829863151?e/4.5:(Math.sign(e)||1)*Math.pow((t+ixe-1)/ixe,1/.45)},sxe=e=>{let t=axe(e.r),n=axe(e.g),r=axe(e.b),o={mode:"xyz65",x:.6369580483012911*t+.1446169035862083*n+.1688809751641721*r,y:.262700212011267*t+.6779980715188708*n+.059301716469862*r,z:0*t+.0280726930490874*n+1.0609850577107909*r};return void 0!==e.alpha&&(o.alpha=e.alpha),o},lxe={...eye,mode:"rec2020",fromMode:{xyz65:oxe,rgb:e=>oxe(sye(e))},toMode:{xyz65:sxe,rgb:e=>uye(sxe(e))},parse:["rec2020"],serialize:"rec2020"},cxe=lxe,uxe=.0037930732552754493,dxe=Math.cbrt(uxe),fxe=e=>Math.cbrt(e)-dxe,pxe=e=>{const{r:t,g:n,b:r,alpha:o}=aye(e),i=fxe(.3*t+.622*n+.078*r+uxe),a=fxe(.23*t+.692*n+.078*r+uxe),s={mode:"xyb",x:(i-a)/2,y:(i+a)/2,b:fxe(.2434226892454782*t+.2047674442449682*n+.5518098665095535*r+uxe)-(i+a)/2};return void 0!==o&&(s.alpha=o),s},hxe=e=>Math.pow(e+dxe,3),mxe=({x:e,y:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);const o=hxe(e+t)-uxe,i=hxe(t-e)-uxe,a=hxe(n+t)-uxe,s=cye({r:11.031566904639861*o-9.866943908131562*i-.16462299650829934*a,g:-3.2541473810744237*o+4.418770377582723*i-.16462299650829934*a,b:-3.6588512867136815*o+2.7129230459360922*i+1.9459282407775895*a});return void 0!==r&&(s.alpha=r),s},vxe={mode:"xyb",channels:["x","y","b","alpha"],parse:["--xyb"],serialize:"--xyb",toMode:{rgb:mxe},fromMode:{rgb:pxe},ranges:{x:[-.0154,.0281],y:[0,.8453],b:[-.2778,.388]},interpolate:{x:Zge,y:Zge,b:Zge,alpha:{use:Zge,fixup:Qge}}},gxe={mode:"xyz50",parse:["xyz-d50"],serialize:"xyz-d50",toMode:{rgb:Gbe,lab:Zbe},fromMode:{rgb:Xbe,lab:qbe},channels:["x","y","z","alpha"],ranges:{x:[0,.964],y:[0,.999],z:[0,.825]},interpolate:{x:Zge,y:Zge,z:Zge,alpha:{use:Zge,fixup:Qge}}},yxe=e=>{let{x:t,y:n,z:r,alpha:o}=e;void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0);let i={mode:"xyz50",x:1.0479298208405488*t+.0229467933410191*n-.0501922295431356*r,y:.0296278156881593*t+.990434484573249*n-.0170738250293851*r,z:-.0092430581525912*t+.0150551448965779*n+.7518742899580008*r};return void 0!==o&&(i.alpha=o),i},bxe=e=>{let{x:t,y:n,z:r,alpha:o}=e;void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0);let i={mode:"xyz65",x:.9554734527042182*t-.0230985368742614*n+.0632593086610217*r,y:-.0283697069632081*t+1.0099954580058226*n+.021041398966943*r,z:.0123140016883199*t-.0205076964334779*n+1.3303659366080753*r};return void 0!==o&&(i.alpha=o),i},wxe={mode:"xyz65",toMode:{rgb:uye,xyz50:yxe},fromMode:{rgb:sye,xyz50:bxe},ranges:{x:[0,.95],y:[0,1],z:[0,1.088]},channels:["x","y","z","alpha"],parse:["xyz","xyz-d65"],serialize:"xyz-d65",interpolate:{x:Zge,y:Zge,z:Zge,alpha:{use:Zge,fixup:Qge}}},xxe=({r:e,g:t,b:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);const o={mode:"yiq",y:.29889531*e+.58662247*t+.11448223*n,i:.59597799*e-.2741761*t-.32180189*n,q:.21147017*e-.52261711*t+.31114694*n};return void 0!==r&&(o.alpha=r),o},Sxe=({y:e,i:t,q:n,alpha:r})=>{void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0);const o={mode:"rgb",r:e+.95608445*t+.6208885*n,g:e-.27137664*t-.6486059*n,b:e-1.10561724*t+1.70250126*n};return void 0!==r&&(o.alpha=r),o},kxe={mode:"yiq",toMode:{rgb:Sxe},fromMode:{rgb:xxe},channels:["y","i","q","alpha"],parse:["--yiq"],serialize:"--yiq",ranges:{i:[-.595,.595],q:[-.522,.522]},interpolate:{y:Zge,i:Zge,q:Zge,alpha:{use:Zge,fixup:Qge}}},Exe=(e=4)=>t=>"number"==typeof t?((e,t)=>Math.round(e*(t=Math.pow(10,t)))/t)(t,e):t;Exe(2);const Oxe=e=>Math.max(0,Math.min(1,e||0)),jxe=e=>Math.round(255*Oxe(e)),_xe=bge("rgb"),Cxe=(bge("hsl"),e=>{if(void 0===e)return;return"#"+(1<<24|jxe(e.r)<<16|jxe(e.g)<<8|jxe(e.b)).toString(16).slice(1)}),Txe=e=>Cxe(_xe(e)),Pxe=(Oge(fye),Oge(_ye),Oge(Qye),Oge(tbe),Oge(rbe),Oge(cbe),Oge(fbe),Oge(mbe),Oge(Cbe),Oge(Fbe),Oge(Ube),Oge(twe),Oge(nwe),Oge(iwe));Oge(swe),Oge(bwe),Oge(wwe),Oge(Swe),Oge(Rwe),Oge(zwe),Oge(Uwe),Oge(Wwe),Oge(Xwe),Oge(txe),Oge(cxe),Oge(eye),Oge(vxe),Oge(gxe),Oge(wxe),Oge(kxe);function Axe(e){return Axe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Axe(e)}function Nxe(e){return function(e){if(Array.isArray(e))return Rxe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ixe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mxe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Ixe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ixe(e,t){if(e){if("string"==typeof e)return Rxe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rxe(e,t):void 0}}function Rxe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Lxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dxe(r.key),r)}}function Dxe(e){var t=function(e,t){if("object"!=Axe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Axe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Axe(t)?t:t+""}function Fxe(e){var t=1e4*Math.sin(e++);return t-Math.floor(t)}var zxe=function(){return function(e,t,n){return t&&Lxe(e.prototype,t),n&&Lxe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}),null,[{key:"hexToRgb",value:function(e){var t=e.startsWith("#")?e.slice(1):e,n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n}}},{key:"getRelativeLuminance",value:function(e){var t=this.hexToRgb(e),n=[t.r,t.g,t.b].map((function(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),r=Mxe(n,3);return.2126*r[0]+.7152*r[1]+.0722*r[2]}},{key:"calculateContrastRatio",value:function(e,t){var n=this.getRelativeLuminance(e),r=this.getRelativeLuminance(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}},{key:"isColorLight",value:function(e){var t=this.hexToRgb(e);return(299*t.r+587*t.g+114*t.b)/1e3>128}},{key:"getTextColor",value:function(e){return this.isColorLight(e)?"#000000":"#FFFFFF"}},{key:"getBlendedColor",value:function(e,t){if(!e.startsWith("rgba"))return e;var n=e.replace("rgba(","").replace(")","").split(",").map((function(e){return parseFloat(e.trim())})),r=Mxe(n,4),o=r[0],i=r[1],a=r[2],s=r[3],l=parseInt(t.slice(1,3),16),c=parseInt(t.slice(3,5),16),u=parseInt(t.slice(5,7),16),d=Math.round(o*s+l*(1-s)),f=Math.round(i*s+c*(1-s)),p=Math.round(a*s+u*(1-s));return"#".concat(d.toString(16).padStart(2,"0")).concat(f.toString(16).padStart(2,"0")).concat(p.toString(16).padStart(2,"0"))}},{key:"getTextShades",value:function(e){var t=this,n=(this.isColorLight(e)?["#000000","#1A1A1A","#222222","#0A0A3F","#1F0F3D"]:["#FFFFFF","#F5F5F5","#EEEEEE","#F0F0FF","#F5F0FF"]).map((function(n){return{color:n,contrast:t.calculateContrastRatio(e,n)}})).filter((function(e){return e.contrast>=t.MIN_CONTRAST_RATIO})).sort((function(e,t){return t.contrast-e.contrast}));if(0===n.length){var r=this.getTextColor(e);return{header:r,body:r}}return{header:n[0].color,body:n[Math.min(1,n.length-1)].color}}},{key:"meetsContrastRequirements",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AA",r=this.calculateContrastRatio(e,t);return"AA"===n?r>=4.5:r>=7}},{key:"suggestTextColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AA",n=this.isColorLight(e)?"#000000":"#FFFFFF";return this.meetsContrastRequirements(e,n,t)?n:"#000000"===n?"#FFFFFF":"#000000"}},{key:"getBestThemeColor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AA",o=Object.entries(t).filter((function(e){var t=Mxe(e,2);t[0];return void 0!==t[1]})).map((function(t){var r=Mxe(t,2),o=(r[0],r[1]);return{color:o,contrastRatio:n.calculateContrastRatio(e,o)}})).filter((function(e){var t=e.contrastRatio;return"AA"===r?t>=4.5:t>=7})).sort((function(e,t){return t.contrastRatio-e.contrastRatio}));return o.length>0?o[0]:null}},{key:"getBestThemeColorWithFallback",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AA",r=this.getBestThemeColor(e,t,n);if(r)return r;var o=this.suggestTextColor(e,n);return{color:o,contrastRatio:this.calculateContrastRatio(e,o)}}},{key:"getBestTailwindClass",value:function(e,t){var n=this,r=Object.entries(t).map((function(t){var r=Mxe(t,2),o=r[0],i=r[1];return{className:o,contrastRatio:n.calculateContrastRatio(e,i)}})).sort((function(e,t){return t.contrastRatio-e.contrastRatio}));return r.length>0?r[0]:null}},{key:"getBestTailwindClassWithFallback",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"AA",r=this.getBestTailwindClass(e,t,n);if(r)return r;var o=this.suggestTextColor(e,n);return{className:"#000000"===o?"-black":"-white",contrastRatio:this.calculateContrastRatio(e,o)}}},{key:"getBestContrastTextColor",value:function(e,t){var n=this.getBestThemeColor(e,t);return n?n.color:this.suggestTextColor(e)}},{key:"getContrastColors",value:function(e,t){var n=this.getBestContrastTextColor(e,t),r=n;return{textColor:n,bgColor:r,buttonTextColor:this.getBestContrastTextColor(r,t)}}},{key:"getBestContrastBackgroundColor",value:function(e){return this.calculateContrastRatio(e,"#FFFFFF")>=this.MIN_CONTRAST_RATIO?"#FFFFFF":this.isColorLight(e)?"#1A1A1A":"#F5F5F5"}},{key:"generateDistinctColor",value:function(e){if(0===e.length)return Txe(Pxe({mode:"lch",l:65,c:50,h:230}));for(var t=289983,n=e.map((function(e){var t,n,r,o=Pxe(e);return o?{l:null!==(t=o.l)&&void 0!==t?t:65,c:null!==(n=o.c)&&void 0!==n?n:50,h:null!==(r=o.h)&&void 0!==r?r:0}:{l:65,c:50,h:230}})),r=n[0],o=r.l,i=r.c,a=Math.floor(Fxe(t)*n.length),s=n[a],l=null,c=0,u=function(){var e=t+d,r=15+30*Fxe(e),a=Fxe(e+1)>.5?1:-1,u=30*(Fxe(e+2)-.5),f=40*(Fxe(e+3)-.5),p={mode:"lch",l:Math.min(85,Math.max(o+10,s.l+u)),c:Math.min(100,Math.max(i+10,s.c+f)),h:(s.h+r*a+360)%360},h=Txe(p);if(!h)return 1;var m=Math.min.apply(Math,Nxe(n.map((function(e){return Math.min(Math.abs(p.h-e.h),360-Math.abs(p.h-e.h))/360*3+Math.abs(p.l-e.l)/100+Math.abs(p.c-e.c)/132*.7}))));m>.2&&m>c&&(c=m,l=h)},d=0;d<20;d++)u();if(l)return l;var f={mode:"lch",l:Math.max(o,65),c:Math.max(i,60),h:(s.h+90+60*Fxe(t+e.length))%360};return Txe(f)||Txe(Pxe({mode:"lch",l:Math.max(o,65),c:Math.max(i,50),h:360*Fxe(t+100*e.length)}))}}])}();function Bxe(e){return Bxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bxe(e)}function $xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uxe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$xe(Object(n),!0).forEach((function(t){Vxe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vxe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Bxe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bxe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Bxe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hxe(e){var t=e.explore,r=e.onClick,o=e.onMouseDown,i=(e.scale,e.containerWidth,e.containerHeight,e.mode),a=void 0===i?dh.VIEW:i,s=xh(),l=s.elementColor,c=s.buttonText,u=Sh(),d=(u.pageColor,be((function(e){return e.selectedTileId}))),f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[d]})),p=25,h=(0,n.useMemo)((function(){return zxe.getContrastColors(l,{headerColor:u.headerColor,buttonText:c,pageColor:u.pageColor})}),[l,u.headerColor,c,u.pageColor]),m=(0,n.useCallback)((function(e){f&&EE(d,Uxe(Uxe({},f.data),{},{explores:f.data.explores.map((function(n){return n.id===t.id?Uxe(Uxe({},n),{},{tooltipText:e}):n}))}),"update-explore-tooltip")}),[d,t.id,f]),v=function(){var e=t.x,n=t.y;return n<p?e<p?"right":e>75?"left":"bottom":e<p?"right":e>75?"left":"top"}(),g=function(){var e={position:"absolute",zIndex:30,backgroundColor:l,color:h.textColor,padding:"8px 12px",borderRadius:"8px",fontSize:"14px",whiteSpace:"nowrap",pointerEvents:"auto",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",minWidth:"200px","--text-color":h.textColor,"--placeholder-color":"".concat(h.textColor,"80")};switch(v){case"top":return Uxe(Uxe({},e),{},{bottom:"100%",left:"50%",transform:"translateX(-50%) translateY(-8px)"});case"bottom":return Uxe(Uxe({},e),{},{top:"100%",left:"50%",transform:"translateX(-50%) translateY(8px)"});case"left":return Uxe(Uxe({},e),{},{right:"100%",top:"50%",transform:"translateY(-50%) translateX(-8px)"});case"right":return Uxe(Uxe({},e),{},{left:"100%",top:"50%",transform:"translateY(-50%) translateX(8px)"})}},y=function(){var e="8px",t=l;switch(v){case"top":return{position:"absolute",bottom:"-8px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"".concat(e," solid transparent"),borderRight:"".concat(e," solid transparent"),borderTop:"".concat(e," solid ").concat(t),filter:"drop-shadow(0 2px 2px rgba(0,0,0,0.1))"};case"bottom":return{position:"absolute",top:"-8px",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"".concat(e," solid transparent"),borderRight:"".concat(e," solid transparent"),borderBottom:"".concat(e," solid ").concat(t),filter:"drop-shadow(0 -2px 2px rgba(0,0,0,0.1))"};case"left":return{position:"absolute",right:"-8px",top:"50%",transform:"translateY(-50%)",width:0,height:0,borderTop:"".concat(e," solid transparent"),borderBottom:"".concat(e," solid transparent"),borderLeft:"".concat(e," solid ").concat(t),filter:"drop-shadow(2px 0 2px rgba(0,0,0,0.1))"};case"right":return{position:"absolute",left:"-8px",top:"50%",transform:"translateY(-50%)",width:0,height:0,borderTop:"".concat(e," solid transparent"),borderBottom:"".concat(e," solid transparent"),borderRight:"".concat(e," solid ").concat(t),filter:"drop-shadow(-2px 0 2px rgba(0,0,0,0.1))"}}},b=(a===dh.VIEW||a===dh.EDIT)&&t.isTooltip;return(0,Ut.jsx)("div",{className:"group absolute",style:{left:"".concat(t.x,"%"),top:"".concat(t.y,"%"),width:"".concat(24,"px"),height:"".concat(24,"px"),pointerEvents:"auto"},onMouseDown:o,children:(0,Ut.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center",children:[(0,Ut.jsx)("button",{className:"absolute left-0 top-0 z-0 h-full w-full rounded-full",onClick:r,style:{backgroundColor:"transparent",border:"2px solid ".concat(l),cursor:r?"pointer":"default",boxShadow:"0 0 0 2px rgba(255, 255, 255, 0.5)",animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},tabIndex:0,"aria-label":"Point"}),(0,Ut.jsx)("style",{jsx:!0,children:"\n          @keyframes pulse {\n            0% {\n              transform: scale(1);\n              opacity: 1;\n            }\n            50% {\n              transform: scale(1.2);\n              opacity: 0.7;\n            }\n            100% {\n              transform: scale(1);\n              opacity: 1;\n            }\n          }\n        "}),a===dh.VIEW&&t.isTooltip&&(0,Ut.jsxs)("div",{style:g(),className:"transition-all duration-200",children:[(0,Ut.jsx)("div",{style:{"--header-color":h.textColor,"--body-color":h.textColor,"--text-color":h.textColor,"--placeholder-color":"".concat(h.textColor,"80")},children:(0,Ut.jsx)(PX,{value:t.tooltipText||"",className:"[&_.ProseMirror]:!text-[var(--text-color)]"})}),(0,Ut.jsx)("div",{style:y()})]}),a===dh.EDIT&&b&&(0,Ut.jsxs)("div",{style:g(),children:[(0,Ut.jsx)("div",{style:{"--header-color":h.textColor,"--body-color":h.textColor,"--text-color":h.textColor,"--placeholder-color":"".concat(h.textColor,"80")},children:(0,Ut.jsx)(GY,{editable:!0,value:t.tooltipText||{type:"doc",content:[{type:"paragraph"}]},onChange:m,className:"w-full [&_.ProseMirror]:!text-[var(--text-color)] [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]",placeholder:"Enter tooltip text..."})}),(0,Ut.jsx)("div",{style:y()})]})]})})}!function(e,t,n){(t=Dxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(zxe,"MIN_CONTRAST_RATIO",4.5);const Wxe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}));var qxe=function(e){var t=e.richText,r=e.onButtonClick,o=e.className,i=e.editable,a=void 0!==i&&i,s=e.onChange,l=e.fontSize,c=void 0===l?"18px":l,u=Sh(),d=xh(),f=u.pageColor,p=(0,n.useMemo)((function(){return zxe.getContrastColors(d.elementColor,{headerColor:u.headerColor,buttonText:d.buttonText,pageColor:f})}),[d.elementColor,u.headerColor,d.buttonText,f]),h=p.textColor,m=(p.buttonTextColor,(0,n.useMemo)((function(){return zxe.getContrastColors(h,{headerColor:u.headerColor,buttonText:d.buttonText,pageColor:f}).textColor}),[h,u.headerColor,d.buttonText,f]));return(0,Ut.jsxs)("div",{className:vr("flex w-full flex-col",r&&"items-end justify-between shadow-lg",o),style:{borderRadius:8,width:"100%",minHeight:40,boxShadow:r?"0 2px 8px rgba(0,0,0,0.08)":void 0,padding:"10px",position:"relative",background:d.elementColor,color:h,fontSize:c,"--header-color":h,"--body-color":h,"--text-color":h,"--placeholder-color":"".concat(h,"80")},children:[(0,Ut.jsx)("div",{className:"w-full px-2",children:(0,Ut.jsx)(GY,{value:t,className:"w-full [&_.ProseMirror]:!text-[var(--text-color)] [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]",editable:a,onChange:s||function(){}})}),r&&(0,Ut.jsx)("button",{className:"pointer-events-auto m-2 mt-0 w-auto self-end rounded-md p-2 text-sm shadow",style:{backgroundColor:h,color:m},tabIndex:-1,onClick:r,children:(0,Ut.jsx)(Wxe,{className:"h-5 w-5"})})]})};function Gxe(e){return function(e){if(Array.isArray(e))return Yxe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xxe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kxe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||Xxe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xxe(e,t){if(e){if("string"==typeof e)return Yxe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yxe(e,t):void 0}}function Yxe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Zxe=n.memo((function(e){var t,n=e.isImageLoaded,r=e.blockContent,o=e.scale,i=e.imageDims,a=e.handleExploreClick,s=e.isVisible;return n?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("style",{children:"\n  @keyframes fadeIn {\n    0% { opacity: 0; }\n    100% { opacity: 1; }\n  }\n  .explore-wrapper {\n    opacity: 0;\n  }\n  .explore-wrapper.animate {\n    animation: fadeIn 0.5s ease-in-out forwards;\n  }\n"}),(0,Ut.jsx)("div",{className:"explore-wrapper pointer-events-none absolute inset-0 ".concat(s?"animate":""),style:{animationPlayState:s?"running":"paused"},children:null===(t=r.data.explores)||void 0===t?void 0:t.map((function(e){var t=function(e){return{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),width:"".concat(e.width,"%"),height:"".concat(e.height,"%")}}(e);if("textExplore"===e.type){var n,r=null!==(n=e.richText)&&void 0!==n?n:{type:"doc",content:[{type:"paragraph"}]};return(0,Ut.jsx)("div",{className:"absolute z-20",style:{left:t.left,top:t.top,width:t.width,height:"auto"},children:(0,Ut.jsx)(qxe,{richText:r,onButtonClick:e.next&&"node"===e.next.type&&e.next.id?function(){return a(e.next)}:void 0,fontSize:"16px"})},e.id)}return"default"===e.type?(0,Ut.jsx)("button",{className:"absolute cursor-pointer border-2 border-white bg-black/30",style:{left:t.left,top:t.top,width:t.width,height:t.height,borderRadius:"".concat(e.borderRadius,"px"),pointerEvents:"auto"},onClick:function(){return a(e.next)}},e.id):"point"===e.type?(0,Ut.jsx)("div",{children:(0,Ut.jsx)(Hxe,{explore:e,onClick:e.next?function(){return a(e.next)}:void 0,scale:o,containerWidth:i.width,containerHeight:i.height,mode:dh.VIEW})},e.id):null}))})]}):null}));Zxe.displayName="Explores";function Jxe(e){var t,r,o,i,a,s=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]})),l=(0,n.useRef)(null),c=(0,n.useRef)(null),u=Kxe((0,n.useState)(1),2),d=u[0],f=u[1],p=Kxe((0,n.useState)(null),2),h=p[0],m=p[1],v=Kxe((0,n.useState)(!1),2),g=v[0],y=v[1],b=Kxe((0,n.useState)(!1),2),w=b[0],x=b[1],S=Kxe((0,n.useState)(!1),2),k=S[0],E=S[1],O=(0,n.useRef)(!1),j=Sh().pageColor,_=(a=(0,n.useRef)(new Set),{preloadImage:function(e){e&&!a.current.has(e)&&((new Image).src=e,a.current.add(e))}}),C=_.preloadImage,T=1200;(0,n.useEffect)((function(){x(!1),E(!1),y(!1),O.current=!1}),[null===(t=s.data.image)||void 0===t?void 0:t.source]),(0,n.useEffect)((function(){var e,t,n=be.getState().lessonContent;n&&(null!==(e=s.data.image)&&void 0!==e&&e.source&&C(s.data.image.source),null===(t=s.data.explores)||void 0===t||t.forEach((function(e){var t;if("node"===(null===(t=e.next)||void 0===t?void 0:t.type)&&e.next.id){var r,o=n.blocks[e.next.id];"exploreNode"===(null==o?void 0:o.type)&&null!==(r=o.data.image)&&void 0!==r&&r.source&&C(o.data.image.source)}})))}),[null===(r=s.data.image)||void 0===r?void 0:r.source,s.data.explores]);(0,n.useEffect)((function(){if(c.current){var e=function(){var e=c.current.getBoundingClientRect();if(e&&!(e.width<=0)){var t=e.width/T;f(t)}};e();var t=new ResizeObserver(e);return t.observe(c.current),function(){t.disconnect()}}}),[]),(0,n.useEffect)((function(){m(null)}),[e.nodeHistory]),(0,n.useEffect)((function(){O.current=!1}),[null===(o=s.data.image)||void 0===o?void 0:o.source]);var P=null!==(i=s.data.image)&&void 0!==i&&i.aspectRatio?function(e){var t,n;return e<16/9?(n=675,t=675*e):(t=T,n=T/e),{width:t,height:n}}(s.data.image.aspectRatio):{width:0,height:0};return e.mode===dh.THUMBNAIL&&s.data.image?(0,Ut.jsx)("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:(0,Ut.jsx)("img",{src:s.data.image.source,alt:s.data.image.altText||"",className:"h-full w-full object-contain rounded-lg",style:{backgroundColor:j}})}):(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"flex h-full w-full flex-col",children:s.data.image&&(0,Ut.jsx)("div",{ref:c,className:"h-full w-full overflow-hidden",children:(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center overflow-hidden p-0",children:(0,Ut.jsx)("div",{className:"relative flex items-center justify-center overflow-hidden",style:{width:"100%",height:"100%",aspectRatio:"16/9",maxWidth:"100%",margin:"0 auto"},children:(0,Ut.jsxs)("div",{style:{width:"".concat(T*d,"px"),height:"".concat(675*d,"px"),position:"relative",overflow:"hidden",backgroundColor:j},children:[(0,Ut.jsx)("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,backgroundColor:j}}),(0,Ut.jsx)("img",{ref:l,src:s.data.image.source,alt:s.data.image.altText||"",loading:"eager",decoding:"async",onLoad:function(){x(!0),requestAnimationFrame((function(){E(!0),requestAnimationFrame((function(){y(!0)}))}))},className:"rounded-lg",style:{width:"100%",height:"100%",objectFit:"contain",willChange:"transform",position:"relative",zIndex:1}}),P.width>0&&k&&(0,Ut.jsx)("div",{className:"absolute",style:{width:"".concat(P.width,"px"),height:"".concat(P.height,"px"),left:"50%",top:"50%",transform:"translate(-50%, -50%) scale(".concat(d,")"),transformOrigin:"center",willChange:"transform",zIndex:2},children:(0,Ut.jsx)("div",{className:"pointer-events-none absolute inset-0",children:(0,Ut.jsx)(Zxe,{isImageLoaded:w,blockContent:s,scale:d,imageDims:P,handleExploreClick:function(t){if("node"===t.type){if(t.id){var n,r=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.blocks[t.id];"modalNode"===(null==r?void 0:r.type)?m(t.id):e.setNodeHistory([].concat(Gxe(e.nodeHistory),[t.id]))}}else"complete"===t.type?(e.setNodeHistory([].concat(Gxe(e.nodeHistory),["completed"])),be.setState((function(e){e.blockStates[s.parentId]&&(e.blockStates[s.parentId].hasCompleted=!0)}))):"restart"===t.type?e.setNodeHistory([]):"retry"===t.type&&e.nodeHistory.length>0&&e.setNodeHistory(Gxe(e.nodeHistory.slice(0,-1)))},isVisible:g})})})]})})})})}),h&&(0,Ut.jsx)(zve,{id:h,nodeHistory:e.nodeHistory,setNodeHistory:e.setNodeHistory,rootId:e.rootId,parentId:s.parentId,mode:dh.VIEW,printMode:!1,preview:!1})]})}function Qxe(e){return Qxe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qxe(e)}function eSe(e){return function(e){if(Array.isArray(e))return aSe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iSe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tSe(Object(n),!0).forEach((function(t){rSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rSe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Qxe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qxe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qxe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oSe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||iSe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iSe(e,t){if(e){if("string"==typeof e)return aSe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aSe(e,t):void 0}}function aSe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function sSe(e){var t,r=be((function(t){return t.lessonContent.blocks[e.id]})),o=be((function(e){return e.lessonContent.language})),i=oSe((0,n.useState)({watchedProportion:0,seekProportion:0}),2),a=i[0],s=i[1],l=oSe((0,n.useState)(null),2),c=l[0],u=l[1];(0,n.useEffect)((function(){u(null)}),[e.nodeHistory]);var d=(0,n.useCallback)((function(){var t,n;if("node"===(null===(t=r.data.next)||void 0===t?void 0:t.type)){var o,i=r.data.next.id,a=null===(o=be.getState().lessonContent)||void 0===o?void 0:o.blocks[i];"modalNode"===(null==a?void 0:a.type)?u(i):e.setNodeHistory([].concat(eSe(e.nodeHistory),[i]))}else"complete"===(null===(n=r.data.next)||void 0===n?void 0:n.type)&&e.setNodeHistory([].concat(eSe(e.nodeHistory),["completed"]))}),[r.data.next,e.nodeHistory,e.setNodeHistory]);return(0,n.useEffect)((function(){if(a.watchedProportion>.98){var e=setTimeout((function(){d()}),500);return function(){return clearTimeout(e)}}}),[a.watchedProportion,d]),null!==(t=r.data.video)&&void 0!==t&&t.source?(0,Ut.jsxs)("div",{className:"w-full",children:[(0,Ut.jsxs)("div",{className:"relative w-full",style:{aspectRatio:"16/9"},children:[(0,Ut.jsx)("div",{className:"absolute inset-0 rounded-lg bg-black"}),(0,Ut.jsx)(w1,{video:r.data.video,lessonLanguage:o,restrictSkipAhead:!1,progress:a,setProgress:function(t){s(t),be.setState((function(n){return nSe(nSe({},n),{},{blockStates:nSe(nSe({},n.blockStates),{},rSe({},e.id,nSe(nSe({},n.blockStates[e.id]),{},{watchedProportion:t.watchedProportion,seekProportion:t.seekProportion})))})}))},startTime:r.data.video.trimStart,endTime:r.data.video.trimEnd,className:"h-full w-full rounded-lg",objectFit:"contain",initialPlaying:e.mode!==dh.THUMBNAIL})]}),c&&(0,Ut.jsx)(zve,{id:c,nodeHistory:e.nodeHistory,setNodeHistory:e.setNodeHistory,rootId:e.rootId,parentId:r.parentId,mode:dh.VIEW,printMode:!1,preview:!1})]}):(0,Ut.jsx)("div",{className:"flex h-64 w-full items-center justify-center rounded-lg bg-gray-100",children:(0,Ut.jsx)("p",{className:"text-gray-500",children:"No video source configured"})})}function lSe(e){return lSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lSe(e)}function cSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cSe(Object(n),!0).forEach((function(t){dSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dSe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=lSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lSe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lSe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fSe(e){var t,n=e.nodeHistory[e.nodeHistory.length-1]||e.rootId,r=e.nodeHistory[e.nodeHistory.length-2],o=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks}));if(o&&"modalNode"===(null===(t=o[n])||void 0===t?void 0:t.type))for(var i=e.nodeHistory.length-2;i>=0;i--){var a=e.nodeHistory[i],s=o[a];if(s&&"modalNode"!==(null==s?void 0:s.type)){r=a;break}}var l=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[n]})),c=(be((function(e){var t;return r?null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]:null})),Bpe(n,e.mode)),u=c.narrations,d=c.audioRefs;if(null!=n&&n.startsWith("completed")){var f=e.nodeHistory[e.nodeHistory.length-2];return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(Yve,{previousNodeId:f,setNodeHistory:e.setNodeHistory,rootId:e.rootId}),u&&(0,Ut.jsx)(zpe,{narrations:u,audioRefs:d})]})}return l?"exploreNode"===l.type?(0,Ut.jsx)(Jxe,uSe(uSe({},e),{},{id:n})):"videoNode"===l.type?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(sSe,uSe(uSe({},e),{},{id:n})),u&&(0,Ut.jsx)(zpe,{narrations:u,audioRefs:d})]}):"modalNode"===l.type?(0,Ut.jsx)(zve,uSe(uSe({},e),{},{id:n})):"textNode"===l.type?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(Xve,uSe(uSe({},e),{},{id:n})),u&&(0,Ut.jsx)(zpe,{narrations:u,audioRefs:d})]}):"dialogueNode"===l.type?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(qve,uSe(uSe({},e),{},{id:n})),u&&(0,Ut.jsx)(zpe,{narrations:u,audioRefs:d})]}):(0,Ut.jsx)("div",{children:"Undefined Block Type"}):(0,Ut.jsx)("div",{className:"flex h-full w-full items-center p-4 justify-center",children:(0,Ut.jsxs)("div",{className:"rounded-lg bg-lesson-pageColor p-6 shadow-md",children:[(0,Ut.jsx)("h2",{className:"mb-2 text-xl font-bold",children:"Node Not Found"}),(0,Ut.jsx)("p",{className:"mb-4",children:"This node has been deleted or is no longer available."}),(0,Ut.jsx)("button",{className:"rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600",onClick:function(){e.setNodeHistory([])},children:"Return to Start"})]})})}var pSe=function(e){return e===dh.THUMBNAIL?"text-[1.3rem]":"adaptive-text-size"};const hSe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}));var mSe=o(9359);const vSe=["className","component"];const gSe=Bt("MuiBox",["root"]),ySe=St(),bSe=function(e={}){const{themeId:t,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:i}=e,a=(0,mSe.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(He.A),s=n.forwardRef((function(e,n){const s=Mt(r),l=(0,en.A)(e),{className:c,component:u="div"}=l,d=(0,Se.A)(l,vSe);return(0,Ut.jsx)(a,(0,ke.A)({as:u,ref:n,className:je(c,i?i(o):o),theme:t&&s[t]||s},d))}));return s}({themeId:Et,defaultTheme:ySe,defaultClassName:gSe.root,generateClassName:Dt.generate}),wSe=bSe,xSe=["onChange","maxRows","minRows","style","value"];function SSe(e){return parseInt(e,10)||0}const kSe={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const ESe=n.forwardRef((function(e,t){const{onChange:r,maxRows:o,minRows:i=1,style:a,value:s}=e,l=(0,Se.A)(e,xSe),{current:c}=n.useRef(null!=s),u=n.useRef(null),d=h2(t,u),f=n.useRef(null),p=n.useCallback((()=>{const t=u.current,n=w2(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=f.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const a=n.boxSizing,s=SSe(n.paddingBottom)+SSe(n.paddingTop),l=SSe(n.borderBottomWidth)+SSe(n.borderTopWidth),c=r.scrollHeight;r.value="x";const d=r.scrollHeight;let p=c;i&&(p=Math.max(Number(i)*d,p)),o&&(p=Math.min(Number(o)*d,p)),p=Math.max(p,d);return{outerHeightStyle:p+("border-box"===a?s+l:0),overflowing:Math.abs(p-c)<=1}}),[o,i,e.placeholder]),h=n.useCallback((()=>{const e=p();if(null==(t=e)||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=u.current;n.style.height=`${e.outerHeightStyle}px`,n.style.overflow=e.overflowing?"hidden":""}),[p]);U2((()=>{const e=()=>{h()};let t;const n=d2(e),r=u.current,o=w2(r);let i;return o.addEventListener("resize",n),"undefined"!=typeof ResizeObserver&&(i=new ResizeObserver(e),i.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),o.removeEventListener("resize",n),i&&i.disconnect()}}),[p,h]),U2((()=>{h()}));return(0,Ut.jsxs)(n.Fragment,{children:[(0,Ut.jsx)("textarea",(0,ke.A)({value:s,onChange:e=>{c||h(),r&&r(e)},ref:d,rows:i,style:a},l)),(0,Ut.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,ke.A)({},kSe,a,{paddingTop:0,paddingBottom:0})})]})}));function OSe(e){return OSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OSe(e)}var jSe=["value","onValueChange","placeholder","className","style","autoFocus"];function _Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_Se(Object(n),!0).forEach((function(t){TSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TSe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=OSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OSe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OSe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PSe(e){var t=e.value,r=e.onValueChange,o=e.placeholder,i=e.className,a=e.style,s=e.autoFocus,l=void 0!==s&&s,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,jSe),u=(0,n.useRef)(null),d=(0,n.useRef)(null);if(u.current){var f=u.current,p=f.selectionStart,h=f.selectionEnd;d.current={start:p,end:h}}return(0,n.useEffect)((function(){if(l&&u.current){var e=u.current.value.length;u.current.focus(),u.current.setSelectionRange(e,e)}}),[l]),(0,Ut.jsx)(ESe,CSe(CSe({ref:u,className:vr("m-0 block w-full max-w-full resize-none border-none bg-transparent p-0 text-inherit outline-none placeholder:text-inherit placeholder:opacity-50",i),style:a},c),{},{minRows:1,placeholder:o,onChange:function(e){return r(e.target.value)},value:t||""}))}function ASe(e){var t=e.value,n=e.onChange,r=e.placeholder,o=e.className,i=e.mode,a=e.component,s=e.disableEnter,l=e.autoFocus,c=e.style;if(i===dh.EDIT)return(0,Ut.jsx)(PSe,{onKeyDown:function(e){s&&"Enter"===e.key&&e.preventDefault()},onMouseDown:function(e){return e.stopPropagation()},onMouseMove:function(e){return e.stopPropagation()},className:o,style:c,placeholder:r,value:t,onValueChange:n,autoFocus:l});var u=t||"";return u.endsWith("\n")&&(u+=" "),(0,Ut.jsx)(wSe,{className:vr("whitespace-pre-wrap",o||""),component:a,style:c,children:u})}function NSe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var MSe=function(e,t){Th.setState({tileContextData:{id:e,location:t},contextMode:"tile"})},ISe=function(e){Th.setState({tileContextData:e})};function RSe(e){if(!e)throw new Error("Assertion failed: value is not truthy")}RSe("Hello, World!");var LSe=function(e){return Th((function(t){var n;return(null===(n=t.tileContextData)||void 0===n?void 0:n.id)===e?0===t.tileContextData.location.length?null:t.tileContextData.location[t.tileContextData.location.length-1]:null}))};function DSe(e){return DSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DSe(e)}function FSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FSe(Object(n),!0).forEach((function(t){BSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BSe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=DSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DSe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DSe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $Se=function(e){var t=e.id,n=e.mode,r=e.printMode,o=e.parentId,i=Br(),a=Br(),s=Br(),l=fh(t,n),c=be((function(e){return e.selectedTileId===t})),u=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n||null===(n=n.blocks[t])||void 0===n?void 0:n.narration})),d=l.data,f=xh(),p=f.theme,h=f.buttonColor,m=f.buttonText,v=xh().isDarkTheme,g=be((function(e){var n;return null===(n=e.blockStates[t])||void 0===n?void 0:n.isOpen})),y=be((function(e){return e.currentNarrationIndex})),b=Gpe(o).narrations,w=function(e){var r=be.getState().blockStates[t];uh(l.id,zSe(zSe({},r),{},{hasOpened:!0,isOpen:e},null!==e&&{itemsCompleted:zSe(zSe({},null==r?void 0:r.itemsCompleted),{},BSe({},e,!0))})),null!==e&&n===dh.VIEW&&wpe({tileNarration:u,itemId:d.items[e].id,pageNarrations:b,delay:300})},x=jhe(n),S=d.items.length>1,k=n===dh.VIEW;return(0,Ut.jsx)("div",{className:"relative w-full",children:d.items.map((function(e,o){var f,E,O=null===(f=be.getState().blockStates[t])||void 0===f||null===(f=f.itemsCompleted)||void 0===f?void 0:f[o],j=n===dh.EDIT?"div":"button",_=n===dh.EDIT?Fr:"div",C=Spe({pageNarrations:b,tileNarration:u,itemId:e.id,currentNarrationIndex:y});return(0,Ut.jsxs)("div",{className:NSe("flex w-full flex-col items-start justify-between border border-solid border-lesson-elementColor/30 bg-lesson-elementColor/10 text-left text-xl transition-all ",0===o&&"rounded-t-xl",o===d.items.length-1&&"rounded-b-xl",o===d.items.length-1?"border-b-1":"border-b-0"),"data-no-navigate":!0,role:"region","aria-labelledby":"accordion-header-".concat(t,"-").concat(o),children:[(0,Ut.jsx)(j,{id:"accordion-header-".concat(t,"-").concat(o),className:"w-full rounded-lg bg-transparent focus:outline-none focus-visible:ring  ".concat(v?"focus-visible:ring-white":"focus-visible:ring-gray-900"," focus-visible::ring-opacity-50"),onClick:function(){n!==dh.EDIT&&w(g!==o?o:null)},role:"button","aria-expanded":g===o,"aria-controls":"accordion-content-".concat(t,"-").concat(o),"aria-label":"".concat(e.header," (").concat(g===o?"collapse section":"expand section",")"),children:(0,Ut.jsxs)("div",{className:vr("relative flex w-full items-center justify-between gap-2 p-4 pl-5 text-left",pSe(n)),children:[!O&&k&&(0,Ut.jsx)("div",{className:"absolute left-2 top-8 z-20 flex items-center justify-center",children:(0,Ut.jsx)(ofe,{buttonColor:h,buttonText:m,isDarkMode:v})}),n===dh.VIEW&&C&&(0,Ut.jsx)("div",{className:"absolute left-2 top-8 z-20",children:(0,Ut.jsx)(ife,{showPulse:!be.getState().currentNarrationIsPlaying})}),(0,Ut.jsx)(ASe,{onChange:function(e){EE(t,zSe(zSe({},d),{},{items:d.items.map((function(t,n){return n===o?zSe(zSe({},t),{},{header:e}):t}))}),"accordion-header-".concat(t,"-").concat(o))},style:{color:p.headerColor},className:"text-[1.25em] leading-[1.5em]",placeholder:i("header"),mode:n,value:e.header}),l.mode===dh.EDIT&&c&&(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",children:(0,Ut.jsx)(OE,{className:"h-6 w-6"})})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:function(){return n=e.id,void MSe(t,[{id:n,value:"accordion-item"}]);var n},children:a("options")}),S&&(0,Ut.jsx)(wx,{variant:"destructive",onClick:function(){EE(t,zSe(zSe({},d),{},{items:d.items.filter((function(e,t){return t!==o}))})),w(null)},children:s("delete")})]})]}),(0,Ut.jsx)(_,{variant:"blend",tabIndex:n===dh.EDIT?1:-1,size:"smallIcon",onClick:function(){n===dh.EDIT&&w(g!==o?o:null)},className:"p-1","aria-hidden":n!==dh.EDIT,children:g===o?(0,Ut.jsx)(hSe,{className:"h-6 w-6"}):(0,Ut.jsx)(kme,{className:"h-6 w-6"})})]})},o),(0,Ut.jsx)(L2,{className:"w-full",in:g===o||r,timeout:"auto",id:"accordion-content-".concat(t,"-").concat(o),role:"region","aria-labelledby":"accordion-header-".concat(t,"-").concat(o),children:(0,Ut.jsxs)("div",{className:"flex flex-col gap-4 p-4 pl-5 pt-1 text-base",children:[(0,Ut.jsx)(GY,{onChange:function(e){EE(t,zSe(zSe({},d),{},{items:d.items.map((function(t,n){return n===o?zSe(zSe({},t),{},{content:e}):t}))}),"accordion-content-".concat(t,"-").concat(o))},className:"w-full break-words ".concat(pSe(n)),placeholder:i("content"),editable:n===dh.EDIT,value:e.content||""}),e.image&&(0,Ut.jsx)("div",{className:vr("flex w-full","center"===e.imageAlign&&"justify-center","end"===e.imageAlign&&"justify-end"),children:"fill"!==e.imageAlign?(0,Ut.jsx)("img",{src:e.image.source,alt:e.image.altText||"",className:"block rounded-lg object-cover object-center",style:{maxHeight:.33*x,maxWidth:"100%",aspectRatio:null!==(E=e.image.aspectRatio)&&void 0!==E?E:void 0}}):(0,Ut.jsx)("img",{src:e.image.source,alt:e.image.altText||"",className:"block rounded-lg object-cover object-center",style:{maxHeight:.33*x,width:"100%"}})})]})})]},o)}))})},USe=function(e,t){return"string"==typeof e?e:"page"===e.alias?t.pageColor:"accent-1"===e.alias?t.accentColor:"accent-2"===e.alias?t.secondaryAccentColor||t.accentColor:"header"===e.alias?t.headerColor:"body"===e.alias?t.bodyColor:"element"===e.alias?jE(t.accentColor,.1):"transparent"===e.alias?jE(t.headerColor,0):t.accentColor};function VSe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HSe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VSe(Object(n),!0).forEach((function(t){WSe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VSe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WSe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=qSe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qSe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qSe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qSe(e){return qSe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qSe(e)}function GSe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return KSe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KSe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KSe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var XSe=(0,n.createContext)({onGoForward:function(){},onGoBackward:function(){}}),YSe=function(){var e=(0,n.useContext)(XSe);return{onGoForward:e.onGoForward,onGoBackward:e.onGoBackward}},ZSe=o(1106),JSe=o.n(ZSe);const QSe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}));const eke=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}));const tke=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}));const nke=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}));const rke=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}));const oke=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}));const ike=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}));var ake=function(e){var t=e.onChooseType,n=e.compressOptions,r=void 0!==n&&n,o=Br(),i=be((function(e){return e.lessonId}));return r?(0,Ut.jsxs)("div",{className:"flex gap-2",children:[(0,Ut.jsx)(Fr,{onClick:function(){t("Upload")},variant:"secondary",className:"flex-1",children:"Upload"}),(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsxs)(Fr,{size:"sm",variant:"secondary",className:"flex h-10 w-full flex-1 items-center",children:["Add",(0,Ut.jsx)(xe,{className:"h-4 w-4"})]})}),(0,Ut.jsxs)(yx,{className:"w-48",children:[(0,Ut.jsx)(Ex,{children:"Image"}),(0,Ut.jsxs)(wx,{onClick:function(){t("Generated")},children:[(0,Ut.jsx)(tke,{className:"mr-2 h-4 w-4"}),"Generate"]}),(0,Ut.jsxs)(wx,{onClick:function(){t("Search")},children:[(0,Ut.jsx)(nke,{className:"mr-2 h-4 w-4"}),"Search"]}),(0,Ut.jsxs)(wx,{onClick:function(){t("Upload")},children:[(0,Ut.jsx)(rke,{className:"mr-2 h-4 w-4"}),"Upload"]}),(0,Ut.jsxs)(wx,{onClick:function(){t("File")},children:[(0,Ut.jsx)(oke,{className:"mr-2 h-4 w-4"}),"Image from file"]})]})]})]}):(0,Ut.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Ut.jsxs)(Fr,{onClick:function(){t("Generated")},className:"justify-start",variant:"outline",children:[(0,Ut.jsx)(tke,{className:"h-4 w-4"}),o("generate")]}),(0,Ut.jsxs)(Fr,{onClick:function(){t("Search")},className:"justify-start",variant:"outline",children:[(0,Ut.jsx)(nke,{className:"h-4 w-4"}),o("search")]}),(0,Ut.jsxs)(Fr,{onClick:function(){t("Upload")},className:"justify-start",variant:"outline",children:[(0,Ut.jsx)(rke,{className:"h-4 w-4"}),o("upload")]}),(0,Ut.jsxs)(Fr,{onClick:function(){t("File"),Ooe("View images from file",{lessonId:i})},className:"justify-start",variant:"outline",children:[(0,Ut.jsx)(ike,{className:"h-4 w-4"}),o("file")]})]})};function ske(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function cke(e){var t=e.src,r=e.altText,o=e.children,i=e.mode,a=ske((0,n.useState)(!1),2),s=a[0],l=a[1],c=ske((0,n.useState)(!1),2),u=c[0],d=c[1],f=(0,n.useRef)(null),p="comments"===Th((function(e){return e.contextMode}));return(0,n.useEffect)((function(){if(f.current){var e=f.current,t=e.naturalWidth/e.naturalHeight,n=(window.innerWidth-64)/(window.innerHeight-64);d(t>n)}}),[t]),void 0===i||i!==dh.VIEW?(0,Ut.jsx)(Ut.Fragment,{children:o}):s?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"h-full animate-fade-out opacity-0","data-no-navigate":!0,children:o}),(0,Ut.jsx)(MJ,{open:s,onOpenChange:l,children:(0,Ut.jsx)(DJ,{className:"max-w-none border-none bg-transparent p-0",hideCloseButton:!0,"data-no-navigate":!0,children:(0,Ut.jsx)("div",{"data-no-navigate":!0,className:"fixed inset-0 flex items-center justify-center bg-black/50",onClick:function(){return l(!1)},children:(0,Ut.jsxs)("div",{className:"relative inline-block",children:[(0,Ut.jsx)("button",{className:"absolute right-4 top-4 z-50 rounded-full bg-black/50 p-2 text-white hover:bg-black/70",onClick:function(e){e.stopPropagation(),l(!1)},children:(0,Ut.jsx)(wJ,{size:24})}),(0,Ut.jsx)("img",{src:t,alt:r||void 0,className:"max-h-[95vh] max-w-[95vw] cursor-zoom-out object-contain ".concat(u?"w-[95vw]":"h-[95vh]")})]})})})})]}):(0,Ut.jsx)("div",{"data-no-navigate":!0,className:"h-full",onClick:function(){return!p&&l(!0)},children:o})}function uke(e){return uke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uke(e)}function dke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dke(Object(n),!0).forEach((function(t){pke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=uke(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uke(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mke(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}"undefined"!=typeof window&&(window.remotion_renderReady=!1),"undefined"!=typeof window&&(window.remotion_delayRenderTimeouts={});var vke=function(e,t,n){if("number"!=typeof e)throw new Error(`"fps" must be a number, but you passed a value of type ${typeof e} ${t}`);if(!Number.isFinite(e))throw new Error(`"fps" must be a finite, but you passed ${e} ${t}`);if(isNaN(e))throw new Error(`"fps" must not be NaN, but got ${e} ${t}`);if(e<=0)throw new TypeError(`"fps" must be positive, but got ${e} ${t}`);if(n&&e>50)throw new TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")},gke=function(e,t,n){if("number"!=typeof e)throw new Error(`The "${t}" prop ${n} must be a number, but you passed a value of type ${typeof e}`);if(isNaN(e))throw new TypeError(`The "${t}" prop ${n} must not be NaN, but is NaN.`);if(!Number.isFinite(e))throw new TypeError(`The "${t}" prop ${n} must be finite, but is ${e}.`);if(e%1!=0)throw new TypeError(`The "${t}" prop ${n} must be an integer, but is ${e}.`);if(e<=0)throw new TypeError(`The "${t}" prop ${n} must be positive, but got ${e}.`)},yke=function(e,t){const{allowFloats:n,component:r}=t;if(void 0===e)throw new Error(`The "durationInFrames" prop ${r} is missing.`);if("number"!=typeof e)throw new Error(`The "durationInFrames" prop ${r} must be a number, but you passed a value of type ${typeof e}`);if(e<=0)throw new TypeError(`The "durationInFrames" prop ${r} must be positive, but got ${e}.`);if(!n&&e%1!=0)throw new TypeError(`The "durationInFrames" prop ${r} must be an integer, but got ${e}.`);if(!Number.isFinite(e))throw new TypeError(`The "durationInFrames" prop ${r} must be finite, but got ${e}.`)},bke=(e,t,n)=>{if(e){if("object"!=typeof e)throw new Error(`"${t}" must be an object, but you passed a value of type ${typeof e}`);if(Array.isArray(e))throw new Error(`"${t}" must be an object, an array was passed ${n?`for composition "${n}"`:""}`)}},wke=25,xke=()=>(0,Ut.jsx)("svg",{width:wke,height:wke,viewBox:"0 0 25 25",fill:"none",children:(0,Ut.jsx)("path",{d:"M8 6.375C7.40904 8.17576 7.06921 10.2486 7.01438 12.3871C6.95955 14.5255 7.19163 16.6547 7.6875 18.5625C9.95364 18.2995 12.116 17.6164 14.009 16.5655C15.902 15.5147 17.4755 14.124 18.6088 12.5C17.5158 10.8949 15.9949 9.51103 14.1585 8.45082C12.3222 7.3906 10.2174 6.68116 8 6.375Z",fill:"white",stroke:"white",strokeWidth:"6.25",strokeLinejoin:"round"})}),Ske=()=>(0,Ut.jsxs)("svg",{viewBox:"0 0 100 100",width:wke,height:wke,children:[(0,Ut.jsx)("rect",{x:"25",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"}),(0,Ut.jsx)("rect",{x:"55",y:"20",width:"20",height:"60",fill:"#fff",ry:"5",rx:"5"})]}),kke=({isFullscreen:e})=>{const t=32,n=e?0:3,r=e?6*1.6:3,o=e?6*1.6:12;return(0,Ut.jsxs)("svg",{viewBox:"0 0 32 32",height:16,width:16,children:[(0,Ut.jsx)("path",{d:`\n\t\t\t\tM ${n} ${o}\n\t\t\t\tL ${r} ${r}\n\t\t\t\tL ${o} ${n}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,Ut.jsx)("path",{d:`\n\t\t\t\tM ${t-n} ${o}\n\t\t\t\tL ${t-r} ${r}\n\t\t\t\tL ${t-o} ${n}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,Ut.jsx)("path",{d:`\n\t\t\t\tM ${n} ${t-o}\n\t\t\t\tL ${r} ${t-r}\n\t\t\t\tL ${o} ${t-n}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"}),(0,Ut.jsx)("path",{d:`\n\t\t\t\tM ${t-n} ${t-o}\n\t\t\t\tL ${t-r} ${t-r}\n\t\t\t\tL ${t-o} ${t-n}\n\t\t\t\t`,stroke:"#fff",strokeWidth:6,fill:"none"})]})},Eke=()=>(0,Ut.jsx)("svg",{width:wke,height:wke,viewBox:"0 0 24 24",children:(0,Ut.jsx)("path",{d:"M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z",fill:"#fff"})}),Oke=()=>(0,Ut.jsx)("svg",{width:wke,height:wke,viewBox:"0 0 24 24",children:(0,Ut.jsx)("path",{d:"M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z",fill:"#fff"})}),jke="__remotion_buffering_indicator",_ke="__remotion_buffering_animation",Cke={width:wke,height:wke,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},Tke={width:14,height:14,overflow:"hidden",lineHeight:"normal",fontSize:"inherit"},Pke=({type:e})=>{const t="player"===e?Cke:Tke;return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("style",{type:"text/css",children:`\n\t\t\t\t@keyframes ${_ke} {\n          0% {\n            rotate: 0deg;\n          }\n          100% {\n            rotate: 360deg;\n          }\n        }\n        \n        .${jke} {\n            animation: ${_ke} 1s linear infinite;\n        }        \n\t\t\t`}),(0,Ut.jsx)("div",{style:t,children:(0,Ut.jsx)("svg",{viewBox:"player"===e?"0 0 22 22":"0 0 18 18",style:t,className:jke,children:(0,Ut.jsx)("path",{d:"player"===e?"M 11 4 A 7 7 0 0 1 15.1145 16.66312":"M 9 2 A 7 7 0 0 1 13.1145 14.66312",stroke:"white",strokeLinecap:"round",fill:"none",strokeWidth:3})})})]})},Ake=({currentSize:e,width:t,height:n,compositionWidth:r,compositionHeight:o})=>void 0!==t&&void 0===n||void 0!==n&&void 0===t?{aspectRatio:[r,o].join("/")}:{width:r,height:o},Nke=({previewSize:e,compositionWidth:t,compositionHeight:n,canvasSize:r})=>{const o=_E.Xp.calculateScale({canvasSize:r,compositionHeight:n,compositionWidth:t,previewSize:e}),i=0-(1-o)/2,a=i*t,s=i*n,l=t*o,c=n*o;return{centerX:r.width/2-l/2,centerY:r.height/2-c/2,xCorrection:a,yCorrection:s,scale:o}},Mke=({config:e,style:t,canvasSize:n,overflowVisible:r,layout:o})=>e?{position:"relative",overflow:r?"visible":"hidden",...Ake({compositionHeight:e.height,compositionWidth:e.width,currentSize:n,height:t?.height,width:t?.width}),opacity:o?1:0,...t}:{},Ike=({config:e,canvasSize:t,layout:n,scale:r,overflowVisible:o})=>e&&t&&n?{position:"absolute",width:e.width,height:e.height,display:"flex",transform:`scale(${r})`,marginLeft:n.xCorrection,marginTop:n.yCorrection,overflow:o?"visible":"hidden"}:{},Rke=({layout:e,scale:t,config:n,overflowVisible:r})=>{if(!e||!n)return{};const{centerX:o,centerY:i}=e;return{width:n.width*t,height:n.height*t,display:"flex",flexDirection:"column",position:"absolute",left:o,top:i,overflow:r?"visible":"hidden"}},Lke=n.createContext(void 0),Dke=n.createContext(void 0);class Fke{listeners={ended:[],error:[],pause:[],play:[],ratechange:[],scalechange:[],seeked:[],timeupdate:[],frameupdate:[],fullscreenchange:[],volumechange:[],mutechange:[],waiting:[],resume:[]};addEventListener(e,t){this.listeners[e].push(t)}removeEventListener(e,t){this.listeners[e]=this.listeners[e].filter((e=>e!==t))}dispatchEvent(e,t){this.listeners[e].forEach((e=>{e({detail:t})}))}dispatchSeek=e=>{this.dispatchEvent("seeked",{frame:e})};dispatchVolumeChange=e=>{this.dispatchEvent("volumechange",{volume:e})};dispatchPause=()=>{this.dispatchEvent("pause",void 0)};dispatchPlay=()=>{this.dispatchEvent("play",void 0)};dispatchEnded=()=>{this.dispatchEvent("ended",void 0)};dispatchRateChange=e=>{this.dispatchEvent("ratechange",{playbackRate:e})};dispatchScaleChange=e=>{this.dispatchEvent("scalechange",{scale:e})};dispatchError=e=>{this.dispatchEvent("error",{error:e})};dispatchTimeUpdate=e=>{this.dispatchEvent("timeupdate",e)};dispatchFrameUpdate=e=>{this.dispatchEvent("frameupdate",e)};dispatchFullscreenChange=e=>{this.dispatchEvent("fullscreenchange",e)};dispatchMuteChange=e=>{this.dispatchEvent("mutechange",e)};dispatchWaiting=e=>{this.dispatchEvent("waiting",e)};dispatchResume=e=>{this.dispatchEvent("resume",e)}}class zke{listeners={error:[],waiting:[],resume:[]};addEventListener(e,t){this.listeners[e].push(t)}removeEventListener(e,t){this.listeners[e]=this.listeners[e].filter((e=>e!==t))}dispatchEvent(e,t){this.listeners[e].forEach((e=>{e({detail:t})}))}dispatchError=e=>{this.dispatchEvent("error",{error:e})};dispatchWaiting=e=>{this.dispatchEvent("waiting",e)};dispatchResume=e=>{this.dispatchEvent("resume",e)}}var Bke=e=>{const t=(0,n.useContext)(_E.Xp.BufferingContextReact);if(!t)throw new Error("BufferingContextReact not found");(0,n.useEffect)((()=>{const n=t.listenForBuffering((()=>{t.buffering.current=!0,e.dispatchWaiting({})})),r=t.listenForResume((()=>{t.buffering.current=!1,e.dispatchResume({})}));return()=>{n.remove(),r.remove()}}),[t,e])},$ke=({children:e,currentPlaybackRate:t})=>{const[r]=(0,n.useState)((()=>new Fke));if(!(0,n.useContext)(_E.Xp.BufferingContextReact))throw new Error("BufferingContextReact not found");return(0,n.useEffect)((()=>{t&&r.dispatchRateChange(t)}),[r,t]),Bke(r),(0,Ut.jsx)(Lke.Provider,{value:r,children:e})},Uke=()=>{const e=_E.Xp.Timeline.useTimelinePosition(),t=(0,n.useRef)(e);t.current=e;return(0,n.useCallback)((()=>t.current),[])},Vke=(e,t)=>{const[r,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:n}=e;if(!n)return;let r;const i=()=>{t&&(clearTimeout(r),r=setTimeout((()=>{o(!1)}),!0===t?3e3:t))},a=()=>{o(!0),i()},s=()=>{o(!1),clearTimeout(r)},l=()=>{o(!0),i()};return n.addEventListener("mouseenter",a),n.addEventListener("mouseleave",s),n.addEventListener("mousemove",l),()=>{n.removeEventListener("mouseenter",a),n.removeEventListener("mouseleave",s),n.removeEventListener("mousemove",l),clearTimeout(r)}}),[t,e]),r},Hke=()=>{const[e,t,r]=_E.Xp.Timeline.usePlayingState(),[o,i]=(0,n.useState)(!1),a=_E.Xp.Timeline.useTimelinePosition(),s=(0,n.useRef)(a),l=_E.Xp.Timeline.useTimelineSetFrame(),c=_E.Xp.Timeline.useTimelineSetFrame(),u=(0,n.useContext)(_E.Xp.SharedAudioContext),{audioAndVideoTags:d}=(0,n.useContext)(_E.Xp.Timeline.TimelineContext),f=(0,n.useRef)(a);f.current=a;const p=_E.Xp.useVideo(),h=_E.Xp.useUnsafeVideoConfig(),m=(0,n.useContext)(Lke),v=(h?.durationInFrames??1)-1,g=a===v,y=0===a;if(!m)throw new TypeError("Expected Player event emitter context");const b=(0,n.useContext)(_E.Xp.BufferingContextReact);if(!b)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");const{buffering:w}=b,x=(0,n.useCallback)((e=>{p?.id&&c((t=>({...t,[p.id]:e}))),f.current=e,m.dispatchSeek(e)}),[m,c,p?.id]),S=(0,n.useCallback)((e=>{r.current||(i(!0),g&&x(0),u&&u.numberOfAudioTags>0&&e&&u.playAllAudios(),d.current.forEach((e=>e.play("player play() was called and playing audio from a click"))),r.current=!0,t(!0),s.current=f.current,m.dispatchPlay())}),[r,g,u,t,m,x,d]),k=(0,n.useCallback)((()=>{r.current&&(r.current=!1,t(!1),m.dispatchPause())}),[m,r,t]),E=(0,n.useCallback)((()=>{r.current&&(r.current=!1,f.current=s.current,h&&(c((e=>({...e,[h.id]:s.current}))),t(!1),m.dispatchPause()))}),[h,m,r,t,c]),O=p?.id,j=(0,n.useCallback)((e=>{if(!O)return null;r.current||l((t=>{const n=t[O]??window.remotion_initialFrame??0,r=Math.max(0,n-e);return n===r?t:{...t,[O]:r}}))}),[r,l,O]),_=(0,n.useCallback)((e=>{if(!O)return null;r.current||l((t=>{const n=t[O]??window.remotion_initialFrame??0,r=Math.min(v,n+e);return n===r?t:{...t,[O]:r}}))}),[O,r,v,l]),C=Uke(),T=(0,n.useCallback)((e=>{r.current?k():S(e)}),[r,k,S]);return(0,n.useMemo)((()=>({frameBack:j,frameForward:_,isLastFrame:g,emitter:m,playing:e,play:S,pause:k,seek:x,isFirstFrame:y,getCurrentFrame:C,isPlaying:()=>r.current,isBuffering:()=>w.current,pauseAndReturnToPlayStart:E,hasPlayed:o,remotionInternal_currentFrameRef:f,toggle:T})),[w,m,j,_,C,o,r,y,g,k,E,S,e,x,T])},Wke=()=>"undefined"!=typeof document&&"hidden"===document.visibilityState,qke=({loop:e,playbackRate:t,moveToBeginningWhenEnded:r,inFrame:o,outFrame:i,browserMediaControlsBehavior:a,getCurrentFrame:s})=>{const l=_E.Xp.useUnsafeVideoConfig(),c=_E.Xp.Timeline.useTimelinePosition(),{playing:u,pause:d,emitter:f}=Hke(),p=_E.Xp.Timeline.useTimelineSetFrame(),h=(0,n.useRef)(null),m=(()=>{const e=(0,n.useRef)(Wke());return(0,n.useEffect)((()=>{const t=()=>{e.current=Wke()};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}}),[]),e})(),v=(0,n.useRef)(null),g=(0,n.useContext)(_E.Xp.BufferingContextReact);if(!g)throw new Error("Missing the buffering context. Most likely you have a Remotion version mismatch.");(({browserMediaControlsBehavior:e,videoConfig:t,playbackRate:r})=>{const{playing:o,pause:i,play:a,emitter:s,getCurrentFrame:l,seek:c}=Hke();(0,n.useEffect)((()=>{navigator.mediaSession&&"do-nothing"!==e.mode&&(navigator.mediaSession.playbackState=o?"playing":"paused")}),[e.mode,o]),(0,n.useEffect)((()=>{if(!navigator.mediaSession)return;if("do-nothing"===e.mode)return;const n=()=>{t&&navigator.mediaSession&&navigator.mediaSession.setPositionState({duration:t.durationInFrames/t.fps,playbackRate:r,position:l()/t.fps})};return s.addEventListener("timeupdate",n),()=>{s.removeEventListener("timeupdate",n)}}),[e.mode,s,l,r,t]),(0,n.useEffect)((()=>{if(navigator.mediaSession&&"do-nothing"!==e.mode)return navigator.mediaSession.setActionHandler("play",(()=>{"register-media-session"===e.mode&&a()})),navigator.mediaSession.setActionHandler("pause",(()=>{"register-media-session"===e.mode&&i()})),navigator.mediaSession.setActionHandler("seekto",(n=>{"register-media-session"===e.mode&&void 0!==n.seekTime&&t&&c(Math.round(n.seekTime*t.fps))})),navigator.mediaSession.setActionHandler("seekbackward",(()=>{"register-media-session"===e.mode&&t&&c(Math.max(0,Math.round((l()-10)*t.fps)))})),navigator.mediaSession.setActionHandler("seekforward",(()=>{"register-media-session"===e.mode&&t&&c(Math.max(t.durationInFrames-1,Math.round((l()+10)*t.fps)))})),navigator.mediaSession.setActionHandler("previoustrack",(()=>{"register-media-session"===e.mode&&c(0)})),()=>{navigator.mediaSession.metadata=null,navigator.mediaSession.setActionHandler("play",null),navigator.mediaSession.setActionHandler("pause",null),navigator.mediaSession.setActionHandler("seekto",null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",null),navigator.mediaSession.setActionHandler("previoustrack",null)}}),[e.mode,l,i,a,c,t])})({browserMediaControlsBehavior:a,playbackRate:t,videoConfig:l}),(0,n.useEffect)((()=>{const e=g.listenForBuffering((()=>{h.current=performance.now()})),t=g.listenForResume((()=>{h.current=null}));return()=>{e.remove(),t.remove()}}),[g]),(0,n.useEffect)((()=>{if(!l)return;if(!u)return;let n=!1,a=null,c=performance.now(),v=0;const y=()=>{null!==a&&("raf"===a.type?cancelAnimationFrame(a.id):clearTimeout(a.id))},b=()=>{n=!0,y()},w=()=>{const a=performance.now()-c,u=i??l.durationInFrames-1,h=o??0,m=s(),{nextFrame:g,framesToAdvance:y,hasEnded:w}=(({time:e,currentFrame:t,playbackSpeed:n,fps:r,actualLastFrame:o,actualFirstFrame:i,framesAdvanced:a,shouldLoop:s})=>{const l=(n<0?Math.ceil:Math.floor)(e*n/(1e3/r))-a,c=l+t,u=c>o||c<i,d=!s&&u&&!(t>o||t<i);return n>0?u?{nextFrame:i,framesToAdvance:l,hasEnded:d}:{nextFrame:c,framesToAdvance:l,hasEnded:d}:u?{nextFrame:o,framesToAdvance:l,hasEnded:d}:{nextFrame:c,framesToAdvance:l,hasEnded:d}})({time:a,currentFrame:m,playbackSpeed:t,fps:l.fps,actualFirstFrame:h,actualLastFrame:u,framesAdvanced:v,shouldLoop:e});if(v+=y,g===s()||w&&!r||p((e=>({...e,[l.id]:g}))),w)return b(),d(),void f.dispatchEnded();n||x()},x=()=>{if(h.current){const e=g.listenForResume((()=>{e.remove(),n||(c=performance.now(),v=0,w())}))}else a=m.current?{type:"timeout",id:setTimeout(w,1e3/l.fps)}:{type:"raf",id:requestAnimationFrame(w)}};x();const S=()=>{"visible"!==document.visibilityState&&(y(),w())};return window.addEventListener("visibilitychange",S),()=>{window.removeEventListener("visibilitychange",S),b()}}),[l,e,d,u,p,f,t,o,i,r,m,s,h,g]),(0,n.useEffect)((()=>{const e=setInterval((()=>{v.current!==s()&&(f.dispatchTimeUpdate({frame:s()}),v.current=s())}),250);return()=>clearInterval(e)}),[f,s]),(0,n.useEffect)((()=>{f.dispatchFrameUpdate({frame:c})}),[f,c])},Gke=[],Kke=(e,t)=>{const[r,o]=(0,n.useState)((()=>{if(!e.current)return null;const t=e.current.getClientRects();return t[0]?{width:t[0].width,height:t[0].height,left:t[0].x,top:t[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}}:null})),i=(0,n.useMemo)((()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver((e=>{const{contentRect:n,target:r}=e[0],i=r.getClientRects();if(!i?.[0])return void o(null);const a=0===n.width?1:i[0].width/n.width,s=t.shouldApplyCssTransforms?i[0].width:i[0].width*(1/a),l=t.shouldApplyCssTransforms?i[0].height:i[0].height*(1/a);o((e=>e&&e.width===s&&e.height===l&&e.left===i[0].x&&e.top===i[0].y&&e.windowSize.height===window.innerHeight&&e.windowSize.width===window.innerWidth?e:{width:s,height:l,left:i[0].x,top:i[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}}))}))),[t.shouldApplyCssTransforms]),a=(0,n.useCallback)((()=>{if(!e.current)return;const t=e.current.getClientRects();t[0]?o((e=>e&&e.width===t[0].width&&e.height===t[0].height&&e.left===t[0].x&&e.top===t[0].y&&e.windowSize.height===window.innerHeight&&e.windowSize.width===window.innerWidth?e:{width:t[0].width,height:t[0].height,left:t[0].x,top:t[0].y,windowSize:{height:window.innerHeight,width:window.innerWidth}})):o(null)}),[e]);return(0,n.useEffect)((()=>{if(!i)return;const{current:t}=e;return t&&i.observe(t),()=>{t&&i.unobserve(t)}}),[i,e,a]),(0,n.useEffect)((()=>{if(t.triggerOnWindowResize)return window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}}),[t.triggerOnWindowResize,a]),(0,n.useEffect)((()=>(Gke.push(a),()=>{Gke=Gke.filter((e=>e!==a))})),[a]),(0,n.useMemo)((()=>r?{...r,refresh:a}:null),[r,a])},Xke=({playing:e,buffering:t})=>e&&t?(0,Ut.jsx)(Pke,{type:"player"}):e?(0,Ut.jsx)(Ske,{}):(0,Ut.jsx)(xke,{}),Yke=({volume:e,isVertical:t,onBlur:r,inputRef:o,setVolume:i})=>{const a=(0,n.useMemo)((()=>{const e={paddingLeft:5,height:wke,width:Jke,display:"inline-flex",alignItems:"center"};return t?{...e,position:"absolute",transform:`rotate(-90deg) translateX(${Jke/2+12.5}px)`}:{...e}}),[t]),s=void 0===n.useId?"volume-slider":n.useId(),[l]=(0,n.useState)((()=>`__remotion-volume-slider-${(0,_E.yT)(s)}`.replace(".",""))),c=(0,n.useCallback)((e=>{i(parseFloat(e.target.value))}),[i]),u=(0,n.useMemo)((()=>{const n={WebkitAppearance:"none",backgroundColor:"rgba(255, 255, 255, 0.5)",borderRadius:2.5,cursor:"pointer",height:5,width:Jke,backgroundImage:`linear-gradient(\n\t\t\t\tto right,\n\t\t\t\twhite ${100*e}%, rgba(255, 255, 255, 0) ${100*e}%\n\t\t\t)`};return t?{...n,bottom:wke+Jke/2}:n}),[t,e]),d=`\n\t.${l}::-webkit-slider-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: 6px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n\n\t.${l}::-moz-range-thumb {\n\t\t-webkit-appearance: none;\n\t\tbackground-color: white;\n\t\tborder-radius: 6px;\n\t\tbox-shadow: 0 0 2px black;\n\t\theight: 12px;\n\t\twidth: 12px;\n\t}\n`;return(0,Ut.jsxs)("div",{style:a,children:[(0,Ut.jsx)("style",{dangerouslySetInnerHTML:{__html:d}}),(0,Ut.jsx)("input",{ref:o,"aria-label":"Change volume",className:l,max:1,min:0,onBlur:r,onChange:c,step:.01,type:"range",value:e,style:u})]})},Zke=e=>(0,Ut.jsx)(Yke,{...e}),Jke=100,Qke=({displayVerticalVolumeSlider:e,renderMuteButton:t,renderVolumeSlider:r})=>{const[o,i]=_E.Xp.useMediaMutedState(),[a,s]=_E.Xp.useMediaVolumeState(),[l,c]=(0,n.useState)(!1),u=(0,n.useRef)(null),d=(0,n.useRef)(null),f=Vke(u,!1),p=(0,n.useCallback)((()=>{setTimeout((()=>{d.current&&document.activeElement!==d.current&&c(!1)}),10)}),[]),h=0===a,m=(0,n.useCallback)((()=>{if(h)return s(1),void i(!1);i((e=>!e))}),[h,i,s]),v=(0,n.useMemo)((()=>({display:"inline-flex",background:"none",border:"none",justifyContent:"center",alignItems:"center",touchAction:"none",...e&&{position:"relative"}})),[e]),g=(0,n.useMemo)((()=>({display:"inline",width:wke,height:wke,cursor:"pointer",appearance:"none",background:"none",border:"none",padding:0})),[]),y=(0,n.useCallback)((({muted:e,volume:t})=>{const n=e||0===t;return(0,Ut.jsx)("button",{"aria-label":n?"Unmute sound":"Mute sound",title:n?"Unmute sound":"Mute sound",onClick:m,onBlur:p,onFocus:()=>c(!0),style:g,type:"button",children:n?(0,Ut.jsx)(Eke,{}):(0,Ut.jsx)(Oke,{})})}),[p,m,g]),b=(0,n.useMemo)((()=>t?t({muted:o,volume:a}):y({muted:o,volume:a})),[o,a,y,t]),w=(0,n.useMemo)((()=>!l&&!f||o||_E.Xp.isIosSafari()?null:(r??Zke)({isVertical:e,volume:a,onBlur:()=>c(!1),inputRef:d,setVolume:s})),[e,l,f,o,a,r,s]);return(0,Ut.jsxs)("div",{ref:u,style:v,children:[b,w]})};var eEe={height:30,paddingRight:15,paddingLeft:12,display:"flex",flexDirection:"row",alignItems:"center"},tEe={width:22,display:"flex",alignItems:"center"},nEe={width:14,height:14,color:"black"},rEe=()=>(0,Ut.jsx)("svg",{viewBox:"0 0 512 512",style:nEe,children:(0,Ut.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}),oEe=({rate:e,onSelect:t,selectedRate:r,keyboardSelectedRate:o})=>{const i=(0,n.useCallback)((n=>{n.stopPropagation(),n.preventDefault(),t(e)}),[t,e]),[a,s]=(0,n.useState)(!1),l=(0,n.useCallback)((()=>{s(!0)}),[]),c=(0,n.useCallback)((()=>{s(!1)}),[]),u=o===e,d=(0,n.useMemo)((()=>({...eEe,backgroundColor:a||u?"#eee":"transparent"})),[a,u]);return(0,Ut.jsxs)("div",{onMouseEnter:l,onMouseLeave:c,tabIndex:0,style:d,onClick:i,children:[(0,Ut.jsx)("div",{style:tEe,children:e===r?(0,Ut.jsx)(rEe,{}):null}),e.toFixed(1),"x"]},e)},iEe=({setIsComponentVisible:e,playbackRates:t,canvasSize:r})=>{const{setPlaybackRate:o,playbackRate:i}=(0,n.useContext)(_E.Xp.Timeline.TimelineContext),[a,s]=(0,n.useState)(i);(0,n.useEffect)((()=>{const n=n=>{if(n.preventDefault(),"ArrowUp"===n.key){const e=t.findIndex((e=>e===a));if(0===e)return;s(-1===e?t[0]:t[e-1])}else if("ArrowDown"===n.key){const e=t.findIndex((e=>e===a));if(e===t.length-1)return;s(-1===e?t[t.length-1]:t[e+1])}else"Enter"===n.key&&(o(a),e(!1))};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}}),[t,a,o,e]);const l=(0,n.useCallback)((t=>{o(t),e(!1)}),[e,o]),c=(0,n.useMemo)((()=>({position:"absolute",right:0,width:125,maxHeight:r.height-70-35,bottom:35,background:"#fff",borderRadius:4,overflow:"auto",color:"black",textAlign:"left"})),[r.height]);return(0,Ut.jsx)("div",{style:c,children:t.map((e=>(0,Ut.jsx)(oEe,{selectedRate:i,onSelect:l,rate:e,keyboardSelectedRate:a},e)))})},aEe={fontSize:13,fontWeight:"bold",color:"white",border:"2px solid white",borderRadius:20,paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2},sEe={appearance:"none",backgroundColor:"transparent",border:"none",cursor:"pointer",paddingLeft:0,paddingRight:0,paddingTop:6,paddingBottom:6,height:37,display:"inline-flex",marginBottom:0,marginTop:0,alignItems:"center"},lEe={...sEe,position:"relative"},cEe=({playbackRates:e,canvasSize:t})=>{const{ref:r,isComponentVisible:o,setIsComponentVisible:i}=function(e){const[t,r]=(0,n.useState)(e),o=(0,n.useRef)(null);return(0,n.useEffect)((()=>{const e=e=>{o.current&&!o.current.contains(e.target)&&r(!1)};return document.addEventListener("pointerup",e,!0),()=>{document.removeEventListener("pointerup",e,!0)}}),[]),{ref:o,isComponentVisible:t,setIsComponentVisible:r}}(!1),{playbackRate:a}=(0,n.useContext)(_E.Xp.Timeline.TimelineContext),s=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),i((e=>!e))}),[i]);return(0,Ut.jsx)("div",{ref:r,children:(0,Ut.jsxs)("button",{type:"button","aria-label":"Change playback rate",style:lEe,onClick:s,children:[(0,Ut.jsxs)("div",{style:aEe,children:[a,"x"]}),o&&(0,Ut.jsx)(iEe,{canvasSize:t,playbackRates:e,setIsComponentVisible:i})]})})},uEe=(e,t,n)=>{const r=e;return Math.round((0,_E.GW)(r,[0,n],[0,t-1],{extrapolateLeft:"clamp",extrapolateRight:"clamp"}))},dEe={userSelect:"none",WebkitUserSelect:"none",paddingTop:4,paddingBottom:4,boxSizing:"border-box",cursor:"pointer",position:"relative",touchAction:"none"},fEe={height:5,backgroundColor:"rgba(255, 255, 255, 0.25)",width:"100%",borderRadius:2.5},pEe=({durationInFrames:e,onSeekEnd:t,onSeekStart:r,inFrame:o,outFrame:i})=>{const a=(0,n.useRef)(null),s=Vke(a,!1),l=Kke(a,{triggerOnWindowResize:!0,shouldApplyCssTransforms:!0}),{seek:c,play:u,pause:d,playing:f}=Hke(),p=_E.Xp.Timeline.useTimelinePosition(),[h,m]=(0,n.useState)({dragging:!1}),v=l?.width??0,g=(0,n.useCallback)((t=>{if(0!==t.button)return;const n=a.current?.getBoundingClientRect().left,o=uEe(t.clientX-n,e,v);d(),c(o),m({dragging:!0,wasPlaying:f}),r()}),[e,v,d,c,f,r]),y=(0,n.useCallback)((t=>{if(!l)throw new Error("Player has no size");if(!h.dragging)return;const n=a.current?.getBoundingClientRect().left,r=uEe(t.clientX-n,e,l.width);c(r)}),[h.dragging,e,c,l]),b=(0,n.useCallback)((()=>{m({dragging:!1}),h.dragging&&(h.wasPlaying?u():d(),t())}),[h,t,d,u]);(0,n.useEffect)((()=>{if(!h.dragging)return;const e=(e=>{let t=e;for(;t.parentElement;)t=t.parentElement;return t})(a.current);return e.addEventListener("pointermove",y),e.addEventListener("pointerup",b),()=>{e.removeEventListener("pointermove",y),e.removeEventListener("pointerup",b)}}),[h.dragging,y,b]);const w=(0,n.useMemo)((()=>({height:12,width:12,borderRadius:6,position:"absolute",top:.5,backgroundColor:"white",left:Math.max(0,p/Math.max(1,e-1)*v-6),boxShadow:"0 0 2px black",opacity:Number(s||h.dragging)})),[s,h.dragging,e,p,v]),x=(0,n.useMemo)((()=>({height:5,backgroundColor:"rgba(255, 255, 255, 1)",width:(p-(o??0))/(e-1)*v,marginLeft:(o??0)/(e-1)*v,borderRadius:2.5})),[e,p,o,v]),S=(0,n.useMemo)((()=>({height:5,backgroundColor:"rgba(255, 255, 255, 0.25)",width:((i??e-1)-(o??0))/(e-1)*100+"%",marginLeft:(o??0)/(e-1)*100+"%",borderRadius:2.5,position:"absolute"})),[e,o,i]);return(0,Ut.jsxs)("div",{ref:a,onPointerDown:g,style:dEe,children:[(0,Ut.jsxs)("div",{style:fEe,children:[(0,Ut.jsx)("div",{style:S}),(0,Ut.jsx)("div",{style:x})]}),(0,Ut.jsx)("div",{style:w})]})},hEe=e=>{const t=Math.floor(e/60),n=Math.floor(e-60*t);return`${String(t)}:${String(n).padStart(2,"0")}`},mEe=({durationInFrames:e,maxTimeLabelWidth:t,fps:r})=>{const o=_E.Xp.Timeline.useTimelinePosition(),i=(0,n.useMemo)((()=>({color:"white",fontFamily:"sans-serif",fontSize:14,maxWidth:null===t?void 0:t,overflow:"hidden",textOverflow:"ellipsis"})),[t]),a=o===e-1?o+1:o;return(0,Ut.jsxs)("div",{style:i,children:[hEe(a/r)," / ",hEe(e/r)]})},vEe=[0,8.1,15.5,22.5,29,35.3,41.2,47.1,52.9,58.8,64.7,71,77.5,84.5,91.9],gEe=1/.7,yEe={boxSizing:"border-box",position:"absolute",bottom:0,width:"100%",paddingTop:40,paddingBottom:10,backgroundImage:`linear-gradient(to bottom,${[0,.013,.049,.104,.175,.259,.352,.45,.55,.648,.741,.825,.896,.951,.987].map(((e,t)=>`hsla(0, 0%, 0%, ${e}) ${vEe[t]*gEe}%`)).join(", ")}, hsl(0, 0%, 0%) 100%)`,backgroundSize:"auto 145px",display:"flex",paddingRight:12,paddingLeft:12,flexDirection:"column",transition:"opacity 0.3s"},bEe={display:"flex",flexDirection:"row",width:"100%",alignItems:"center",justifyContent:"center",userSelect:"none",WebkitUserSelect:"none"},wEe={display:"flex",flexDirection:"row",userSelect:"none",WebkitUserSelect:"none",alignItems:"center"},xEe={width:12},SEe={height:8},kEe={flex:1},EEe={},OEe=({durationInFrames:e,isFullscreen:t,fps:r,showVolumeControls:o,onFullscreenButtonClick:i,allowFullscreen:a,onExitFullscreenButtonClick:s,spaceKeyToPlayOrPause:l,onSeekEnd:c,onSeekStart:u,inFrame:d,outFrame:f,initiallyShowControls:p,canvasSize:h,renderPlayPauseButton:m,renderFullscreenButton:v,alwaysShowControls:g,showPlaybackRateControl:y,containerRef:b,buffering:w,hideControlsWhenPointerDoesntMove:x,onPointerDown:S,onDoubleClick:k,renderMuteButton:E,renderVolumeSlider:O,playing:j,toggle:_})=>{const C=(0,n.useRef)(null),[T,P]=(0,n.useState)(!1),A=Vke(b,x),{maxTimeLabelWidth:N,displayVerticalVolumeSlider:M}=(({allowFullscreen:e,playerWidth:t})=>(0,n.useMemo)((()=>{const n=50+(e?16:0)+24+20,r=t-n,o=Math.max(r,0),i=o-Jke;return{maxTimeLabelWidth:0===o?null:o,displayVerticalVolumeSlider:t<(i<Jke?o:i)+n+Jke}}),[e,t]))({allowFullscreen:a,playerWidth:h?.width??0}),[I,R]=(0,n.useState)((()=>{if("boolean"==typeof p)return p;if("number"==typeof p){if(p%1!=0)throw new Error("initiallyShowControls must be an integer or a boolean");if(Number.isNaN(p))throw new Error("initiallyShowControls must not be NaN");if(!Number.isFinite(p))throw new Error("initiallyShowControls must be finite");if(p<=0)throw new Error("initiallyShowControls must be a positive integer");return p}throw new TypeError("initiallyShowControls must be a number or a boolean")})),L=(0,n.useMemo)((()=>({...yEe,opacity:Number(A||!j||I||g)})),[A,I,j,g]);(0,n.useEffect)((()=>{C.current&&l&&C.current.focus({preventScroll:!0})}),[j,l]),(0,n.useEffect)((()=>{P(("undefined"!=typeof document&&(document.fullscreenEnabled||document.webkitFullscreenEnabled))??!1)}),[]),(0,n.useEffect)((()=>{if(!1===I)return;const e=setTimeout((()=>{R(!1)}),!0===I?2e3:I);return()=>{clearInterval(e)}}),[I]);const D=(0,n.useMemo)((()=>{if(!0===y)return[.5,.8,1,1.2,1.5,1.8,2,2.5,3];if(Array.isArray(y)){for(const e of y){if("number"!=typeof e)throw new Error("Every item in showPlaybackRateControl must be a number");if(e<=0)throw new Error("Every item in showPlaybackRateControl must be positive")}return y}return null}),[y]),F=(0,n.useRef)(null),z=(0,n.useRef)(null),B=(0,n.useCallback)((e=>{e.target!==F.current&&e.target!==z.current||S?.(e)}),[S]),$=(0,n.useCallback)((e=>{e.target!==F.current&&e.target!==z.current||k?.(e)}),[k]);return(0,Ut.jsxs)("div",{ref:F,style:L,onPointerDown:B,onDoubleClick:$,children:[(0,Ut.jsxs)("div",{ref:z,style:bEe,children:[(0,Ut.jsxs)("div",{style:wEe,children:[(0,Ut.jsx)("button",{ref:C,type:"button",style:sEe,onClick:_,"aria-label":j?"Pause video":"Play video",title:j?"Pause video":"Play video",children:null===m?(0,Ut.jsx)(Xke,{buffering:w,playing:j}):m({playing:j,isBuffering:w})??(0,Ut.jsx)(Xke,{buffering:w,playing:j})}),o?(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{style:xEe}),(0,Ut.jsx)(Qke,{renderMuteButton:E,renderVolumeSlider:O,displayVerticalVolumeSlider:M})]}):null,(0,Ut.jsx)("div",{style:xEe}),(0,Ut.jsx)(mEe,{durationInFrames:e,fps:r,maxTimeLabelWidth:N}),(0,Ut.jsx)("div",{style:xEe})]}),(0,Ut.jsx)("div",{style:kEe}),D&&h&&(0,Ut.jsx)(cEe,{canvasSize:h,playbackRates:D}),D&&T&&a?(0,Ut.jsx)("div",{style:xEe}):null,(0,Ut.jsx)("div",{style:EEe,children:T&&a?(0,Ut.jsx)("button",{type:"button","aria-label":t?"Exit fullscreen":"Enter Fullscreen",title:t?"Exit fullscreen":"Enter Fullscreen",style:sEe,onClick:t?s:i,children:null===v?(0,Ut.jsx)(kke,{isFullscreen:t}):v({isFullscreen:t})}):null})]}),(0,Ut.jsx)("div",{style:SEe}),(0,Ut.jsx)(pEe,{onSeekEnd:c,onSeekStart:u,durationInFrames:e,inFrame:d,outFrame:f})]})},jEe={display:"flex",justifyContent:"center",alignItems:"center",flex:1,height:"100%",width:"100%"};class _Ee extends n.Component{state={hasError:null};static getDerivedStateFromError(e){return{hasError:e}}componentDidCatch(e){this.props.onError(e)}render(){return this.state.hasError?(0,Ut.jsx)("div",{style:jEe,children:this.props.errorFallback({error:this.state.hasError})}):this.props.children}}var CEe={backgroundColor:"red",position:"absolute",padding:12,fontFamily:"Arial"},TEe=["28d262b44cc61fa750f1686b16ad0604dabfe193fbc263eec05c89b7ad4c2cd6","4db1b0a94be33165dfefcb3ba03d04c7a2666dd27c496d3dc9fa41858e94925e","fbc48530bbf245da790f63675e84e06bab38c3b114fab07eb350025119922bdc","7baf10a8932757b1b3a22b3fce10a048747ac2f8eaf638603487e3705b07eb83","8a6c21a598d8c667272b5207c051b85997bf5b45d5fb712378be3f27cd72c6a6","a2f7aaac9c50a9255e7fc376110c4e0bfe153722dc66ed3c5d3bf2a135f65518"],PEe=!1,AEe=()=>{const[e,t]=n.useState(!1);return(0,n.useEffect)((()=>{PEe||(PEe=!0,(async()=>{if("undefined"==typeof window)return null;if(void 0===window.crypto)return null;if(void 0===window.crypto.subtle)return null;try{const e=await crypto.subtle.digest("SHA-256",(new TextEncoder).encode(window.location.hostname));return Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")}catch{return null}})().then((e=>{e&&TEe.includes(e)&&t(!0)})).catch((()=>{})))}),[]),(0,n.useEffect)((()=>{if(!e)return;const t=new MutationObserver((()=>(()=>{if(!document.querySelector(".warning-banner")){const e=document.createElement("div");e.className="warning-banner",Object.assign(e.style,CEe,{zIndex:"9999",cssText:`${CEe.cssText} !important;`}),e.innerHTML='\n\t        <a href="https://github.com/remotion-dev/remotion/pull/4589" style="color: white;">\n\t          Remotion Unlicensed – Contact hi@remotion.dev\n\t        </a>\n\t      ',document.body.appendChild(e)}})()));return t.observe(document.body,{childList:!0,subtree:!0}),()=>{t.disconnect()}}),[e]),e?(0,Ut.jsx)("div",{style:CEe,className:"warning-banner",children:(0,Ut.jsx)("a",{style:{color:"white"},href:"https://github.com/remotion-dev/remotion/pull/4589",children:"Remotion Unlicensed – Contact hi@remotion.dev"})}):null},NEe=e=>e??"__remotion-player",MEe="undefined"==typeof document,IEe=(e,t,r)=>{const o=(()=>{const e=(0,n.useRef)([]),t=(0,n.useCallback)((t=>{e.current=[...e.current,t]}),[]),r=(0,n.useCallback)((t=>{e.current=e.current.filter((e=>e!==t))}),[]),o=(0,n.useCallback)((()=>e.current.map((e=>e.cancel()))),[]);return(0,n.useMemo)((()=>({appendPendingPromise:t,removePendingPromise:r,clearPendingPromises:o})),[t,o,r])})(),i=(0,n.useCallback)((async t=>{if(t instanceof PointerEvent?"touch"===t.pointerType:"touch"===t.nativeEvent.pointerType)return void e(t);o.clearPendingPromises();const n=(e=>{let t=!1;const n=new Promise(((n,r)=>{e.then((e=>{t?r({isCanceled:t,value:e}):n(e)})).catch((e=>{r({isCanceled:t,error:e})}))}));return{promise:n,cancel:()=>{t=!0}}})((e=>new Promise((t=>setTimeout(t,e))))(200));o.appendPendingPromise(n);try{await n.promise,o.removePendingPromise(n),e(t)}catch(e){const t=e;if(o.removePendingPromise(n),!t.isCanceled)throw t.error}}),[o,e]),a=(0,n.useCallback)((()=>{document.addEventListener("pointerup",(e=>{i(e)}),{once:!0})}),[i]),s=(0,n.useCallback)((()=>{o.clearPendingPromises(),t()}),[o,t]);return(0,n.useMemo)((()=>r?{handlePointerDown:a,handleDoubleClick:s}:{handlePointerDown:e,handleDoubleClick:()=>{}}),[r,s,a,e])},REe=n.version.split(".")[0];if("0"===REe)throw new Error(`Version ${REe} of "react" is not supported by Remotion`);var LEe=parseInt(REe,10)>=18,DEe=(0,n.forwardRef)((({controls:e,style:t,loop:r,autoPlay:o,allowFullscreen:i,inputProps:a,clickToPlay:s,showVolumeControls:l,doubleClickToFullscreen:c,spaceKeyToPlayOrPause:u,errorFallback:d,playbackRate:f,renderLoading:p,renderPoster:h,className:m,moveToBeginningWhenEnded:v,showPosterWhenUnplayed:g,showPosterWhenEnded:y,showPosterWhenPaused:b,showPosterWhenBuffering:w,inFrame:x,outFrame:S,initiallyShowControls:k,renderFullscreen:E,renderPlayPauseButton:O,renderMuteButton:j,renderVolumeSlider:_,alwaysShowControls:C,showPlaybackRateControl:T,posterFillMode:P,bufferStateDelayInMilliseconds:A,hideControlsWhenPointerDoesntMove:N,overflowVisible:M,browserMediaControlsBehavior:I,overrideInternalClassName:R,noSuspense:L},D)=>{const F=_E.Xp.useUnsafeVideoConfig(),z=_E.Xp.useVideo(),B=(0,n.useRef)(null),$=Kke(B,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),[U,V]=(0,n.useState)(!1),[H,W]=(0,n.useState)(o),[q,G]=(0,n.useState)((()=>!1)),[K,X]=(0,n.useState)(!1),Y=(0,n.useMemo)((()=>"undefined"!=typeof document&&Boolean(document.fullscreenEnabled||document.webkitFullscreenEnabled)),[]),Z=Hke(),J=Z.toggle;qke({loop:r,playbackRate:f,moveToBeginningWhenEnded:v,inFrame:x,outFrame:S,getCurrentFrame:Z.getCurrentFrame,browserMediaControlsBehavior:I}),(0,n.useEffect)((()=>{U&&!Z.playing&&(V(!1),Z.play())}),[U,Z]),(0,n.useEffect)((()=>{const{current:e}=B;if(!e)return;const t=()=>{const t=document.fullscreenElement===e||document.webkitFullscreenElement===e;G(t)};return document.addEventListener("fullscreenchange",t),document.addEventListener("webkitfullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t),document.removeEventListener("webkitfullscreenchange",t)}}),[]);const Q=(0,n.useCallback)((e=>{J(e)}),[J]),ee=(0,n.useCallback)((()=>{if(!i)throw new Error("allowFullscreen is false");if(!Y)throw new Error("Browser doesnt support fullscreen");if(!B.current)throw new Error("No player ref found");B.current.webkitRequestFullScreen?B.current.webkitRequestFullScreen():B.current.requestFullscreen()}),[i,Y]),te=(0,n.useCallback)((()=>{document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen()}),[]);(0,n.useEffect)((()=>{const{current:e}=B;if(!e)return;const t=()=>{const e=document.webkitFullscreenElement??document.fullscreenElement;e&&e===B.current?Z.emitter.dispatchFullscreenChange({isFullscreen:!0}):Z.emitter.dispatchFullscreenChange({isFullscreen:!1})};return e.addEventListener("webkitfullscreenchange",t),e.addEventListener("fullscreenchange",t),()=>{e.removeEventListener("webkitfullscreenchange",t),e.removeEventListener("fullscreenchange",t)}}),[Z.emitter]);const ne=F?.durationInFrames??1,re=(0,n.useMemo)((()=>F&&$?Nke({canvasSize:$,compositionHeight:F.height,compositionWidth:F.width,previewSize:"auto"}):null),[$,F]),oe=re?.scale??1,ie=(0,n.useRef)(!1);(0,n.useEffect)((()=>{ie.current?Z.emitter.dispatchScaleChange(oe):ie.current=!0}),[Z.emitter,oe]);const{setMediaVolume:ae,setMediaMuted:se}=(0,n.useContext)(_E.Xp.SetMediaVolumeContext),{mediaMuted:le,mediaVolume:ce}=(0,n.useContext)(_E.Xp.MediaVolumeContext);(0,n.useEffect)((()=>{Z.emitter.dispatchVolumeChange(ce)}),[Z.emitter,ce]);const ue=le||0===ce;(0,n.useEffect)((()=>{Z.emitter.dispatchMuteChange({isMuted:ue})}),[Z.emitter,ue]);const[de,fe]=(0,n.useState)(!1);(0,n.useEffect)((()=>{let e=null,t=!1;const n=()=>{t=!1,requestAnimationFrame((()=>{0===A?fe(!0):e=setTimeout((()=>{t||fe(!0)}),A)}))},r=()=>{requestAnimationFrame((()=>{t=!0,fe(!1),e&&clearTimeout(e)}))};return Z.emitter.addEventListener("waiting",n),Z.emitter.addEventListener("resume",r),()=>{Z.emitter.removeEventListener("waiting",n),Z.emitter.removeEventListener("resume",r),fe(!1),e&&clearTimeout(e),t=!0}}),[A,Z.emitter]),(0,n.useImperativeHandle)(D,(()=>{const e={play:Z.play,pause:()=>{V(!1),Z.pause()},toggle:Q,getContainerNode:()=>B.current,getCurrentFrame:Z.getCurrentFrame,isPlaying:Z.isPlaying,seekTo:e=>{const t=ne-1,n=Math.max(0,Math.min(t,e));if(Z.isPlaying()){V(n!==t||r),Z.pause()}n!==t||r||Z.emitter.dispatchEnded(),Z.seek(n)},isFullscreen:()=>{const{current:e}=B;return!!e&&(document.fullscreenElement===e||document.webkitFullscreenElement===e)},requestFullscreen:ee,exitFullscreen:te,getVolume:()=>le?0:ce,setVolume:e=>{if("number"!=typeof e)throw new TypeError("setVolume() takes a number, got value of type "+typeof e);if(isNaN(e))throw new TypeError("setVolume() got a number that is NaN. Volume must be between 0 and 1.");if(e<0||e>1)throw new TypeError("setVolume() got a number that is out of range. Must be between 0 and 1, got "+typeof e);ae(e)},isMuted:()=>ue,mute:()=>{se(!0)},unmute:()=>{se(!1)},getScale:()=>oe,pauseAndReturnToPlayStart:()=>{Z.pauseAndReturnToPlayStart()}};return Object.assign(Z.emitter,e)}),[ne,te,r,le,ue,ce,Z,ee,se,ae,Q,oe]);const pe=z?z.component:null,he=(0,n.useMemo)((()=>Mke({canvasSize:$,config:F,style:t,overflowVisible:M,layout:re})),[$,F,re,M,t]),me=(0,n.useMemo)((()=>Rke({config:F,layout:re,scale:oe,overflowVisible:M})),[F,re,M,oe]),ve=(0,n.useMemo)((()=>Ike({canvasSize:$,config:F,layout:re,scale:oe,overflowVisible:M})),[$,F,re,M,oe]),ge=Z.pause,ye=Z.emitter.dispatchError,be=(0,n.useCallback)((e=>{ge(),ye(e)}),[ye,ge]),we=(0,n.useCallback)((e=>{e.stopPropagation(),ee()}),[ee]),xe=(0,n.useCallback)((e=>{e.stopPropagation(),te()}),[te]),Se=(0,n.useCallback)((e=>{(e instanceof MouseEvent?2===e.button:e.nativeEvent.button)||Q(e)}),[Q]),ke=(0,n.useCallback)((()=>{X(!0)}),[]),Ee=(0,n.useCallback)((()=>{X(!1)}),[]),Oe=(0,n.useCallback)((()=>{q?te():ee()}),[te,q,ee]),{handlePointerDown:je,handleDoubleClick:_e}=IEe(Se,Oe,c&&i&&Y);(0,n.useEffect)((()=>{H&&(Z.play(),W(!1))}),[H,Z]);const Ce=(0,n.useMemo)((()=>p?p({height:he.height,width:he.width,isBuffering:de}):null),[he.height,he.width,p,de]),Te=(0,n.useMemo)((()=>({type:"scale",scale:oe})),[oe]);if(!F)return null;const Pe=h?h({height:"player-size"===P?he.height:F.height,width:"player-size"===P?he.width:F.width,isBuffering:de}):null;if(void 0===Pe)throw new TypeError("renderPoster() must return a React element, but undefined was returned");const Ae=Pe&&[b&&!Z.isPlaying()&&!K,y&&Z.isLastFrame&&!Z.isPlaying(),g&&!Z.hasPlayed&&!Z.isPlaying(),w&&de&&Z.isPlaying()].some(Boolean),{left:Ne,top:Me,width:Ie,height:Re,...Le}=me,De=(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{style:me,onPointerDown:s?je:void 0,onDoubleClick:c?_e:void 0,children:[(0,Ut.jsxs)("div",{style:ve,className:NEe(R),children:[pe?(0,Ut.jsx)(_Ee,{onError:be,errorFallback:d,children:(0,Ut.jsx)(_E.Xp.CurrentScaleContext.Provider,{value:Te,children:(0,Ut.jsx)(pe,{...z?.props??{},...a??{}})})}):null,Ae&&"composition-size"===P?(0,Ut.jsx)("div",{style:{...Le,width:F.width,height:F.height},onPointerDown:s?je:void 0,onDoubleClick:c?_e:void 0,children:Pe}):null]}),(0,Ut.jsx)(AEe,{})]}),Ae&&"player-size"===P?(0,Ut.jsx)("div",{style:me,onPointerDown:s?je:void 0,onDoubleClick:c?_e:void 0,children:Pe}):null,e?(0,Ut.jsx)(OEe,{fps:F.fps,playing:Z.playing,toggle:Z.toggle,durationInFrames:F.durationInFrames,containerRef:B,onFullscreenButtonClick:we,isFullscreen:q,allowFullscreen:i,showVolumeControls:l,onExitFullscreenButtonClick:xe,spaceKeyToPlayOrPause:u,onSeekEnd:Ee,onSeekStart:ke,inFrame:x,outFrame:S,initiallyShowControls:k,canvasSize:$,renderFullscreenButton:E,renderPlayPauseButton:O,alwaysShowControls:C,showPlaybackRateControl:T,buffering:de,hideControlsWhenPointerDoesntMove:N,onDoubleClick:c?_e:void 0,onPointerDown:s?je:void 0,renderMuteButton:j,renderVolumeSlider:_}):null]});return L||MEe&&!LEe?(0,Ut.jsx)("div",{ref:B,style:he,className:m,children:De}):(0,Ut.jsx)("div",{ref:B,style:he,className:m,children:(0,Ut.jsx)(n.Suspense,{fallback:Ce,children:De})})})),FEe="remotion.volumePreference",zEe="player-comp",BEe=({children:e,timelineContext:t,fps:r,compositionHeight:o,compositionWidth:i,durationInFrames:a,component:s,numberOfSharedAudioTags:l,initiallyMuted:c,logLevel:u})=>{const d=(0,n.useMemo)((()=>({compositions:[{component:s,durationInFrames:a,height:o,width:i,fps:r,id:zEe,nonce:777,folderName:null,parentFolderName:null,schema:null,calculateMetadata:null}],folders:[],currentCompositionMetadata:null,canvasContent:{type:"composition",compositionId:"player-comp"}})),[s,a,o,i,r]),[f,p]=(0,n.useState)((()=>c)),[h,m]=(0,n.useState)((()=>(()=>{if("undefined"==typeof window)return 1;try{const e=window.localStorage.getItem(FEe);return e?Number(e):1}catch{return 1}})())),v=(0,n.useMemo)((()=>({mediaMuted:f,mediaVolume:h})),[f,h]),g=(0,n.useCallback)((e=>{m(e),((e,t)=>{if("undefined"!=typeof window)try{window.localStorage.setItem(FEe,String(e))}catch(e){_E.Xp.Log.error(t,"Could not persist volume",e)}})(e,u)}),[u]),y=(0,n.useMemo)((()=>({setMediaMuted:p,setMediaVolume:g})),[g]),b=(0,n.useMemo)((()=>({logLevel:u,mountTime:Date.now()})),[u]);return(0,Ut.jsx)(_E.Xp.LogLevelContext.Provider,{value:b,children:(0,Ut.jsx)(_E.Xp.CanUseRemotionHooksProvider,{children:(0,Ut.jsx)(_E.Xp.Timeline.TimelineContext.Provider,{value:t,children:(0,Ut.jsx)(_E.Xp.CompositionManager.Provider,{value:d,children:(0,Ut.jsx)(_E.Xp.ResolveCompositionConfig,{children:(0,Ut.jsx)(_E.Xp.PrefetchProvider,{children:(0,Ut.jsx)(_E.Xp.DurationsContextProvider,{children:(0,Ut.jsx)(_E.Xp.MediaVolumeContext.Provider,{value:v,children:(0,Ut.jsx)(_E.Xp.SetMediaVolumeContext.Provider,{value:y,children:(0,Ut.jsx)(_E.Xp.SharedAudioContextProvider,{numberOfAudioTags:l,component:s,children:(0,Ut.jsx)(_E.Xp.BufferingProvider,{children:e})})})})})})})})})})})},$Ee=!1,UEe=(e,t)=>{if(null==e)return e??null;if("number"!=typeof e)throw new TypeError(`"${t}" must be a number, but is ${JSON.stringify(e)}`);if(Number.isNaN(e))throw new TypeError(`"${t}" must not be NaN, but is ${JSON.stringify(e)}`);if(!Number.isFinite(e))throw new TypeError(`"${t}" must be finite, but is ${JSON.stringify(e)}`);if(e%1!=0)throw new TypeError(`"${t}" must be an integer, but is ${JSON.stringify(e)}`);return e},VEe=vke,HEe=gke,WEe=yke,qEe=bke,GEe=(0,n.forwardRef)((({durationInFrames:e,compositionHeight:t,compositionWidth:r,fps:o,inputProps:i,style:a,controls:s=!1,loop:l=!1,autoPlay:c=!1,showVolumeControls:u=!0,allowFullscreen:d=!0,clickToPlay:f,doubleClickToFullscreen:p=!1,spaceKeyToPlayOrPause:h=!0,moveToBeginningWhenEnded:m=!0,numberOfSharedAudioTags:v=5,errorFallback:g=()=>"⚠️",playbackRate:y=1,renderLoading:b,className:w,showPosterWhenUnplayed:x,showPosterWhenEnded:S,showPosterWhenPaused:k,showPosterWhenBuffering:E,initialFrame:O,renderPoster:j,inFrame:_,outFrame:C,initiallyShowControls:T,renderFullscreenButton:P,renderPlayPauseButton:A,renderVolumeSlider:N,alwaysShowControls:M=!1,initiallyMuted:I=!1,showPlaybackRateControl:R=!1,posterFillMode:L="player-size",bufferStateDelayInMilliseconds:D,hideControlsWhenPointerDoesntMove:F=!0,overflowVisible:z=!1,renderMuteButton:B,browserMediaControlsBehavior:$,overrideInternalClassName:U,logLevel:V="info",noSuspense:H,acknowledgeRemotionLicense:W,...q},G)=>{if("undefined"!=typeof window&&(0,n.useLayoutEffect)((()=>{window.remotion_isPlayer=!0}),[]),void 0!==q.defaultProps)throw new Error("The <Player /> component does not accept `defaultProps`, but some were passed. Use `inputProps` instead.");const K="component"in(X=q)?X.component:null;var X;if(K?.type===_E.BO)throw new TypeError("'component' should not be an instance of <Composition/>. Pass the React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");if(K===_E.BO)throw new TypeError("'component' must not be the 'Composition' component. Pass your own React component directly, and set the duration, fps and dimensions as separate props. See https://www.remotion.dev/docs/player/examples for an example.");(0,n.useState)((()=>((e,t)=>{e||$Ee||($Ee=!0,_E.Xp.Log.warn(t,"Note: Some companies are required to obtain a license to use Remotion. See: https://remotion.dev/license"),_E.Xp.Log.warn(t,"Pass the `acknowledgeRemotionLicense` prop to `<Player />` function to make this message disappear."))})(Boolean(W),V)));const Y=_E.Xp.useLazyComponent({compProps:q,componentName:"Player",noSuspense:Boolean(H)});(({initialFrame:e,durationInFrames:t})=>{if("number"!=typeof t)throw new Error(`\`durationInFrames\` must be a number, but is ${JSON.stringify(t)}`);if(void 0!==e){if("number"!=typeof e)throw new Error(`\`initialFrame\` must be a number, but is ${JSON.stringify(e)}`);if(Number.isNaN(e))throw new Error("`initialFrame` must be a number, but is NaN");if(!Number.isFinite(e))throw new Error("`initialFrame` must be a number, but is Infinity");if(e%1!=0)throw new Error(`\`initialFrame\` must be an integer, but is ${JSON.stringify(e)}`);if(e>t-1)throw new Error(`\`initialFrame\` must be less or equal than \`durationInFrames - 1\`, but is ${JSON.stringify(e)}`)}})({initialFrame:O,durationInFrames:e});const[Z,J]=(0,n.useState)((()=>({[zEe]:O??0}))),[Q,ee]=(0,n.useState)(!1),[te]=(0,n.useState)("player-comp"),ne=(0,n.useRef)(null),re=(0,n.useRef)([]),oe=(0,n.useRef)(!1),[ie,ae]=(0,n.useState)(y);if("number"!=typeof t)throw new TypeError(`'compositionHeight' must be a number but got '${typeof t}' instead`);if("number"!=typeof r)throw new TypeError(`'compositionWidth' must be a number but got '${typeof r}' instead`);if(HEe(t,"compositionHeight","of the <Player /> component"),HEe(r,"compositionWidth","of the <Player /> component"),WEe(e,{component:"of the <Player/> component",allowFloats:!1}),VEe(o,"as a prop of the <Player/> component",!1),qEe(i,"inputProps",null),(({inFrame:e,durationInFrames:t,outFrame:n})=>{const r=UEe(e,"inFrame"),o=UEe(n,"outFrame");if(null!==r||null!==o){if(null!==r&&r>t-1)throw new Error("inFrame must be less than (durationInFrames - 1), but is "+r);if(null!==o&&o>t-1)throw new Error("outFrame must be less than (durationInFrames - 1), but is "+o);if(null!==r&&r<0)throw new Error("inFrame must be greater than 0, but is "+r);if(null!==o&&o<=0)throw new Error(`outFrame must be greater than 0, but is ${o}. If you want to render a single frame, use <Thumbnail /> instead.`);if(null!==o&&null!==r&&o<=r)throw new Error("outFrame must be greater than inFrame, but is "+o+" <= "+r)}})({durationInFrames:e,inFrame:_,outFrame:C}),"boolean"!=typeof s&&void 0!==s)throw new TypeError(`'controls' must be a boolean or undefined but got '${typeof s}' instead`);if("boolean"!=typeof c&&void 0!==c)throw new TypeError(`'autoPlay' must be a boolean or undefined but got '${typeof c}' instead`);if("boolean"!=typeof l&&void 0!==l)throw new TypeError(`'loop' must be a boolean or undefined but got '${typeof l}' instead`);if("boolean"!=typeof p&&void 0!==p)throw new TypeError(`'doubleClickToFullscreen' must be a boolean or undefined but got '${typeof p}' instead`);if("boolean"!=typeof u&&void 0!==u)throw new TypeError(`'showVolumeControls' must be a boolean or undefined but got '${typeof u}' instead`);if("boolean"!=typeof d&&void 0!==d)throw new TypeError(`'allowFullscreen' must be a boolean or undefined but got '${typeof d}' instead`);if("boolean"!=typeof f&&void 0!==f)throw new TypeError(`'clickToPlay' must be a boolean or undefined but got '${typeof f}' instead`);if("boolean"!=typeof h&&void 0!==h)throw new TypeError(`'spaceKeyToPlayOrPause' must be a boolean or undefined but got '${typeof h}' instead`);if("number"!=typeof v||v%1!=0||!Number.isFinite(v)||Number.isNaN(v)||v<0)throw new TypeError(`'numberOfSharedAudioTags' must be an integer but got '${v}' instead`);(e=>{if(void 0!==e){if(e>4)throw new Error(`The highest possible playback rate is 4. You passed: ${e}`);if(e<-4)throw new Error(`The lowest possible playback rate is -4. You passed: ${e}`);if(0===e)throw new Error("A playback rate of 0 is not supported.")}})(ie),(0,n.useEffect)((()=>{ae(y)}),[y]),(0,n.useImperativeHandle)(G,(()=>ne.current),[]),(0,n.useState)((()=>{_E.Xp.playbackLogging({logLevel:V,message:`[player] Mounting <Player>. User agent = ${"undefined"==typeof navigator?"server":navigator.userAgent}`,tag:"player",mountTime:Date.now()})}));const se=(0,n.useMemo)((()=>({frame:Z,playing:Q,rootId:te,playbackRate:ie,imperativePlaying:oe,setPlaybackRate:e=>{ae(e)},audioAndVideoTags:re})),[Z,ie,Q,te]),le=(0,n.useMemo)((()=>({setFrame:J,setPlaying:ee})),[J]);"undefined"!=typeof window&&(0,n.useLayoutEffect)((()=>{_E.Xp.CSSUtils.injectCSS(_E.Xp.CSSUtils.makeDefaultPreviewCSS(`.${NEe(U)}`,"#fff"))}),[U]);const ce=(0,n.useMemo)((()=>i??{}),[i]),ue=(0,n.useMemo)((()=>$??{mode:"prevent-media-session"}),[$]);return(0,Ut.jsx)(_E.Xp.IsPlayerContextProvider,{children:(0,Ut.jsx)(BEe,{timelineContext:se,component:Y,compositionHeight:t,compositionWidth:r,durationInFrames:e,fps:o,numberOfSharedAudioTags:v,initiallyMuted:I,logLevel:V,children:(0,Ut.jsx)(_E.Xp.Timeline.SetTimelineContext.Provider,{value:le,children:(0,Ut.jsx)($ke,{currentPlaybackRate:ie,children:(0,Ut.jsx)(DEe,{ref:ne,posterFillMode:L,renderLoading:b,autoPlay:Boolean(c),loop:Boolean(l),controls:Boolean(s),errorFallback:g,style:a,inputProps:ce,allowFullscreen:Boolean(d),moveToBeginningWhenEnded:Boolean(m),clickToPlay:"boolean"==typeof f?f:Boolean(s),showVolumeControls:Boolean(u),doubleClickToFullscreen:Boolean(p),spaceKeyToPlayOrPause:Boolean(h),playbackRate:ie,className:w??void 0,showPosterWhenUnplayed:Boolean(x),showPosterWhenEnded:Boolean(S),showPosterWhenPaused:Boolean(k),showPosterWhenBuffering:Boolean(E),renderPoster:j,inFrame:_??null,outFrame:C??null,initiallyShowControls:T??!0,renderFullscreen:P??null,renderPlayPauseButton:A??null,renderMuteButton:B??null,renderVolumeSlider:N??null,alwaysShowControls:M,showPlaybackRateControl:R,bufferStateDelayInMilliseconds:D??300,hideControlsWhenPointerDoesntMove:F,overflowVisible:z,browserMediaControlsBehavior:ue,overrideInternalClassName:U??void 0,noSuspense:Boolean(H)})})})})})})),KEe=n.version.split(".")[0];if("0"===KEe)throw new Error(`Version ${KEe} of "react" is not supported by Remotion`);var XEe=parseInt(KEe,10)>=18,YEe=(0,n.forwardRef)((({style:e,inputProps:t,errorFallback:r,renderLoading:o,className:i,overflowVisible:a,noSuspense:s,overrideInternalClassName:l},c)=>{const u=_E.Xp.useUnsafeVideoConfig(),d=_E.Xp.useVideo(),f=(0,n.useRef)(null),p=Kke(f,{triggerOnWindowResize:!1,shouldApplyCssTransforms:!1}),h=(0,n.useMemo)((()=>u&&p?Nke({canvasSize:p,compositionHeight:u.height,compositionWidth:u.width,previewSize:"auto"}):null),[p,u]),m=h?.scale??1,v=(()=>{const e=(0,n.useContext)(Dke);if(!e)throw new TypeError("Expected Player event emitter context");return(0,n.useMemo)((()=>({emitter:e})),[e])})();Bke(v.emitter),(0,n.useImperativeHandle)(c,(()=>{const e={getContainerNode:()=>f.current,getScale:()=>m};return Object.assign(v.emitter,e)}),[m,v.emitter]);const g=d?d.component:null,y=(0,n.useMemo)((()=>Mke({config:u,style:e,canvasSize:p,overflowVisible:a,layout:h})),[p,u,h,a,e]),b=(0,n.useMemo)((()=>Rke({config:u,layout:h,scale:m,overflowVisible:a})),[u,h,a,m]),w=(0,n.useMemo)((()=>Ike({canvasSize:p,config:u,layout:h,scale:m,overflowVisible:a})),[p,u,h,a,m]),x=(0,n.useCallback)((e=>{v.emitter.dispatchError(e)}),[v.emitter]),S=(0,n.useMemo)((()=>o?o({height:y.height,width:y.width,isBuffering:!1}):null),[y.height,y.width,o]),k=(0,n.useMemo)((()=>({type:"scale",scale:m})),[m]);if(!u)return null;const E=(0,Ut.jsx)("div",{style:b,children:(0,Ut.jsx)("div",{style:w,className:NEe(l),children:g?(0,Ut.jsx)(_Ee,{onError:x,errorFallback:r,children:(0,Ut.jsx)(_E.Xp.CurrentScaleContext.Provider,{value:k,children:(0,Ut.jsx)(g,{...d?.props??{},...t??{}})})}):null})});return s||MEe&&!XEe?(0,Ut.jsx)("div",{ref:f,style:y,className:i,children:E}):(0,Ut.jsx)("div",{ref:f,style:y,className:i,children:(0,Ut.jsx)(n.Suspense,{fallback:S,children:E})})})),ZEe=((0,n.forwardRef)((({frameToDisplay:e,style:t,inputProps:r,compositionHeight:o,compositionWidth:i,durationInFrames:a,fps:s,className:l,errorFallback:c=()=>"⚠️",renderLoading:u,overflowVisible:d=!1,overrideInternalClassName:f,logLevel:p="info",noSuspense:h,...m},v)=>{"undefined"!=typeof window&&(0,n.useLayoutEffect)((()=>{window.remotion_isPlayer=!0}),[]);const[g]=(0,n.useState)((()=>String((0,_E.yT)(null)))),y=(0,n.useRef)(null),b=(0,n.useMemo)((()=>({playing:!1,frame:{[zEe]:e},rootId:g,imperativePlaying:{current:!1},playbackRate:1,setPlaybackRate:()=>{throw new Error("thumbnail")},audioAndVideoTags:{current:[]}})),[e,g]);(0,n.useImperativeHandle)(v,(()=>y.current),[]);const w=_E.Xp.useLazyComponent({compProps:m,componentName:"Thumbnail",noSuspense:Boolean(h)}),[x]=(0,n.useState)((()=>new zke)),S=(0,n.useMemo)((()=>r??{}),[r]);return(0,Ut.jsx)(_E.Xp.IsPlayerContextProvider,{children:(0,Ut.jsx)(BEe,{timelineContext:b,component:w,compositionHeight:o,compositionWidth:i,durationInFrames:a,fps:s,numberOfSharedAudioTags:0,initiallyMuted:!0,logLevel:p,children:(0,Ut.jsx)(Dke.Provider,{value:x,children:(0,Ut.jsx)(YEe,{ref:y,className:l,errorFallback:c,inputProps:S,renderLoading:u,style:t,overflowVisible:d,overrideInternalClassName:f,noSuspense:Boolean(h)})})})})})),function(e,t){t.length>0&&(be.setState({selectedTileId:e}),be.setState({editingVideo:{sceneId:t[0].sceneId,tileId:e}}))});
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const JEe=Gw("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),QEe=Gw("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var eOe=o(990);function tOe(e){return tOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tOe(e)}function nOe(){nOe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==tOe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(tOe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function rOe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oOe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rOe(Object(n),!0).forEach((function(t){iOe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rOe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iOe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=tOe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tOe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tOe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aOe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var sOe={RENDERING:25,PENDING:50,PROCESSING:75,COMPLETE:100,FAILED:0},lOe=function(e){var t=e.config,n=e.progress,r=e.status,o=e.onRefresh;return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,Ut.jsxs)("div",{className:"flex items-center gap-2",children:[t.icon,(0,Ut.jsx)("span",{className:"text-lg font-medium",children:t.title})]}),(0,Ut.jsx)(LV,{title:"Check Render Status",children:(0,Ut.jsx)(Fr,{onClick:o,variant:"blend",size:"icon",className:"dark h-8 w-8 text-white",children:(0,Ut.jsx)(JEe,{className:"h-4 w-4"})})})]}),"FAILED"!==r&&(0,Ut.jsx)("div",{className:"relative h-1 w-full overflow-hidden rounded-full bg-white/20",children:(0,Ut.jsx)("div",{className:"absolute left-0 h-full rounded-full transition-all duration-1000 ".concat(t.progressBarColor),style:{width:"".concat(n,"%")}})}),(0,Ut.jsx)("p",{className:"text-sm text-white/80",children:t.message}),t.actions,(0,Ut.jsx)("p",{className:"text-xs text-white/60",children:r})]})};function cOe(e){var t=e.status,r=e.blockId,o=e.createdAt,i=(L4().enqueueSnackbar,sOe[t]||0),a=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){aOe(i,r,o,a,s,"next",e)}function s(e){aOe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(nOe().mark((function e(){var n,o,i,a,s,l;return nOe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(i=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.blocks[r])&&null!==(o=i.data.renderInformation)&&void 0!==o&&o.id){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Fs.utils.pollVideoRenderingStatus.query({renderingId:i.data.renderInformation.id});case 6:a=e.sent,s=a.status,l=a.video,s!==t&&EE(r,oOe(oOe({},i.data),{},{renderInformation:oOe(oOe({},i.data.renderInformation),{},{status:s})},l?{video:l}:{})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("Error checking video status:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){a();var e=o?new Date(o):null,t=new Date(Date.now()-9e5),n=setInterval(a,!!e&&e>t?3e4:9e5);return function(){return clearInterval(n)}}),[o]),(0,Ut.jsx)("div",{className:"absolute inset-0 flex items-center justify-center rounded-lg bg-black/50 backdrop-blur-sm",children:(0,Ut.jsx)("div",{className:"flex w-full max-w-md flex-col items-center gap-4 p-6 text-center text-white",children:"FAILED"===t?(0,Ut.jsx)(lOe,{config:{title:"Video Rendering Failed",icon:(0,Ut.jsx)(QEe,{className:"h-5 w-5 text-red-400"}),message:"We encountered an error while rendering your video.",progressBarColor:"bg-red-400",actions:(0,Ut.jsx)(Fr,{variant:"secondary",className:"flex-1",onClick:function(){(0,eOe.showNewMessage)("Hello, my video failed to render. This is the link to the lesson: ")},children:"Contact Support"})},progress:i,status:t,onRefresh:a}):(0,Ut.jsx)(lOe,{config:{title:"Rendering Video",message:"This video is still being processed. Feel free to leave this page and check again in a few minutes.",progressBarColor:"bg-white",actions:!1},progress:i,status:t,onRefresh:a})})})}const uOe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}));function dOe(e){return dOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dOe(e)}function fOe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pOe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fOe(Object(n),!0).forEach((function(t){hOe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fOe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hOe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dOe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dOe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dOe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mOe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vOe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vOe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vOe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var gOe=function(e){var t,r,o,i,a,s,l=e.videoUrl,c=e.videoRef,u=e.video,d=e.onUpdate,f=mOe((0,n.useState)(null!==(t=null===(r=c.current)||void 0===r?void 0:r.getDuration())&&void 0!==t?t:0),2),p=f[0],h=f[1],m=mOe((0,n.useState)(null!==(o=null===(i=c.current)||void 0===i?void 0:i.getCurrentTime())&&void 0!==o?o:0),2),v=m[0],g=m[1],y=mOe((0,n.useState)(u.trimStart?u.trimStart/((null===(a=c.current)||void 0===a?void 0:a.getDuration())||1)*100:0),2),b=y[0],w=y[1],x=mOe((0,n.useState)(u.trimEnd?u.trimEnd/((null===(s=c.current)||void 0===s?void 0:s.getDuration())||1)*100:100),2),S=x[0],k=x[1],E=mOe((0,n.useState)(!1),2),O=E[0],j=E[1],_=mOe((0,n.useState)(""),2),C=_[0],T=_[1],P=mOe((0,n.useState)(""),2),A=P[0],N=P[1],M=mOe((0,n.useState)(!1),2),I=M[0],R=M[1],L=mOe((0,n.useState)(!1),2),D=L[0],F=L[1],z=mOe((0,n.useState)(!1),2),B=z[0],$=z[1],U=mOe((0,n.useState)(!1),2),V=U[0],H=U[1];(0,n.useEffect)((function(){if(c.current){var e=c.current.getDuration();if(e)if(h(e),void 0!==u.trimStart||void 0!==u.trimEnd){var t=Math.min(u.trimStart||0,e),n=Math.min(u.trimEnd||e,e),r=n/e*100;w(t/e*100),k(r),t===u.trimStart&&n===u.trimEnd||d(pOe(pOe({},u),{},{trimStart:t,trimEnd:n}))}else w(0),k(100),d(pOe(pOe({},u),{},{trimStart:0,trimEnd:e}))}}),[l]),(0,n.useEffect)((function(){if(p>0&&!O){var e=Math.min(u.trimStart||0,p),t=Math.min(u.trimEnd||p,p)/p*100;w(e/p*100),k(t)}}),[u.trimStart,u.trimEnd,p,O]),(0,n.useEffect)((function(){if(c.current&&c.current.getInternalPlayer())try{var e=c.current.getDuration();e&&e!==p&&h(e)}catch(e){}}),[c,p]),(0,n.useEffect)((function(){var e=setInterval((function(){if(c.current&&c.current.getInternalPlayer())try{var e=c.current.getCurrentTime();g(e),l.includes("vimeo")&&Math.abs(e-p)<.1?H(!0):H(!1),V&&!c.current.getInternalPlayer().paused&&(c.current.seekTo(0,"seconds"),H(!1))}catch(e){}}),100);return function(){return clearInterval(e)}}),[c,p,V,l]),(0,n.useEffect)((function(){T(Q(b/100*p)),N(Q(S/100*p))}),[b,S,p]);var W=function(){document.body.style.userSelect="none",document.body.style.webkitUserSelect="none"},q=function(){document.body.style.userSelect="",document.body.style.webkitUserSelect=""},G=p,K=Math.floor(G/1),X=Math.min(11,Math.max(5,K)),Y=G/X,Z=Array.from({length:X+1},(function(e,t){return Math.min(t*Y,G)})),J=function(e){if(c.current&&c.current.getInternalPlayer())try{var t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,r=100*n,o=n*p;B||(c.current.seekTo(o,"seconds"),r<b?(w(r),d(pOe(pOe({},u),{},{trimStart:o,trimEnd:u.trimEnd||p}))):r>S&&(k(r),d(pOe(pOe({},u),{},{trimStart:u.trimStart||0,trimEnd:o}))))}catch(e){}},Q=function(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return p<3600?"".concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0")):"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))},ee=function(e){var t=(e=e.trim()).match(/^(\d{1,2}):(\d{1,2})$/);if(t){var n=mOe(t,3),r=(n[0],n[1]),o=n[2],i=parseInt(r),a=parseInt(o);if(a>=60)return null;var s=60*i+a;return s<=p?s:null}var l=e.match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);if(l){var c=mOe(l,4),u=(c[0],c[1]),d=c[2],f=c[3],h=parseInt(u),m=parseInt(d),v=parseInt(f);if(m>=60||v>=60)return null;var g=3600*h+60*m+v;return g<=p?g:null}var y=e.match(/^(\d{1,2})$/);if(y){var b=parseInt(y[1]);return b<=p?b:null}return e.match(/^\d{1,2}:?\d{0,2}$/),null},te=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return"start"===e?R(!1):F(!1),!1;var n=ee(t);if(null===n)return"start"===e?R(!0):F(!0),!1;var r="start"===e?S/100*p:b/100*p;return"start"===e&&n>=r?(R(!0),!1):"end"===e&&n<=r?(F(!0),!1):("start"===e?R(!1):F(!1),!0)},ne=function(e,t){var n=t.replace(/[^\d:]/g,"");"start"===e?(T(n),te("start",n,!1)):(N(n),te("end",n,!1))},re=function(e,t){if("Enter"===t.key){var n="start"===e?C:A;if(!te(e,n,!0))return;var r=ee(n);if(null!==r){var o=r/p*100;"start"===e?(w(o),d(pOe(pOe({},u),{},{trimStart:r,trimEnd:u.trimEnd||p})),c.current&&c.current.seekTo(r,"seconds")):(k(o),d(pOe(pOe({},u),{},{trimStart:u.trimStart||0,trimEnd:r})),c.current&&c.current.seekTo(r,"seconds"))}}};return(0,Ut.jsx)("div",{className:"z-10 mb-2 flex w-full select-none flex-col rounded-lg border bg-background p-1 shadow-sm",children:(0,Ut.jsxs)("div",{className:"flex gap-2",children:[(0,Ut.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,Ut.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Ut.jsx)(qR,{className:"w-10 text-xs font-medium",children:"Start:"}),(0,Ut.jsx)(DR,{className:"h-7 w-[85px] px-2 text-xs ".concat(I?"border-red-500 focus-visible:ring-red-500":""),placeholder:"00:00",value:C,onChange:function(e){return ne("start",e.target.value)},onKeyDown:function(e){return re("start",e)}})]}),(0,Ut.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,Ut.jsx)(qR,{className:"w-10 text-xs font-medium",children:"End:"}),(0,Ut.jsx)(DR,{className:"h-7 w-[85px] px-2 text-xs ".concat(D?"border-red-500 focus-visible:ring-red-500":""),placeholder:"00:00",value:A,onChange:function(e){return ne("end",e.target.value)},onKeyDown:function(e){return re("end",e)}})]})]}),(0,Ut.jsx)("div",{className:"flex-1",children:(0,Ut.jsx)("div",{className:"relative z-10 h-[60px] w-full overflow-visible rounded-md bg-secondary/20",children:(0,Ut.jsxs)("div",{className:"relative flex h-full items-center",children:[(0,Ut.jsx)("div",{className:"pointer-events-none absolute bottom-0 top-0 w-0.5 bg-primary",style:{left:"".concat(v/p*100,"%"),opacity:O?.3:.7,transition:O?"none":"left 0.1s linear"}}),(0,Ut.jsxs)("div",{className:"pointer-events-none",children:[(0,Ut.jsx)("div",{className:"absolute top-0 h-[6px] bg-yellow-400",style:{left:"calc(".concat(b,"% + 5px)"),right:"calc(".concat(100-S,"% + 4px)")}}),(0,Ut.jsx)("div",{className:"absolute bottom-0 h-[6px] bg-yellow-400",style:{left:"calc(".concat(b,"% + 5px)"),right:"calc(".concat(100-S,"% + 4px)")}})]}),(0,Ut.jsx)("div",{className:"absolute inset-0 cursor-pointer",onClick:J}),(0,Ut.jsx)("div",{className:"pointer-events-none absolute inset-x-0 flex h-full items-center justify-between px-6",children:Z.map((function(e,t){return(0,Ut.jsxs)(n.Fragment,{children:[(0,Ut.jsx)("div",{className:"flex h-full items-center",children:(0,Ut.jsx)("span",{className:"text-[11px] tabular-nums text-muted-foreground",children:Q(e)})}),t<Z.length-1&&(0,Ut.jsx)("div",{className:"h-8 w-px bg-border"})]},t)}))}),(0,Ut.jsx)("div",{className:"absolute bottom-0 top-0 z-20 w-[9px] cursor-ew-resize rounded-md bg-yellow-400",style:{left:"calc(".concat(b,"% + 2px)")},onMouseDown:function(e){if(p){j("start"),$(!1),W();var t=e.currentTarget.parentElement,n=e.clientX,r=b,o=b,i=function(e){e.preventDefault();var i=(e.clientX-n)/t.offsetWidth*100,a=Math.max(0,Math.min(S-1,r+i));o=a,w(a);var s=a/100*p;if(c.current)try{c.current.seekTo(s,"seconds")}catch(e){}},a=function(e){e.preventDefault(),$(!0),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a),q(),j(!1);var t=Math.max(0,Math.min(S-1,o))/100*p;c.current&&c.current.seekTo(t,"seconds"),d(pOe(pOe({},u),{},{trimStart:t,trimEnd:S/100*p})),setTimeout((function(){$(!1)}),100)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)}},onClick:function(e){e.stopPropagation(),J(e)},draggable:!1}),(0,Ut.jsx)("div",{className:"absolute bottom-0 top-0 z-20 w-[9px] cursor-ew-resize rounded-md bg-yellow-400",style:{left:"calc(".concat(S,"% - 8px)")},onMouseDown:function(e){if(p){j("end"),$(!1),W();var t=e.currentTarget.parentElement,n=e.clientX,r=S,o=S,i=function(e){e.preventDefault();var i=(e.clientX-n)/t.offsetWidth*100,a=Math.max(b+1,Math.min(100,r+i));o=a,k(a);var s=a/100*p;if(c.current)try{c.current.seekTo(s,"seconds")}catch(e){}},a=function(e){e.preventDefault(),$(!0),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",a),q(),j(!1);var t=Math.max(b+1,Math.min(100,o))/100*p;c.current&&c.current.seekTo(t,"seconds"),d(pOe(pOe({},u),{},{trimStart:b/100*p,trimEnd:t})),setTimeout((function(){$(!1)}),100)};document.addEventListener("mousemove",i),document.addEventListener("mouseup",a)}},onClick:function(e){e.stopPropagation(),J(e)},draggable:!1})]})})})]})})},yOe=o(9375);function bOe(e){return bOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bOe(e)}function wOe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xOe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wOe(Object(n),!0).forEach((function(t){SOe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wOe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SOe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bOe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bOe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bOe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kOe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return EOe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EOe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EOe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var OOe=function(e){var t=e.videoCompleted,n=e.requireCompletion,r=e.mode,o=be((function(e){return e.videoTileBeingEdited})),i=r===dh.VIEW;return n?(0,Ut.jsxs)(Ut.Fragment,{children:[i&&!t&&!o&&n&&(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,Ut.jsx)(Pve,{className:"h-4 w-4"}),ZK("Watch complete video to continue")]}),i&&t&&!o&&n&&(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-center gap-2",children:[(0,Ut.jsx)(uOe,{className:"h-4 w-4"}),ZK("Video completed")]})]}):null};function jOe(e){return jOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jOe(e)}function _Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function COe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_Oe(Object(n),!0).forEach((function(t){TOe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TOe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jOe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jOe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jOe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var POe=function(e){var t=e;if(e.includes("youtube.com/watch")){var n=e.split("v=")[1].split("&")[0];t="https://www.youtube-nocookie.com/embed/".concat(n)}else if(e.includes("youtu.be/")){var r=e.split("youtu.be/")[1].split("&")[0];t="https://www.youtube-nocookie.com/embed/".concat(r)}e.includes("<iframe")&&(t=e.split("src=")[1].split('"')[1]);return t};function AOe(e){return AOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AOe(e)}var NOe=["className","type"];function MOe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IOe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=AOe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AOe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AOe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ROe=n.forwardRef((function(e,t){var n=e.className,r=e.type,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,NOe);return(0,Ut.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MOe(Object(n),!0).forEach((function(t){IOe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MOe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:r,className:vr("w-full-xs flex h-8 rounded-md border border-foreground/20 bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t},o))}));ROe.displayName="Input";
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const LOe=Gw("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);function DOe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return FOe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?FOe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FOe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}const zOe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75 22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3-4.5 16.5"}))}));const BOe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}));const $Oe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}));const UOe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}));function VOe(e){return VOe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VOe(e)}function HOe(){HOe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==VOe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(VOe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function WOe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}const qOe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}));function GOe(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function KOe(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every((n=>{const r=e[n],o=t[n];return"function"==typeof r?`${r}`==`${o}`:GOe(r)&&GOe(o)?KOe(r,o):r===o}))}function XOe(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function YOe(e){return"number"==typeof e}function ZOe(e){return"string"==typeof e}function JOe(e){return"boolean"==typeof e}function QOe(e){return"[object Object]"===Object.prototype.toString.call(e)}function eje(e){return Math.abs(e)}function tje(e){return Math.sign(e)}function nje(e,t){return eje(e-t)}function rje(e){return lje(e).map(Number)}function oje(e){return e[ije(e)]}function ije(e){return Math.max(0,e.length-1)}function aje(e,t){return t===ije(e)}function sje(e,t=0){return Array.from(Array(e),((e,n)=>t+n))}function lje(e){return Object.keys(e)}function cje(e,t){return[e,t].reduce(((e,t)=>(lje(t).forEach((n=>{const r=e[n],o=t[n],i=QOe(r)&&QOe(o);e[n]=i?cje(r,o):o})),e)),{})}function uje(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function dje(){let e=[];const t={add:function(n,r,o,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(r,o,i),a=()=>n.removeEventListener(r,o,i);else{const e=n;e.addListener(o),a=()=>e.removeListener(o)}return e.push(a),t},clear:function(){e=e.filter((e=>e()))}};return t}function fje(e,t,n,r){const o=dje(),i=1e3/60;let a=null,s=0,l=0;function c(e){if(!l)return;a||(a=e);const o=e-a;for(a=e,s+=o;s>=i;)n(i),s-=i;r(s/i),l&&t.requestAnimationFrame(c)}function u(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){o.add(e,"visibilitychange",(()=>{e.hidden&&(a=null,s=0)}))},destroy:function(){u(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(c))},stop:u,update:()=>n(i),render:r}}function pje(e=0,t=0){const n=eje(e-t);function r(t){return t<e}function o(e){return e>t}function i(e){return r(e)||o(e)}const a={length:n,max:t,min:e,constrain:function(n){return i(n)?r(n)?e:t:n},reachedAny:i,reachedMax:o,reachedMin:r,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}};return a}function hje(e,t,n){const{constrain:r}=pje(0,e),o=e+1;let i=a(t);function a(e){return n?eje((o+e)%o):r(e)}function s(){return i}function l(){return hje(e,s(),n)}const c={get:s,set:function(e){return i=a(e),c},add:function(e){return l().set(s()+e)},clone:l};return c}function mje(e,t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y){const{cross:b,direction:w}=e,x=["INPUT","SELECT","TEXTAREA"],S={passive:!1},k=dje(),E=dje(),O=pje(50,225).constrain(p.measure(20)),j={mouse:300,touch:400},_={mouse:500,touch:600},C=h?43:25;let T=!1,P=0,A=0,N=!1,M=!1,I=!1,R=!1;function L(e){if(!uje(e,r)&&e.touches.length>=2)return D(e);const t=i.readPoint(e),n=i.readPoint(e,b),a=nje(t,P),l=nje(n,A);if(!M&&!R){if(!e.cancelable)return D(e);if(M=a>l,!M)return D(e)}const u=i.pointerMove(e);a>m&&(I=!0),c.useFriction(.3).useDuration(.75),s.start(),o.add(w(u)),e.preventDefault()}function D(e){const t=u.byDistance(0,!1).index!==d.get(),n=i.pointerUp(e)*(h?_:j)[R?"mouse":"touch"],r=function(e,t){const n=d.add(-1*tje(e)),r=u.byDistance(e,!h).distance;return h||eje(e)<O?r:v&&t?.5*r:u.byIndex(n.get(),0).distance}(w(n),t),o=function(e,t){if(0===e||0===t)return 0;if(eje(e)<=eje(t))return 0;const n=nje(eje(e),eje(t));return eje(n/e)}(n,r),a=C-10*o,s=g+o/50;M=!1,N=!1,E.clear(),c.useDuration(a).useFriction(s),l.distance(r,!h),R=!1,f.emit("pointerUp")}function F(e){I&&(e.stopPropagation(),e.preventDefault(),I=!1)}return{init:function(e){if(!y)return;function s(s){(JOe(y)||y(e,s))&&function(e){const s=uje(e,r);if(R=s,I=h&&s&&!e.buttons&&T,T=nje(o.get(),a.get())>=2,s&&0!==e.button)return;if(function(e){const t=e.nodeName||"";return x.includes(t)}(e.target))return;N=!0,i.pointerDown(e),c.useFriction(0).useDuration(0),o.set(a),function(){const e=R?n:t;E.add(e,"touchmove",L,S).add(e,"touchend",D).add(e,"mousemove",L,S).add(e,"mouseup",D)}(),P=i.readPoint(e),A=i.readPoint(e,b),f.emit("pointerDown")}(s)}const l=t;k.add(l,"dragstart",(e=>e.preventDefault()),S).add(l,"touchmove",(()=>{}),S).add(l,"touchend",(()=>{})).add(l,"touchstart",s).add(l,"mousedown",s).add(l,"touchcancel",D).add(l,"contextmenu",D).add(l,"click",F,!0)},destroy:function(){k.clear(),E.clear()},pointerDown:function(){return N}}}function vje(e,t){let n,r;function o(e){return e.timeStamp}function i(n,r){const o="client"+("x"===(r||e.scroll)?"X":"Y");return(uje(n,t)?n:n.touches[0])[o]}return{pointerDown:function(e){return n=e,r=e,i(e)},pointerMove:function(e){const t=i(e)-i(r),a=o(e)-o(n)>170;return r=e,a&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;const t=i(r)-i(n),a=o(e)-o(n),s=o(e)-o(r)>170,l=t/a;return a&&!s&&eje(l)>.1?l:0},readPoint:i}}function gje(e,t,n,r,o,i,a){const s=[e].concat(r);let l,c,u=[],d=!1;function f(e){return o.measureSize(a.measure(e))}return{init:function(o){i&&(c=f(e),u=r.map(f),l=new ResizeObserver((n=>{(JOe(i)||i(o,n))&&function(n){for(const i of n){if(d)return;const n=i.target===e,a=r.indexOf(i.target),s=n?c:u[a];if(eje(f(n?e:r[a])-s)>=.5){o.reInit(),t.emit("resize");break}}}(n)})),n.requestAnimationFrame((()=>{s.forEach((e=>l.observe(e)))})))},destroy:function(){d=!0,l&&l.disconnect()}}}function yje(e,t,n,r,o){const i=o.measure(10),a=o.measure(50),s=pje(.1,.99);let l=!1;function c(){return!l&&(!!e.reachedAny(n.get())&&!!e.reachedAny(t.get()))}return{shouldConstrain:c,constrain:function(o){if(!c())return;const l=e.reachedMin(t.get())?"min":"max",u=eje(e[l]-t.get()),d=n.get()-t.get(),f=s.constrain(u/a);n.subtract(d*f),!o&&eje(d)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function bje(e,t,n,r){const o=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:s}=pje(o,i);const l={loop:function(t){if(!function(e){return 1===e?s(n.get()):-1===e&&a(n.get())}(t))return;const o=e*(-1*t);r.forEach((e=>e.add(o)))}};return l}function wje(e,t,n,r,o){const{reachedAny:i,removeOffset:a,constrain:s}=r;function l(e){return e.concat().sort(((e,t)=>eje(e)-eje(t)))[0]}function c(t,r){const o=[t,t+n,t-n];if(!e)return t;if(!r)return l(o);const i=o.filter((e=>tje(e)===r));return i.length?l(i):oje(o)-n}const u={byDistance:function(n,r){const l=o.get()+n,{index:u,distance:d}=function(n){const r=e?a(n):s(n),o=t.map(((e,t)=>({diff:c(e-r,0),index:t}))).sort(((e,t)=>eje(e.diff)-eje(t.diff))),{index:i}=o[0];return{index:i,distance:r}}(l),f=!e&&i(l);return!r||f?{index:u,distance:n}:{index:u,distance:n+c(t[u]-d,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-o.get(),n)}},shortcut:c};return u}function xje(e,t,n,r,o,i,a,s){const l={passive:!0,capture:!0};let c=0;function u(e){"Tab"===e.code&&(c=(new Date).getTime())}const d={init:function(d){s&&(i.add(document,"keydown",u,!1),t.forEach(((t,u)=>{i.add(t,"focus",(t=>{(JOe(s)||s(d,t))&&function(t){if((new Date).getTime()-c>10)return;a.emit("slideFocusStart"),e.scrollLeft=0;const i=n.findIndex((e=>e.includes(t)));YOe(i)&&(o.useDuration(0),r.index(i,0),a.emit("slideFocus"))}(u)}),l)})))}};return d}function Sje(e){let t=e;function n(e){return YOe(e)?e:e.get()}const r={get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}};return r}function kje(e,t){const n="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},r=t.style;let o=!1;return{clear:function(){o||(r.transform="",t.getAttribute("style")||t.removeAttribute("style"))},to:function(t){o||(r.transform=n(e.direction(t)))},toggleActive:function(e){o=!e}}}function Eje(e,t,n,r,o,i,a,s,l){const c=rje(o),u=rje(o).reverse(),d=function(){const e=a[0];return h(p(u,e),n,!1)}().concat(function(){const e=t-a[0]-1;return h(p(c,e),-n,!0)}());function f(e,t){return e.reduce(((e,t)=>e-o[t]),t)}function p(e,t){return e.reduce(((e,n)=>f(e,t)>0?e.concat([n]):e),[])}function h(o,a,c){const u=function(e){return i.map(((n,o)=>({start:n-r[o]+.5+e,end:n+t-.5+e})))}(a);return o.map((t=>{const r=c?0:-n,o=c?n:0,i=c?"end":"start",a=u[t][i];return{index:t,loopPoint:a,slideLocation:Sje(-1),translate:kje(e,l[t]),target:()=>s.get()>a?r:o}}))}const m={canLoop:function(){return d.every((({index:e})=>{const n=c.filter((t=>t!==e));return f(n,t)<=.1}))},clear:function(){d.forEach((e=>e.translate.clear()))},loop:function(){d.forEach((e=>{const{target:t,translate:n,slideLocation:r}=e,o=t();o!==r.get()&&(n.to(o),r.set(o))}))},loopPoints:d};return m}function Oje(e,t,n){let r,o=!1;return{init:function(i){n&&(r=new MutationObserver((e=>{o||(JOe(n)||n(i,e))&&function(e){for(const n of e)if("childList"===n.type){i.reInit(),t.emit("slidesChanged");break}}(e)})),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),o=!0}}}function jje(e,t,n,r){const o={};let i,a=null,s=null,l=!1;const c={init:function(){i=new IntersectionObserver((e=>{l||(e.forEach((e=>{const n=t.indexOf(e.target);o[n]=e})),a=null,s=null,n.emit("slidesInView"))}),{root:e.parentElement,threshold:r}),t.forEach((e=>i.observe(e)))},destroy:function(){i&&i.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&s)return s;const t=function(e){return lje(o).reduce(((t,n)=>{const r=parseInt(n),{isIntersecting:i}=o[r];return(e&&i||!e&&!i)&&t.push(r),t}),[])}(e);return e&&(a=t),e||(s=t),t}};return c}function _je(e,t,n,r,o,i,a,s,l){const{startEdge:c,endEdge:u,direction:d}=e,f=YOe(n);const p={groupSlides:function(e){return f?function(e,t){return rje(e).filter((e=>e%t==0)).map((n=>e.slice(n,n+t)))}(e,n):function(e){return e.length?rje(e).reduce(((n,f,p)=>{const h=oje(n)||0,m=0===h,v=f===ije(e),g=o[c]-i[h][c],y=o[c]-i[f][u],b=!r&&m?d(a):0,w=eje(y-(!r&&v?d(s):0)-(g+b));return p&&w>t+l&&n.push(f),v&&n.push(e.length),n}),[]).map(((t,n,r)=>{const o=Math.max(r[n-1]||0);return e.slice(o,t)})):[]}(e)}};return p}function Cje(e,t,n,r,o,i,a){const{align:s,axis:l,direction:c,startIndex:u,loop:d,duration:f,dragFree:p,dragThreshold:h,inViewThreshold:m,slidesToScroll:v,skipSnaps:g,containScroll:y,watchResize:b,watchSlides:w,watchDrag:x,watchFocus:S}=i,k={measure:function(e){const{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:o}=e;return{top:t,right:n+r,bottom:t+o,left:n,width:r,height:o}}},E=k.measure(t),O=n.map(k.measure),j=function(e,t){const n="rtl"===t,r="y"===e,o=!r&&n?-1:1,i={scroll:r?"y":"x",cross:r?"x":"y",startEdge:r?"top":n?"right":"left",endEdge:r?"bottom":n?"left":"right",measureSize:function(e){const{height:t,width:n}=e;return r?t:n},direction:function(e){return e*o}};return i}(l,c),_=j.measureSize(E),C=function(e){const t={measure:function(t){return e*(t/100)}};return t}(_),T=function(e,t){const n={start:function(){return 0},center:function(e){return r(e)/2},end:r};function r(e){return t-e}const o={measure:function(r,o){return ZOe(e)?n[e](r):e(t,r,o)}};return o}(s,_),P=!d&&!!y,A=d||!!y,{slideSizes:N,slideSizesWithGaps:M,startGap:I,endGap:R}=function(e,t,n,r,o,i){const{measureSize:a,startEdge:s,endEdge:l}=e,c=n[0]&&o,u=function(){if(!c)return 0;const e=n[0];return eje(t[s]-e[s])}(),d=function(){if(!c)return 0;const e=i.getComputedStyle(oje(r));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),f=n.map(a),p=n.map(((e,t,n)=>{const r=!t,o=aje(n,t);return r?f[t]+u:o?f[t]+d:n[t+1][s]-e[s]})).map(eje);return{slideSizes:f,slideSizesWithGaps:p,startGap:u,endGap:d}}(j,E,O,n,A,o),L=_je(j,_,v,d,E,O,I,R,2),{snaps:D,snapsAligned:F}=function(e,t,n,r,o){const{startEdge:i,endEdge:a}=e,{groupSlides:s}=o,l=s(r).map((e=>oje(e)[a]-e[0][i])).map(eje).map(t.measure),c=r.map((e=>n[i]-e[i])).map((e=>-eje(e))),u=s(c).map((e=>e[0])).map(((e,t)=>e+l[t]));return{snaps:c,snapsAligned:u}}(j,T,E,O,L),z=-oje(D)+oje(M),{snapsContained:B,scrollContainLimit:$}=function(e,t,n,r,o){const i=pje(-t+e,0),a=n.map(((e,t)=>{const{min:r,max:o}=i,a=i.constrain(e),s=!t,c=aje(n,t);return s?o:c||l(r,a)?r:l(o,a)?o:a})).map((e=>parseFloat(e.toFixed(3)))),s=function(){const e=a[0],t=oje(a);return pje(a.lastIndexOf(e),a.indexOf(t)+1)}();function l(e,t){return nje(e,t)<1}return{snapsContained:function(){if(t<=e+o)return[i.max];if("keepSnaps"===r)return a;const{min:n,max:l}=s;return a.slice(n,l)}(),scrollContainLimit:s}}(_,z,F,y,2),U=P?B:F,{limit:V}=function(e,t,n){const r=t[0];return{limit:pje(n?r-e:oje(t),r)}}(z,U,d),H=hje(ije(U),u,d),W=H.clone(),q=rje(n),G=fje(r,o,(e=>(({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:r}},o)=>{r||n.constrain(e.pointerDown()),t.seek(o)})(se,e)),(e=>(({scrollBody:e,translate:t,location:n,offsetLocation:r,scrollLooper:o,slideLooper:i,dragHandler:a,animation:s,eventHandler:l,scrollBounds:c,options:{loop:u}},d)=>{const f=e.settled(),p=!c.shouldConstrain(),h=u?f:f&&p;h&&!a.pointerDown()&&(s.stop(),l.emit("settle")),h||l.emit("scroll");const m=n.get()*d+Y.get()*(1-d);r.set(m),u&&(o.loop(e.direction()),i.loop()),t.to(r.get())})(se,e))),K=U[H.get()],X=Sje(K),Y=Sje(K),Z=Sje(K),J=Sje(K),Q=function(e,t,n,r,o,i){let a=0,s=0,l=o,c=i,u=e.get(),d=0;function f(e){return l=e,h}function p(e){return c=e,h}const h={direction:function(){return s},duration:function(){return l},velocity:function(){return a},seek:function(t){const o=t/1e3,i=l*o,f=r.get()-e.get();let p=0;return l?(n.set(e),a+=f/i,a*=c,u+=a,e.add(a*o),p=u-d):(a=0,n.set(r),e.set(r),p=f),s=tje(p),d=u,h},settled:function(){return eje(r.get()-t.get())<.001},useBaseFriction:function(){return p(i)},useBaseDuration:function(){return f(o)},useFriction:p,useDuration:f};return h}(X,Z,Y,J,f,.68),ee=wje(d,U,z,V,J),te=function(e,t,n,r,o,i,a){function s(o){const s=o.distance,l=o.index!==t.get();i.add(s),s&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(o.index),a.emit("select"))}const l={distance:function(e,t){s(o.byDistance(e,t))},index:function(e,n){const r=t.clone().set(e);s(o.byIndex(r.get(),n))}};return l}(G,H,W,Q,ee,J,a),ne=function(e){const{max:t,length:n}=e,r={get:function(e){return n?(e-t)/-n:0}};return r}(V),re=dje(),oe=jje(t,n,a,m),{slideRegistry:ie}=function(e,t,n,r,o,i){const{groupSlides:a}=o,{min:s,max:l}=r,c=function(){const r=a(i),o=!e||"keepSnaps"===t;return 1===n.length?[i]:o?r:r.slice(s,l).map(((e,t,n)=>{const r=!t,o=aje(n,t);return r?sje(oje(n[0])+1):o?sje(ije(i)-oje(n)[0]+1,oje(n)[0]):e}))}();return{slideRegistry:c}}(P,y,U,$,L,q),ae=xje(e,n,ie,te,Q,re,a,S),se={ownerDocument:r,ownerWindow:o,eventHandler:a,containerRect:E,slideRects:O,animation:G,axis:j,dragHandler:mje(j,e,r,o,J,vje(j,o),X,G,te,Q,ee,H,a,C,p,h,g,.68,x),eventStore:re,percentOfView:C,index:H,indexPrevious:W,limit:V,location:X,offsetLocation:Z,previousLocation:Y,options:i,resizeHandler:gje(t,a,o,n,j,b,k),scrollBody:Q,scrollBounds:yje(V,Z,J,Q,C),scrollLooper:bje(z,V,Z,[X,Z,Y,J]),scrollProgress:ne,scrollSnapList:U.map(ne.get),scrollSnaps:U,scrollTarget:ee,scrollTo:te,slideLooper:Eje(j,_,z,N,M,D,U,Z,n),slideFocus:ae,slidesHandler:Oje(t,a,w),slidesInView:oe,slideIndexes:q,slideRegistry:ie,slidesToScroll:L,target:J,translate:kje(j,t)};return se}const Tje={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Pje(e){function t(e,t){return cje(e,t||{})}const n={mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},o=lje(r).filter((t=>e.matchMedia(t).matches)).map((e=>r[e])).reduce(((e,n)=>t(e,n)),{});return t(n,o)},optionsMediaQueries:function(t){return t.map((e=>lje(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}};return n}function Aje(e,t,n){const r=e.ownerDocument,o=r.defaultView,i=Pje(o),a=function(e){let t=[];const n={init:function(n,r){return t=r.filter((({options:t})=>!1!==e.optionsAtMedia(t).active)),t.forEach((t=>t.init(n,e))),r.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}};return n}(i),s=dje(),l=function(){let e,t={};function n(e){return t[e]||[]}const r={init:function(t){e=t},emit:function(t){return n(t).forEach((n=>n(e,t))),r},off:function(e,o){return t[e]=n(e).filter((e=>e!==o)),r},on:function(e,o){return t[e]=n(e).concat([o]),r},clear:function(){t={}}};return r}(),{mergeOptions:c,optionsAtMedia:u,optionsMediaQueries:d}=i,{on:f,off:p,emit:h}=l,m=j;let v,g,y,b,w=!1,x=c(Tje,Aje.globalOptions),S=c(x),k=[];function E(t){const n=Cje(e,y,b,r,o,t,l);if(t.loop&&!n.slideLooper.canLoop()){return E(Object.assign({},t,{loop:!1}))}return n}function O(t,n){w||(x=c(x,t),S=u(x),k=n||k,function(){const{container:t,slides:n}=S,r=ZOe(t)?e.querySelector(t):t;y=r||e.children[0];const o=ZOe(n)?y.querySelectorAll(n):n;b=[].slice.call(o||y.children)}(),v=E(S),d([x,...k.map((({options:e})=>e))]).forEach((e=>s.add(e,"change",j))),S.active&&(v.translate.to(v.location.get()),v.animation.init(),v.slidesInView.init(),v.slideFocus.init(P),v.eventHandler.init(P),v.resizeHandler.init(P),v.slidesHandler.init(P),v.options.loop&&v.slideLooper.loop(),y.offsetParent&&b.length&&v.dragHandler.init(P),g=a.init(P,k)))}function j(e,t){const n=T();_(),O(c({startIndex:n},e),t),l.emit("reInit")}function _(){v.dragHandler.destroy(),v.eventStore.clear(),v.translate.clear(),v.slideLooper.clear(),v.resizeHandler.destroy(),v.slidesHandler.destroy(),v.slidesInView.destroy(),v.animation.destroy(),a.destroy(),s.clear()}function C(e,t,n){S.active&&!w&&(v.scrollBody.useBaseFriction().useDuration(!0===t?0:S.duration),v.scrollTo.index(e,n||0))}function T(){return v.index.get()}const P={canScrollNext:function(){return v.index.add(1).get()!==T()},canScrollPrev:function(){return v.index.add(-1).get()!==T()},containerNode:function(){return y},internalEngine:function(){return v},destroy:function(){w||(w=!0,s.clear(),_(),l.emit("destroy"),l.clear())},off:p,on:f,emit:h,plugins:function(){return g},previousScrollSnap:function(){return v.indexPrevious.get()},reInit:m,rootNode:function(){return e},scrollNext:function(e){C(v.index.add(1).get(),e,-1)},scrollPrev:function(e){C(v.index.add(-1).get(),e,1)},scrollProgress:function(){return v.scrollProgress.get(v.location.get())},scrollSnapList:function(){return v.scrollSnapList},scrollTo:C,selectedScrollSnap:T,slideNodes:function(){return b},slidesInView:function(){return v.slidesInView.get()},slidesNotInView:function(){return v.slidesInView.get(!1)}};return O(t,n),setTimeout((()=>l.emit("init")),0),P}function Nje(e={},t=[]){const r=(0,n.useRef)(e),o=(0,n.useRef)(t),[i,a]=(0,n.useState)(),[s,l]=(0,n.useState)(),c=(0,n.useCallback)((()=>{i&&i.reInit(r.current,o.current)}),[i]);return(0,n.useEffect)((()=>{KOe(r.current,e)||(r.current=e,c())}),[e,c]),(0,n.useEffect)((()=>{(function(e,t){if(e.length!==t.length)return!1;const n=XOe(e),r=XOe(t);return n.every(((e,t)=>KOe(e,r[t])))})(o.current,t)||(o.current=t,c())}),[t,c]),(0,n.useEffect)((()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&s){Aje.globalOptions=Nje.globalOptions;const e=Aje(s,r.current,o.current);return a(e),()=>e.destroy()}a(void 0)}),[s,a]),[l,i]}Aje.globalOptions=void 0,Nje.globalOptions=void 0;
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Mje=Gw("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ije=Gw("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function Rje(e){return Rje="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rje(e)}var Lje=["orientation","opts","setApi","plugins","className","children"],Dje=["className"],Fje=["className"],zje=["className","variant","size"],Bje=["className","variant","size"];function $je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uje(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$je(Object(n),!0).forEach((function(t){Vje(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vje(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Rje(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rje(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Rje(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hje(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wje(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wje(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wje(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qje(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Gje=n.createContext(null);function Kje(){var e=n.useContext(Gje);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}var Xje=n.forwardRef((function(e,t){var r=e.orientation,o=void 0===r?"horizontal":r,i=e.opts,a=e.setApi,s=e.plugins,l=e.className,c=e.children,u=qje(e,Lje),d=Hje(Nje(Uje(Uje({},i),{},{axis:"horizontal"===o?"x":"y",watchDrag:!1}),s),2),f=d[0],p=d[1],h=Hje(n.useState(!1),2),m=h[0],v=h[1],g=Hje(n.useState(!1),2),y=g[0],b=g[1],w=n.useCallback((function(e){e&&(v(e.canScrollPrev()),b(e.canScrollNext()))}),[]),x=n.useCallback((function(){null==p||p.scrollPrev()}),[p]),S=n.useCallback((function(){null==p||p.scrollNext()}),[p]);return n.useEffect((function(){p&&a&&a(p)}),[p,a]),n.useEffect((function(){if(p)return w(p),p.on("reInit",w),p.on("select",w),function(){null==p||p.off("select",w)}}),[p,w]),(0,Ut.jsx)(Gje.Provider,{value:{carouselRef:f,api:p,opts:i,orientation:o||("y"===(null==i?void 0:i.axis)?"vertical":"horizontal"),scrollPrev:x,scrollNext:S,canScrollPrev:m,canScrollNext:y},children:(0,Ut.jsx)("div",Uje(Uje({ref:t,className:vr("relative",l),role:"region","aria-roledescription":"carousel"},u),{},{children:c}))})}));Xje.displayName="ThemedCarousel";var Yje=n.forwardRef((function(e,t){var n=e.className,r=qje(e,Dje),o=Kje(),i=o.carouselRef,a=o.orientation;return(0,Ut.jsx)("div",{ref:i,className:"overflow-hidden",children:(0,Ut.jsx)("div",Uje({ref:t,className:vr("flex","horizontal"===a?"-ml-5":"-mt-4 flex-col",n)},r))})}));Yje.displayName="ThemedCarouselContent";var Zje=n.forwardRef((function(e,t){var n=e.className,r=qje(e,Fje),o=Kje().orientation;return(0,Ut.jsx)("div",Uje({ref:t,role:"group","aria-roledescription":"slide",className:vr("min-w-0 shrink-0 grow-0 basis-full","horizontal"===o?"pl-4":"pt-4",n)},r))}));Zje.displayName="ThemedCarouselItem";var Jje=n.forwardRef((function(e,t){var n=e.className,r=(e.variant,e.size,qje(e,zje)),o=Kje(),i=o.scrollPrev,a=o.canScrollPrev;return(0,Ut.jsxs)(dpe,Uje(Uje({ref:t,className:vr("h-10 w-10 rounded-full p-2",n),disabled:!a,onClick:i},r),{},{children:[(0,Ut.jsx)(Mje,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Previous slide"})]}))}));Jje.displayName="ThemedCarouselPrevious";var Qje=n.forwardRef((function(e,t){var n=e.className,r=(e.variant,e.size,qje(e,Bje)),o=Kje(),i=o.scrollNext,a=o.canScrollNext;return(0,Ut.jsxs)(dpe,Uje(Uje({ref:t,className:vr("h-10 w-10 rounded-full p-2",n),disabled:!a,onClick:i},r),{},{children:[(0,Ut.jsx)(Ije,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Next slide"})]}))}));Qje.displayName="ThemedCarouselNext";const e_e=["value"],t_e=n.createContext();const n_e=function(e){let{value:t}=e,n=(0,Se.A)(e,e_e);return(0,Ut.jsx)(t_e.Provider,(0,ke.A)({value:null==t||t},n))};function r_e(e){return zt("MuiLinearProgress",e)}Bt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const o_e=["className","color","value","valueBuffer","variant"];let i_e,a_e,s_e,l_e,c_e,u_e,d_e=e=>e;const f_e=(0,_e.i7)(i_e||(i_e=d_e`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),p_e=(0,_e.i7)(a_e||(a_e=d_e`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),h_e=(0,_e.i7)(s_e||(s_e=d_e`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),m_e=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,qe.a)(e.palette[t].main,.62):(0,qe.e$)(e.palette[t].main,.5),v_e=_t("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${tn(n.color)}`],t[n.variant]]}})((({ownerState:e,theme:t})=>(0,ke.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:m_e(t,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"}))),g_e=_t("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${tn(n.color)}`]]}})((({ownerState:e,theme:t})=>{const n=m_e(t,e.color);return(0,ke.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,_e.AH)(l_e||(l_e=d_e`
    animation: ${0} 3s infinite linear;
  `),h_e)),y_e=_t("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${tn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((({ownerState:e,theme:t})=>(0,ke.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .4s linear"},"buffer"===e.variant&&{zIndex:1,transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,_e.AH)(c_e||(c_e=d_e`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),f_e))),b_e=_t("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${tn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((({ownerState:e,theme:t})=>(0,ke.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(t.vars||t).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:m_e(t,e.color),transition:"transform .4s linear"})),(({ownerState:e})=>("indeterminate"===e.variant||"query"===e.variant)&&(0,_e.AH)(u_e||(u_e=d_e`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),p_e))),w_e=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiLinearProgress"}),{className:o,color:i="primary",value:a,valueBuffer:s,variant:l="indeterminate"}=r,c=(0,Se.A)(r,o_e),u=(0,ke.A)({},r,{color:i,variant:l}),d=(e=>{const{classes:t,variant:n,color:r}=e;return Ce({root:["root",`color${tn(r)}`,n],dashed:["dashed",`dashedColor${tn(r)}`],bar1:["bar",`barColor${tn(r)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${tn(r)}`,"buffer"===n&&`color${tn(r)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},r_e,t)})(u),f=(()=>{const e=n.useContext(t_e);return null!=e&&e})(),p={},h={bar1:{},bar2:{}};if("determinate"===l||"buffer"===l)if(void 0!==a){p["aria-valuenow"]=Math.round(a),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=a-100;f&&(e=-e),h.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===l)if(void 0!==s){let e=(s||0)-100;f&&(e=-e),h.bar2.transform=`translateX(${e}%)`}else 0;return(0,Ut.jsxs)(v_e,(0,ke.A)({className:je(d.root,o),ownerState:u,role:"progressbar"},p,{ref:t},c,{children:["buffer"===l?(0,Ut.jsx)(g_e,{className:d.dashed,ownerState:u}):null,(0,Ut.jsx)(y_e,{className:d.bar1,ownerState:u,style:h.bar1}),"determinate"===l?null:(0,Ut.jsx)(b_e,{className:d.bar2,ownerState:u,style:h.bar2})]}))})),x_e=w_e;function S_e(e){return S_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S_e(e)}function k_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E_e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_e(Object(n),!0).forEach((function(t){O_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O_e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=S_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return __e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?__e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function __e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C_e=function(e){return"string"==typeof e?{type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e}]}]}:e},T_e=function(e){var t,n,r=e.type;return r||(r="text"),(0,Ut.jsxs)("div",{className:vr("bottom-0 left-0 right-0 top-0 overflow-auto",!e.printMode&&"absolute"),children:["text"===r&&(0,Ut.jsx)("div",{className:"relative flex min-h-full w-full items-center p-4 py-10",children:(0,Ut.jsx)(GY,{value:C_e(e.textValue),onChange:e.onChange,placeholder:e.placeholder,editable:e.mode!==dh.VIEW,className:vr("w-full text-center",e.textClassName)})}),"image-cover"===r&&e.image&&(0,Ut.jsx)("div",{className:"h-full w-full",children:(0,Ut.jsx)("img",{alt:(null===(t=e.image)||void 0===t?void 0:t.altText)||"",src:e.image.source,className:"h-full w-full object-cover"})}),!e.image&&("image-cover"===r||"image-contain"===r)&&(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center","aria-hidden":"true",children:(0,Ut.jsx)($Oe,{className:"h-36 w-36"})}),"image-contain"===r&&e.image&&(0,Ut.jsx)("div",{className:"relative flex h-full w-full p-8 py-12",children:(0,Ut.jsx)("img",{alt:(null===(n=e.image)||void 0===n?void 0:n.altText)||"",src:e.image.source,className:"h-full w-full object-contain"})})]})},P_e=function(e){var t=Br(),n=Br(),r=Br(),o=be((function(t){return t.selectedTileId===e.tileId})),i=(be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.tileId]})),xh()),a=i.theme,s=i.elementColor,l=i.isDarkTheme,c=i.buttonText,u=i.buttonColor,d=a.bodyColor,f=e.mode===dh.VIEW,p=e.totalFlashcards>1&&e.mode===dh.EDIT,h=function(){var t={id:e.card.id,focus:null,value:"flashcard"};MSe(e.tileId,[t])},m=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n||null===(n=n.blocks[e.tileId])||void 0===n?void 0:n.narration})),v=be((function(e){return e.currentNarrationIndex})),g=be((function(e){return e.currentNarrationIsPlaying})),y=Gpe(e.parentId).narrations,b=Spe({pageNarrations:y,tileNarration:m,itemId:"".concat(e.card.id,"-front"),currentNarrationIndex:v}),w=Spe({pageNarrations:y,tileNarration:m,itemId:"".concat(e.card.id,"-back"),currentNarrationIndex:v}),x=function(t){e.updateCardFlippedState(t),e.mode===dh.VIEW&&wpe(t?{tileNarration:m,itemId:"".concat(e.card.id,"-back"),pageNarrations:y,delay:700}:{tileNarration:m,itemId:"".concat(e.card.id,"-front"),pageNarrations:y})},S=(0,Ut.jsx)("div",{"aria-hidden":e.flipped,style:{background:jE(s,.05),color:d},className:NSe("flip-card-front h-full w-full overflow-hidden rounded-xl bg-white text-black",e.printMode?"sm:min-h-[20vw]":"absolute inset-0",e.flipped?"pointer-events-none":"pointer-events-auto"),role:"region","aria-label":"Front of flashcard",children:(0,Ut.jsxs)("div",{className:"contents","aria-hidden":e.flipped,tabIndex:e.flipped?-1:0,children:[!e.completed&&f&&(0,Ut.jsx)("div",{className:"absolute left-4 top-6 z-20 flex items-center justify-center",children:(0,Ut.jsx)(ofe,{buttonColor:u,buttonText:c,isDarkMode:l})}),b&&f&&(0,Ut.jsx)("div",{className:"absolute left-4 top-6 z-20",children:(0,Ut.jsx)(ife,{showPulse:!g})}),(0,Ut.jsx)("div",{className:"absolute left-0 right-0 top-0 z-10 h-3 rounded-t-xl",style:{background:s}}),(0,Ut.jsxs)("div",{className:vr("absolute bottom-0 left-0 right-0 z-10 flex w-full justify-between p-2",l&&"dark"),children:[(0,Ut.jsx)(dpe,{tabIndex:e.flipped?-1:0,size:"smallIcon","aria-label":ZK("Flip Card"),variant:"image-cover"===e.card.frontType?"primary":"blend",onClick:function(){x(!e.flipped)},children:(0,Ut.jsx)(qOe,{className:"h-6 w-6"})}),e.mode===dh.EDIT&&o&&(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",children:(0,Ut.jsx)(OE,{className:"h-6 w-6"})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:h,children:n("options")}),p&&(0,Ut.jsx)(wx,{variant:"destructive",onClick:e.onDelete,children:r("delete")})]})]})]}),(0,Ut.jsx)("div",{className:vr("pointer-events-auto flex h-full w-full items-center justify-center overflow-hidden rounded-xl border-2 border-solid border-lesson-elementColor/30 bg-lesson-elementColor/10 p-4 py-8",e.printMode?"sm:min-h-[20vw]":"absolute"),children:(0,Ut.jsx)(T_e,{placeholder:t("frontOfCard"),textClassName:"text-2xl text-[1.5em] leading-[1.75em]",type:e.card.frontType,textValue:e.card.front,image:e.card.frontImage,onChange:e.onFrontChange,mode:e.mode,printMode:e.printMode})})]})}),k=(0,Ut.jsx)("div",{"aria-hidden":!e.flipped,className:NSe("flex h-full w-full items-center justify-center overflow-hidden rounded-xl border-2 border-solid border-gray-800/20 bg-white p-4 text-black",e.flipped?"pointer-events-auto":"pointer-events-none",e.printMode?"sm:min-h-[20vw]":"flip-card-back absolute"),role:"region","aria-label":"Back of flashcard",style:{"--body-color":"black","--header-color":"black"},children:(0,Ut.jsxs)("div",{className:"contents","aria-hidden":!e.flipped,tabIndex:e.flipped?0:-1,children:[w&&f&&(0,Ut.jsx)("div",{className:"absolute left-4 top-6 z-20",children:(0,Ut.jsx)(ife,{showPulse:!g})}),(0,Ut.jsx)(T_e,{placeholder:t("backOfCard"),type:e.card.backType,textValue:e.card.back,image:e.card.backImage,onChange:e.onBackChange,mode:e.mode,textClassName:"text-[1.125em] leading-[1.5em]",printMode:e.printMode}),(0,Ut.jsxs)("div",{className:NSe("pointer-events-auto absolute bottom-0 left-0 right-0 z-10 flex w-full justify-between p-2"),children:[(0,Ut.jsx)(dpe,{size:"smallIcon",className:"text-black hover:bg-gray-500/10",variant:"image-cover"===e.card.backType?"primary":"themable",tabIndex:e.flipped?0:-1,"aria-label":e.flipped?"Show front of card":"Show back of card",onClick:function(){x(!e.flipped)},children:(0,Ut.jsx)(qOe,{className:"h-6 w-6"})}),e.mode===dh.EDIT&&(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",children:(0,Ut.jsx)(OE,{className:"h-6 w-6"})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:h,children:n("options")}),p&&(0,Ut.jsx)(wx,{variant:"destructive",onClick:function(){e.onDelete()},children:r("delete")})]})]})]})]})});if(e.printMode)return(0,Ut.jsxs)("div",{className:"relative flex w-full flex-col gap-2 p-2 sm:w-[22vw]",children:[(0,Ut.jsx)("div",{className:"relative w-full p-2 pb-0",children:(0,Ut.jsx)("div",{className:"relative flex w-full flex-col items-center justify-center text-center text-sm",children:S})}),(0,Ut.jsx)("div",{className:"relative w-full p-2 pt-0",children:(0,Ut.jsx)("div",{className:"relative flex w-full flex-col items-center justify-center text-center text-sm",children:k})})]});return(0,Ut.jsx)("div",{className:vr("relative w-full p-2",dh.THUMBNAIL===e.mode?e.isCarousel?"md:w-[37vw]":"md:w-[300px]":e.isCarousel?"w-full":"md:w-[300px]"),children:(0,Ut.jsx)("div",{"data-no-navigate":!0,className:"relative flex aspect-square w-full flex-col items-center justify-center text-center",children:(0,Ut.jsx)("div",{onClick:function(){e.mode!==dh.EDIT&&x(!e.flipped)},className:"flip-card h-full w-full bg-transparent",style:{perspective:"1000px"},children:(0,Ut.jsxs)("div",{className:NSe("flip-card-inner relative h-full w-full rounded-xl text-center transition-all ","z-20 shadow-lg"),"aria-live":"assertive",role:"status","aria-label":"".concat(e.flipped?"Back of card":"Front of card"),style:{transformStyle:"preserve-3d",transition:"transform 0.5s",transform:e.flipped?"rotateY(-180deg)":"rotateY(0deg) scale(.90)"},children:[S,k]})})})})};function A_e(e){return A_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A_e(e)}function N_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M_e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N_e(Object(n),!0).forEach((function(t){I_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I_e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=A_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R_e(e){return function(e){if(Array.isArray(e))return L_e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L_e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L_e(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L_e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var D_e=function(e){var t,r,o=e.item,i=e.blockId,a=e.mode,s=(Br(),Br()),l=Sh(),c=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[i]})),u=a===dh.EDIT,d=(dh.VIEW,c.data.items.length>1),f=u&&d,p=o.header&&"string"==typeof o.header&&""!==o.header||o.text&&"string"==typeof o.text;return(0,n.useEffect)((function(){p&&function(){if(p){var e={type:"doc",content:[].concat(R_e(o.header?[{type:"heading",attrs:{level:3},content:[{type:"text",text:o.header}]}]:[]),R_e(o.text?[{type:"paragraph",content:[{type:"text",text:o.text}]}]:[]))};EE(i,M_e(M_e({},c.data),{},{items:c.data.items.map((function(t){return o.id===t.id?M_e(M_e({},t),{},{text:e,header:void 0}):t}))}),"hot-button-merge-".concat(o.id,"-").concat(i))}}()}),[]),(0,Ut.jsxs)("div",{className:"flex flex-col justify-between gap-2",children:[(0,Ut.jsx)("div",{className:"flex flex-col justify-between gap-2",children:(0,Ut.jsx)("div",{className:"custom-text tiptap",style:{"--header-font":null===(t=l.headerFont)||void 0===t?void 0:t.name,"--body-font":null===(r=l.bodyFont)||void 0===r?void 0:r.name},children:(0,Ut.jsx)(GY,{editable:u,value:o.text,onChange:function(e){EE(i,M_e(M_e({},c.data),{},{items:c.data.items.map((function(t){return o.id===t.id?M_e(M_e({},t),{},{text:e}):t}))}),"hot-button-text-".concat(o.id,"-").concat(i))},className:"text-xl leading-normal",showOnlyCurrent:!1})})}),f&&(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{className:"-mb-2 -mr-2 flex justify-end",children:(0,Ut.jsx)(Fr,{size:"icon",variant:"ghost",className:"h-9 w-9 cursor-pointer","aria-label":s("deleteItem"),onClick:function(){EE(i,M_e(M_e({},c.data),{},{items:c.data.items.filter((function(e){return e.id!==o.id}))}))},children:(0,Ut.jsx)(LF,{className:"h-5 w-5"})})})})]})};function F_e(e){return F_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_e(e)}function z_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B_e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z_e(Object(n),!0).forEach((function(t){$_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $_e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=F_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==F_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U_e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V_e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V_e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var H_e=function(e){var t=e.item,r=e.blockId,o=e.mode,i=e.imageRef,a=e.parentId,s=U_e((0,n.useState)({x:t.x,y:t.y}),2),l=s[0],c=s[1],u=U_e((0,n.useState)({x:t.x,y:t.y}),2),d=u[0],f=u[1],p=U_e((0,n.useState)({x:0,y:0}),2),h=p[0],m=p[1],v=U_e((0,n.useState)(!1),2),g=v[0],y=v[1],b=U_e((0,n.useState)(!1),2),w=b[0],x=b[1],S=U_e((0,n.useState)(!1),2),k=S[0],E=S[1],O=U_e((0,n.useState)({top:0,left:0}),2),j=(O[0],O[1]),_=U_e((0,n.useState)("bottom"),2),C=(_[0],_[1]),T=(0,n.useRef)(null),P=xh(),A=o===dh.EDIT,N=o===dh.VIEW,M=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),I=be((function(e){return e.blockStates[r]}))||{items:M.data.items.map((function(e){return{id:e.id,viewed:!1}}))},R=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t||null===(t=t.blocks[r])||void 0===t?void 0:t.narration})),L=be((function(e){return e.currentNarrationIndex})),D=Gpe(a).narrations,F=I.items.find((function(e){return t.id===e.id})),z=N&&!(null!=F&&F.viewed);(0,n.useEffect)((function(){c({x:t.x,y:t.y}),f({x:t.x,y:t.y})}),[t.x,t.y]);var B=function(){return T.current&&T.current.parentElement?{width:T.current.parentElement.offsetWidth,height:T.current.parentElement.offsetHeight}:{width:0,height:0}};(0,n.useEffect)((function(){var e=function(e){if(A&&w){var t=function(e){var t=B(),n=t.width,r=t.height,o=e.clientX-h.x,i=e.clientY-h.y,a=Math.min(Math.max(0,o),n),s=Math.min(Math.max(0,i),r);return{percentX:a/t.width*100,percentY:s/t.height*100}}(e),n=t.percentX,r=t.percentY;(Math.abs(n-d.x)>.3||Math.abs(r-d.y)>.3)&&(c({x:n,y:r}),y(!0))}},n=function(){x(!1),g&&w&&EE(r,B_e(B_e({},M.data),{},{items:M.data.items.map((function(e){return t.id===e.id?B_e(B_e({},e),{},{x:l.x,y:l.y}):e}))}))};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",n)}}),[M.data,r,g,w,A,t.id,h.x,h.y,d.x,d.y,l.x,l.y]);var $=function(e){var t;if(!i.current)return 0;var n=null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect();return e.clientY>n.top+n.height/2?(C("top"),function(e,t){return e.bottom<t.bottom+40?e.bottom+10:t.bottom+40}(n,r)):(C("bottom"),function(e,t){return e.top>t.top-40?e.top-10:t.top-40}(n,r))},U=N?k||null!=F&&F.viewed?"opacity-70":"text-black":"",V=A?w?"cursor-grabbing":"cursor-grab":"cursor-pointer",H=N?null!=F&&F.viewed?ZK("Marker, Plus, Viewed"):ZK("Marker, Plus, Not Viewed"):"Marker, click to edit",W=Spe({pageNarrations:D,tileNarration:R,itemId:t.id,currentNarrationIndex:L});return(0,Ut.jsxs)(dF,{open:k,onOpenChange:function(e){g||(E(e),e&&N&&o===dh.VIEW&&wpe({tileNarration:R,itemId:t.id,pageNarrations:D}))},children:[(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsxs)("div",{ref:T,onMouseDown:function(e){e.stopPropagation();var t,n=(t=B(),{posXInPx:l.x/100*t.width,posYInPx:l.y/100*t.height}),r=n.posXInPx,o=n.posYInPx;m({x:e.clientX-r,y:e.clientY-o}),x(!0),y(!1)},onClick:function(e){g||(j({top:$(e),left:e.clientX}),!N||null!=F&&F.viewed||uh(r,B_e(B_e({},I),{},{items:I.items.map((function(e){return t.id===e.id?{id:t.id,viewed:!0}:e}))})))},className:"absolute flex translate-x-[-20px] translate-y-[-20px] items-center justify-center rounded-full ".concat(V," ").concat(U),style:{width:40,height:40,left:"".concat(l.x,"%"),top:"".concat(l.y,"%"),background:P.buttonColor,borderColor:P.buttonText,color:P.buttonText,boxShadow:"0 .2rem .6rem rgba(0,0,0,.75)"},children:[o===dh.VIEW&&W&&(0,Ut.jsx)("div",{className:"absolute -left-3 -top-3 z-20",children:(0,Ut.jsx)(ife,{showPulse:!1})}),z?(0,Ut.jsx)("div",{className:"hot-button-pulse-ring absolute rounded-full border-[4px] border-solid".concat(V," ").concat(U),style:{width:60,height:60,borderColor:P.buttonText,color:P.buttonText}}):null,(0,Ut.jsx)("button",{"aria-label":H,className:"absolute flex h-full w-full items-center justify-center rounded-full border-solid bg-white hover:border-[2px] ".concat(V," ").concat(U),style:{background:P.buttonColor,borderColor:P.buttonText,color:P.whiteContrastColor},children:N?(0,Ut.jsx)(LV,{title:ZK("View marker content"),children:(0,Ut.jsx)(kme,{className:"h-6 w-6",color:P.buttonText})}):(0,Ut.jsx)(kme,{className:"h-6 w-6",color:P.buttonText})})]})}),(0,Ut.jsx)(pF,{className:"mx-2 w-[300px]",align:"center",style:{zIndex:10},children:(0,Ut.jsx)(D_e,{item:t,blockId:r,mode:o})})]})};function W_e(e){return W_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_e(e)}function q_e(e){return function(e){if(Array.isArray(e))return G_e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return G_e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G_e(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function K_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X_e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K_e(Object(n),!0).forEach((function(t){Y_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y_e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=W_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z_e=function(e){var t=e.id,r=e.mode,o=e.image,i=e.parentId,a=fh(t,r).data,s=Sh(),l=(0,n.useRef)(null),c=be((function(e){return e.selectedTileId}))===t,u=r===dh.EDIT,d=r===dh.PRINT,f=u&&c,p=L4().enqueueSnackbar;if(!a)return(0,Ut.jsx)("div",{children:"Block Not Found"});var h=function(e){if(f)if(a.items.length>=25)p("You can only add up to 25 items.");else{var n=e.currentTarget.getBoundingClientRect(),r=e.currentTarget.offsetWidth,o=e.currentTarget.offsetHeight,i=(e.clientX-n.left-1)/r*100,s=(e.clientY-n.top-4)/o*100,l=Math.max(2,Math.min(98,i)),c=Math.max(4,Math.min(96,s)),u={id:sd(),text:{type:"doc",content:[{type:"heading",attrs:{level:3},content:[]},{type:"paragraph",content:[]}]},x:l,y:c};EE(t,X_e(X_e({},a),{},{items:[].concat(q_e(a.items),[u])}))}};return d&&o?(0,Ut.jsx)("div",{className:"flex flex-col",children:a.items.map((function(e,n){return(0,Ut.jsxs)("div",{children:[(0,Ut.jsxs)("div",{"data-no-navigate":!0,className:"relative",children:[(0,Ut.jsx)("img",{src:o.source,className:"cover relative h-auto w-full select-none rounded-xl object-cover ".concat(f?"cursor-crosshair":""),style:{aspectRatio:"".concat(o.aspectRatio,"/1")},alt:o.altText||"",draggable:!1,onClick:h,ref:l}),(0,Ut.jsx)(H_e,{item:e,blockId:t,mode:r,imageRef:l,parentId:i},e.id)]},e.id),(0,Ut.jsx)("div",{className:"mt-2 text-xl font-semibold leading-normal",children:(0,Ut.jsx)(GY,{editable:!1,value:e.text,className:"text-xl leading-normal",onChange:function(){},showOnlyCurrent:!1})}),(0,Ut.jsx)(kF,{className:"my-3 opacity-30",style:{background:s.bodyColor}})]},e.id)}))}):(0,Ut.jsx)(Ut.Fragment,{children:o?(0,Ut.jsxs)("div",{"data-no-navigate":!0,className:"relative",children:[(0,Ut.jsx)("img",{src:o.source,className:"cover relative h-auto w-full select-none rounded-xl object-cover ".concat(f?"cursor-crosshair":""),style:{aspectRatio:"".concat(o.aspectRatio,"/1")},alt:o.altText||"",draggable:!1,onClick:h,ref:l}),a.items.map((function(e,n){return(0,Ut.jsx)(H_e,{item:e,blockId:t,mode:r,imageRef:l,parentId:i},e.id)}))]}):(0,Ut.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,Ut.jsx)($Oe,{className:"h-32 w-32",color:s.accentColor}),(0,Ut.jsx)("div",{className:"mb-4 text-2xl",children:"No Image Selected"})]})})};function J_e(e){return J_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J_e(e)}function Q_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q_e(Object(n),!0).forEach((function(t){tCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tCe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=J_e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=J_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==J_e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nCe=function(e){var t=e.normalizedPosition,n=e.containerWidth,r=e.containerHeight,o=e.imageAspectRatio,i=n,a=r,s=i,l=s/o,c=s*t.zoom,u=c/o,d=a/2,f=i/2+s*(t.x/100),p=d+l*(t.y/100);return{x:f-c/2,y:p-u/2,width:c,height:u,top:p-u/2,left:f-c/2,right:i-(f+c/2),bottom:a-(p+u/2),centerX:f,centerY:p,containerHeight:a,containerWidth:i}},rCe="pointer-events-auto absolute flex items-center justify-center",oCe="rounded-full border-2 border-purple-500 bg-white",iCe="pointer-events-auto absolute z-10 h-4 w-4 rounded-full border-2 border-purple-500 bg-white",aCe=function(e){return Math.abs(e)<.2},sCe=function(e){var t=e.startDrag,n=e.imagePosition,r=e.imageAspectRatio,o=e.effectiveZoom,i=e.imageBoundingRect;return(0,Ut.jsxs)("div",{className:"pointer-events-none z-20",style:{aspectRatio:"".concat(r/1),position:"absolute",left:"50%",top:"50%",transform:"translate(".concat(n.x/o-50,"%, ").concat(n.y/o-50,"%)"),width:100*o+"%",cursor:"move",transformOrigin:"50% 50%"},children:[(0,Ut.jsx)("div",{className:"pointer-events-auto absolute bottom-0 left-0 right-0 top-0",onMouseDown:function(e){console.log("move"),t(e,"move")}}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"top-left")},className:vr(iCe,"left-0 top-0 -translate-x-1/2 -translate-y-1/2 cursor-nwse-resize",aCe(i.left)&&aCe(i.top)&&"border-red-600")}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"top-right")},className:vr(iCe,"right-0 top-0 -translate-y-1/2 translate-x-1/2 cursor-nesw-resize",aCe(i.right)&&aCe(i.top)&&"border-red-600")}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"bottom-left")},className:vr(iCe,"bottom-0 left-0 z-10 -translate-x-1/2 translate-y-1/2 cursor-nesw-resize",aCe(i.bottom)&&aCe(i.left)&&"border-red-600")}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"bottom-right")},className:vr(iCe,"bottom-0 right-0 translate-x-1/2 translate-y-1/2 cursor-nwse-resize",aCe(i.bottom)&&aCe(i.right)&&"border-red-600")}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"top")},className:vr(rCe,"left-0 right-0 top-0 h-1 -translate-y-1/2 cursor-ns-resize",aCe(i.y)?"bg-red-600":"bg-purple-600"),children:(0,Ut.jsx)("div",{className:vr(oCe,"h-4 w-12",aCe(i.y)&&"border-red-600")})}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"left")},className:vr(rCe,"bottom-0 left-0 top-0 flex w-1 -translate-x-1/2 cursor-ew-resize flex-col",aCe(i.left)?"bg-red-600":"bg-purple-600"),children:(0,Ut.jsx)("div",{className:vr(oCe,"h-12 w-4",aCe(i.left)&&"border-red-600")})}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"right")},className:vr(rCe,"bottom-0 right-0 top-0 flex w-1 translate-x-1/2 cursor-ew-resize flex-col",aCe(i.right)?"bg-red-600":"bg-purple-600"),children:(0,Ut.jsx)("div",{className:vr(oCe,"h-12 w-4",aCe(i.right)&&"border-red-600")})}),(0,Ut.jsx)("div",{onMouseDown:function(e){t(e,"bottom")},className:vr(rCe,"bottom-0 left-0 right-0 flex h-1 translate-y-1/2 cursor-ns-resize",aCe(i.bottom)?"bg-red-600":"bg-purple-600"),children:(0,Ut.jsx)("div",{className:vr(oCe,"h-4 w-12",aCe(i.bottom)?"border-red-600":"")})})]})},lCe=function(e,t){return Math.sqrt(e/t)},cCe=function(e){var t=e.imageUrl,n=e.imageAspectRatio,r=e.imagePosition,o=e.containerAspectRatio,i=e.className,a=e.mode,s=lCe(n,o),l=r.zoom*s;return(0,Ut.jsx)("div",{className:i,style:{aspectRatio:"".concat(n/1),position:"absolute",left:"50%",top:"50%",transform:"translate(".concat(r.x-50,"%, ").concat(r.y-50,"%) scale(").concat(l,")"),width:"100%",transformOrigin:"50% 50%"},children:(0,Ut.jsxs)(cke,{src:t,altText:"",mode:a,children:[(0,Ut.jsx)("div",{className:"absolute left-0 top-0 z-10 h-full w-full"}),(0,Ut.jsx)("img",{style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",objectFit:"cover"},draggable:"false",onDragStart:function(e){return e.preventDefault()},className:"block h-full w-full",src:t,alt:""})]})})};function uCe(e){return uCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uCe(e)}function dCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dCe(Object(n),!0).forEach((function(t){pCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pCe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=uCe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uCe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==uCe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hCe=function(e){var t=lCe(e.imageAspectRatio,e.containerAspectRatio),n=function(e){var t=e.imageAspectRatio,n=e.e,r=e.dragType,o=e.dragStart,i=e.positionOfContainer,a=e.startPosition,s=n.clientX-o.mouseX,l=n.clientY-o.mouseY,c=i.width,u=i.height,d=c,f=d/t,p=f*a.zoom,h=d*a.zoom,m=nCe({normalizedPosition:a,containerWidth:c,containerHeight:u,imageAspectRatio:t});if("move"===r){var v=s/d*100,g=l/f*100,y=a.x+v,b=a.y+g,w=y*d/100,x=b*f/100;Math.abs(w)<8&&(y=0),Math.abs(x)<8&&(b=0);var S=m.left+s;Math.abs(S)<8&&(y=(.5*h-.5*c)/d*100);var k=m.right-s;Math.abs(k)<8&&(y=(.5*c-.5*h)/d*100);var E=m.top+l;Math.abs(E)<8&&(b=(.5*p-.5*u)/f*100);var O=m.bottom-l;return Math.abs(O)<8&&(b=(.5*u-.5*p)/f*100),{x:y,y:b,zoom:a.zoom}}if("top"===r){var j=(p-l)/f,_=u-m.bottom,C=p-l;Math.abs(_-C)<8&&(j=_/f);var T=2*(c-m.centerX),P=T/t;Math.abs(P-C)<8&&(j=T/d);var A=2*m.centerX/t;Math.abs(A-C)<8&&(j=A/f);var N=a.y+(a.zoom-j)/2*100;return{x:a.x,y:N,zoom:j}}if("bottom"===r){var M=(p+l)/f,I=u-m.top,R=p+l;Math.abs(I-R)<10&&(M=I/f);var L=2*(c-m.centerX),D=L/t;Math.abs(D-R)<8&&(M=L/d);var F=2*m.centerX/t;Math.abs(F-R)<8&&(M=F/f);var z=a.y-(a.zoom-M)/2*100;return{x:a.x,y:z,zoom:M}}if("left"===r){var B=(h-s)/d,$=c-m.right,U=h-s;Math.abs($-U)<8&&(B=$/d);var V=2*m.centerY*t;Math.abs(V-U)<8&&(B=V/d);var H=2*(u-m.centerY),W=H*t;return Math.abs(W-U)<8&&(B=H/f),{x:a.x+(a.zoom-B)/2*100,y:a.y,zoom:B}}if("right"===r){var q=(h+s)/d,G=c-m.left,K=h+s;Math.abs(G-K)<8&&(q=G/d);var X=2*m.centerY*t;Math.abs(X-K)<8&&(q=X/d);var Y=2*(u-m.centerY),Z=Y*t;return Math.abs(Z-K)<8&&(q=Y/f),{x:a.x-(a.zoom-q)/2*100,y:a.y,zoom:q}}if("top-left"===r){var J=(p-l)/f,Q=(h-s)/d,ee=J;Q>J&&(ee=Q);var te=u-m.bottom,ne=p-l,re=J*d,oe=h-s;Math.abs(te-ne)<8&&re-oe>-16&&(ee=te/f);var ie=c-m.right,ae=h-s,se=Q*f,le=p-l;return Math.abs(ie-ae)<8&&se-le>-16&&(ee=ie/d),{x:a.x+(a.zoom-ee)/2*100,y:a.y+(a.zoom-ee)/2*100,zoom:ee}}if("top-right"===r){var ce=(p-l)/f,ue=(h+s)/d,de=ce;ue>ce&&(de=ue);var fe=c-m.left,pe=h+s,he=ue*f,me=p-l;Math.abs(fe-pe)<8&&he-me>-16&&(de=fe/d);var ve=u-m.bottom,ge=p-l,ye=ce*d,be=h+s;return Math.abs(ve-ge)<8&&ye-be>-16&&(de=ve/f),{x:a.x-(a.zoom-de)/2*100,y:a.y+(a.zoom-de)/2*100,zoom:de}}if("bottom-left"===r){var we=(p+l)/f,xe=(h-s)/d,Se=we;xe>we&&(Se=xe);var ke=u-m.top,Ee=p+l,Oe=we*d,je=h-s;Math.abs(ke-Ee)<8&&Oe-je>-16&&(Se=ke/f);var _e=c-m.right,Ce=h-s,Te=xe*f,Pe=p+l;return Math.abs(_e-Ce)<8&&Te-Pe>-16&&(Se=_e/d),{x:a.x+(a.zoom-Se)/2*100,y:a.y-(a.zoom-Se)/2*100,zoom:Se}}if("bottom-right"===r){var Ae=(p+l)/f,Ne=(h+s)/d,Me=Ae;Ne>Ae&&(Me=Ne);var Ie=u-m.top,Re=p+l,Le=Ae*d,De=h+s;Math.abs(Ie-Re)<8&&Le-De>-16&&(Me=Ie/f);var Fe=c-m.left,ze=h+s,Be=Ne*f,$e=p+l;return Math.abs(Fe-ze)<8&&Be-$e>-16&&(Me=Fe/d),{x:a.x-(a.zoom-Me)/2*100,y:a.y-(a.zoom-Me)/2*100,zoom:Me}}}(fCe(fCe({},e),{},{startPosition:fCe(fCe({},e.dragStart.position),{},{zoom:e.dragStart.position.zoom*t})}));if(n)return fCe(fCe({},n),{},{zoom:n.zoom/t})};function mCe(e){return mCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mCe(e)}function vCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vCe(Object(n),!0).forEach((function(t){yCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yCe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=mCe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mCe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mCe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bCe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wCe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wCe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wCe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var xCe=function(e){var t=bCe((0,n.useState)((function(){return e.containerRef.current?{x:e.containerRef.current.getBoundingClientRect().left,y:e.containerRef.current.getBoundingClientRect().top,height:e.containerRef.current.getBoundingClientRect().height,width:e.containerRef.current.getBoundingClientRect().width}:null})),2),r=t[0],o=t[1];return(0,n.useEffect)((function(){e.containerRef.current&&o({x:e.containerRef.current.getBoundingClientRect().left,y:e.containerRef.current.getBoundingClientRect().top,height:e.containerRef.current.getBoundingClientRect().height,width:e.containerRef.current.getBoundingClientRect().width})}),[e.containerRef.current]),r?(0,Ut.jsx)(SCe,gCe(gCe({},e),{},{positionOfContainer:r})):null},SCe=function(e){var t=e.imageUrl,r=e.imageAspectRatio,o=e.containerAspectRatio,i=e.containerClassName,a=e.positionOfContainer,s=bCe((0,n.useState)(e.initialPosition),2),l=s[0],c=s[1],u=bCe((0,n.useState)(null),2),d=u[0],f=u[1],p=lCe(r,o),h=l.zoom*p,m=(0,n.useRef)({position:{x:0,y:0,zoom:1},mouseX:0,mouseY:0}),v=(0,n.useMemo)((function(){return nCe({normalizedPosition:{x:l.x,y:l.y,zoom:l.zoom*p},containerWidth:a.width,containerHeight:a.height,imageAspectRatio:e.imageAspectRatio})}),[l,a,r,p]);return(0,n.useEffect)((function(){var e=function(){f(null)},t=function(e){if(d&&m.current){var t=hCe({imageAspectRatio:r,containerAspectRatio:o,positionOfContainer:a,dragType:d,dragStart:m.current,e});t&&c(t)}};return window.addEventListener("mouseup",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("mouseup",e),window.removeEventListener("mousemove",t)}}),[d,r,c,p]),(0,Ut.jsx)($Z,{open:!0,onOpenChange:function(t){e.onFinishCropping(l)},children:(0,Ut.jsx)(GZ,{children:(0,Ut.jsx)(XZ,{className:"fixed bottom-0 left-0 right-0 top-0 z-[100]",children:(0,Ut.jsx)(JZ,{children:(0,Ut.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 top-0 z-50 bg-black/50",children:[(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0",onClick:function(t){e.onFinishCropping(l)}}),(0,Ut.jsxs)("div",{style:{position:"absolute",left:null==a?void 0:a.x,top:null==a?void 0:a.y,height:null==a?void 0:a.height,width:null==a?void 0:a.width},children:[(0,Ut.jsx)(cCe,{className:"opacity-70",imageUrl:t,imageAspectRatio:r,imagePosition:l,containerAspectRatio:o}),(0,Ut.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-10 overflow-hidden rounded-xl",children:[(0,Ut.jsx)("div",{className:vr("absolute bottom-0 left-0 right-0 top-0 z-10 overflow-hidden",i),onClick:function(t){e.onFinishCropping(l)}}),(0,Ut.jsx)(cCe,{className:"z-10",imageUrl:t,imageAspectRatio:r,imagePosition:l,containerAspectRatio:o})]}),0===(null==l?void 0:l.x)&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-1/2 top-0 z-20 w-[2px] -translate-x-1/2 bg-red-600"}),0===(null==l?void 0:l.y)&&(0,Ut.jsx)("div",{className:"absolute left-0 right-0 top-1/2 z-20 h-[2px] translate-y-1/2 bg-red-600"}),(0,Ut.jsx)(sCe,{startDrag:function(e,t){f(t),m.current={position:{x:l.x,y:l.y,zoom:l.zoom},mouseX:e.clientX,mouseY:e.clientY}},imagePosition:l,imageAspectRatio:r,effectiveZoom:h,imageBoundingRect:v})]})]})})})})})},kCe=16/9;function ECe(e){return ECe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ECe(e)}function OCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OCe(Object(n),!0).forEach((function(t){_Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _Ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=ECe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ECe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ECe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CCe(e){return CCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CCe(e)}function TCe(){TCe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==CCe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(CCe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function PCe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function ACe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){PCe(i,r,o,a,s,"next",e)}function s(e){PCe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function NCe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return MCe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?MCe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MCe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ICe(e){var t=e.image,r=e.searchTerm,o=e.id,i=e.parentId,a=NCe((0,n.useState)(!1),2),s=a[0],l=a[1],c=be((function(e){return e.lessonId})),u=Br(),d=Sh(),f=(Th((function(e){return e.sequentialGenerationData})),Th((function(e){return e.postGenIds}))),p=(0,n.useCallback)(ACe(TCe().mark((function e(){var n;return TCe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&i){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.next=5,Fs.generateLesson.generateImage.mutate({image:t,searchTerm:r||"",id:o,lessonId:c,parentId:i});case 5:n=e.sent,l(!1),Voe("post-gen-image","instant",n);case 8:case"end":return e.stop()}}),e)}))),[t,r,o,i,c]);return(0,Ut.jsx)("div",{className:"relative h-full rounded-xl",style:{borderWidth:1,borderStyle:"solid",borderColor:d.headerColor},children:(0,Ut.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col items-center justify-center overflow-hidden rounded-xl ",children:[(0,Ut.jsxs)("div",{className:"relative flex h-12 w-12 items-center justify-center",children:[(0,Ut.jsx)($Oe,{className:"absolute h-6 w-6",style:{color:d.accentColor}}),(s||i&&f.includes(i))&&(0,Ut.jsx)(Ar,{className:"absolute h-12 w-12",style:{color:d.accentColor},sx:{animationDuration:"10s"}})]}),t.data.image&&"model"in t.data.image&&"gpt:gpt-image-1"===t.data.image.model&&(0,Ut.jsx)("span",{className:"font-semibold",children:(0,Ut.jsx)("p",{children:u("diagramsCanTake30SecondsToGenerate")})}),(0,Ut.jsx)("div",{className:"max-w-[400px] px-8 pt-4 text-center",style:{color:d.accentColor},children:r}),!s&&!(i&&f.includes(i))&&(0,Ut.jsx)("div",{className:"mt-4",children:(0,Ut.jsx)(Fr,{variant:"primary",style:{backgroundColor:d.accentColor,color:d.pageColor},onClick:function(){p()},children:"Generate"})})]})})}function RCe(e){return RCe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RCe(e)}function LCe(){LCe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==RCe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(RCe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function DCe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function FCe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){DCe(i,r,o,a,s,"next",e)}function s(e){DCe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var zCe=function(){var e=FCe(LCe().mark((function e(t){var n;return LCe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.next=4,new Promise((function(e){n.onload=e}));case 4:return e.abrupt("return",n.width/n.height);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),BCe=function(e){return.56===e||.57===e?"portrait":1===e?"square":1.78===e||1.75===e?"landscape":"unknown"};function $Ce(e){return $Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$Ce(e)}function UCe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VCe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UCe(Object(n),!0).forEach((function(t){HCe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UCe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HCe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$Ce(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$Ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$Ce(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WCe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=YCe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qCe(){qCe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==$Ce(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError($Ce(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function GCe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function KCe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){GCe(i,r,o,a,s,"next",e)}function s(e){GCe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function XCe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||YCe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YCe(e,t){if(e){if("string"==typeof e)return ZCe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ZCe(e,t):void 0}}function ZCe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JCe(e){return QCe.apply(this,arguments)}function QCe(){return QCe=KCe(qCe().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S;return qCe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.id,o=t.blockContent,i=t.enqueueSnackbar,a=t.t,s=null,e.prev=2,s=URL.createObjectURL(n),e.next=6,zCe(s);case 6:return c=e.sent,Ooe("image_pasted",{source:"clipboard",file_type:n.type,tile_id:r}),u={aspectRatio:c,source:s,sourceType:"Upload",searchTerm:void 0,rightsType:"Uploaded",isUploading:!0},d=Fs.utils.fileUploadUrl.mutate(n.name).then(function(){var e=KCe(qCe().mark((function e(t){var r,o;return qCe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.uploadUrl,o=t.resultUrl,e.next=3,u1.put(r,n,{headers:{"Content-Type":n.type}});case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),be.setState((function(e){return e.lessonContent?VCe(VCe({},e),{},{lessonContent:VCe(VCe({},e.lessonContent),{},{blocks:VCe(VCe({},e.lessonContent.blocks),{},HCe({},r,VCe(VCe({},e.lessonContent.blocks[r]),{},{data:VCe(VCe({},o.data),{},{image:u})})))})}):e})),i(a("pastedImage")),e.next=14,d;case 14:return f=e.sent,e.next=17,zCe(f);case 17:p=e.sent,h=be.getState(),m=null===(l=h.lessonContent)||void 0===l?void 0:l.blocks[r],(v=null==m?void 0:m.data.image)&&!("model"in v)&&v.source===s&&(g={aspectRatio:p,source:f,sourceType:"Upload",searchTerm:void 0,rightsType:"Uploaded",isUploading:!1},y={label:"blockDataUpdate",mutations:[{type:"blockDataUpdate",blockId:r,before:o.data,after:VCe(VCe({},o.data),{},{image:g})}]},Voe("blockDataUpdate-".concat(r),"instant",y)),e.next=31;break;case 24:e.prev=24,e.t0=e.catch(2),w=be.getState(),x=null===(b=w.lessonContent)||void 0===b?void 0:b.blocks[r],(S=null==x?void 0:x.data.image)&&!("model"in S)&&S.source===s&&EE(r,VCe(VCe({},x.data),{},{image:void 0})),i("".concat(a("errorUploadingImage")," - ").concat(e.t0.message),{variant:"error"});case 31:return e.prev=31,s&&URL.revokeObjectURL(s),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[2,24,31,34]])}))),QCe.apply(this,arguments)}const eTe="Checkbox",[tTe,nTe]=fL(eTe),[rTe,oTe]=tTe(eTe),iTe=(0,n.forwardRef)(((e,t)=>{const{__scopeCheckbox:r,name:o,checked:i,defaultChecked:a,required:s,disabled:l,value:c="on",onCheckedChange:u,...d}=e,[f,p]=(0,n.useState)(null),h=dL(t,(e=>p(e))),m=(0,n.useRef)(!1),v=!f||Boolean(f.closest("form")),[g=!1,y]=bD({prop:i,defaultProp:a,onChange:u}),b=(0,n.useRef)(g);return(0,n.useEffect)((()=>{const e=null==f?void 0:f.form;if(e){const t=()=>y(b.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[f,y]),(0,n.createElement)(rTe,{scope:r,state:g,disabled:l},(0,n.createElement)(bL.button,(0,ke.A)({type:"button",role:"checkbox","aria-checked":cTe(g)?"mixed":g,"aria-required":s,"data-state":uTe(g),"data-disabled":l?"":void 0,disabled:l,value:c},d,{ref:h,onKeyDown:cL(e.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:cL(e.onClick,(e=>{y((e=>!!cTe(e)||!e)),v&&(m.current=e.isPropagationStopped(),m.current||e.stopPropagation())}))})),v&&(0,n.createElement)(lTe,{control:f,bubbles:!m.current,name:o,value:c,checked:g,required:s,disabled:l,style:{transform:"translateX(-100%)"}}))})),aTe="CheckboxIndicator",sTe=(0,n.forwardRef)(((e,t)=>{const{__scopeCheckbox:r,forceMount:o,...i}=e,a=oTe(aTe,r);return(0,n.createElement)(fD,{present:o||cTe(a.state)||!0===a.state},(0,n.createElement)(bL.span,(0,ke.A)({"data-state":uTe(a.state),"data-disabled":a.disabled?"":void 0},i,{ref:t,style:{pointerEvents:"none",...e.style}})))})),lTe=e=>{const{control:t,checked:r,bubbles:o=!0,...i}=e,a=(0,n.useRef)(null),s=b3(r),l=qL(t);return(0,n.useEffect)((()=>{const e=a.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(s!==r&&n){const t=new Event("click",{bubbles:o});e.indeterminate=cTe(r),n.call(e,!cTe(r)&&r),e.dispatchEvent(t)}}),[s,r,o]),(0,n.createElement)("input",(0,ke.A)({type:"checkbox","aria-hidden":!0,defaultChecked:!cTe(r)&&r},i,{tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function cTe(e){return"indeterminate"===e}function uTe(e){return cTe(e)?"indeterminate":e?"checked":"unchecked"}const dTe=iTe,fTe=sTe;function pTe(e){return pTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pTe(e)}var hTe=["className","checked"];function mTe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vTe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mTe(Object(n),!0).forEach((function(t){gTe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mTe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gTe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=pTe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pTe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pTe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yTe=n.forwardRef((function(e,t){var n=e.className,r=e.checked,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,hTe),i=xh();return(0,Ut.jsx)(dTe,vTe(vTe({ref:t,className:vr("relative h-8 w-8 shrink-0 rounded-lg border-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n)},o),{},{style:{backgroundColor:r?i.buttonColor:"transparent",color:r?i.buttonText:"inherit",borderColor:i.buttonColor},checked:r,children:(0,Ut.jsx)(fTe,{className:vr("relative flex items-center justify-center text-current"),children:(0,Ut.jsx)(Xw,{className:"h-4 w-4"})})}))}));function bTe(e){return bTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bTe(e)}function wTe(e){return function(e){if(Array.isArray(e))return jTe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OTe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xTe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function STe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xTe(Object(n),!0).forEach((function(t){kTe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xTe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kTe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=bTe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bTe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bTe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ETe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||OTe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OTe(e,t){if(e){if("string"==typeof e)return jTe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jTe(e,t):void 0}}function jTe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}yTe.displayName=dTe.displayName;const _Te=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"}))}));const CTe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}));var TTe=function(e,t){return-1===e||!(t>=e)};function PTe(e){return PTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PTe(e)}function ATe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NTe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ATe(Object(n),!0).forEach((function(t){MTe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ATe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MTe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=PTe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=PTe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==PTe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ITe(){ITe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==PTe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(PTe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function RTe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var LTe=[],DTe=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RTe(i,r,o,a,s,"next",e)}function s(e){RTe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(ITe().mark((function e(){var t,n,r,o,i;return ITe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=LTe.splice(0,LTe.length)).length){e.next=3;break}return e.abrupt("return");case 3:if(n=be.getState().launchToken,r=be.getState().attemptNumber,n&&r){e.next=7;break}return e.abrupt("return");case 7:return o={token:n,logs:t,attemptNumber:r},i=JSON.stringify(o),e.next=11,fetch("/api/learning-analytics/engagement-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:i});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"undefined"!=typeof window&&window.addEventListener("beforeunload",DTe);var FTe=Do()(DTe,2e3);const zTe=function(e){var t,n=be.getState().launchToken,r=null===(t=be.getState().courseAttempt)||void 0===t?void 0:t.accumulatedTime;n&&(LTe.push(NTe(NTe({},e),{},{courseAccumulatedTime:r||null})),FTe())};var BTe=function(e){var t=e.onClick,n=e.style;return(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{onClick:t,variant:"blend",style:n,children:ZK("Reset")})}),(0,Ut.jsxs)(RV,{sideOffset:10,className:"font-sans",children:["Learners won't see this",(0,Ut.jsx)("div",{className:"text-sm text-muted-foreground",children:"Shown only in preview mode"})]})]})};const $Te=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}));const UTe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}));var VTe="#AF2D2D",HTe="#4E7C47",WTe="#FFFFFF",qTe="black";function GTe(e){var t=(0,Ut.jsx)("span",{className:"font-semibold",children:e.number});e.shouldShowAnswers&&(e.submitted&&e.correct&&(t=(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)($Te,{className:"h-5 w-5 stroke-[3px]"})})),e.submitted&&!e.correct&&(t=(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)(UTe,{className:"h-6 w-6 stroke-[3px]"})})));var n=xh(),r=n.elementColor,o=n.theme.pageColor,i=r,a="transparent",s=r;e.selected&&(i=o,a=r,s=r),e.submitted&&e.correct&&e.selected&&e.shouldShowAnswers&&(i=WTe,a=HTe,s=HTe),e.submitted&&!e.correct&&e.selected&&e.shouldShowAnswers&&(i=WTe,a=VTe,s=VTe);var l=e.button?"button":"div";return(0,Ut.jsx)(l,{onClick:e.onClick,style:{borderColor:s,color:i,background:a},className:NSe("relative z-10 flex h-8 w-8 flex-none select-none items-center justify-center border-2 border-solid text-base","circular"===e.type?"rounded-full":"rounded",e.button?"hover:border-3 cursor-pointer":"group"),children:t})}function KTe(e){return KTe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KTe(e)}var XTe=["children","mode","whiteout","className","containerClass"];function YTe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZTe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YTe(Object(n),!0).forEach((function(t){JTe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YTe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JTe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=KTe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KTe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KTe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QTe=(0,n.forwardRef)((function(e,t){var n=e.children,r=e.mode,o=e.whiteout,i=e.className,a=e.containerClass,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,XTe),l=xh(),c=l.elementColor,u=c,d=l.theme.bodyColor,f=jE(c,.3),p="opacity-10";return r!==dh.EDIT&&(p="opacity-10 group-hover:opacity-20"),o&&(u=WTe,d=qTe,p="opacity-100"),(0,Ut.jsxs)("div",ZTe(ZTe({ref:t,className:NSe("hover:border-3 focused:border-4 group relative flex flex-col items-start gap-2 rounded-md border-none bg-transparent p-3 text-xl transition-all",r!==dh.EDIT&&"cursor-pointer",i)},s),{},{children:[(0,Ut.jsx)("div",{style:{background:u},className:NSe("absolute bottom-0 left-0 right-0 top-0 z-0 rounded-md border transition-all group-aria-selected:border-solid",p,i)}),(0,Ut.jsx)("div",{style:{borderColor:f},className:NSe("absolute bottom-0 left-0 right-0 top-0 z-0 rounded-md border border-solid opacity-60 transition-all",i)}),(0,Ut.jsx)("div",{style:{color:d},className:"relative z-10 flex h-full w-full items-center",children:(0,Ut.jsx)("div",{className:NSe("relative w-full",a),children:n})})]}))}));QTe.displayName="ThemedItemWrapper";const ePe=QTe;var tPe=(0,n.memo)((function(e){return(0,Ut.jsx)(ePe,{className:vr(e.connected&&"rounded-r-none",e.className),mode:dh.VIEW,children:(0,Ut.jsxs)("div",{className:"flex items-center overflow-hidden",children:[(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(_Te,{className:"my-2 mr-2 h-5 w-5 rotate-90"})}),(0,Ut.jsx)("div",{className:"relative flex flex-shrink items-center overflow-hidden",children:(0,Ut.jsx)("div",{className:"min-h-0 max-w-full break-words text-left text-base",children:e.matchingItem.choice})}),(0,Ut.jsx)("div",{})]})})}));tPe.displayName="ChoiceViewerDisplayer";const nPe=tPe;function rPe(e){return rPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rPe(e)}function oPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iPe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oPe(Object(n),!0).forEach((function(t){aPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aPe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=rPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sPe(e){var t=Dk({id:"choice-".concat(e.matchingItem.id)}),n=t.attributes,r=t.listeners,o=t.setNodeRef,i=t.transform,a=t.isDragging,s={transform:Gx.Translate.toString(i),opacity:a?0:1};return n.tabIndex=-1,(0,Ut.jsx)("div",iPe(iPe(iPe({ref:o,style:s},r),n),{},{children:(0,Ut.jsx)(nPe,{className:e.className,connected:e.connected,matchingItem:e.matchingItem})}))}const lPe=(0,n.memo)(sPe);function cPe(e,t){e.startsWith("#")&&(e=e.substring(1));var n=parseInt(e.substring(0,2),16),r=parseInt(e.substring(2,4),16),o=parseInt(e.substring(4,6),16);return t=Math.max(0,Math.min(t,1)),"rgba(".concat(n,", ").concat(r,", ").concat(o,", ").concat(t.toFixed(2),")")}const uPe=function(e){var t=e.shouldRetry,n=e.submitted,r=e.isCorrect,o=e.mode;return(0,Ut.jsx)(L2,{in:t&&n&&!r,children:(0,Ut.jsxs)("div",{className:vr("flex items-center gap-2 py-4 pt-2 ",pSe(o)),children:[(0,Ut.jsx)(UTe,{className:"h-4 w-4"}),(0,Ut.jsx)("div",{className:"text-[1rem]",children:ZK("Retry this question to continue")})]})})};function dPe(e){return dPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dPe(e)}function fPe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||gPe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hPe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pPe(Object(n),!0).forEach((function(t){mPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mPe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vPe(e){return function(e){if(Array.isArray(e))return yPe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||gPe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gPe(e,t){if(e){if("string"==typeof e)return yPe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yPe(e,t):void 0}}function yPe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var bPe={droppable:{strategy:lk.Always}};function wPe(e){var t=e.children,n=e.choiceItem,r=e.setSelectedChoiceItem,o=e.selectedChoiceItem,i=e.themeAccent,a=(e.selectMatchMode,e.isMatched);return(0,Ut.jsx)("button",{onClick:function(){(null==n?void 0:n.id)===(null==o?void 0:o.id)?r(void 0):r(n)},className:a?"w-full":"",style:(null==o?void 0:o.id)===(null==n?void 0:n.id)?{backgroundColor:cPe(i,.25)}:{background:"transparent"},children:t})}function xPe(e){var t,n,r=xh().elementColor,o=Bk({id:"match-".concat(e.matchItem.id)}),i=o.isOver,a=o.setNodeRef,s={opacity:i?.7:1},l=!e.selectedChoiceItem||(null===(t=e.selectedChoiceItem)||void 0===t?void 0:t.id)===(null===(n=e.choiceItem)||void 0===n?void 0:n.id);return(0,Ut.jsxs)("div",{ref:a,className:"relative",style:s,children:[e.choiceItem&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 -translate-x-full",children:e.submitted?(0,Ut.jsx)(ePe,{whiteout:!0,className:vr("rounded-r-none",e.className),mode:dh.VIEW,children:(0,Ut.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(GTe,{shouldShowAnswers:!0,number:1,button:!1,correct:e.correct,submitted:!0,selected:!0,type:"circular"})}),(0,Ut.jsx)("div",{className:"flex flex-shrink items-center overflow-hidden",children:(0,Ut.jsx)("div",{className:"min-h-0 max-w-full break-words text-base",children:e.choiceItem.choice})})]})}):(0,Ut.jsx)(wPe,{selectMatchMode:l,selectedChoiceItem:e.selectedChoiceItem,setSelectedChoiceItem:e.setSelectedChoiceItem,themeAccent:r,choiceItem:e.choiceItem,isMatched:!0,children:(0,Ut.jsx)(lPe,{className:e.className,connected:!0,matchingItem:e.choiceItem})})}),(0,Ut.jsx)("button",{className:"w-full bg-transparent",onClick:function(){return function(){var t;if(!e.submitted){var n=(null===(t=e.selectedChoiceItem)||void 0===t?void 0:t.id)||"",r=e.matchItem.id,o=e.connections.filter((function(e){return e.choiceId!==n&&e.matchId!==r})),i={choiceId:n,matchId:r};e.updateState(hPe(hPe({},e.state),{},{connections:[].concat(vPe(o),[i])})),e.setSelectedChoiceItem(void 0)}}()},children:(0,Ut.jsx)(ePe,{className:NSe(e.choiceItem&&"rounded-l-none",e.className),mode:dh.VIEW,children:(0,Ut.jsx)("div",{className:"flex items-center justify-start",children:(0,Ut.jsx)("div",{className:"min-h-0 overflow-hidden break-words text-left text-base",children:e.matchItem.match})})})})]})}var SPe=[{char:50,className:"h-16"},{char:60,className:"h-20"},{char:80,className:"h-24"},{char:100,className:"h-28"},{char:150,className:"h-[156px]"},{char:200,className:"h-[156px]"}],kPe=[{char:30,className:"h-16"},{char:40,className:"h-24"},{char:50,className:"h-32"},{char:70,className:"h-36"},{char:90,className:"h-[170px]"},{char:130,className:"h-[210px]"},{char:200,className:"h-[275px]"}],EPe=function(e){var t,r,o,i=e.id,a=e.mode,s=(e.printMode,e.preview),l=e.parentId,c=Br(),u=fh(i,a),d=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[i]})),f=YSe(),p=f.onGoForward,h=(f.onGoBackward,Bs().assessmentRetries),m=L4().enqueueSnackbar,v=d.data,g=v.items.reduce((function(e,t){return t.choice.length>e?t.choice.length:e}),0),y=v.items.reduce((function(e,t){return t.match.length>e?t.match.length:e}),0),b=bn()?kPe.find((function(e){return e.char>Math.max(g,y)})):SPe.find((function(e){return e.char>Math.max(g,y)})),w=(null==b?void 0:b.className)||"h-32",x=function(e){return vPe(e).sort((function(e,t){var n=e.id,r=t.id;return n.localeCompare(r)}))}(null!=v&&v.items?vPe(v.items):[]),S=fPe((0,n.useState)(null),2),k=S[0],E=S[1],O=fPe((0,n.useState)(0),2),j=O[0],_=O[1],C=fPe((0,n.useState)(null),2),T=C[0],P=C[1];(0,n.useEffect)((function(){var e=be.getState().accumulatedTime;_(e)}),[]);var A={connections:(null===(t=u.state)||void 0===t?void 0:t.connections)||[],submitted:(null===(r=u.state)||void 0===r?void 0:r.submitted)||!1,attemptIndex:(null===(o=u.state)||void 0===o?void 0:o.attemptIndex)||0},N=null==k?void 0:k.replace("choice-",""),M=v.items.find((function(e){return e.id===N})),I=A.submitted,R=A.connections,L=A.attemptIndex,D=0,F=x.filter((function(e){return!R.find((function(t){return t.choiceId===e.id}))})),z=v.items.map((function(e){var t=R.find((function(t){return t.matchId===e.id})),n=v.items.find((function(e){return e.id===(null==t?void 0:t.choiceId)})),r=null;n||(r=F[D],D++);var o=(null==n?void 0:n.id)===e.id;return{matchItem:e,connectionItem:n,choiceItem:r,correct:o}})),B=z.every((function(e){return e.correct})),$=TTe(h,L),U=aS(iS(tk,{activationConstraint:{distance:2}}),iS(rk,{activationConstraint:{delay:0,tolerance:10}})),V=(0,n.useCallback)((function(){if(d)if(F.length>0)m(ZK("Please connect all choices to matches."));else{if(I)return!B&&$?(u.updateState(hPe(hPe({},u.state),{},{submitted:!1,connections:[],attemptIndex:L+1})),void u.updateState({attemptIndex:L+1})):void p();var e=hPe(hPe({},u.state),{},{submitted:!0,attemptIndex:L+1});u.updateState(e);var t=be.getState().lessonContent,n=zs(t.settings);zTe({event:"answered",objectType:"assessment",objectId:u.id,parentObjectId:null!=l?l:null,accumulatedTime:be.getState().accumulatedTime,duration:be.getState().accumulatedTime-j,timestamp:(new Date).toISOString(),context:{content:d,state:e},result:{score:Cp(d,e,n,t,be.getState().blockStates)}})}}),[d,j,u,I,p]),H=Sh().accentColor;if(!d)return(0,Ut.jsx)("div",{children:"Block Not Found"});var W=120;return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)(Ik,{collisionDetection:pS,sensors:U,measuring:bPe,onDragStart:function(e){E(e.active.id)},onDragEnd:function(e){E(null);var t=e.active,n=e.over;if(!n)return;var r=t.id,o=n.id,i=r.replace("choice-",""),a=o.replace("match-",""),s=R.filter((function(e){return e.choiceId!==i&&e.matchId!==a})),l={choiceId:i,matchId:a};u.updateState(hPe(hPe({},A),{},{connections:[].concat(vPe(s),[l])}))},autoScroll:{threshold:{x:1/0,y:.2}},children:[a===dh.EDIT?(0,Ut.jsx)("div",{className:"relative flex w-full flex-col gap-4",children:v.items.map((function(e,t){return(0,Ut.jsxs)("div",{"data-no-navigate":!0,className:"grid grid-cols-2 gap-4",children:[(0,Ut.jsx)(ePe,{className:w,mode:a,children:(0,Ut.jsxs)("div",{className:"flex items-center",children:[(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(_Te,{className:"my-2 mr-2 h-5 w-5 rotate-90"})}),(0,Ut.jsx)(ASe,{disableEnter:!0,onChange:function(e){var n=e.slice(0,W),r=hPe(hPe({},v),{},{items:[].concat(vPe(v.items.slice(0,t)),[hPe(hPe({},v.items[t]),{},{choice:n})],vPe(v.items.slice(t+1)))});EE(i,r,"matching-choice-".concat(t,"-").concat(i))},placeholder:c("choice"),mode:u.mode,className:vr("w-full text-base",e.choice.length>=W?"text-red-500":""),value:e.choice})]})}),(0,Ut.jsx)(ePe,{className:w,mode:a,children:(0,Ut.jsxs)("div",{className:"flex items-center",children:[(0,Ut.jsx)(ASe,{onChange:function(e){var n=e.slice(0,W),r=hPe(hPe({},v),{},{items:[].concat(vPe(v.items.slice(0,t)),[hPe(hPe({},v.items[t]),{},{match:n})],vPe(v.items.slice(t+1)))});EE(i,r,"matching-match-".concat(t,"-").concat(i))},placeholder:c("match"),mode:u.mode,className:vr("w-full text-base",e.match.length>=W?"text-red-500":""),value:e.match}),(0!==t||v.items.length>1)&&(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(Fr,{onClick:function(){var e=hPe(hPe({},v),{},{items:v.items.filter((function(e,n){return n!==t}))});EE(i,e)},size:"smallIcon",variant:"blend",className:"",children:(0,Ut.jsx)(LF,{className:"h-5 w-5"})})})]})})]},t)}))}):(0,Ut.jsx)("div",{className:"relative flex w-full flex-col gap-4",children:z.map((function(e,t){var n,r=!!T&&(null==T?void 0:T.id)!==(null===(n=e.choiceItem)||void 0===n?void 0:n.id);return(0,Ut.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[e.choiceItem?(0,Ut.jsx)(wPe,{selectMatchMode:r,selectedChoiceItem:T,setSelectedChoiceItem:P,themeAccent:H,choiceItem:e.choiceItem,isMatched:!1,children:(0,Ut.jsx)(lPe,{className:w,matchingItem:e.choiceItem})}):(0,Ut.jsx)("div",{}),(0,Ut.jsx)(xPe,{className:w,submitted:I,correct:e.correct,matchItem:e.matchItem,choiceItem:e.connectionItem,selectedChoiceItem:T,setSelectedChoiceItem:P,connections:R,updateState:u.updateState,state:A})]},t)}))}),(0,Ut.jsx)(Jk,{children:k&&M?(0,Ut.jsx)(nPe,{className:"drag-overlay ".concat(w),matchingItem:M}):null})]}),(0,Ut.jsx)("div",{"aria-live":"assertive",className:"sr-only",children:I&&(0,Ut.jsx)("div",{children:ZK(B?"Correct":"Incorrect")})}),a===dh.VIEW&&(0,Ut.jsx)(uPe,{shouldRetry:$,submitted:I,isCorrect:B,mode:a}),a===dh.VIEW&&(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{className:"flex h-[70px] items-center gap-2 ",children:[(!I||$)&&(0,Ut.jsxs)(dpe,{className:vr(F.length>0&&"opacity-60"),onClick:function(){V()},children:[(0,Ut.jsx)(CTe,{className:"h-5 w-5 stroke-2"}),ZK(I?B?"Next":$?"Retry":"Next":"Check")]}),s&&I&&(0,Ut.jsx)(BTe,{onClick:function(){u.updateState(hPe(hPe({},u.state),{},{submitted:!1,connections:[]}))}})]})})]})};function OPe(e){return OPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OPe(e)}function jPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jPe(Object(n),!0).forEach((function(t){CPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CPe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=OPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TPe(e){return TPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TPe(e)}function PPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function APe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PPe(Object(n),!0).forEach((function(t){NPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NPe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=TPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MPe=function(e){var t=e.media,n=e.mode,r=e.maxWidth,o=e.maxHeight,i=e.alignment,a=void 0===i?"center":i,s=e.className;if(null==t||!t.data||null==t||!t.type)return null;var l,c=null!=o?o:r?.5*r:void 0;if("image"===t.type){var u,d=t.imageAlignment||"fill",f=null!=r?r:"100%",p=t.data.aspectRatio&&r?r/t.data.aspectRatio:c;return"number"==typeof p&&c&&p>c&&(p=c,f=t.data.aspectRatio?p*t.data.aspectRatio:null!=r?r:"100%"),(0,Ut.jsx)("div",{className:vr("mt-4 w-full","fill"===d&&"overflow-hidden rounded-xl","center"===d&&"flex justify-center","end"===d&&"flex justify-end","start"===d&&"flex justify-start",s),children:(0,Ut.jsx)(cke,{src:t.data.source,altText:t.data.altText||"",mode:n,children:(0,Ut.jsx)("img",{src:t.data.source,alt:t.data.altText||"",className:vr("block rounded-lg","fill"===d?"h-full w-full object-cover":"object-contain"),style:APe({maxHeight:c},"fill"===d?{width:"100%",height:p}:{maxWidth:"100%",width:f,height:p,aspectRatio:null!==(u=t.data.aspectRatio)&&void 0!==u?u:void 0})})})})}if("video"===t.type)return(0,Ut.jsx)("div",{className:vr("mt-4 flex w-full","center"===a&&"justify-center","end"===a&&"justify-end","start"===a&&"justify-start",s),children:(0,Ut.jsx)("div",{className:"relative w-full",style:{maxWidth:null!=r?r:"100%"},children:(0,Ut.jsx)("div",{className:"relative w-full",style:{paddingBottom:t.data.aspectRatio?"".concat(1/t.data.aspectRatio*100,"%"):"56.25%",maxHeight:c},children:(0,Ut.jsx)(w1,{video:{source:t.data.source,aspectRatio:null!==(l=t.data.aspectRatio)&&void 0!==l?l:null,trimEnd:t.data.trimEnd,trimStart:t.data.trimStart,transcript:t.data.transcript,duration:t.data.duration,captions:t.data.captions,thumbnail:t.data.thumbnail},lessonLanguage:be.getState().lessonContent.language,restrictSkipAhead:!1,progress:{watchedProportion:0,seekProportion:0},setProgress:function(){},startTime:t.data.trimStart,endTime:t.data.trimEnd,className:"absolute inset-0 h-full w-full rounded-none"})})})});if("embed"===t.type&&t.data.source){var h=r?Math.min(r*(9/16),.66*r):void 0;return(0,Ut.jsx)("div",{className:vr("mt-4 flex w-full","center"===a&&"justify-center","end"===a&&"justify-end","start"===a&&"justify-start",s),style:h?{height:"".concat(h,"px")}:void 0,children:n!==dh.DRAG&&n!==dh.THUMBNAIL&&(0,Ut.jsx)("iframe",{width:"100%",height:"100%",className:"aspect-video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:t.data.source})})}return null};function IPe(e){return IPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IPe(e)}function RPe(e){return function(e){if(Array.isArray(e))return $Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||BPe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LPe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DPe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LPe(Object(n),!0).forEach((function(t){FPe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LPe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FPe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=IPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zPe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||BPe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BPe(e,t){if(e){if("string"==typeof e)return $Pe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$Pe(e,t):void 0}}function $Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var UPe=function(e){var t,r,o,i,a,s,l=e.data,c=e.mode,u=e.id,d=e.activeStep,f=e.parentId,p=e.printMode,h=zPe((0,n.useState)(0),2),m=h[0],v=h[1],g=zPe((0,n.useState)(l.hasIntro),2),y=g[0],b=g[1],w=zPe((0,n.useState)(!1),2),x=w[0],S=w[1],k=zPe((0,n.useState)(!1),2),E=k[0],O=k[1],j=zPe((0,n.useState)(0),2),_=j[0],C=j[1],T=(0,n.useRef)(!0),P=(0,n.useRef)(l.hasIntro),A=(0,n.useRef)(l.hasOutro),N=(0,n.useRef)(d),M=(0,n.useRef)([]),I=jhe(c),R=Sh(),L=xh(),D=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[u]})),F=be((function(e){return e.blockStates[u]})),z=be((function(e){return e.lessonContent})),B=null==z||null===(t=z.settings)||void 0===t?void 0:t.requireInteractives,$=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t||null===(t=t.blocks[u])||void 0===t?void 0:t.narration})),U=be((function(e){return e.currentNarrationIndex})),V=Gpe(f).narrations,H=function(e){c===dh.VIEW&&wpe({itemId:e,tileNarration:$,pageNarrations:V,delay:700})},W=(0,n.useCallback)((function(){if(c===dh.VIEW){var e=Y();null!=e&&e.id&&wpe({itemId:e.id,tileNarration:$,pageNarrations:V})}}),[c,y,x,m,l,$,V]);(0,n.useEffect)((function(){if(d!==N.current&&(N.current=d,void 0!==d)){var e,t;if((null===(e=l.intro)||void 0===e?void 0:e.id)===d)return b(!0),S(!1),void v(0);if((null===(t=l.outro)||void 0===t?void 0:t.id)===d)return b(!1),S(!0),void v(l.elements.length-1);var n=l.elements.findIndex((function(e){return e.id===d}));if(-1!==n)return b(!1),S(!1),void v(n)}}),[d,null===(r=l.intro)||void 0===r?void 0:r.id,null===(o=l.outro)||void 0===o?void 0:o.id]),(0,n.useEffect)((function(){T.current&&(l.hasIntro?(b(!0),v(0)):(b(!1),v(0)),T.current=!1)}),[l.hasIntro]),(0,n.useEffect)((function(){T.current||c!==dh.EDIT||l.hasIntro!==P.current&&(l.hasIntro?(b(!0),S(!1)):(b(!1),v(0)),P.current=l.hasIntro)}),[l.hasIntro,c]),(0,n.useEffect)((function(){T.current||c!==dh.EDIT||l.hasOutro!==A.current&&(l.hasOutro?(S(!0),b(!1),v(l.elements.length-1)):(S(!1),x&&v(l.elements.length-1)),A.current=l.hasOutro)}),[l.hasOutro,c,l.elements.length,x]),(0,n.useEffect)((function(){if(c===dh.VIEW){var e=be.getState().blockStates[u];uh(u,DPe(DPe({},e),{},{itemsCompleted:DPe(DPe({},null==e?void 0:e.itemsCompleted),{},FPe({},0,!0))}))}}),[]);var q=function(e){var t;return!(null==F||null===(t=F.itemsCompleted)||void 0===t||!t[e])},G=function(){if(!B)return!0;if(l.hasIntro&&!q(0))return!1;for(var e=l.hasIntro?1:0,t=0;t<l.elements.length;t++)if(!q(t+e))return!1;if(l.hasOutro){var n=e+l.elements.length;if(!q(n))return!1}return!0},K=l.hasIntro?l.intro:void 0,X=l.hasOutro?l.outro:void 0,Y=function(){return y&&K?K:x&&X?X:l.elements[m]};(0,n.useEffect)((function(){var e;e=y?0:x?l.elements.length+(K?1:0):m+(K?1:0);var t=M.current[e];t&&C(t.offsetHeight);var n=new ResizeObserver((function(){t&&C(t.offsetHeight)}));return t&&n.observe(t),function(){return n.disconnect()}}),[m,y,x,l.elements,K]);var Z=function(){if(y)b(!1),v(0),uh(u,DPe(DPe({},F),{},{itemsCompleted:DPe(DPe({},null==F?void 0:F.itemsCompleted),{},FPe({0:!0},l.hasIntro?1:0,!0))})),l.elements[0]&&H(l.elements[0].id);else if(x)S(!1),l.hasIntro?(b(!0),v(0),l.intro&&H(l.intro.id)):(v(0),l.elements[0]&&H(l.elements[0].id));else if(m===l.elements.length-1)if(l.hasOutro){S(!0),v(l.elements.length-1);var e=l.hasIntro?l.elements.length+1:l.elements.length;uh(u,DPe(DPe({},F),{},{itemsCompleted:DPe(DPe({},null==F?void 0:F.itemsCompleted),{},FPe({},e,!0))})),l.outro&&H(l.outro.id)}else l.hasIntro?(b(!0),v(0),l.intro&&H(l.intro.id)):(v(0),l.elements[0]&&H(l.elements[0].id));else{var t=m+1;v(t);var n=l.hasIntro?t+1:t;uh(u,DPe(DPe({},F),{},{itemsCompleted:DPe(DPe({},null==F?void 0:F.itemsCompleted),{},FPe({},n,!0))})),l.elements[t]&&H(l.elements[t].id)}O(!0),setTimeout((function(){O(!1)}),150)},J=function(e){e<0||e>=l.elements.length||(O(!0),b(!1),S(!1),v(e),function(e){if(c===dh.VIEW){var t=l.hasIntro?e+1:e;uh(u,DPe(DPe({},F),{},{itemsCompleted:DPe(DPe({},null==F?void 0:F.itemsCompleted),{},FPe({},t,!0))}))}}(e),l.elements[e]&&H(l.elements[e].id),setTimeout((function(){O(!1)}),20))},Q=function(e){if(c===dh.EDIT){var t=Y();if(y&&K)EE(u,DPe(DPe({},l),{},{intro:DPe(DPe({},K),{},{content:e})}),"process-intro-".concat(u));else if(x&&X)EE(u,DPe(DPe({},l),{},{outro:DPe(DPe({},X),{},{content:e})}),"process-outro-".concat(u));else{var n=RPe(l.elements),r=n.findIndex((function(e){return e.id===t.id}));-1!==r&&(n[r]=DPe(DPe({},n[r]),{},{content:e}),EE(u,DPe(DPe({},l),{},{elements:n}),"process-step-".concat(r,"-").concat(u)))}}},ee=(0,n.useMemo)((function(){return"transparent"===(null==D?void 0:D.elementColor)?null:null!=D&&D.elementColor?USe(D.elementColor,R):USe({alias:"header"},R)}),[null==D?void 0:D.elementColor,R]),te=(0,n.useMemo)((function(){var e="transparent"===(null==D?void 0:D.elementColor)||function(e){return"object"===IPe(e)&&null!==e&&"alias"in e}(null==D?void 0:D.elementColor)&&"element"===D.elementColor.alias;return e?{textColor:R.headerColor,bgColor:R.headerColor,buttonTextColor:zxe.suggestTextColor(R.headerColor)}:zxe.getContrastColors(ee,{headerColor:R.headerColor,buttonText:L.buttonText,pageColor:R.pageColor})}),[ee,R.headerColor,L.buttonText,R.pageColor,L.buttonColor,null==D?void 0:D.elementColor]),ne=te.textColor,re=te.buttonTextColor,oe=te.bgColor,ie=c===dh.EDIT||c===dh.VIEW,ae=function(e){return Spe({pageNarrations:V,tileNarration:$,itemId:e,currentNarrationIndex:U})};return p?(0,Ut.jsxs)("div",{className:"w-full space-y-8 p-4",style:{"--header-color":ne,"--body-color":ne,"--text-color":ne,"--placeholder-color":ne+"80"},children:[l.hasIntro&&l.intro&&(0,Ut.jsxs)(WPe,{resolvedBackgroundColor:ee,contrastTextColor:ne,text:ZK("Introduction"),children:[(0,Ut.jsx)(GY,{editable:!1,value:l.intro.content,onChange:function(){},showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:l.intro.media,mode:c,widthPx:I})]}),l.elements.map((function(e,t){return(0,Ut.jsx)(qPe,{element:e,index:t,resolvedBackgroundColor:ee,mode:c,widthPx:I},e.id)})),l.hasOutro&&l.outro&&(0,Ut.jsxs)(WPe,{resolvedBackgroundColor:ee,contrastTextColor:ne,text:ZK("Completed"),children:[(0,Ut.jsx)(GY,{editable:!1,value:l.outro.content,onChange:function(){},showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:l.outro.media,mode:c,widthPx:I})]})]}):(0,Ut.jsx)("div",{className:"w-full p-4",children:(0,Ut.jsxs)("div",{className:"relative overflow-hidden rounded-xl",onClick:function(e){c===dh.VIEW&&W()},children:[c===dh.VIEW&&(0,Ut.jsx)(Ut.Fragment,{children:(l.hasIntro&&ae((null===(i=l.intro)||void 0===i?void 0:i.id)||"")||l.elements.some((function(e){return ae(e.id)}))||l.hasOutro&&ae((null===(a=l.outro)||void 0===a?void 0:a.id)||""))&&(0,Ut.jsx)("div",{className:"absolute left-6 top-6 z-20",children:(0,Ut.jsx)(ife,{showPulse:!1})})}),(0,Ut.jsxs)("div",{className:vr("relative w-full",{"transition-all duration-500 ease-in-out":ie}),style:{height:0!==_?"".concat(_,"px"):"auto"},children:[K&&(0,Ut.jsx)("div",{ref:function(e){return M.current[0]=e},className:vr("w-full rounded-xl",{"transition-all duration-500":ie,"relative translate-x-0 opacity-100":y,"absolute left-0 right-0 top-0 -translate-x-full opacity-0":!y}),style:{backgroundColor:ee,"--header-color":ne,"--body-color":ne,"--text-color":ne,"--placeholder-color":ne+"80"},children:(0,Ut.jsxs)("div",{className:"flex min-h-[16rem] flex-col justify-between p-8",children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)("div",{className:"mb-8 flex items-start justify-center",children:(0,Ut.jsxs)("div",{className:vr("flex-1",{"text-center":"center"===K.justify,"text-left":"left"===K.justify,"text-right":"right"===K.justify}),children:[(0,Ut.jsx)(GY,{editable:c===dh.EDIT,value:K.content,onChange:Q,showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:K.media,mode:c,widthPx:I})]})})}),(0,Ut.jsx)("div",{className:vr("mt-4 flex items-center",{"justify-center":"center"===(null==K?void 0:K.justify)||!(null!=K&&K.justify),"justify-start":"left"===(null==K?void 0:K.justify),"justify-end":"right"===(null==K?void 0:K.justify)}),children:(0,Ut.jsxs)("button",{onClick:function(e){e.stopPropagation(),Z()},className:"relative shrink-0 rounded px-6 py-2 transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",style:{backgroundColor:oe,color:re},children:[c===dh.VIEW&&B&&!G()&&(0,Ut.jsx)("div",{className:"absolute left-0 top-0 flex h-full items-center justify-center px-2",children:(0,Ut.jsx)(ofe,{buttonColor:re,buttonText:oe,isDarkMode:zxe.isColorLight(oe)})}),(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsx)("span",{children:ZK("Start")})})]})})]})},K.id),null==l||null===(s=l.elements)||void 0===s?void 0:s.map((function(e,t){var n=!y&&!x&&t===m,r=!y&&!x&&t<m,o=!y&&!x&&t>m;return(0,Ut.jsx)("div",{ref:function(e){return M.current[t+(K?1:0)]=e},className:vr("w-full rounded-xl",{"transition-all duration-500":ie,"relative translate-x-0 opacity-100":n,"absolute left-0 right-0 top-0 translate-x-full opacity-0":o||y,"absolute left-0 right-0 top-0 -translate-x-full opacity-0":r||x}),style:{backgroundColor:ee,"--header-color":ne,"--body-color":ne,"--text-color":ne,"--placeholder-color":ne+"80"},children:(0,Ut.jsxs)("div",{className:"flex min-h-[16rem] flex-col justify-between p-8",children:[(0,Ut.jsx)("div",{children:(0,Ut.jsxs)("div",{className:vr("mb-8 flex items-start","gap-6"),children:[(0,Ut.jsx)("div",{className:"w-13 mt-[2.5px] hidden md:block",children:(0,Ut.jsx)(GY,{editable:!1,value:{type:"doc",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:String(t+1).padStart(2,"0")}]}]},onChange:function(){},className:vr("tiptap","[&_.ProseMirror_h2]:text-lg","[&_.ProseMirror_h2]:font-medium","[&_.ProseMirror_h2]:leading-none","[&_.ProseMirror_h2]:m-0","opacity-70")})}),(0,Ut.jsxs)("div",{className:vr("flex-1",{"text-center":"center"===e.justify,"text-left":"left"===e.justify,"text-right":"right"===e.justify}),children:[(0,Ut.jsx)(GY,{editable:c===dh.EDIT,value:e.content,onChange:Q,showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:e.media,mode:c,widthPx:I})]})]})}),(0,Ut.jsxs)("div",{className:vr("mt-4 flex items-center justify-between"),children:[(0,Ut.jsxs)("div",{className:"group mr-8 flex h-3 items-center gap-3",children:[l.hasIntro&&(0,Ut.jsx)("button",{onClick:function(e){e.stopPropagation(),b(!0),S(!1),v(0)},className:vr("h-1 w-4 shrink-0 transform-gpu rounded-full",{"transition-all duration-300 ease-in-out":ie,"group-hover:h-3":!E&&ie}),style:{backgroundColor:oe,opacity:y?1:.3,cursor:E?"default":"pointer"},"aria-label":"Introduction section","aria-current":y?"step":void 0,"aria-disabled":E,role:"tab"}),(0,Ut.jsxs)("div",{className:"flex min-w-[200px] items-center gap-3",role:"tablist","aria-label":"Process steps",children:[l.elements.map((function(e,t){return(0,Ut.jsx)("button",{onClick:function(e){e.stopPropagation(),!E&&J(t)},className:vr("h-1 max-w-[4rem] flex-1 transform-gpu rounded-full",{"transition-all duration-300 ease-in-out":ie,"group-hover:h-3":!E&&ie}),style:{backgroundColor:oe,opacity:t!==m||y||x?.3:1,cursor:E?"default":"pointer"},"aria-label":"Step ".concat(t+1," of ").concat(l.elements.length),"aria-current":t!==m||y||x?void 0:"step","aria-disabled":E,role:"tab"},t)})),l.hasOutro&&(0,Ut.jsx)("button",{onClick:function(e){e.stopPropagation(),b(!1),S(!0),v(l.elements.length-1)},className:vr("h-1 w-4 shrink-0 transform-gpu rounded-full",{"transition-all duration-300 ease-in-out":ie,"group-hover:h-3":!E&&ie}),style:{backgroundColor:oe,opacity:x?1:.3,cursor:E?"default":"pointer"},"aria-label":"Conclusion section","aria-current":x?"step":void 0,"aria-disabled":E,role:"tab"})]})]}),(0,Ut.jsx)("div",{className:vr("relative flex justify-end"),children:(0,Ut.jsxs)("button",{onClick:function(e){e.stopPropagation(),Z()},className:"shrink-0 rounded px-6 py-2 transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",style:{backgroundColor:oe,color:re},"aria-label":m!==l.elements.length-1||X?ZK("Go to next step"):ZK("Start process over"),"aria-disabled":E,children:[c===dh.VIEW&&B&&!G()&&(0,Ut.jsx)("div",{className:"absolute left-0 top-0 flex h-full items-center justify-center px-2",children:(0,Ut.jsx)(ofe,{buttonColor:re,buttonText:oe,isDarkMode:zxe.isColorLight(oe)})}),(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsx)("span",{children:m!==l.elements.length-1||X?ZK("Next"):ZK("Start Over")})})]})})]})]})},e.id)})),X&&(0,Ut.jsx)("div",{ref:function(e){return M.current[l.elements.length+(K?1:0)]=e},className:vr("w-full rounded-xl",{"transition-all duration-500":ie,"relative translate-x-0 opacity-100":x,"absolute left-0 right-0 top-0 translate-x-full opacity-0":!x&&!y,"absolute left-0 right-0 top-0 -translate-x-full opacity-0":!x&&y}),style:{backgroundColor:ee,"--header-color":ne,"--body-color":ne,"--text-color":ne,"--placeholder-color":ne+"80"},children:(0,Ut.jsxs)("div",{className:"flex min-h-[16rem] flex-col justify-between p-8",children:[(0,Ut.jsx)("div",{children:(0,Ut.jsx)("div",{className:"mb-8 flex items-start justify-center",children:(0,Ut.jsxs)("div",{className:vr("flex-1",{"text-center":"center"===X.justify,"text-left":"left"===X.justify,"text-right":"right"===X.justify}),children:[(0,Ut.jsx)(GY,{editable:c===dh.EDIT,value:X.content,onChange:Q,showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:X.media,mode:c,widthPx:I})]})})}),(0,Ut.jsx)("div",{className:vr("mt-4 flex items-center",{"justify-center":"center"===(null==X?void 0:X.justify)||!(null!=X&&X.justify),"justify-start":"left"===(null==X?void 0:X.justify),"justify-end":"right"===(null==X?void 0:X.justify)}),children:(0,Ut.jsxs)("button",{onClick:function(e){e.stopPropagation(),Z()},className:"shrink-0 rounded px-6 py-2 transition-colors hover:opacity-70 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",style:{backgroundColor:oe,color:re},children:[c===dh.VIEW&&B&&!G()&&(0,Ut.jsx)("div",{className:"absolute left-0 top-0 flex h-full items-center justify-center px-1.5",children:(0,Ut.jsx)(ofe,{buttonColor:re,buttonText:oe,isDarkMode:zxe.isColorLight(oe)})}),(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsx)("span",{children:ZK("Start Over")})})]})})]})},X.id)]})]})})};function VPe(e){var t=e.media,n=e.mode,r=e.widthPx;return null!=t&&t.data&&null!=t&&t.type?(0,Ut.jsx)(MPe,{media:t,mode:n,maxWidth:r,maxHeight:.66*r}):null}function HPe(e){var t=e.resolvedBackgroundColor,n=e.children;return(0,Ut.jsx)("div",{className:"w-full rounded-xl p-8",style:{backgroundColor:t},children:n})}function WPe(e){var t=e.resolvedBackgroundColor,n=e.contrastTextColor,r=e.text,o=e.children;return(0,Ut.jsxs)(HPe,{resolvedBackgroundColor:t,children:[(0,Ut.jsx)("div",{className:"mb-4 text-center text-xl font-medium",style:{color:n},children:r}),(0,Ut.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,Ut.jsx)("div",{className:"w-full text-center",children:o})})]})}function qPe(e){var t=e.element,n=e.index,r=e.resolvedBackgroundColor,o=e.mode,i=e.widthPx;return(0,Ut.jsx)(HPe,{resolvedBackgroundColor:r,children:(0,Ut.jsxs)("div",{className:"flex items-start gap-6",children:[(0,Ut.jsx)("div",{className:"w-13 mt-[2.5px] hidden md:block",children:(0,Ut.jsx)(GY,{editable:!1,value:{type:"doc",content:[{type:"heading",attrs:{level:2},content:[{type:"text",text:String(n+1).padStart(2,"0")}]}]},onChange:function(){},className:vr("tiptap","[&_.ProseMirror_h2]:text-lg","[&_.ProseMirror_h2]:font-medium","[&_.ProseMirror_h2]:leading-none","[&_.ProseMirror_h2]:m-0","opacity-70")})}),(0,Ut.jsxs)("div",{className:"flex-1",children:[(0,Ut.jsx)(GY,{editable:!1,value:t.content,onChange:function(){},showOnlyCurrent:!1,className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium"}),(0,Ut.jsx)(VPe,{media:t.media,mode:o,widthPx:i})]})]})})}function GPe(e){return GPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GPe(e)}function KPe(){KPe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==GPe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(GPe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function XPe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var YPe=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){XPe(i,r,o,a,s,"next",e)}function s(e){XPe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(KPe().mark((function e(t){var n,r,o;return KPe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=be.getState().selectedBlockId,null!==t){e.next=4;break}return be.setState((function(e){e.selectedBlockId=t})),e.abrupt("return");case 4:if(!Sp.includes(t)){e.next=7;break}return be.setState((function(e){e.selectedBlockId=t})),e.abrupt("return");case 7:if(r!==t){e.next=9;break}return e.abrupt("return");case 9:if(null!==r&&(null===(o=be.getState().lessonContent)||void 0===o?void 0:o.blockOrder.indexOf(r)),null!=(null===(n=be.getState().lessonContent)||void 0===n?void 0:n.blockOrder.indexOf(t))){e.next=14;break}throw new Error("Tried to navigate to ".concat(t," which doesn't exist"));case 14:be.setState((function(e){e.selectedBlockId=t}));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const ZPe=YPe;var JPe=function(e){var t=Br(),n=Br(),r=Br(),o=be((function(t){return t.selectedTileId===e.id})),i=xh(),a=i.elementColor,s=i.theme.bodyColor,l=a,c=s,u=jE(a,.3),d="opacity-10";e.mode!==dh.EDIT&&(d="opacity-10 group-hover:opacity-20"),e.submitted&&e.selected&&(l=WTe,c=qTe,u=qTe,d="opacity-100");var f=e.mode!==dh.EDIT?"button":"div";return(0,Ut.jsx)("div",{"data-no-navigate":!0,children:(0,Ut.jsxs)(f,{onClick:e.onClick,role:"square"===e.type?"checkbox":"radio","aria-checked":e.selected,className:NSe("hover:border-3 focused:border-4 group relative flex h-full w-full flex-col items-start gap-2 rounded-md border-none bg-transparent p-3 text-xl transition-all",e.mode!==dh.EDIT&&"cursor-pointer"),children:[(0,Ut.jsx)("div",{style:{background:l},className:NSe("absolute bottom-0 left-0 right-0 top-0 z-0 rounded-md border transition-all group-aria-selected:border-solid",d)}),(0,Ut.jsx)("div",{style:{borderColor:u},className:NSe("absolute bottom-0 left-0 right-0 top-0 rounded-md border border-solid opacity-60")}),(0,Ut.jsxs)("div",{className:"relative z-10 flex h-full w-full items-center gap-3",children:[(0,Ut.jsx)(GTe,{shouldShowAnswers:e.shouldShowAnswers,button:e.mode===dh.EDIT,onClick:e.onInsigniaClick,number:e.number,correct:e.correct,submitted:e.submitted,selected:e.selected,type:e.type}),(0,Ut.jsx)("div",{style:{color:c,"--header-color":c,"--header-placeholder":jE(c,.6),"--body-color":c,"--body-placeholder":jE(c,.6)},className:vr("flex-grow",pSe(e.mode)),children:(0,Ut.jsx)(GY,{onChange:e.onTextChange,placeholder:r("optionText"),className:"w-full text-left font-semibold",editable:e.mode===dh.EDIT,value:e.text})}),e.mode===dh.EDIT&&o&&(0,Ut.jsx)("div",{className:"flex gap-1",children:(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",children:(0,Ut.jsx)(OE,{className:"h-6 w-6"})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:function(){MSe(e.id,[{id:e.id,value:"option",optionIndex:e.optionIndex}])},children:t("options")}),e.onDelete&&(0,Ut.jsx)(wx,{variant:"destructive",onClick:e.onDelete,children:n("delete")})]})]})})]}),e.image&&(0,Ut.jsx)("div",{className:"relative z-10 flex w-full justify-start pt-2",children:(0,Ut.jsx)("div",{className:"flex aspect-square w-full items-center justify-center overflow-hidden rounded-md",children:(0,Ut.jsx)("img",{src:e.image.source,alt:e.image.altText||"",className:"h-full w-full object-contain"})})}),e.mode===dh.EDIT&&e.granularFeedback&&(0,Ut.jsxs)("div",{className:"relative z-10 w-full pt-1",children:[(0,Ut.jsx)("div",{className:"h-[1px] opacity-20",style:{background:s}}),(0,Ut.jsx)(ASe,{className:"pt-2 text-base",mode:e.mode,value:e.feedback,onChange:e.onFeedbackChange,placeholder:t("feedback")})]})]})})};function QPe(e){return QPe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QPe(e)}function eAe(e){return function(e){if(Array.isArray(e))return tAe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tAe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tAe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tAe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nAe(){nAe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==QPe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(QPe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function rAe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function oAe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rAe(i,r,o,a,s,"next",e)}function s(e){rAe(i,r,o,a,s,"throw",e)}a(void 0)}))}}function iAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iAe(Object(n),!0).forEach((function(t){sAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sAe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=QPe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QPe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QPe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lAe(e){var t,r,o,i,a,s,l,c,u=e.id,d=e.mode,f=e.parentId,p=e.preview,h=fh(u,d),m=YSe(),v=m.onGoForward,g=(m.onGoBackward,Bs().assessmentRetries);(0,n.useEffect)((function(){var e=be.getState().accumulatedTime,t=be.getState().blockStates[u];uh(u,aAe(aAe({},t),{},{openedCumulativeTime:e}))}),[]);var y=be((function(e){var t;return null===(t=e.blockStates[u])||void 0===t?void 0:t.openedCumulativeTime})),b=!0;(null!==(t=null===(r=h.state)||void 0===r?void 0:r.attemptIndex)&&void 0!==t?t:0)>=g&&(b=!1),-1===g&&(b=!0);var w=aAe(aAe({},h.data),{},{graded:null===(o=h.data.graded)||void 0===o||o}),x=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[u]})),S=null!==(i=null===(a=h.state)||void 0===a?void 0:a.selected)&&void 0!==i?i:[],k=null!==(s=null===(l=h.state)||void 0===l?void 0:l.submitted)&&void 0!==s&&s,E=!w.graded||x&&h.state&&$s(x,h.state||{selected:S}),O=(0,n.useCallback)((function(){uAe(x,k,h,v,y,null!=f?f:null)}),[x,y,v,h,k,f]);if(!x)return(0,Ut.jsx)("div",{children:"Block Not Found"});var j=function(){if(d!==dh.VIEW)return null;if(!w.graded)return null;if("correct / incorrect"===T)return E?w.feedbackWhenCorrect:w.feedback;if("granular"===T){var e,t,n=null===(e=h.state)||void 0===e?void 0:e.selected,r=null==n?void 0:n[0];return null===(t=w.options[r])||void 0===t?void 0:t.feedback}},_=function(){return d===dh.EDIT||E?null:w.graded&&w.ifIncorrect?w.ifIncorrect===u?ZK("Retry this question"):ZK("Review the content above and try again"):null},C=cAe(u,d,k,w.selectMultiple,S),T=(null===(c=x.data)||void 0===c?void 0:c.feedbackMode)||"correct / incorrect",P=w.selectMultiple||!1;return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"text-sm",children:w.selectMultiple?ZK("Select all that apply"):ZK("Select one")}),(0,Ut.jsx)("div",{className:NSe("grid w-full grid-cols-1 gap-4 py-4 pb-2","md:grid-cols-2"),children:w.options.map((function(e,t){return(0,Ut.jsx)(JPe,{shouldShowAnswers:d===dh.VIEW&&k&&w.graded,onInsigniaClick:function(){!function(e){if(d===dh.EDIT&&w.graded){if(w.selectMultiple)return EE(u,aAe(aAe({},w),{},{options:w.options.map((function(t,n){return n===e?aAe(aAe({},t),{},{correct:!t.correct}):t}))}));var t=w.options.map((function(t,n){return aAe(aAe({},t),{},n===e?{correct:!0}:{correct:!1})}));EE(u,aAe(aAe({},w),{},{options:t}))}}(t)},onTextChange:function(e){EE(u,aAe(aAe({},w),{},{options:w.options.map((function(n,r){return r===t?aAe(aAe({},n),{},{text:e}):n}))}),"question-option-answer-".concat(t,"-").concat(u))},feedback:e.feedback,onFeedbackChange:function(e){EE(u,aAe(aAe({},w),{},{options:w.options.map((function(n,r){return r===t?aAe(aAe({},n),{},{feedback:e}):n}))}),"quesiont-option-feedack-".concat(t,"-").concat(u))},granularFeedback:"granular"===w.feedbackMode,onDelete:1===w.options.length?void 0:function(){!function(e){if(d===dh.EDIT){if(w.selectMultiple)return EE(u,aAe(aAe({},w),{},{options:w.options.filter((function(t,n){return n!==e}))}));var t=Whe()(w),n=t.options[e].correct,r=t.options.filter((function(t,n){return n!==e}));n&&(r[0].correct=!0),EE(u,aAe(aAe({},w),{},{options:r}))}}(t)},mode:d,number:t+1,text:e.text,selected:d===dh.VIEW?S.includes(t):w.graded&&e.correct,submitted:k&&d===dh.VIEW,correct:!!w.graded&&e.correct,type:P?"square":"circular",onClick:function(){C(t)},image:e.image,id:u,optionIndex:t},t)}))}),(0,Ut.jsxs)("div",{"aria-live":"assertive",children:[k&&w.graded&&(0,Ut.jsxs)("div",{className:"sr-only",children:[E?"Correct":"Incorrect",j()&&". ".concat(j()),_()&&". ".concat(_())]}),j()&&w.graded&&(0,Ut.jsx)(L2,{in:k,children:(0,Ut.jsxs)("div",{className:"py-2",children:[(0,Ut.jsx)("div",{className:"text-xl",children:j()}),(0,Ut.jsx)("div",{className:"text-sm",children:_()})]})})]}),d===dh.VIEW&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{"aria-live":"assertive",className:"sr-only",children:k&&w.graded&&(0,Ut.jsxs)("div",{children:[ZK(E?"Correct":"Incorrect"),j()&&". ".concat(j()),_()&&". ".concat(_())]})}),(0,Ut.jsx)(uPe,{shouldRetry:b&&w.graded,submitted:k,isCorrect:!w.graded||E,mode:d}),(0,Ut.jsxs)("div",{className:"flex h-[70px] items-center gap-2 py-4 pt-2",children:[!(k&&(!b||E)&&!(k&&E&&w.ifCorrect)&&(!k||E||!w.ifIncorrect))&&(0,Ut.jsxs)(dpe,{disabled:0===S.length,onClick:oAe(nAe().mark((function e(){return nAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O();case 1:case"end":return e.stop()}}),e)}))),children:[(0,Ut.jsx)(CTe,{className:"h-5 w-5 stroke-2"}),k?E?ZK("Next"):w.ifIncorrect===u?ZK("Retry"):ZK(b?"Retry":"Next"):ZK("Submit")]}),p&&k&&(0,Ut.jsx)(BTe,{onClick:function(){h.updateState(aAe(aAe({},h.state),{},{submitted:!1,selected:[]}))}})]})]})]})}function cAe(e,t,n,r,o){var i=function(t){uh(e,aAe(aAe({},be.getState().blockStates[e]),{},{selected:t}))};return function(e){t!==dh.EDIT&&(n||(r&&(o.includes(e)?i(o.filter((function(t){return t!==e}))):i([].concat(eAe(o),[e]))),r||i([e])))}}function uAe(e,t,n,r,o,i){var a,s,l=be.getState().lessonContent,c=zs(l.settings),u=c.assessmentRetries,d=null!==(a=null===(s=n.state)||void 0===s?void 0:s.attemptIndex)&&void 0!==a?a:0,f=TTe(u,d);if(e){if(t){var p=$s(e,n.state);if(p&&e.data.ifCorrect)return n.updateState(aAe({},n.state)),void ZPe(e.data.ifCorrect);if(!p&&e.data.ifIncorrect){var h,m=null!==(h=n.state.attemptIndex)&&void 0!==h?h:0;return n.updateState({attemptIndex:m+1}),void ZPe(e.data.ifIncorrect)}if(f&&!p){var v,g=null!==(v=n.state.attemptIndex)&&void 0!==v?v:0;return void n.updateState({attemptIndex:g+1})}r()}var y=aAe(aAe({},n.state),{},{submitted:!0});n.updateState(y);var b=Us.questionTile(e,y,c,l,be.getState().blockStates);zTe({event:"answered",objectType:"assessment",objectId:n.id,parentObjectId:null!=i?i:null,accumulatedTime:be.getState().accumulatedTime,duration:be.getState().accumulatedTime-o,timestamp:(new Date).toISOString(),context:{content:e,state:y},result:{score:b}})}}function dAe(e){return dAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dAe(e)}var fAe=["className","style"];function pAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pAe(Object(n),!0).forEach((function(t){mAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mAe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=dAe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dAe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dAe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vAe=function(e){var t=e.className,n=e.style,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fAe);return(0,Ut.jsx)("svg",hAe(hAe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:t,style:n,fill:"currentColor"},r),{},{children:(0,Ut.jsx)("path",{d:"M448 296c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72zm-256 0c0 66.3-53.7 120-120 120l-8 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l8 0c30.9 0 56-25.1 56-56l0-8-64 0c-35.3 0-64-28.7-64-64l0-64c0-35.3 28.7-64 64-64l64 0c35.3 0 64 28.7 64 64l0 32 0 32 0 72z"})}))};function gAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gAe(Object(n),!0).forEach((function(t){bAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bAe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=wAe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wAe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wAe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wAe(e){return wAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wAe(e)}function xAe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return SAe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SAe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SAe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kAe={correct:HTe,incorrect:VTe,partial:"#C0B123"};function EAe(e){var t=null,n=xh().elementColor;"correct"===e.grade&&(t=(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)($Te,{className:"h-5 w-5 stroke-[3px]"})})),"incorrect"===e.grade&&(t=(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)(UTe,{className:"h-6 w-6 stroke-[3px]"})})),"partial"===e.grade&&(t=(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("span",{className:"flex h-6 w-6 items-center justify-center font-bold",children:"?"})}));var r=n,o="transparent",i=n;e.filled&&(r=WTe,o=kAe[e.grade],i=kAe[e.grade]);var a=e.button?"button":"div";return(0,Ut.jsx)(a,{onClick:e.onClick,style:{borderColor:i,color:r,background:o},className:NSe("relative z-10 flex h-8 w-8 flex-none select-none items-center justify-center rounded border-2 border-solid text-base",e.button?"hover:border-3 cursor-pointer":"group"),children:t})}var OAe=o(5974);function jAe(e){return jAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jAe(e)}function _Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_Ae(Object(n),!0).forEach((function(t){TAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TAe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=jAe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jAe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jAe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PAe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||MAe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AAe(){AAe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==jAe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(jAe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function NAe(e){return function(e){if(Array.isArray(e))return IAe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||MAe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function MAe(e,t){if(e){if("string"==typeof e)return IAe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IAe(e,t):void 0}}function IAe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function RAe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function LAe(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){RAe(i,r,o,a,s,"next",e)}function s(e){RAe(i,r,o,a,s,"throw",e)}a(void 0)}))}}var DAe="#FFFFFF",FAe=function(){var e=LAe(AAe().mark((function e(t,n,r,o){var i,a,s,l,c;return AAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"gradingInstructions"in t&&(i=t.gradingInstructions),a=t.examples.find((function(e){return"correct"===e.grade})),s=t.answer||(null==a?void 0:a.answer)||"",l=NAe(t.examples),!t.answer&&a&&(l=t.examples.filter((function(e){return e.answer!==a.answer}))),e.next=7,Fs.generate.gradeFreeResponse.mutate({question:t.question||"",learnerAnswer:n,examples:l,answer:s,blockId:r,lessonId:o,gradingInstructions:i});case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),zAe=function(e,t,n){return n?(0,OAe.jM)(e.toLowerCase().trim(),t.toLowerCase().trim())>.8:e.toLowerCase().trim()===t.toLowerCase().trim()},BAe=function(e,t,n,r){var o=t.toLowerCase().trim();if(e.examples.filter((function(e){return"incorrect"===e.grade})).map((function(e){return e.answer})).some((function(e){return zAe(o,e,!1)})))return{grade:"incorrect",feedback:"Your answer matches one of the known incorrect answers."};var i=e.examples.filter((function(e){return"correct"===e.grade})).map((function(e){return e.answer})),a=e.answer?[].concat(NAe(i),[e.answer]):i,s=!0;if("closeMatch"in e&&(s=e.closeMatch),a.some((function(e){return zAe(o,e,s)})))return{grade:"correct"};var l=e.examples.filter((function(e){return"partial"===e.grade})).find((function(e){return zAe(o,e.answer,s)}));return l?{grade:"partial",feedback:l.feedback}:{grade:"incorrect"}},$Ae=function(){var e=LAe(AAe().mark((function e(t,n,r,o){var i;return AAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.graded){e.next=2;break}return e.abrupt("return",{grade:void 0,feedback:""});case 2:if(i="ai","grader"in t&&(i=t.grader),"text-match"!==i){e.next=6;break}return e.abrupt("return",BAe(t,n));case 6:return e.abrupt("return",FAe(t,n,r,o));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),UAe=function(e){var t=Br(),r=xh(),o=r.elementColor,i=r.theme,a=(i.pageColor,i.bodyColor),s=(0,n.useRef)(null);if(e.textAreaRef.current){var l=e.textAreaRef.current,c=l.selectionStart,u=l.selectionEnd;s.current={start:c,end:u}}(0,n.useEffect)((function(){var t,n;e.textAreaRef.current&&e.textAreaRef.current.setSelectionRange((null===(t=s.current)||void 0===t?void 0:t.start)||0,(null===(n=s.current)||void 0===n?void 0:n.end)||0)}),[s.current]);var d=o,f=a,p=jE(o,.9);e.submitted&&(d=DAe,f="black",p="rgb(31, 41, 55, .3)");var h=e.submitted;return(0,Ut.jsx)("div",{children:(0,Ut.jsx)("div",{onClick:e.onClick,className:NSe("hover:border-3 focused:border-4 group relative flex w-full flex-col items-start gap-2 rounded-md border-none bg-transparent transition-all"),children:(0,Ut.jsx)("div",{className:"relative z-10 flex w-full items-center",children:(0,Ut.jsxs)("div",{style:{color:f},className:"flex-grow",children:[(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 top-0 flex items-center",children:(0,Ut.jsx)(L2,{orientation:"horizontal",in:e.submitted&&void 0!==e.grade,children:(0,Ut.jsx)("div",{className:"p-3",children:(0,Ut.jsx)(EAe,{filled:!0,button:!1,grade:e.grade})})})}),(0,Ut.jsx)(ESe,{ref:e.textAreaRef,readOnly:h,style:{borderColor:p,color:f,transition:"padding-left 0.3s",boxShadow:"none",outline:"none",backgroundColor:h?DAe:jE(d,.15),pointerEvents:h?"none":"auto"},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())},onChange:function(t){e.onTextChange(t.target.value)},placeholder:e.mode!==dh.VIEW?t("answer"):ZK("Type answer"),className:NSe("block w-full rounded-md border-[1.5px] border-solid p-3 py-4 text-xl transition-all placeholder:text-[--body-placeholder]",e.submitted&&void 0!==e.grade?"pl-[52px]":""),value:e.text})]})})})})},VAe=function(e){var t=e.answer,n=e.examples,r=xh(),o=r.buttonColor,i=o,a=r.elementColor,s=o,l=n.find((function(e){return"correct"===e.grade})),c=t||(null==l?void 0:l.answer)||"";return(0,Ut.jsxs)("div",{style:{color:a,background:jE(i,.1),borderColor:s},className:"flex w-full items-center gap-2 rounded-md border border-solid p-3 text-xl transition-all",children:[(0,Ut.jsx)(EAe,{filled:!1,button:!1,grade:"correct"}),c]})};function HAe(e){var t,r,o,i,a,s,l,c,u=e.id,d=e.mode,f=e.preview,p=e.parentId;d===dh.DRAG&&(d=dh.EDIT);var h=fh(u,d),m=PAe((0,n.useState)(!1),2),v=m[0],g=m[1],y=PAe((0,n.useState)(0),2),b=y[0],w=y[1],x=(0,n.useRef)(null),S=CAe(CAe({},h.data),{},{graded:null===(t=h.data.graded)||void 0===t||t}),k=S.graded,E=(null===(r=h.state)||void 0===r?void 0:r.inputValue)||"",O=null!==(o=null===(i=h.state)||void 0===i?void 0:i.submitted)&&void 0!==o&&o,j=k?"correct"===(null===(a=h.state)||void 0===a?void 0:a.grade):void 0;(0,n.useEffect)((function(){var e=be.getState().accumulatedTime;w(e)}),[]);var _=Bs().assessmentRetries,C=!0,T=null!==(s=null===(l=h.state)||void 0===l?void 0:l.attemptIndex)&&void 0!==s?s:0;T>=_&&(C=!1),-1===_&&(C=!0);var P=YSe(),A=P.onGoForward,N=(P.onGoBackward,(0,n.useCallback)(LAe(AAe().mark((function e(){var t,n,r,o,i;return AAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,$Ae(S,E,u,null!==(t=be.getState().lessonId)&&void 0!==t?t:"");case 4:n=e.sent,r=CAe(CAe({},h.state),{},{submitted:!0,grade:n.grade,feedback:n.feedback||""}),h.updateState(r),o=be.getState().lessonContent.blocks[h.id],i=zs(be.getState().lessonContent.settings),zTe({event:"answered",objectType:"assessment",parentObjectId:null!=p?p:null,objectId:h.id,accumulatedTime:be.getState().accumulatedTime,duration:be.getState().accumulatedTime-b,timestamp:(new Date).toISOString(),context:{content:o,state:r},result:{score:S.graded?Cp(o,r,i,be.getState().lessonContent,be.getState().blockStates):1}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),h.updateState(CAe(CAe({},h.state),{},{submitted:!0,grade:"correct",feedback:"There was an issue grading this question, the answer has been marked as correct."}));case 15:g(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),[S.answer,S.examples,S.question,u,b,h,E])),M=(0,n.useCallback)(LAe(AAe().mark((function e(){return AAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==E.length){e.next=2;break}return e.abrupt("return");case 2:if(O){e.next=6;break}return e.next=5,N();case 5:return e.abrupt("return");case 6:if(k||!O){e.next=9;break}return A(),e.abrupt("return");case 9:if(!j){e.next=12;break}return A(),e.abrupt("return");case 12:if(C){e.next=15;break}return A(),e.abrupt("return");case 15:h.updateState({attemptIndex:T+1});case 16:case"end":return e.stop()}}),e)}))),[E.length,O,h,N,A,k,j,C,T]),I=(0,n.useCallback)(LAe(AAe().mark((function e(){var t;return AAe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.activeElement===x.current){e.next=3;break}return e.abrupt("return");case 3:if(0!==E.length){e.next=5;break}return e.abrupt("return");case 5:if(O){e.next=9;break}return e.next=8,N();case 8:return e.abrupt("return");case 9:if(k||!O){e.next=12;break}return A(),e.abrupt("return");case 12:if(!j){e.next=16;break}if(!t){e.next=16;break}return A(),e.abrupt("return");case 16:if(C){e.next=19;break}return t&&A(),e.abrupt("return");case 19:h.updateState({attemptIndex:T+1});case 20:case"end":return e.stop()}}),e)}))),[E.length,O,h,N,A,k,j,C,T]);if((0,n.useEffect)((function(){if(d===dh.VIEW){var e=function(e){"Enter"===e.key&&I()};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}}),[I,d]),!S)return(0,Ut.jsx)("div",{children:"Block Not Found"});var R=function(){var e;return d===dh.EDIT?null:S.graded?null===(e=h.state)||void 0===e?void 0:e.feedback:null};return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)(UAe,{textAreaRef:x,grade:k?(null===(c=h.state)||void 0===c?void 0:c.grade)||null:void 0,mode:d,submitted:O&&d===dh.VIEW,text:d===dh.EDIT?S.answer:E,onTextChange:function(e){d!==dh.EDIT?h.updateState(CAe(CAe({},h.state),{},{inputValue:e})):EE(u,CAe(CAe({},S),{},{answer:e}),"answer-segment-".concat(u))},onClick:function(){}})}),k&&O&&d===dh.VIEW&&(0,Ut.jsx)("div",{children:(0,Ut.jsx)(L2,{in:!0,children:(0,Ut.jsx)("div",{className:"py-2",children:(0,Ut.jsx)(VAe,{answer:S.answer,examples:S.examples})})})}),R()&&k&&(0,Ut.jsx)(L2,{in:O,children:(0,Ut.jsx)("div",{children:(0,Ut.jsx)("div",{className:"text-xl","aria-live":"polite",role:"status",children:R()})})}),d===dh.VIEW&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{"aria-live":"assertive",className:"sr-only",children:O&&k&&(0,Ut.jsx)("div",{children:ZK(j?"Correct":"Incorrect")})}),(0,Ut.jsx)(uPe,{shouldRetry:C&&k,submitted:O,isCorrect:!k||(null==j||j),mode:d}),(0,Ut.jsxs)("div",{className:"flex h-[70px] items-center gap-2 py-4",children:[(!O||C&&!j||!k&&O)&&(0,Ut.jsxs)(dpe,{loading:v,disabled:0===E.length,onClick:M,children:[(0,Ut.jsx)(CTe,{className:"h-5 w-5 stroke-2"}),ZK(O?!k&&O?"Next":C?j?"Next":C?"Retry":"Next":"Next":"Submit")]}),f&&O&&(0,Ut.jsx)(BTe,{onClick:function(){h.updateState(CAe(CAe({},h.state),{},{submitted:!1,inputValue:""}))}})]})]})]})}function WAe(e){return WAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WAe(e)}function qAe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GAe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qAe(Object(n),!0).forEach((function(t){KAe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qAe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KAe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=WAe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WAe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==WAe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XAe(e){return XAe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XAe(e)}var YAe=["className"],ZAe=["className"],JAe=["className"],QAe=["className"],eNe=["className"],tNe=["className"];function nNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nNe(Object(n),!0).forEach((function(t){oNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oNe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=XAe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XAe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XAe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iNe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var aNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,YAe);return(0,Ut.jsx)("div",rNe({ref:t,className:vr("rounded-lg border bg-card text-card-foreground shadow-sm",n)},r))}));aNe.displayName="Card";var sNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,ZAe);return(0,Ut.jsx)("div",rNe({ref:t,className:vr("flex flex-col space-y-1.5 p-6",n)},r))}));sNe.displayName="CardHeader";var lNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,JAe);return(0,Ut.jsx)("h3",rNe({ref:t,className:vr("text-2xl font-semibold leading-none tracking-tight",n)},r))}));lNe.displayName="CardTitle";var cNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,QAe);return(0,Ut.jsx)("p",rNe({ref:t,className:vr("text-sm text-muted-foreground",n)},r))}));cNe.displayName="CardDescription";var uNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,eNe);return(0,Ut.jsx)("div",rNe({ref:t,className:vr("p-6 pt-0",n)},r))}));uNe.displayName="CardContent";var dNe=n.forwardRef((function(e,t){var n=e.className,r=iNe(e,tNe);return(0,Ut.jsx)("div",rNe({ref:t,className:vr("flex items-center p-6 pt-0",n)},r))}));dNe.displayName="CardFooter";const fNe=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}));function pNe(e){return pNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pNe(e)}function hNe(){hNe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==pNe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(pNe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function mNe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function vNe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||xNe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gNe(Object(n),!0).forEach((function(t){bNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bNe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=pNe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pNe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pNe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wNe(e){return function(e){if(Array.isArray(e))return SNe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xNe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xNe(e,t){if(e){if("string"==typeof e)return SNe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SNe(e,t):void 0}}function SNe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var kNe={droppable:{strategy:lk.Always}};function ENe(e){var t=Bk({id:"category-".concat(e.id)}),n=t.isOver,r=t.setNodeRef,o={opacity:n?.7:1};return(0,Ut.jsx)("div",{ref:r,className:"relative",style:o,children:(0,Ut.jsx)(ePe,{className:vr("flex aspect-[5/4] h-full items-center text-center"),mode:dh.EDIT,children:(0,Ut.jsx)("div",{className:vr("h-full w-full overflow-hidden overflow-ellipsis text-sm","md:text-lg"),children:null==e?void 0:e.content})})})}function ONe(e){var t,n="grade"===e.lifecycle||"disappear"===e.lifecycle,r="disappear"===e.lifecycle;return(0,Ut.jsx)(nfe.div,{animate:{x:0,y:0,scale:r?0:1,opacity:r?0:1,rotate:0},transition:{duration:.5,ease:"easeInOut"},tabIndex:-1,layoutId:e.layoutId,children:(0,Ut.jsxs)(aNe,{className:"relative flex aspect-[4/3] w-[225px] flex-col items-center justify-center border-gray-200 bg-white p-2 text-center text-black",children:[(0,Ut.jsx)("div",{className:"",children:(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(_Te,{className:"my-2 mr-2 h-5 w-5"})})}),(0,Ut.jsx)("div",{className:"flex-grow"}),(0,Ut.jsx)("div",{className:"text-base",children:null===(t=e.item)||void 0===t?void 0:t.content}),(0,Ut.jsx)("div",{className:"flex-grow"}),(0,Ut.jsx)("div",{className:" flex h-8 justify-center"}),(0,Ut.jsx)("div",{className:"absolute bottom-0 flex h-12 w-12 items-center justify-center",children:(0,Ut.jsx)(nfe.div,{animate:{x:0,y:0,scale:n?1:0,rotate:0},style:{scale:0},className:"relative scale-0",transition:{duration:.5,ease:"easeInOut"},children:(0,Ut.jsx)(GTe,{shouldShowAnswers:!0,number:1,button:!1,correct:e.correct||!1,submitted:!0,selected:!0,type:"circular"})})})]})},e.layoutId)}function jNe(e){var t=Dk({id:"choice-".concat(e.item.id)}),n=t.attributes,r=t.listeners,o=t.setNodeRef,i=t.transform,a=t.isDragging,s={transform:Gx.Translate.toString(i),opacity:a?0:1};return(0,Ut.jsx)("div",yNe(yNe(yNe({ref:o,style:s},r),n),{},{tabIndex:-1,children:(0,Ut.jsx)(ONe,{layoutId:e.layoutId,correct:e.correct,lifecycle:e.lifecycle,item:e.item})}))}function _Ne(e){var t=Bk({id:"stack-area"}),n=t.isOver,r=t.setNodeRef,o={opacity:n?.8:1},i=xh().isDarkTheme;return(0,Ut.jsx)("div",{ref:r,style:o,className:vr("absolute bottom-0 left-0 right-0 top-0 flex aspect-[4/3] w-[225px] scale-95 flex-col items-center justify-center rounded-md border border-dashed ",i?"border-white":"border-black"),children:(0,Ut.jsxs)(nfe.div,{animate:{opacity:e.completed?1:0},style:{opacity:0},className:"flex flex-col gap-4",children:[(0,Ut.jsxs)("div",{className:"font-bold",children:[e.cardsCorrect,"/",e.totalCards," ",ZK("cards correct")]}),(0,Ut.jsx)(Fr,{variant:"blend",onClick:e.onRestart,children:ZK("Retry")})]})})}var CNe=function(e){var t,r,o,i,a=e.id,s=e.mode,l=(e.printMode,e.preview,e.parentId),c=Br();s===dh.DRAG&&(s=dh.EDIT);var u=fh(a,s),d=u.data,f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[a]})),p=f.data,h=vNe((0,n.useState)(0),2),m=h[0],v=h[1];(0,n.useEffect)((function(){var e=be.getState().accumulatedTime;v(e)}),[]);var g=p.categories.map((function(e){return e.items})).flat(),y={failedAttempts:(null===(t=u.state)||void 0===t?void 0:t.failedAttempts)||[],droppedId:(null===(r=u.state)||void 0===r?void 0:r.droppedId)||null,itemIndex:(null===(o=u.state)||void 0===o?void 0:o.itemIndex)||0,lifeCycle:(null===(i=u.state)||void 0===i?void 0:i.lifeCycle)||"stack"},b=y.itemIndex,w=y.droppedId,x=y.lifeCycle,S=function(e){var t=be.getState().blockStates[a]||{};u.updateState(yNe(yNe({},t),{},{droppedId:e}))},k=function(e){var t=be.getState().blockStates[a]||{};u.updateState(yNe(yNe({},t),{},{itemIndex:e}))},E=function(e){var t=be.getState().blockStates[a]||{};u.updateState(yNe(yNe({},t),{},{lifeCycle:e}))},O=function(e){var t=be.getState().blockStates[a]||{};u.updateState(yNe(yNe({},t),{},{failedAttempts:[].concat(wNe(y.failedAttempts),[e])}))},j=function(e){return wNe(e).sort((function(e,t){var n=e.id,r=t.id;return n.localeCompare(r)}))}(g),_=j.filter((function(e){return!y.failedAttempts.find((function(t){return t.itemId===e.id}))})),C=vNe((0,n.useState)(null),2),T=C[0],P=C[1],A=j[b],N=j[b+1],M=aS(iS(tk,{activationConstraint:{distance:2}}),iS(rk,{activationConstraint:{delay:0,tolerance:10}}));if(!f)return(0,Ut.jsx)("div",{children:"Block Not Found"});var I=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){mNe(i,r,o,a,s,"next",e)}function s(e){mNe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(hNe().mark((function e(t){var n,r,o,i;return hNe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(t),e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:return E("settle"),e.next=6,new Promise((function(e){return setTimeout(e,100)}));case 6:return E("grade"),e.next=9,new Promise((function(e){return setTimeout(e,800)}));case 9:if(!(null===(n=p.categories.find((function(e){return e.id===t})))||void 0===n?void 0:n.items.includes(A))){e.next=18;break}return E("disappear"),e.next=14,new Promise((function(e){return setTimeout(e,300)}));case 14:b!==j.length-1?k(b+1):k(-1),b===j.length-1&&(r=yNe(yNe({},u.state),{},{submitted:!0}),o=be.getState().lessonContent,i=zs(o.settings),zTe({event:"answered",objectType:"assessment",objectId:u.id,parentObjectId:null!=l?l:null,accumulatedTime:be.getState().accumulatedTime,duration:be.getState().accumulatedTime-m,timestamp:(new Date).toISOString(),context:{content:f,state:r},result:{score:Cp(f,r,i,o,be.getState().blockStates)}})),e.next=23;break;case 18:return E("return"),A&&O({itemId:A.id,categoryId:t}),S(null),e.next=23,new Promise((function(e){return setTimeout(e,300)}));case 23:S(null),E("stack");case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=b===j.length-1&&"disappear"===x||-1===b;return(0,Ut.jsxs)(Ik,{collisionDetection:pS,sensors:M,measuring:kNe,onDragStart:function(e){E("drag"),P(e.active.id)},onDragEnd:function(e){P(null);e.active;var t=e.over;if(t){var n=null==t?void 0:t.id;if("stack-area"!==n){var r=n.replace("category-","");I(r)}}},autoScroll:{threshold:{x:1/0,y:.2}},accessibility:{announcements:{onDragStart:function(e){e.active;return""},onDragMove:function(e){e.active;return""},onDragOver:function(e){e.active;return""},onDragEnd:function(e){e.active;return""},onDragCancel:function(e){e.active;return""}},restoreFocus:!1},children:[s===dh.VIEW&&(0,Ut.jsx)(Jk,{children:T?(0,Ut.jsxs)("div",{className:"drag-overlay",children:[(0,Ut.jsx)(ONe,{item:A})," "]}):null}),s!==dh.EDIT&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{"aria-live":"assertive",children:R&&(0,Ut.jsxs)("div",{className:"sr-only",children:[_.length," ",c("of")," ",j.length," ",c("correct")]})}),(0,Ut.jsxs)("div",{className:"relative z-20 mb-4 flex aspect-[4/3] w-[225px] justify-center p-4",tabIndex:R?0:-1,children:[-1!==b&&[A,N].map((function(e,t){return 0===t&&w?null:e?(0,Ut.jsx)("div",{tabIndex:-1,className:NSe("absolute bottom-0 left-0 right-0 top-0 transition-all duration-300",0===t||"disappear"===x?"z-[40]":"z-10"),children:0===t?(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:(0,Ut.jsx)(jNe,{lifecycle:x,layoutId:"drag"!==x&&s===dh.VIEW?"choice-".concat(e.id):void 0,item:A})}):(0,Ut.jsx)("div",{"aria-hidden":!0,className:"absolute bottom-0 left-0 right-0 top-0 transition-all duration-300",children:(0,Ut.jsx)(ONe,{item:N})})},e.id):null})),(0,Ut.jsx)("div",{"aria-hidden":!R,tabIndex:R?0:-1,children:(0,Ut.jsx)(_Ne,{cardsCorrect:_.length,totalCards:j.length,completed:R,onRestart:function(){u.updateState(yNe(yNe({},be.getState().blockStates[a]),{},{itemIndex:0,failedAttempts:[]}))}})})]})]}),s===dh.EDIT&&(0,Ut.jsxs)(aNe,{className:"flex aspect-[4/3] w-[225px] flex-col items-center justify-center  border-gray-200 bg-white p-2 text-center text-black",children:[(0,Ut.jsx)("div",{className:"flex-grow",children:(0,Ut.jsx)("div",{className:"flex items-center",children:(0,Ut.jsx)(_Te,{className:"my-2 mr-2 h-5 w-5"})})}),(0,Ut.jsxs)("div",{children:[j.length," ",1!==j.length?c("items"):c("item")]})]}),(0,Ut.jsx)("div",{className:"h-12",children:" "}),(0,Ut.jsx)("div",{className:"flex w-full max-w-5xl flex-col",children:(0,Ut.jsx)("div",{className:"flex w-full flex-wrap justify-center gap-4 md:grid-cols-3 lg:grid-cols-4",children:p.categories.map((function(e,t){var n,r;return(0,Ut.jsxs)("button",{className:NSe("relative w-[calc(50%-8px)] cursor-default bg-transparent focus:outline focus:outline-offset-1","md:w-[250px]"),onClick:function(){I(e.id)},children:[w===e.id&&s===dh.VIEW&&A&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-20 flex items-center justify-center",children:(0,Ut.jsx)(jNe,{layoutId:"drag"!==x?"choice-".concat(A.id):"drag-settle",correct:null!==(n=null===(r=p.categories.find((function(e){return e.id===w})))||void 0===r?void 0:r.items.includes(A))&&void 0!==n&&n,lifecycle:x,item:A})}),s===dh.EDIT?(0,Ut.jsxs)(ePe,{containerClass:"h-full flex items-center",className:"flex aspect-[4/3] h-full flex-col items-center text-center",mode:dh.EDIT,children:[(0,Ut.jsx)(ASe,{className:"text-center text-lg",mode:u.mode,placeholder:c("category"),value:e.content,onChange:function(n){var r=p.categories.map((function(t){return t.id===e.id?yNe(yNe({},t),{},{content:n}):t}));EE(a,yNe(yNe({},d),{},{categories:r}),"category-text-".concat(t,"-").concat(a))}}),(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0",children:(0,Ut.jsxs)(dF,{children:[(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsxs)(Fr,{size:"sm",variant:"blend",className:"-mt-2 font-sans",onClick:function(){},children:[(0,Ut.jsx)(fNe,{className:"h-4 w-4"}),e.items.length," ",1!==e.items.length?c("items"):c("item")]})}),(0,Ut.jsxs)(pF,{align:"center",className:"flex flex-col items-stretch gap-2",side:"top",children:[e.items.map((function(n){return(0,Ut.jsxs)(aNe,{className:"flex items-center gap-2 border-gray-200 bg-white p-2 text-black",children:[(0,Ut.jsx)(ASe,{onChange:function(r){var o=p.categories.map((function(t){return t.id===e.id?yNe(yNe({},t),{},{items:t.items.map((function(e){return n.id===e.id?yNe(yNe({},n),{},{content:r}):e}))}):t}));EE(a,yNe(yNe({},d),{},{categories:o}),"sorting-item-".concat(t,"-").concat(a))},className:"text-base",mode:u.mode,placeholder:"Item",value:n.content,autoFocus:!0}),(0,Ut.jsx)(Fr,{onClick:function(){var t=p.categories.map((function(t){return t.id===e.id?yNe(yNe({},t),{},{items:t.items.filter((function(e){return n.id!==e.id}))}):t}));EE(a,yNe(yNe({},d),{},{categories:t}))},size:"smallIcon",variant:"blend",className:"-mt-2",children:(0,Ut.jsx)(LF,{className:"h-5 w-5"})})]},n.id)})),(0,Ut.jsx)("div",{className:"flex justify-center",children:(0,Ut.jsx)(Fr,{variant:"blend",onClick:function(){var t=p.categories.map((function(t){return t.id===e.id?yNe(yNe({},t),{},{items:[].concat(wNe(t.items),[{content:"",id:sd()}])}):t}));EE(a,yNe(yNe({},d),{},{categories:t}))},children:c("addItem")})})]})]})}),(0!==t||p.categories.length>1)&&(0,Ut.jsx)("div",{className:"absolute bottom-0 right-0",children:(0,Ut.jsx)(Fr,{onClick:function(){var t=p.categories.filter((function(t){return t.id!==e.id}));EE(a,yNe(yNe({},d),{},{categories:t}))},size:"smallIcon",variant:"blend",className:"-mt-2",children:(0,Ut.jsx)(LF,{className:"h-5 w-5"})})})]}):(0,Ut.jsx)(ENe,yNe({},e))]},e.id)}))})})]})};function TNe(e){return TNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TNe(e)}function PNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ANe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PNe(Object(n),!0).forEach((function(t){NNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NNe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=TNe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TNe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TNe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MNe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return INe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?INe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function INe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var RNe=function(e){var t=e.value,n=e.className,r=e.allowImages,o=void 0!==r&&r,i=e.onEditorReady,a=e.editable,s=void 0!==a&&a;return s?(0,Ut.jsx)(LNe,{value:t,className:n,allowImages:o,onEditorReady:i,editable:s}):(0,Ut.jsx)(PX,{value:t,className:n})},LNe=function(e){var t=e.value,r=e.className,o=e.allowImages,i=void 0!==o&&o,a=e.onEditorReady,s=(e.editable,[iU.configure({horizontalRule:!1,codeBlock:!1,blockquote:!1,code:{HTMLAttributes:{class:"rounded p-1"}}}),$B.configure({openOnClick:!1}),sX.configure({HTMLAttributes:{class:"text-inherit"}}),zK.configure({HTMLAttributes:{class:"mx-[.1em]",contenteditable:!1}}),YF.configure({HTMLAttributes:{class:"bg-[var(--highlight-color)] px-[.1em] mx-[.1em] text-[var(--highlight-text)]"}}),AX,dX.configure({HTMLAttributes:{class:"subscript"}}),fX.configure({HTMLAttributes:{class:"superscript"}})]);i&&s.push(uX.configure({inline:!0,HTMLAttributes:{class:"rounded p-1"}}));var l=DNe({extensions:s,editable:!1,content:t}),c=SR({extensions:s,editable:!1,content:t});return(0,n.useEffect)((function(){c&&!FV()(t,null==c?void 0:c.getJSON())&&(null==c||c.commands.setContent(t))}),[c,t]),(0,n.useEffect)((function(){c&&a&&a(c)}),[c,a]),(0,Ut.jsx)("div",{className:vr("w-full",r),children:(0,Ut.jsx)(wR,{editor:c||l})})},DNe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=MNe((0,n.useState)((function(){return new xR(t)})),2),o=r[0],i=r[1],a=(e=MNe((0,n.useState)(0),2)[1],function(){return e((function(e){return e+1}))});return(0,n.useEffect)((function(){var e=new xR(t),n=!0;return i(e),e.on("transaction",(function(){requestAnimationFrame((function(){n&&a()}))})),function(){n=!1,e.destroy()}}),[]),o};function FNe(e){return FNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FNe(e)}function zNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zNe(Object(n),!0).forEach((function(t){$Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $Ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=FNe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=FNe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==FNe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UNe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return VNe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VNe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VNe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var HNe=function(e){var t=e.cell,r=e.mode,o=e.onChange,i=e.className,a=e.onMouseEnter,s=e.onMouseLeave,l=e.style,c=e.isHeader,u=e.isEditing,d=(e.coordinates,e.onStartEditing),f=UNe((0,n.useState)(t),2),p=f[0],h=f[1],m=(0,n.useRef)(),v=(0,n.useRef)(null),g=UNe((0,n.useState)(void 0),2),y=g[0],b=g[1],w=(0,n.useRef)(null);(0,n.useEffect)((function(){h(t),v.current=null}),[t]);var x=(0,n.useCallback)((function(){v.current&&(null==o||o(v.current),v.current=null)}),[o]);(0,n.useEffect)((function(){return function(){x()}}),[x]);var S=(0,n.useCallback)((function(e){var t=BNe(BNe({},p),{},{content:e});h(t),v.current=t,m.current&&clearTimeout(m.current),m.current=setTimeout((function(){x()}),100)}),[p,x]),k=(0,n.useCallback)((function(e){if(r===dh.EDIT&&d&&w.current){var t=w.current.view,n={left:e.clientX,top:e.clientY},o=t.posAtCoords(n);if(o)b({from:o.pos});else{var i=t.state.doc.content.size;b({from:i})}d()}}),[r,d]),E=(0,n.useCallback)((function(e){w.current=e}),[]);return(0,n.useEffect)((function(){if(u){var e=document.querySelector("[contenteditable=true]");e&&e.focus()}}),[u]),p?(0,Ut.jsx)("div",{className:i,style:BNe({gridRow:"span 1",gridColumn:"span 1",height:"100%",overflow:"hidden",display:"flex",flexDirection:"column",backgroundColor:c?"var(--accent-color-10)":"transparent",fontWeight:c?600:"normal",outline:u?"2px solid var(--accent-color)":"none"},l),onMouseEnter:a,onMouseLeave:s,onClick:k,role:c?"columnheader":"cell",tabIndex:-1,"aria-selected":u,children:(0,Ut.jsxs)("div",{style:{flex:"1 1 auto",overflow:"hidden",minHeight:0,position:"relative"},children:[(0,Ut.jsx)(RNe,{value:p.content,onEditorReady:E,editable:r===dh.EDIT&&!u}),r===dh.EDIT&&u&&(0,Ut.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:(0,Ut.jsx)(GY,{value:p.content,editable:!0,onChange:S,autoFocus:!0,cursorPosition:y})})]})}):null};const WNe=(0,n.memo)(HNe),qNe=Gw("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);function GNe(e){return GNe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GNe(e)}function KNe(){KNe=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==GNe(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(GNe(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function XNe(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function YNe(e){return function(e){if(Array.isArray(e))return nMe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||tMe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZNe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JNe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZNe(Object(n),!0).forEach((function(t){QNe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZNe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QNe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=GNe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GNe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GNe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eMe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||tMe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tMe(e,t){if(e){if("string"==typeof e)return nMe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nMe(e,t):void 0}}function nMe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rMe=function(e){var t=e.reduce((function(e,t){return e+t}),0);return 0===t?e.map((function(){return 1/e.length})):e.map((function(e){return e/t}))},oMe=function(e){return e.COLUMN="column",e.ROW="row",e}({}),iMe=function(e){var t,r,o=e.id,i=e.mode,a=fh(o).data,s=(be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[o]})),eMe((0,n.useState)(null),2)),l=s[0],c=s[1],u=Sh(),d=xh(),f=a.table.cells.length,p=(null===(t=a.table.cells[0])||void 0===t?void 0:t.length)||0,h=(0,n.useRef)(null),m=eMe((0,n.useState)([]),2),v=m[0],g=m[1],y=eMe((0,n.useState)(null),2),b=y[0],w=y[1],x=eMe((0,n.useState)(null),2),S=x[0],k=x[1],E=eMe((0,n.useState)(oMe.ROW),2),O=E[0],j=E[1],_=eMe((0,n.useState)(!1),2),C=_[0],T=_[1],P=eMe((0,n.useState)(!1),2),A=P[0],N=P[1],M=eMe((0,n.useState)({x:0,y:0}),2),I=M[0],R=M[1],L=eMe((0,n.useState)(null),2),D=L[0],F=L[1],z=(0,n.useRef)({x:0,y:0}),B=(0,n.useRef)(null),$=((0,n.useRef)(),(0,n.useRef)({x:0,y:0})),U=(0,n.useRef)(0),V=(0,n.useRef)([]),H=(0,n.useRef)(null),W=D||a.table.columnWidths||Array(p).fill(1/p);(0,n.useEffect)((function(){var e,t;if((null===(e=a.table.columnWidths)||void 0===e?void 0:e.length)!==p&&(null===(t=a.table.columnWidths)||void 0===t||!t.length||a.table.columnWidths.length!==p)){var n=1/p,r=Array(p).fill(n);EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{columnWidths:r})}))}}),[p,a,o]),(0,n.useEffect)((function(){if(O!==oMe.COLUMN){var e,t=function(){for(var e=Array(f).fill(41),t=0;t<f;t++){var n,r=null===(n=h.current)||void 0===n?void 0:n.querySelector('[data-row-order="'.concat(t,'"]'));if(r){var o=r.getBoundingClientRect().height;e[t]=o}}g(e)};e=requestAnimationFrame(t);var n=new ResizeObserver((function(){e=requestAnimationFrame(t)}));return h.current&&n.observe(h.current),function(){n.disconnect(),cancelAnimationFrame(e)}}}),[a.table.cells,O,f,C]);var q=(0,n.useCallback)((function(e){C||w(e)}),[C]),G=(0,n.useCallback)((function(e){C||k(e)}),[C]),K=(0,n.useCallback)((function(){w(null),k(null)}),[]),X=function(e,t,n){var r=YNe(e),o=eMe(r.splice(t,1),1)[0];return r.splice(n,0,o),r},Y=(0,n.useCallback)((function(e){e.preventDefault();var t=b;null!==t&&(j(oMe.ROW),T(!0),z.current={x:e.clientX,y:e.clientY},B.current=t,R({x:0,y:0}),c(null))}),[b]),Z=(0,n.useCallback)((function(e){e.preventDefault();var t=S;if(null!==t){var n=YNe(W);F(n),V.current=n,j(oMe.COLUMN),T(!0),z.current={x:e.clientX,y:e.clientY},B.current=t,R({x:0,y:0}),c(null)}}),[S,W]);var J=(0,n.useCallback)((function(e){if(C){var t=e.clientX-z.current.x,n=e.clientY-z.current.y;R({x:t,y:n})}}),[C]),Q=(0,n.useCallback)((function(e,t){var n;if(null===B.current)return null;var r=(null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect().width)||0,o=B.current,i=o;if(e>0)for(var a=0,s=o+1;s<(O===oMe.ROW?f:p);s++){var l=O===oMe.ROW?v[s]:W[s]*r;e>a+l/2&&(i=s),a+=l}else if(e<0)for(var c=0,u=o-1;u>=0;u--){var d=O===oMe.ROW?v[u]:W[u]*r;Math.abs(e)>c+d/2&&(i=u),c+=d}return Math.max(0,Math.min(O===oMe.ROW?f-1:p-1,i))}),[O,f,p,W,v]);(0,n.useEffect)((function(){}),[f,p,a.table.columnWidths,C,O]);var ee=(0,n.useCallback)((function(e){var t=W.slice(0,e).reduce((function(e,t){return e+t}),0);return"".concat(100*(t+W[e]/2),"%")}),[W]),te=(0,n.useCallback)((function(e){var t;if(!C||null===B.current)return 0;var n=O===oMe.ROW?I.y:I.x,r=(null===(t=h.current)||void 0===t?void 0:t.getBoundingClientRect().width)||0,o=Q(n,0);if(null===o)return 0;if(e===B.current)return O===oMe.ROW?I.y:I.x;var i=O===oMe.ROW?v[B.current]:W[B.current]*r;if(B.current<o){if(e>B.current&&e<=o)return oMe.ROW,-i}else if(B.current>o&&e>=o&&e<B.current)return oMe.ROW,i;return 0}),[C,O,I,W,v,Q]),ne=(0,n.useCallback)((function(){var e;if(null!==B.current){var t=O===oMe.ROW?I.y:I.x,n=(null===(e=h.current)||void 0===e||e.getBoundingClientRect().width,Q(t,0));if(null===n||n===B.current)return T(!1),R({x:0,y:0}),B.current=null,w(null),k(null),F(null),j(oMe.ROW),void c(null);var r=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){XNe(i,r,o,a,s,"next",e)}function s(e){XNe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(KNe().mark((function e(){var t,r,i;return KNe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O!==oMe.ROW){e.next=7;break}return t=X(a.table.cells,B.current,n),e.next=4,EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:t})}));case 4:requestAnimationFrame((function(){g([]),T(!1),R({x:0,y:0}),B.current=null,w(null),k(null),F(null),j(oMe.ROW)})),e.next=12;break;case 7:return r=a.table.cells.map((function(e){return X(e,B.current,n)})),i=X(W,B.current,n),e.next=11,EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:r,columnWidths:i})}));case 11:requestAnimationFrame((function(){T(!1),R({x:0,y:0}),B.current=null,w(null),k(null),F(null),j(oMe.ROW)}));case 12:case"end":return e.stop()}}),e)})))();H.current=r}}),[O,I,W,a,o,Q,f]);(0,n.useEffect)((function(){if(C)return document.addEventListener("mousemove",J),document.addEventListener("mouseup",ne),function(){document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",ne),H.current&&H.current.then((function(){H.current=null}))}}),[C,J,ne]);var re=(0,n.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation();var n=YNe(W),r=n[t],i=r+n[t+1];N(!0),$.current={x:e.clientX,y:e.clientY},U.current=r,F(n),V.current=n;var s=function(e){var n,r=(null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect().width)||0,o=(e.clientX-$.current.x)/r,a=Math.max(.05,Math.min(i-.05,U.current+o)),s=YNe(V.current);s[t]=a,s[t+1]=i-a;var l=rMe(s);V.current=l,F(l)},l=function(){var e=rMe(V.current);EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{columnWidths:e})}),"column-resize"),N(!1),F(null),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",s),document.addEventListener("mouseup",l)}),[W,a,o]),oe=(0,n.useCallback)((function(e){for(var t=0,n=0;n<e;n++)t+=v[n]||41;return t}),[v]),ie=((0,n.useMemo)((function(){var e=zxe.getBlendedColor(u.accentColor,u.pageColor);return zxe.getContrastColors(e,{headerColor:u.headerColor,buttonText:d.buttonText,pageColor:u.pageColor}).textColor}),[u.accentColor,u.pageColor,u.headerColor,d.buttonText]),(0,n.useCallback)((function(e){if(!h.current)return null;var t=h.current.querySelector('[data-row-order="'.concat(e,'"]'));if(!t)return null;var n=t.getBoundingClientRect();return n.top+n.height/2}),[])),ae=(0,n.useCallback)((function(e){if(i===dh.EDIT&&("Tab"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key)){if(!l)return void c({row:0,col:0});var t=l.row,n=l.col,r=t,o=n;switch(e.key){case"Tab":e.shiftKey?n>0?(e.preventDefault(),o=n-1):t>0&&(e.preventDefault(),r=t-1,o=p-1):n<p-1?(e.preventDefault(),o=n+1):t<f-1&&(e.preventDefault(),r=t+1,o=0);break;case"ArrowUp":e.preventDefault(),r=t>0?t-1:f-1;break;case"ArrowDown":e.preventDefault(),r=t<f-1?t+1:0}r===t&&o===n||c({row:r,col:o})}}),[l,i,f,p]);(0,n.useEffect)((function(){if(i===dh.EDIT)return document.addEventListener("keydown",ae,!0),function(){document.removeEventListener("keydown",ae,!0)}}),[ae,i]);var se,le=function(e,t,n){var r=t===p-1,s=e===f-1,d=0===e&&a.table.hasHeaderRow||0===t&&a.table.hasHeaderColumn,h=(null==l?void 0:l.row)===e&&(null==l?void 0:l.col)===t,m=C&&O===oMe.ROW&&e===B.current,g=C&&O===oMe.COLUMN&&t===B.current,y=d?"".concat(u.accentColor,"20"):"transparent";return(0,Ut.jsxs)("div",{className:"relative","data-row-order":e,style:{width:O===oMe.ROW?"".concat(100*W[t],"%"):"100%",height:O===oMe.ROW?"auto":"".concat(v[e]||41,"px"),overflow:"hidden"},children:[(0,Ut.jsx)(WNe,{cell:n,mode:i,onChange:function(n){return function(e,t,n){var r=YNe(a.table.cells);r[e]=YNe(r[e]),r[e][t]=n,EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:r})}),"cell-content-".concat(e,"-").concat(t))}(e,t,n)},className:vr("h-full p-2",!r&&"border-r-[1.5px]",!s&&"border-b-[1.5px]",m&&"border-t-[1.5px]",g&&"border-l-[1.5px]",A&&"select-none"),style:{color:u.bodyColor,borderColor:"".concat(u.accentColor).concat("80"),backgroundColor:y,"--header-color":u.bodyColor,"--body-color":u.bodyColor,"--text-color":u.bodyColor,"--placeholder-color":"".concat(u.bodyColor,"80"),"--accent-color-10":"".concat(u.accentColor,"10"),overflow:"hidden"},onMouseEnter:function(){q(e),G(t)},isHeader:d,isEditing:h,coordinates:{row:e,col:t},onStartEditing:function(){return c({row:e,col:t})}}),t<p-1&&i===dh.EDIT&&(0,Ut.jsx)("div",{className:"absolute right-0 top-0 z-30 h-full w-1 cursor-col-resize transition-colors",onMouseEnter:function(e){e.currentTarget.style.backgroundColor="".concat(u.accentColor,"40")},onMouseLeave:function(e){e.currentTarget.style.backgroundColor="transparent"},onMouseDown:function(e){return re(e,t)}})]},"".concat(e,"-").concat(t))},ce=(0,n.useCallback)((function(e){var t=a.table.cells.filter((function(t,n){return n!==e}));EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:t})}))}),[a,o]),ue=(0,n.useCallback)((function(e){var t=a.table.cells.map((function(t){return t.filter((function(t,n){return n!==e}))})),n=W.filter((function(t,n){return n!==e})),r=rMe(n);EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:t,columnWidths:r})}))}),[a,o,W]),de=(0,n.useCallback)((function(){var e=YNe(a.table.cells),t=Array(p).fill({content:""});e.push(t),EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:e})}))}),[a,p,o]),fe=(0,n.useCallback)((function(){var e=a.table.cells.map((function(e){return[].concat(YNe(e),[{content:""}])})),t=[].concat(YNe(W),[1/(p+1)]),n=rMe(t);EE(o,JNe(JNe({},a),{},{table:JNe(JNe({},a.table),{},{cells:e,columnWidths:n})}))}),[a,W,p,o]);return(0,n.useEffect)((function(){var e=function(e){h.current&&!h.current.contains(e.target)&&c(null)},t=function(){w(null),k(null)};return document.addEventListener("mousedown",e),window.addEventListener("scroll",t,!0),function(){document.removeEventListener("mousedown",e),window.removeEventListener("scroll",t,!0)}}),[]),(0,Ut.jsx)("div",{className:"flex h-full w-full items-center p-4",children:(0,Ut.jsx)("div",{className:"relative w-full",onMouseLeave:K,children:(0,Ut.jsxs)("div",{className:"".concat(i!==dh.EDIT?"overflow-x-auto":""),children:[i===dh.EDIT&&(null!==b&&!C&&b!==f||C&&O===oMe.ROW&&null!==B.current)&&h.current&&(0,Zr.createPortal)((0,Ut.jsxs)("div",{className:vr("fixed z-[100000] flex items-center",(v[null!=b?b:0]||41)>60?"flex-col gap-0.5":"gap-1"),style:{top:"".concat(C?z.current.y+I.y:ie(b),"px"),left:"".concat(h.current.getBoundingClientRect().left-((v[null!=b?b:0]||41)>60?16:45),"px"),pointerEvents:C?"none":"auto",transform:"translateY(-50%)"},children:[(0,Ut.jsx)("button",{className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded border-2 text-base font-normal leading-none shadow-sm hover:bg-opacity-80",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:u.accentColor},onClick:function(e){e.stopPropagation(),C||null===b||ce(b)},children:(0,Ut.jsx)(LF,{className:"h-4 w-4"})}),(0,Ut.jsx)("div",{className:"flex h-6 w-6 cursor-move items-center justify-center rounded border-2 shadow-sm",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:u.accentColor},onMouseDown:Y,children:(0,Ut.jsx)(qNe,{className:"h-4 w-4"})})]}),document.body),(0,Ut.jsx)("div",{className:"absolute -left-5 top-0 h-full w-5",children:Array.from({length:f}).map((function(e,t){var n=oe(t),r=v[t]||41,o=C?te(t):0;return(0,Ut.jsx)("div",{className:"absolute w-full cursor-pointer",style:{top:"".concat(n,"px"),height:"".concat(r,"px"),transform:o?"translateY(".concat(o,"px)"):void 0,transition:C?"none":void 0},onMouseEnter:function(){return q(t)}},"row-hover-".concat(t))}))}),(0,Ut.jsx)("div",{className:"absolute -top-4 left-0 h-4 w-full",children:Array.from({length:p}).map((function(e,t){return(0,Ut.jsx)("div",{className:"absolute h-full cursor-pointer",style:{left:"".concat(100*W.slice(0,t).reduce((function(e,t){return e+t}),0),"%"),width:"".concat(100*W[t],"%")},onMouseEnter:function(){return G(t)}},"col-hover-".concat(t))}))}),i===dh.EDIT&&(null!==S&&!C||C&&O===oMe.COLUMN&&null!==B.current)&&h.current&&(0,Zr.createPortal)((0,Ut.jsxs)("div",{className:"fixed z-[100000] flex flex-row items-center gap-1",style:{top:"".concat(h.current.getBoundingClientRect().top-14,"px"),left:"".concat(h.current.getBoundingClientRect().left+parseFloat(ee(C?null!==(r=B.current)&&void 0!==r?r:0:null!=S?S:0))*h.current.getBoundingClientRect().width/100+(C?I.x:te(null!=S?S:0)),"px"),transform:"translateX(-50%)",pointerEvents:C?"none":"auto"},children:[(0,Ut.jsx)("button",{className:"flex h-6 w-6 cursor-pointer items-center justify-center rounded border-2 text-base font-normal leading-none shadow-sm hover:bg-opacity-80",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:u.accentColor},onClick:function(e){e.stopPropagation(),null!==S&&ue(S)},children:(0,Ut.jsx)(LF,{className:"h-4 w-4"})}),(0,Ut.jsx)("div",{className:"flex h-6 w-6 cursor-move items-center justify-center rounded border-2 shadow-sm",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:u.accentColor},onMouseDown:Z,children:(0,Ut.jsx)(qNe,{className:"h-4 w-4 rotate-90"})})]}),document.body),(0,Ut.jsxs)("div",{className:"relative h-full min-w-[600px] sm:w-full md:min-w-0",ref:h,children:[(0,Ut.jsx)("div",{className:vr("relative z-10 flex border-collapse flex-col overflow-hidden border-[1.5px]",C&&"shadow-lg",i!==dh.EDIT||b!==f&&b!==f-1&&S!==p&&S!==p-1?"rounded-lg":"rounded-tl-lg",O===oMe.ROW?"visible":"invisible"),style:{backgroundColor:"transparent",borderColor:"".concat(u.accentColor,"80")},children:a.table.cells.map((function(e,t){var n=te(t);return(0,Ut.jsx)("div",{"data-row-order":t,className:vr("relative table-row",C&&t===B.current&&"shadow-lg"),style:{transform:n?"translateY(".concat(n,"px)"):"none",transition:C&&t===B.current?"none":void 0,zIndex:C&&t===B.current?20:10,height:"auto",display:"flex",overflow:"hidden"},children:e.map((function(e,n){return le(t,n,e)}))},"row-".concat(t))}))}),(0,Ut.jsx)("div",{className:"absolute inset-0 z-0",children:(se=Array.from({length:p},(function(e,t){return a.table.cells.map((function(e){return e[t]}))})),(0,Ut.jsx)("div",{role:"table","aria-label":"Table content","aria-rowcount":f,"aria-colcount":p,className:vr("relative z-0 flex border-collapse flex-col overflow-hidden border-[1.5px]",C&&"shadow-lg",i!==dh.EDIT||b!==f&&b!==f-1&&S!==p&&S!==p-1?"rounded-lg":"rounded-tl-lg",O===oMe.COLUMN?"visible":"invisible"),style:{backgroundColor:"transparent",color:u.bodyColor,flexDirection:"row",borderColor:"".concat(u.accentColor,"80")},children:se.map((function(e,t){var n=te(t),r=0===t&&a.table.hasHeaderColumn;return(0,Ut.jsx)("div",{role:"rowgroup","aria-label":r?"Header column":"Column ".concat(t+1),className:vr("relative",C&&t===B.current&&"shadow-lg"),style:{transform:n?"translateX(".concat(n,"px)"):"none",transition:C&&t===B.current?"none":void 0,zIndex:C&&t===B.current?20:10,width:"".concat(100*W[t],"%")},children:e.map((function(e,n){var o=0===n&&a.table.hasHeaderRow||r?"columnheader":"cell";return(0,Ut.jsx)("div",{role:o,"aria-rowindex":n+1,"aria-colindex":t+1,className:"relative",style:{width:"100%",height:"".concat(v[n]||41,"px"),overflow:"hidden"},children:le(n,t,e)},"".concat(n,"-").concat(t))}))},"col-".concat(t))}))}))}),i===dh.EDIT&&(0,Ut.jsx)("div",{className:"group absolute -right-8 top-0 h-full w-8",onMouseEnter:function(){return k(p)},onMouseLeave:function(){return k(null)},children:(S===p||S===p-1)&&(0,Ut.jsx)("button",{className:"absolute -left-[1.5px] top-0 flex h-full w-4 items-center justify-center rounded-br-lg rounded-tr-lg border-[1.5px] text-base font-normal leading-none shadow-sm hover:bg-opacity-80",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:"".concat(u.accentColor,"80")},onClick:fe,children:(0,Ut.jsx)("span",{className:"text-xl",children:"+"})})}),i===dh.EDIT&&(0,Ut.jsx)("div",{className:"group absolute -bottom-8 left-0 h-8 w-full",onMouseEnter:function(){return w(f)},onMouseLeave:function(){return w(null)},children:(b===f||b===f-1)&&(0,Ut.jsx)("button",{className:"absolute -top-[1.5px] left-0 flex h-4 w-full items-center justify-center rounded-bl-lg rounded-br-lg border-[1.5px] text-base font-normal leading-none shadow-sm hover:bg-opacity-80",style:{backgroundColor:u.pageColor,color:u.accentColor,borderColor:"".concat(u.accentColor,"80")},onClick:de,children:(0,Ut.jsx)("span",{className:"text-xl",children:"+"})})})]})]})})})};function aMe(e){return aMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aMe(e)}function sMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lMe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sMe(Object(n),!0).forEach((function(t){cMe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cMe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=aMe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aMe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aMe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uMe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dMe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dMe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dMe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var fMe=function(e){var t=e.direction,n=e.onClick,r=e.visible,o="left"===t?QSe:eke;return(0,Ut.jsx)("button",{onClick:n,className:vr("absolute bottom-0 top-0 z-10 flex w-6 items-center justify-center bg-lesson-pageColor transition-opacity duration-200","left"===t?"left-0 rounded-tl-xl":"right-0 rounded-tr-xl",r?"opacity-100":"pointer-events-none opacity-0","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2"),"aria-label":"Scroll ".concat(t),"aria-hidden":!r,children:(0,Ut.jsx)(o,{className:"h-4 w-4 text-gray-500"})})},pMe=function(e){var t=e.id,r=e.mode,o=e.printMode,i=e.parentId,a=Br(),s=uMe((0,n.useState)(0),2),l=s[0],c=s[1],u=(0,n.useRef)(null),d=(0,n.useRef)(null),f=(0,n.useRef)(null),p=(0,n.useRef)([]),h=uMe((0,n.useState)(!1),2),m=h[0],v=h[1],g=uMe((0,n.useState)(!1),2),y=g[0],b=g[1],w=uMe((0,n.useState)(!1),2),x=(w[0],w[1]),S=uMe((0,n.useState)([]),2),k=(S[0],S[1]),E=uMe((0,n.useState)(0),2),O=E[0],j=E[1],_=fh(t,r),C=(be((function(e){var n;return null===(n=e.lessonContent)||void 0===n?void 0:n.blocks[t]})),_.data),T=xh(),P=T.elementColor,A=T.buttonColor,N=T.buttonText,M=T.isDarkTheme,I=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n||null===(n=n.blocks[t])||void 0===n?void 0:n.narration})),R=Gpe(i).narrations,L=be((function(e){return e.currentNarrationIndex}));(0,n.useEffect)((function(){var e=be.getState().blockStates[t];uh(_.id,lMe(lMe({},e),{},{itemsCompleted:lMe(lMe({},null==e?void 0:e.itemsCompleted),{},cMe({},O,!0))}))}),[]);var D=function(){var e=d.current;if(e){var t=e.scrollWidth>e.clientWidth;v(t&&e.scrollLeft>1),b(t&&Math.abs(e.scrollLeft-(e.scrollWidth-e.clientWidth))>1)}};(0,n.useEffect)((function(){var e=d.current;if(e){D();var t=new ResizeObserver(D);return t.observe(e),e.addEventListener("scroll",D),f.current&&t.observe(f.current),function(){t.disconnect(),e.removeEventListener("scroll",D)}}}),[C.items.length]),(0,n.useEffect)((function(){D()}),[C.items.map((function(e){return e.label})).join(",")]);var F=function(e){var t=d.current;if(t){var n=t.scrollLeft+("left"===e?-200:200);t.scrollTo({left:n,behavior:r===dh.THUMBNAIL?"auto":"smooth"})}},z=(jE(P,.1),jhe(r)),B=r===dh.VIEW;(0,n.useEffect)((function(){var e,t=null===(e=u.current)||void 0===e?void 0:e.querySelector('[data-state="active"]');if(t&&r!==dh.THUMBNAIL){var n=new MutationObserver((function(){r!==dh.THUMBNAIL&&(x(!1),requestAnimationFrame((function(){var e,t=null===(e=u.current)||void 0===e?void 0:e.querySelector('[data-state="active"]');if(t){var n=t.getBoundingClientRect().height;c(n),requestAnimationFrame((function(){x(!0)}))}})))}));return n.observe(t,{childList:!0,subtree:!0,characterData:!0}),function(){n.disconnect()}}}),[r,O]);var $=(0,n.useCallback)((function(){var e=p.current.map((function(e){if(!e)return 20;var t=e.querySelector(".invisible");return t?t.getBoundingClientRect().width:20}));k(e),requestAnimationFrame(D)}),[]);return(0,n.useEffect)((function(){$();var e=new ResizeObserver($);return p.current.forEach((function(t){t&&e.observe(t)})),f.current&&e.observe(f.current),function(){return e.disconnect()}}),[C.items.length,$]),o?(0,Ut.jsx)(hMe,{id:t,mode:dh.PRINT}):(0,Ut.jsx)("div",{ref:f,className:"w-full rounded-xl border border-lesson-elementColor/20 bg-lesson-elementColor/10",children:(0,Ut.jsxs)(Bfe,{value:O.toString(),onValueChange:function(e){return function(e){x(!1),j(e);var n=be.getState().blockStates[t];uh(_.id,lMe(lMe({},n),{},{itemsCompleted:lMe(lMe({},null==n?void 0:n.itemsCompleted),{},cMe({},e,!0))}));var o=C.items[e];o&&r===dh.VIEW&&wpe({tileNarration:I,itemId:o.id,pageNarrations:R}),setTimeout((function(){x(!0)}),10),setTimeout((function(){var e=d.current,t=null==e?void 0:e.querySelector('[data-state="active"]');if(t&&e){var n=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=e.scrollLeft,a=t.offsetLeft>i,s=t.offsetLeft-(n.width-o.width)/2+(a?100:-100),l=e.scrollWidth-e.clientWidth,c=Math.max(0,Math.min(s,l));e.scrollTo({left:c,behavior:r===dh.THUMBNAIL?"auto":"smooth"})}}),0)}(parseInt(e))},children:[(0,Ut.jsxs)("div",{className:"relative w-full",children:[(0,Ut.jsx)(fMe,{direction:"left",onClick:function(){return F("left")},visible:m}),(0,Ut.jsx)(fMe,{direction:"right",onClick:function(){return F("right")},visible:y}),(0,Ut.jsx)("div",{ref:d,className:"overflow-x-auto [-ms-overflow-style:none] [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:(0,Ut.jsx)($fe,{className:"flex h-[60px] w-full whitespace-nowrap","aria-label":"Tabs navigation",children:C.items.map((function(e,n){var o,i,s,l=0===n||(null===(o=be.getState().blockStates[t])||void 0===o||null===(o=o.itemsCompleted)||void 0===o?void 0:o[n]),c=(i=n,s=C.items[i],Spe({pageNarrations:R,tileNarration:I,itemId:s.id,currentNarrationIndex:L}));return(0,Ut.jsxs)(Ufe,{value:n.toString(),className:vr("relative flex-1 bg-transparent text-center text-lesson-headerColor","border-b-2 border-transparent data-[state=active]:border-lesson-elementColor data-[state=active]:font-medium data-[state=active]:text-lesson-headerColor","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",pSe(r)),children:[r===dh.VIEW&&c&&(0,Ut.jsx)("div",{className:"absolute left-2 top-2 z-20",children:(0,Ut.jsx)(ife,{showPulse:!1})}),(0,Ut.jsxs)("div",{ref:function(e){return p.current[n]=e},className:"flex items-center px-4 py-2",children:[(0,Ut.jsx)("div",{className:"relative flex-none",children:!l&&B&&(0,Ut.jsx)("div",{className:"absolute left-0 top-1/2 flex -translate-y-1/2 items-center justify-center",children:(0,Ut.jsx)(ofe,{buttonColor:A,buttonText:N,isDarkMode:M})})}),(0,Ut.jsxs)("div",{className:"inline-block",children:[(0,Ut.jsx)("div",{className:"invisible min-h-[1.5em] whitespace-nowrap text-[1.25em]",children:e.label||" "}),(0,Ut.jsx)("div",{className:"absolute inset-0 flex min-h-[1.5em] items-center justify-center",children:(0,Ut.jsx)(ASe,{onChange:function(e){EE(t,lMe(lMe({},C),{},{items:C.items.map((function(t,r){return r===n?lMe(lMe({},t),{},{label:e}):t}))}),"tab-label-".concat(t,"-").concat(n))},className:"w-full text-center text-[1.25em] leading-[1.5em]",placeholder:a("label"),mode:r,value:e.label,style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})})]})]})]},e.id)}))})})]}),(0,Ut.jsx)("div",{className:vr("relative overflow-hidden",r!==dh.THUMBNAIL&&"transition-[height] duration-200 ease-in-out"),style:{height:r===dh.THUMBNAIL?"auto":l?"".concat(l,"px"):"auto"},children:(0,Ut.jsx)("div",{ref:u,className:"relative",children:C.items.map((function(e,n){return(0,Ut.jsx)(Vfe,{value:n.toString(),className:vr("w-full p-4",o&&"data-[state=inactive]:block","data-[state=active]:block data-[state=inactive]:hidden"),children:(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)(GY,{onChange:function(e){EE(t,lMe(lMe({},C),{},{items:C.items.map((function(t,r){return r===n?lMe(lMe({},t),{},{content:e}):t}))}),"tab-content-".concat(t,"-").concat(n))},className:"w-full break-words ".concat(pSe(r)),placeholder:a("tabContent"),editable:r===dh.EDIT,value:e.content||""}),(0,Ut.jsx)(MPe,{media:e.media,mode:r,maxWidth:z,alignment:"center"})]})},e.id)}))})})]})})};function hMe(e){var t=e.id,n=e.mode,r=Br(),o=fh(t,n).data,i=jhe(n);return(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)("div",{className:"flex flex-col gap-4",children:o.items.map((function(e,a){return(0,Ut.jsx)("div",{className:"w-full rounded-xl border border-lesson-elementColor/20 bg-lesson-elementColor/10",children:(0,Ut.jsxs)(Bfe,{value:e.label,children:[(0,Ut.jsx)($fe,{className:"flex h-[60px] w-full",children:o.items.map((function(e,t){return(0,Ut.jsx)(Ufe,{value:e.label,className:vr("relative flex-1 border-b-2 bg-transparent px-4 py-2 text-center text-lesson-headerColor",t===a?"border-lesson-elementColor font-medium":"border-transparent"),children:(0,Ut.jsx)(ASe,{onChange:function(){},className:"w-full text-center text-[1.25em] leading-[1.5em]",placeholder:r("label"),mode:dh.VIEW,value:e.label})},e.id)}))}),(0,Ut.jsx)(Vfe,{value:e.label,className:"w-full p-4",children:(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)(GY,{onChange:function(e){EE(t,lMe(lMe({},o),{},{items:o.items.map((function(t,n){return n===a?lMe(lMe({},t),{},{content:e}):t}))}),"tab-content-".concat(t,"-").concat(a))},className:"w-full break-words ".concat(pSe(n)),placeholder:r("tabContent"),editable:n===dh.EDIT,value:e.content||""}),(0,Ut.jsx)(MPe,{media:e.media,mode:n,maxWidth:i,alignment:"center"})]})})]})},e.id)}))})})}function mMe(e){return mMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mMe(e)}function vMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gMe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vMe(Object(n),!0).forEach((function(t){yMe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yMe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=mMe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mMe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==mMe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bMe=function(e){return function(e){var t=e.match(/[\d.]+/g);return!t||t.length<3?0:(299*parseInt(t[0])+587*parseInt(t[1])+114*parseInt(t[2]))/1e3}(e)>128};function wMe(e){return wMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wMe(e)}function xMe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||jMe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kMe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SMe(Object(n),!0).forEach((function(t){EMe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function EMe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=wMe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wMe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wMe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OMe(e){return function(e){if(Array.isArray(e))return _Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||jMe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jMe(e,t){if(e){if("string"==typeof e)return _Me(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_Me(e,t):void 0}}function _Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var CMe=function(e){var t,r=e.id,o=e.eventIndex,i=e.alignment,a=e.dotRef,s=e.cyclical,l=e.mode,c=(Br(),Br()),u=null===(t=Eme(r))||void 0===t?void 0:t.data,d=null==u?void 0:u.events[o],f="end"===i,p="center"===(null==u?void 0:u.alignment),h=(xh().elementColor,null==u?void 0:u.showDates);null!=d&&d.date&&0===(null==d?void 0:d.date.length)&&l===dh.VIEW&&(h=!1);var m=be((function(e){return e.selectedTileId===r})),v=function(e,t){if(u&&d){var n=OMe(u.events);n[o]=kMe(kMe({},d),{},EMe({},e,t)),EE(r,kMe(kMe({},u),{},{events:n}),"timeline-".concat(e,"-").concat(r,"-").concat(o))}},g=jhe(l),y=xMe((0,n.useState)(!1),2),b=y[0],w=y[1];return(0,Ut.jsx)("div",{className:"flex w-full",onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:(0,Ut.jsxs)("div",{className:"w-[95%] ".concat(p?f?"-ml-3 -translate-x-full":"ml-6 ":f?"ml-auto ".concat(s?"mr-7":"mr-4"):"ml-6"),children:[(0,Ut.jsx)("div",{ref:a,className:"relative ".concat(f?"left-[calc(100%+6px)]":"-left-[30px]"," group h-5 w-5 rounded-full border-2 border-lesson-buttonColor bg-lesson-pageColor"),children:l===dh.EDIT&&m&&(0,Ut.jsx)("div",{className:vr("absolute z-10 -translate-x-1/2 -translate-y-1/2 transition-opacity",b?"opacity-100":"opacity-0","left-1/2 top-1/2"),children:(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",className:"h-5 w-5 p-0.5",children:(0,Ut.jsx)(OE,{className:"h-4 w-4"})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:function(){return MSe(r,[{id:d.id,value:"timeline-event"}])},children:c("options")}),(0,Ut.jsx)(wx,{variant:"destructive",onClick:function(){if(u){var e=u.events.filter((function(e){return e.id!==d.id}));EE(r,kMe(kMe({},u),{},{events:e}),"delete-timeline-event")}},children:c("delete")})]})]})})}),(0,Ut.jsxs)("div",{className:"relative flex flex-col gap-1 ".concat(f?"text-right ".concat(s?"mr-5":""):""," ").concat(l===dh.EDIT||null!=d&&d.date?"-mt-5":""),children:[(0,Ut.jsx)("div",{className:vr("text-md font-semibold [&_:not(mark)]:!text-lesson-buttonColor",h?"block":"hidden"),children:(0,Ut.jsx)(ASe,{value:(null==d?void 0:d.date)||"",onChange:function(e){return v("date",e)},placeholder:c("title"),className:"".concat(f?"text-right":"text-left"),mode:l})}),(0,Ut.jsxs)("div",{className:vr("[&_:not(mark)]:!text-lesson-headerColor",l===dh.EDIT||null!=d&&d.date?"":"-mt-6"),children:[(0,Ut.jsx)(GY,{value:(null==d?void 0:d.content)||"",onChange:function(e){return v("content",e)},editable:l===dh.EDIT,className:vr("custom-text",pSe(l)),showOnlyCurrent:!1}),(0,Ut.jsx)(MPe,{media:d.media,mode:l,maxWidth:g,maxHeight:.33*g,alignment:f?"end":"start"})]})]})]})})};function TMe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return PMe(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?PMe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PMe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const AMe=Gw("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function NMe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MMe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NMe(Object(n),!0).forEach((function(t){IMe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NMe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IMe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=RMe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RMe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RMe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RMe(e){return RMe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RMe(e)}var LMe=o(5015),DMe=o.n(LMe),FMe=o(1741),zMe=o.n(FMe),BMe=o(8156),$Me=o.n(BMe),UMe=o(8023),VMe=o.n(UMe),HMe=function(e){return 0===e?0:e>0?1:-1},WMe=function(e){return DMe()(e)&&e.indexOf("%")===e.length-1},qMe=function(e){return VMe()(e)&&!zMe()(e)},GMe=function(e){return qMe(e)||DMe()(e)},KMe=0,XMe=function(e){var t=++KMe;return"".concat(e||"").concat(t)},YMe=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!qMe(e)&&!DMe()(e))return r;if(WMe(e)){var i=e.indexOf("%");n=t*parseFloat(e.slice(0,i))/100}else n=+e;return zMe()(n)&&(n=r),o&&n>t&&(n=t),n},ZMe=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},JMe=function(e,t){return qMe(e)&&qMe(t)?function(n){return e+n*(t-e)}:function(){return t}};function QMe(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):$Me()(e,t))===n})):null}var eIe=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o]},tIe=o(9843),nIe=o.n(tIe),rIe=o(1882),oIe=o.n(rIe),iIe=o(3805),aIe=o.n(iIe),sIe=o(4363);function lIe(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function cIe(e){return cIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cIe(e)}var uIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],dIe=["points","pathLength"],fIe={svg:["viewBox","children"],polygon:dIe,polyline:dIe},pIe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],hIe=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,n.isValidElement)(e)&&(r=e.props),!aIe()(r))return null;var o={};return Object.keys(r).forEach((function(e){pIe.includes(e)&&(o[e]=t||function(t){return r[e](r,t)})})),o},mIe=function(e,t,n){if(!aIe()(e)||"object"!==cIe(e))return null;var r=null;return Object.keys(e).forEach((function(o){var i=e[o];pIe.includes(o)&&"function"==typeof i&&(r||(r={}),r[o]=function(e,t,n){return function(r){return e(t,n,r),null}}(i,t,n))})),r},vIe=["children"],gIe=["children"];function yIe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bIe(e){return bIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bIe(e)}var wIe={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xIe=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},SIe=null,kIe=null,EIe=function e(t){if(t===SIe&&Array.isArray(kIe))return kIe;var r=[];return n.Children.forEach(t,(function(t){nIe()(t)||((0,sIe.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),kIe=r,SIe=t,r};function OIe(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return xIe(e)})):[xIe(t)],EIe(e).forEach((function(e){var t=$Me()(e,"type.displayName")||$Me()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function jIe(e,t){var n=OIe(e,t);return n&&n[0]}var _Ie=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!qMe(n)||n<=0||!qMe(r)||r<=0)},CIe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],TIe=function(e){return e&&e.type&&DMe()(e.type)&&CIe.indexOf(e.type)>=0},PIe=function(e){return e&&"object"===bIe(e)&&"clipDot"in e},AIe=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var o=e;if((0,n.isValidElement)(e)&&(o=e.props),!aIe()(o))return null;var i={};return Object.keys(o).forEach((function(e){var n;(function(e,t,n,r){var o,i=null!==(o=null==fIe?void 0:fIe[r])&&void 0!==o?o:[];return!oIe()(e)&&(r&&i.includes(t)||uIe.includes(t))||n&&pIe.includes(t)})(null===(n=o)||void 0===n?void 0:n[e],e,t,r)&&(i[e]=o[e])})),i},NIe=function e(t,r){if(t===r)return!0;var o=n.Children.count(t);if(o!==n.Children.count(r))return!1;if(0===o)return!0;if(1===o)return MIe(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<o;i++){var a=t[i],s=r[i];if(Array.isArray(a)||Array.isArray(s)){if(!e(a,s))return!1}else if(!MIe(a,s))return!1}return!0},MIe=function(e,t){if(nIe()(e)&&nIe()(t))return!0;if(!nIe()(e)&&!nIe()(t)){var n=e.props||{},r=n.children,o=yIe(n,vIe),i=t.props||{},a=i.children,s=yIe(i,gIe);return r&&a?lIe(o,s)&&NIe(r,a):!r&&!a&&lIe(o,s)}return!1},IIe=function(e,t){var n=[],r={};return EIe(e).forEach((function(e,o){if(TIe(e))n.push(e);else if(e){var i=xIe(e.type),a=t[i]||{},s=a.handler,l=a.once;if(s&&(!l||!r[i])){var c=s(e,i,o);n.push(c),r[i]=!0}}})),n};function RIe(e){return RIe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RIe(e)}function LIe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DIe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LIe(Object(n),!0).forEach((function(t){FIe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LIe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FIe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RIe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RIe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RIe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zIe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return BIe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BIe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BIe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $Ie=(0,n.forwardRef)((function(e,t){var r=e.aspect,o=e.initialDimension,i=void 0===o?{width:-1,height:-1}:o,a=e.width,s=void 0===a?"100%":a,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,f=e.minHeight,p=e.maxHeight,h=e.children,m=e.debounce,v=void 0===m?0:m,g=e.id,y=e.className,b=e.onResize,w=e.style,x=void 0===w?{}:w,S=(0,n.useRef)(null),k=(0,n.useRef)();k.current=b,(0,n.useImperativeHandle)(t,(function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})}));var E=zIe((0,n.useState)({containerWidth:i.width,containerHeight:i.height}),2),O=E[0],j=E[1],_=(0,n.useCallback)((function(e,t){j((function(n){var r=Math.round(e),o=Math.round(t);return n.containerWidth===r&&n.containerHeight===o?n:{containerWidth:r,containerHeight:o}}))}),[]);(0,n.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,o=n.height;_(r,o),null===(t=k.current)||void 0===t||t.call(k,r,o)};v>0&&(e=Eh()(e,v,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=S.current.getBoundingClientRect(),r=n.width,o=n.height;return _(r,o),t.observe(S.current),function(){t.disconnect()}}),[_,v]);var C=(0,n.useMemo)((function(){var e=O.containerWidth,t=O.containerHeight;if(e<0||t<0)return null;eIe(WMe(s)||WMe(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),eIe(!r||r>0,"The aspect(%s) must be greater than zero.",r);var o=WMe(s)?e:s,i=WMe(c)?t:c;r&&r>0&&(o?i=o/r:i&&(o=i*r),p&&i>p&&(i=p)),eIe(o>0||i>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",o,i,s,c,d,f,r);var a=!Array.isArray(h)&&xIe(h.type).endsWith("Chart");return n.Children.map(h,(function(e){return n.isValidElement(e)?(0,n.cloneElement)(e,DIe({width:o,height:i},a?{style:DIe({height:"100%",width:"100%",maxHeight:i,maxWidth:o},e.props.style)}:{})):e}))}),[r,h,c,p,f,d,O,s]);return n.createElement("div",{id:g?"".concat(g):void 0,className:je("recharts-responsive-container",y),style:DIe(DIe({},x),{},{width:s,height:c,minWidth:d,minHeight:f,maxHeight:p}),ref:S},C)})),UIe=o(3181),VIe=o.n(UIe),HIe=o(3031),WIe=o.n(HIe),qIe="Invariant failed";function GIe(e,t){if(!e)throw new Error(qIe)}var KIe=["children","width","height","viewBox","className","style","title","desc"];function XIe(){return XIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XIe.apply(this,arguments)}function YIe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ZIe(e){var t=e.children,r=e.width,o=e.height,i=e.viewBox,a=e.className,s=e.style,l=e.title,c=e.desc,u=YIe(e,KIe),d=i||{width:r,height:o,x:0,y:0},f=je("recharts-surface",a);return n.createElement("svg",XIe({},AIe(u,!0,"svg"),{className:f,width:r,height:o,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),n.createElement("title",null,l),n.createElement("desc",null,c),t)}var JIe=["children","className"];function QIe(){return QIe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QIe.apply(this,arguments)}function eRe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var tRe=n.forwardRef((function(e,t){var r=e.children,o=e.className,i=eRe(e,JIe),a=je("recharts-layer",o);return n.createElement("g",QIe({className:a},AIe(i,!0),{ref:t}),r)}));function nRe(e){return nRe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nRe(e)}function rRe(){return rRe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rRe.apply(this,arguments)}function oRe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return iRe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iRe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iRe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aRe(Object(n),!0).forEach((function(t){lRe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lRe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=nRe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nRe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nRe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cRe(e){return Array.isArray(e)&&GMe(e[0])&&GMe(e[1])?e.join(" ~ "):e}var uRe=function(e){var t=e.separator,r=void 0===t?" : ":t,o=e.contentStyle,i=void 0===o?{}:o,a=e.itemStyle,s=void 0===a?{}:a,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,p=e.wrapperClassName,h=e.labelClassName,m=e.label,v=e.labelFormatter,g=e.accessibilityLayer,y=void 0!==g&&g,b=sRe({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=sRe({margin:0},c),x=!nIe()(m),S=x?m:"",k=je("recharts-default-tooltip",p),E=je("recharts-tooltip-label",h);x&&v&&null!=u&&(S=v(m,u));var O=y?{role:"status","aria-live":"assertive"}:{};return n.createElement("div",rRe({className:k,style:b},O),n.createElement("p",{className:E,style:w},n.isValidElement(S)?S:"".concat(S)),function(){if(u&&u.length){var e=(f?WIe()(u,f):u).map((function(e,t){if("none"===e.type)return null;var o=sRe({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),i=e.formatter||d||cRe,a=e.value,l=e.name,c=a,f=l;if(i&&null!=c&&null!=f){var p=i(a,l,e,t,u);if(Array.isArray(p)){var h=oRe(p,2);c=h[0],f=h[1]}else c=p}return n.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:o},GMe(f)?n.createElement("span",{className:"recharts-tooltip-item-name"},f):null,GMe(f)?n.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,n.createElement("span",{className:"recharts-tooltip-item-value"},c),n.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return n.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function dRe(e){return dRe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dRe(e)}function fRe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=dRe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dRe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dRe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pRe="recharts-tooltip-wrapper",hRe={visibility:"hidden"};function mRe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return je(pRe,fRe(fRe(fRe(fRe({},"".concat(pRe,"-right"),qMe(n)&&t&&qMe(t.x)&&n>=t.x),"".concat(pRe,"-left"),qMe(n)&&t&&qMe(t.x)&&n<t.x),"".concat(pRe,"-bottom"),qMe(r)&&t&&qMe(t.y)&&r>=t.y),"".concat(pRe,"-top"),qMe(r)&&t&&qMe(t.y)&&r<t.y))}function vRe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,o=e.offsetTopLeft,i=e.position,a=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&qMe(i[r]))return i[r];var u=n[r]-s-o,d=n[r]+o;return t[r]?a[r]?u:d:a[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function gRe(e){return gRe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gRe(e)}function yRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yRe(Object(n),!0).forEach((function(t){ORe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jRe(r.key),r)}}function xRe(e,t,n){return t=kRe(t),function(e,t){if(t&&("object"===gRe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,SRe()?Reflect.construct(t,n||[],kRe(e).constructor):t.apply(e,n))}function SRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(SRe=function(){return!!e})()}function kRe(e){return kRe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kRe(e)}function ERe(e,t){return ERe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ERe(e,t)}function ORe(e,t,n){return(t=jRe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jRe(e){var t=function(e,t){if("object"!=gRe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gRe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==gRe(t)?t:t+""}var _Re=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ORe(e=xRe(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ORe(e,"handleKeyDown",(function(t){var n,r,o,i;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(o=null===(i=e.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==o?o:0}})})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ERe(e,t)}(t,e),r=t,o=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,o=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,f=t.position,p=t.reverseDirection,h=t.useTranslate3d,m=t.viewBox,v=t.wrapperStyle,g=function(e){var t,n,r,o=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,s=e.position,l=e.reverseDirection,c=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox;return t=c.height>0&&c.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=vRe({allowEscapeViewBox:o,coordinate:i,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=vRe({allowEscapeViewBox:o,coordinate:i,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):hRe,{cssProperties:t,cssClasses:mRe({translateX:n,translateY:r,coordinate:i})}}({allowEscapeViewBox:o,coordinate:l,offsetTopLeft:d,position:f,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:m}),y=g.cssClasses,b=g.cssProperties,w=bRe(bRe({transition:u&&r?"transform ".concat(i,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&c?"visible":"hidden",position:"absolute",top:0,left:0},v);return n.createElement("div",{tabIndex:-1,className:y,style:w,ref:function(t){e.wrapperNode=t}},s)}}],o&&wRe(r.prototype,o),i&&wRe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent),CRe={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return CRe[e]},set:function(e,t){if("string"==typeof e)CRe[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){CRe[t]=e[t]}))}}},TRe=o(14),PRe=o.n(TRe);function ARe(e,t,n){return!0===t?PRe()(e,n):oIe()(t)?PRe()(e,t):e}function NRe(e){return NRe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NRe(e)}function MRe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IRe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MRe(Object(n),!0).forEach((function(t){BRe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MRe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RRe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$Re(r.key),r)}}function LRe(e,t,n){return t=FRe(t),function(e,t){if(t&&("object"===NRe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DRe()?Reflect.construct(t,n||[],FRe(e).constructor):t.apply(e,n))}function DRe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DRe=function(){return!!e})()}function FRe(e){return FRe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FRe(e)}function zRe(e,t){return zRe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zRe(e,t)}function BRe(e,t,n){return(t=$Re(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Re(e){var t=function(e,t){if("object"!=NRe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NRe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NRe(t)?t:t+""}function URe(e){return e.dataKey}var VRe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LRe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zRe(e,t)}(t,e),r=t,o=[{key:"render",value:function(){var e=this,t=this.props,r=t.active,o=t.allowEscapeViewBox,i=t.animationDuration,a=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,f=t.payload,p=t.payloadUniqBy,h=t.position,m=t.reverseDirection,v=t.useTranslate3d,g=t.viewBox,y=t.wrapperStyle,b=null!=f?f:[];c&&b.length&&(b=ARe(f.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),p,URe));var w=b.length>0;return n.createElement(_Re,{allowEscapeViewBox:o,animationDuration:i,animationEasing:a,isAnimationActive:u,active:r,coordinate:l,hasPayload:w,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:g,wrapperStyle:y},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):"function"==typeof e?n.createElement(e,t):n.createElement(uRe,t)}(s,IRe(IRe({},this.props),{},{payload:b})))}}],o&&RRe(r.prototype,o),i&&RRe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);BRe(VRe,"displayName","Tooltip"),BRe(VRe,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!CRe.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HRe=o(5808),WRe=o.n(HRe);Math.abs,Math.atan2;const qRe=Math.cos,GRe=(Math.max,Math.min,Math.sin),KRe=Math.sqrt,XRe=Math.PI,YRe=2*XRe;const ZRe={draw(e,t){const n=KRe(t/XRe);e.moveTo(n,0),e.arc(0,0,n,0,YRe)}},JRe={draw(e,t){const n=KRe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},QRe=KRe(1/3),eLe=2*QRe,tLe={draw(e,t){const n=KRe(t/eLe),r=n*QRe;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},nLe={draw(e,t){const n=KRe(t),r=-n/2;e.rect(r,r,n,n)}},rLe=GRe(XRe/10)/GRe(7*XRe/10),oLe=GRe(YRe/10)*rLe,iLe=-qRe(YRe/10)*rLe,aLe={draw(e,t){const n=KRe(.8908130915292852*t),r=oLe*n,o=iLe*n;e.moveTo(0,-n),e.lineTo(r,o);for(let t=1;t<5;++t){const i=YRe*t/5,a=qRe(i),s=GRe(i);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*o,s*r+a*o)}e.closePath()}},sLe=KRe(3),lLe={draw(e,t){const n=-KRe(t/(3*sLe));e.moveTo(0,2*n),e.lineTo(-sLe*n,-n),e.lineTo(sLe*n,-n),e.closePath()}},cLe=-.5,uLe=KRe(3)/2,dLe=1/KRe(12),fLe=3*(dLe/2+1),pLe={draw(e,t){const n=KRe(t/fLe),r=n/2,o=n*dLe,i=r,a=n*dLe+n,s=-i,l=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(s,l),e.lineTo(cLe*r-uLe*o,uLe*r+cLe*o),e.lineTo(cLe*i-uLe*a,uLe*i+cLe*a),e.lineTo(cLe*s-uLe*l,uLe*s+cLe*l),e.lineTo(cLe*r+uLe*o,cLe*o-uLe*r),e.lineTo(cLe*i+uLe*a,cLe*a-uLe*i),e.lineTo(cLe*s+uLe*l,cLe*l-uLe*s),e.closePath()}};function hLe(e){return function(){return e}}const mLe=Math.PI,vLe=2*mLe,gLe=1e-6,yLe=vLe-gLe;function bLe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class wLe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?bLe:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return bLe;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,o,i){this._append`C${+e},${+t},${+n},${+r},${this._x1=+o},${this._y1=+i}`}arcTo(e,t,n,r,o){if(e=+e,t=+t,n=+n,r=+r,(o=+o)<0)throw new Error(`negative radius: ${o}`);let i=this._x1,a=this._y1,s=n-e,l=r-t,c=i-e,u=a-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>gLe)if(Math.abs(u*s-l*c)>gLe&&o){let f=n-i,p=r-a,h=s*s+l*l,m=f*f+p*p,v=Math.sqrt(h),g=Math.sqrt(d),y=o*Math.tan((mLe-Math.acos((h+d-m)/(2*v*g)))/2),b=y/g,w=y/v;Math.abs(b-1)>gLe&&this._append`L${e+b*c},${t+b*u}`,this._append`A${o},${o},0,0,${+(u*f>c*p)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,o,i){if(e=+e,t=+t,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,c=t+s,u=1^i,d=i?r-o:o-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>gLe||Math.abs(this._y1-c)>gLe)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%vLe+vLe),d>yLe?this._append`A${n},${n},0,1,${u},${e-a},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>gLe&&this._append`A${n},${n},0,${+(d>=mLe)},${u},${this._x1=e+n*Math.cos(o)},${this._y1=t+n*Math.sin(o)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function xLe(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new wLe(t)}KRe(3),KRe(3);function SLe(e){return SLe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SLe(e)}var kLe=["type","size","sizeType"];function ELe(){return ELe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ELe.apply(this,arguments)}function OLe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jLe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OLe(Object(n),!0).forEach((function(t){_Le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OLe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _Le(e,t,n){return t=function(e){var t=function(e,t){if("object"!=SLe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SLe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SLe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CLe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var TLe={symbolCircle:ZRe,symbolCross:JRe,symbolDiamond:tLe,symbolSquare:nLe,symbolStar:aLe,symbolTriangle:lLe,symbolWye:pLe},PLe=Math.PI/180,ALe=function(e){var t,r,o=e.type,i=void 0===o?"circle":o,a=e.size,s=void 0===a?64:a,l=e.sizeType,c=void 0===l?"area":l,u=jLe(jLe({},CLe(e,kLe)),{},{type:i,size:s,sizeType:c}),d=u.className,f=u.cx,p=u.cy,h=AIe(u,!0);return f===+f&&p===+p&&s===+s?n.createElement("path",ELe({},h,{className:je("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(p,")"),d:(t=function(e){var t="symbol".concat(WRe()(e));return TLe[t]||ZRe}(i),r=function(e,t){let n=null,r=xLe(o);function o(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return e="function"==typeof e?e:hLe(e||ZRe),t="function"==typeof t?t:hLe(void 0===t?64:+t),o.type=function(t){return arguments.length?(e="function"==typeof t?t:hLe(t),o):e},o.size=function(e){return arguments.length?(t="function"==typeof e?e:hLe(+e),o):t},o.context=function(e){return arguments.length?(n=null==e?null:e,o):n},o}().type(t).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*PLe;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(s,c,i)),r())})):null};function NLe(e){return NLe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NLe(e)}function MLe(){return MLe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MLe.apply(this,arguments)}function ILe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$Le(r.key),r)}}function LLe(e,t,n){return t=FLe(t),function(e,t){if(t&&("object"===NLe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,DLe()?Reflect.construct(t,n||[],FLe(e).constructor):t.apply(e,n))}function DLe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(DLe=function(){return!!e})()}function FLe(e){return FLe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},FLe(e)}function zLe(e,t){return zLe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zLe(e,t)}function BLe(e,t,n){return(t=$Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Le(e){var t=function(e,t){if("object"!=NLe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NLe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NLe(t)?t:t+""}ALe.registerSymbol=function(e,t){TLe["symbol".concat(WRe()(e))]=t};var ULe=32,VLe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),LLe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zLe(e,t)}(t,e),r=t,o=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,o=5.333333333333333,i=10.666666666666666,a=e.inactive?t:e.color;if("plainline"===e.type)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:ULe,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(i,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*i,",").concat(r,"\n            H").concat(ULe,"M").concat(2*i,",").concat(r,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(i,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return n.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(ULe,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ILe(Object(n),!0).forEach((function(t){BLe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ILe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,n.cloneElement(e.legendIcon,s)}return n.createElement(ALe,{fill:a,cx:r,cy:r,size:ULe,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,o=t.iconSize,i=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:ULe,height:ULe},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var i=t.formatter||a,d=je(BLe(BLe({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var f=oIe()(t.value)?null:t.value;eIe(!oIe()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var p=t.inactive?s:t.color;return n.createElement("li",MLe({className:d,style:c,key:"legend-item-".concat(r)},mIe(e.props,t,r)),n.createElement(ZIe,{width:o,height:o,viewBox:l,style:u},e.renderIcon(t)),n.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},i?i(f,t,r):f))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,o=e.align;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:"horizontal"===r?o:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}],o&&RLe(r.prototype,o),i&&RLe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function HLe(e){return HLe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HLe(e)}BLe(VLe,"displayName","Legend"),BLe(VLe,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WLe=["ref"];function qLe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GLe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qLe(Object(n),!0).forEach((function(t){QLe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qLe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KLe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eDe(r.key),r)}}function XLe(e,t,n){return t=ZLe(t),function(e,t){if(t&&("object"===HLe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,YLe()?Reflect.construct(t,n||[],ZLe(e).constructor):t.apply(e,n))}function YLe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(YLe=function(){return!!e})()}function ZLe(e){return ZLe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ZLe(e)}function JLe(e,t){return JLe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},JLe(e,t)}function QLe(e,t,n){return(t=eDe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eDe(e){var t=function(e,t){if("object"!=HLe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HLe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HLe(t)?t:t+""}function tDe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nDe(e){return e.value}var rDe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QLe(e=XLe(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JLe(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?GLe({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,o=r.layout,i=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===i&&"vertical"===o?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===i?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),GLe(GLe({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,o=t.width,i=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=GLe(GLe({position:"absolute",width:o||"auto",height:i||"auto"},this.getDefaultPosition(a)),a);return n.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(n.isValidElement(e))return n.cloneElement(e,t);if("function"==typeof e)return n.createElement(e,t);t.ref;var r=tDe(t,WLe);return n.createElement(VLe,r)}(r,GLe(GLe({},this.props),{},{payload:ARe(l,s,nDe)})))}}],i=[{key:"getWithHeight",value:function(e,t){var n=GLe(GLe({},this.defaultProps),e.props).layout;return"vertical"===n&&qMe(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],o&&KLe(r.prototype,o),i&&KLe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function oDe(){return oDe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oDe.apply(this,arguments)}QLe(rDe,"displayName","Legend"),QLe(rDe,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iDe=function(e){var t=e.cx,r=e.cy,o=e.r,i=e.className,a=je("recharts-dot",i);return t===+t&&r===+r&&o===+o?n.createElement("circle",oDe({},AIe(e,!1),hIe(e),{className:a,cx:t,cy:r,r:o})):null},aDe=o(5556),sDe=o.n(aDe),lDe=Object.getOwnPropertyNames,cDe=Object.getOwnPropertySymbols,uDe=Object.prototype.hasOwnProperty;function dDe(e,t){return function(n,r,o){return e(n,r,o)&&t(n,r,o)}}function fDe(e){return function(t,n,r){if(!t||!n||"object"!=typeof t||"object"!=typeof n)return e(t,n,r);var o=r.cache,i=o.get(t),a=o.get(n);if(i&&a)return i===n&&a===t;o.set(t,n),o.set(n,t);var s=e(t,n,r);return o.delete(t),o.delete(n),s}}function pDe(e){return lDe(e).concat(cDe(e))}var hDe=Object.hasOwn||function(e,t){return uDe.call(e,t)};function mDe(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var vDe=Object.getOwnPropertyDescriptor,gDe=Object.keys;function yDe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function bDe(e,t){return mDe(e.getTime(),t.getTime())}function wDe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xDe(e,t){return e===t}function SDe(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,i,a=new Array(r),s=e.entries(),l=0;(o=s.next())&&!o.done;){for(var c=t.entries(),u=!1,d=0;(i=c.next())&&!i.done;)if(a[d])d++;else{var f=o.value,p=i.value;if(n.equals(f[0],p[0],l,d,e,t,n)&&n.equals(f[1],p[1],f[0],p[0],e,t,n)){u=a[d]=!0;break}d++}if(!u)return!1;l++}return!0}var kDe=mDe;function EDe(e,t,n){var r=gDe(e),o=r.length;if(gDe(t).length!==o)return!1;for(;o-- >0;)if(!ADe(e,t,n,r[o]))return!1;return!0}function ODe(e,t,n){var r,o,i,a=pDe(e),s=a.length;if(pDe(t).length!==s)return!1;for(;s-- >0;){if(!ADe(e,t,n,r=a[s]))return!1;if(o=vDe(e,r),i=vDe(t,r),(o||i)&&(!o||!i||o.configurable!==i.configurable||o.enumerable!==i.enumerable||o.writable!==i.writable))return!1}return!0}function jDe(e,t){return mDe(e.valueOf(),t.valueOf())}function _De(e,t){return e.source===t.source&&e.flags===t.flags}function CDe(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var o,i,a=new Array(r),s=e.values();(o=s.next())&&!o.done;){for(var l=t.values(),c=!1,u=0;(i=l.next())&&!i.done;){if(!a[u]&&n.equals(o.value,i.value,o.value,i.value,e,t,n)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function TDe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function PDe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function ADe(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||hDe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var NDe=Array.isArray,MDe="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,IDe=Object.assign,RDe=Object.prototype.toString.call.bind(Object.prototype.toString);var LDe=DDe();DDe({strict:!0}),DDe({circular:!0}),DDe({circular:!0,strict:!0}),DDe({createInternalComparator:function(){return mDe}}),DDe({strict:!0,createInternalComparator:function(){return mDe}}),DDe({circular:!0,createInternalComparator:function(){return mDe}}),DDe({circular:!0,createInternalComparator:function(){return mDe},strict:!0});function DDe(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,o=e.createInternalComparator,i=e.createState,a=e.strict,s=void 0!==a&&a,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,o={areArraysEqual:r?ODe:yDe,areDatesEqual:bDe,areErrorsEqual:wDe,areFunctionsEqual:xDe,areMapsEqual:r?dDe(SDe,ODe):SDe,areNumbersEqual:kDe,areObjectsEqual:r?ODe:EDe,arePrimitiveWrappersEqual:jDe,areRegExpsEqual:_De,areSetsEqual:r?dDe(CDe,ODe):CDe,areTypedArraysEqual:r?ODe:TDe,areUrlsEqual:PDe};if(n&&(o=IDe({},o,n(o))),t){var i=fDe(o.areArraysEqual),a=fDe(o.areMapsEqual),s=fDe(o.areObjectsEqual),l=fDe(o.areSetsEqual);o=IDe({},o,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return o}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,o=e.areFunctionsEqual,i=e.areMapsEqual,a=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,f=e.areUrlsEqual;return function(e,p,h){if(e===p)return!0;if(null==e||null==p)return!1;var m=typeof e;if(m!==typeof p)return!1;if("object"!==m)return"number"===m?a(e,p,h):"function"===m&&o(e,p,h);var v=e.constructor;if(v!==p.constructor)return!1;if(v===Object)return s(e,p,h);if(NDe(e))return t(e,p,h);if(null!=MDe&&MDe(e))return d(e,p,h);if(v===Date)return n(e,p,h);if(v===RegExp)return c(e,p,h);if(v===Map)return i(e,p,h);if(v===Set)return u(e,p,h);var g=RDe(e);return"[object Date]"===g?n(e,p,h):"[object RegExp]"===g?c(e,p,h):"[object Map]"===g?i(e,p,h):"[object Set]"===g?u(e,p,h):"[object Object]"===g?"function"!=typeof e.then&&"function"!=typeof p.then&&s(e,p,h):"[object URL]"===g?f(e,p,h):"[object Error]"===g?r(e,p,h):"[object Arguments]"===g?s(e,p,h):("[object Boolean]"===g||"[object Number]"===g||"[object String]"===g)&&l(e,p,h)}}(l),u=o?o(c):(t=c,function(e,n,r,o,i,a,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,o=e.equals,i=e.strict;if(r)return function(e,a){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,a,{cache:c,equals:o,meta:u,strict:i})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:o,meta:void 0,strict:i})};var a={cache:void 0,equals:o,meta:void 0,strict:i};return function(e,t){return n(e,t,a)}}({circular:r,comparator:c,createState:i,equals:u,strict:s})}function FDe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(o){n<0&&(n=o),o-n>t?(e(o),n=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function zDe(e){return zDe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zDe(e)}function BDe(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $De(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UDe(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var o=BDe(r),i=o[0],a=o.slice(1);return"number"==typeof i?void FDe(n.bind(null,a),i):(n(i),void FDe(n.bind(null,a)))}"object"===zDe(r)&&e(r),"function"==typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function VDe(e){return VDe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VDe(e)}function HDe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WDe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HDe(Object(n),!0).forEach((function(t){qDe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HDe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qDe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==VDe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==VDe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===VDe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GDe=function(e){return e},KDe=function(e,t){return Object.keys(t).reduce((function(n,r){return WDe(WDe({},n),{},qDe({},r,e(r,t[r])))}),{})},XDe=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function YDe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||JDe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZDe(e){return function(e){if(Array.isArray(e))return QDe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||JDe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JDe(e,t){if(e){if("string"==typeof e)return QDe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?QDe(e,t):void 0}}function QDe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var eFe=1e-4,tFe=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},nFe=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},rFe=function(e,t){return function(n){var r=tFe(e,t);return nFe(r,n)}},oFe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t[1],i=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,o=0,i=1,a=1;break;case"ease":r=.25,o=.1,i=.25,a=1;break;case"ease-in":r=.42,o=0,i=1,a=1;break;case"ease-out":r=.42,o=0,i=.58,a=1;break;case"ease-in-out":r=0,o=0,i=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=YDe(l,4);r=c[0],o=c[1],i=c[2],a=c[3]}}[r,i,o,a].every((function(e){return"number"==typeof e&&e>=0&&e<=1}));var u,d,f=rFe(r,i),p=rFe(o,a),h=(u=r,d=i,function(e){var t=tFe(u,d),n=[].concat(ZDe(t.map((function(e,t){return e*t})).slice(1)),[0]);return nFe(n,e)}),m=function(e){return e>1?1:e<0?0:e},v=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var o=f(n)-t,i=h(n);if(Math.abs(o-t)<eFe||i<eFe)return p(n);n=m(n-o/i)}return p(n)};return v.isStepper=!1,v},iFe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return oFe(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,o=void 0===r?8:r,i=e.dt,a=void 0===i?17:i,s=function(e,t,r){var i=r+(-(e-t)*n-r*o)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<eFe&&Math.abs(i)<eFe?[t,0]:[s,i]};return s.isStepper=!0,s.dt=a,s}();default:if("cubic-bezier"===r.split("(")[0])return oFe(r)}return"function"==typeof r?r:null};function aFe(e){return aFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aFe(e)}function sFe(e){return function(e){if(Array.isArray(e))return pFe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||fFe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lFe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cFe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lFe(Object(n),!0).forEach((function(t){uFe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lFe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uFe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==aFe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==aFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===aFe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dFe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||fFe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fFe(e,t){if(e){if("string"==typeof e)return pFe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pFe(e,t):void 0}}function pFe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hFe=function(e,t,n){return e+(t-e)*n},mFe=function(e){return e.from!==e.to},vFe=function e(t,n,r){var o=KDe((function(e,n){if(mFe(n)){var r=dFe(t(n.from,n.to,n.velocity),2),o=r[0],i=r[1];return cFe(cFe({},n),{},{from:o,velocity:i})}return n}),n);return r<1?KDe((function(e,t){return mFe(t)?cFe(cFe({},t),{},{velocity:hFe(t.velocity,o[e].velocity,r),from:hFe(t.from,o[e].from,r)}):t}),n):e(t,o,r-1)};const gFe=function(e,t,n,r,o){var i,a,s,l,c=(i=e,a=t,[Object.keys(i),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return cFe(cFe({},n),{},uFe({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return cFe(cFe({},n),{},uFe({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),f=-1,p=function(){return null};return p=n.isStepper?function(r){s||(s=r);var i=(r-s)/n.dt;d=vFe(n,d,i),o(cFe(cFe(cFe({},e),t),KDe((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(mFe).length&&(f=requestAnimationFrame(p))}:function(i){l||(l=i);var a=(i-l)/r,s=KDe((function(e,t){return hFe.apply(void 0,sFe(t).concat([n(a)]))}),u);if(o(cFe(cFe(cFe({},e),t),s)),a<1)f=requestAnimationFrame(p);else{var c=KDe((function(e,t){return hFe.apply(void 0,sFe(t).concat([n(1)]))}),u);o(cFe(cFe(cFe({},e),t),c))}},function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(f)}}};function yFe(e){return yFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yFe(e)}var bFe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wFe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function xFe(e){return function(e){if(Array.isArray(e))return SFe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return SFe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SFe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SFe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kFe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EFe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kFe(Object(n),!0).forEach((function(t){OFe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kFe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OFe(e,t,n){return(t=_Fe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jFe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_Fe(r.key),r)}}function _Fe(e){var t=function(e,t){if("object"!==yFe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yFe(t)?t:String(t)}function CFe(e,t){return CFe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CFe(e,t)}function TFe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=NFe(e);if(t){var o=NFe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return PFe(this,n)}}function PFe(e,t){if(t&&("object"===yFe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return AFe(e)}function AFe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NFe(e){return NFe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NFe(e)}var MFe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CFe(e,t)}(a,e);var t,r,o,i=TFe(a);function a(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var r=(n=i.call(this,e,t)).props,o=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,f=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(AFe(n)),n.changeStyle=n.changeStyle.bind(AFe(n)),!o||f<=0)return n.state={style:{}},"function"==typeof d&&(n.state={style:c}),PFe(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"==typeof d)return n.state={style:l},PFe(n);n.state={style:s?OFe({},s,l):l}}else n.state={style:{}};return n}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,o=t.attributeName,i=t.shouldReAnimate,a=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(LDe(e.to,a)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||i?s:e.to;if(this.state&&l){var d={style:o?OFe({},o,u):u};(o&&l[o]!==u||!o&&l!==u)&&this.setState(d)}this.runAnimation(EFe(EFe({},this.props),{},{from:u,begin:0}))}}else{var f={style:o?OFe({},o,a):a};this.state&&l&&(o&&l[o]!==a||!o&&l!==a)&&this.setState(f)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,o=e.duration,i=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=gFe(n,r,iFe(i),o,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=c()},o,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,o=e.onAnimationStart,i=n[0],a=i.style,s=i.duration,l=void 0===s?0:s;return this.manager.start([o].concat(xFe(n.reduce((function(e,r,o){if(0===o)return e;var i=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,c=r.properties,u=r.onAnimationEnd,d=o>0?n[o-1]:r,f=c||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(xFe(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:i,easing:s}),i]);var p=XDe(f,i,s),h=EFe(EFe(EFe({},d.style),l),{},{transition:p});return[].concat(xFe(e),[h,i,u]).filter(GDe)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=UDe());var t=e.begin,n=e.duration,r=e.attributeName,o=e.to,i=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!=typeof i&&"function"!=typeof c&&"spring"!==i)if(l.length>1)this.runStepAnimation(e);else{var d=r?OFe({},r,o):o,f=XDe(Object.keys(d),n,i);u.start([a,t,EFe(EFe({},d),{},{transition:f}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration),o=(e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,wFe(e,bFe)),a=n.Children.count(t),s=this.state.style;if("function"==typeof t)return t(s);if(!o||0===a||r<=0)return t;var l=function(e){var t=e.props,r=t.style,o=void 0===r?{}:r,a=t.className;return(0,n.cloneElement)(e,EFe(EFe({},i),{},{style:EFe(EFe({},o),s),className:a}))};return 1===a?l(n.Children.only(t)):n.createElement("div",null,n.Children.map(t,(function(e){return l(e)})))}}],r&&jFe(t.prototype,r),o&&jFe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);MFe.displayName="Animate",MFe.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},MFe.propTypes={from:sDe().oneOfType([sDe().object,sDe().string]),to:sDe().oneOfType([sDe().object,sDe().string]),attributeName:sDe().string,duration:sDe().number,begin:sDe().number,easing:sDe().oneOfType([sDe().string,sDe().func]),steps:sDe().arrayOf(sDe().shape({duration:sDe().number.isRequired,style:sDe().object.isRequired,easing:sDe().oneOfType([sDe().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sDe().func]),properties:sDe().arrayOf("string"),onAnimationEnd:sDe().func})),children:sDe().oneOfType([sDe().node,sDe().func]),isActive:sDe().bool,canBegin:sDe().bool,onAnimationEnd:sDe().func,shouldReAnimate:sDe().bool,onAnimationStart:sDe().func,onAnimationReStart:sDe().func};const IFe=MFe;function RFe(e){return RFe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RFe(e)}function LFe(){return LFe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LFe.apply(this,arguments)}function DFe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FFe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FFe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FFe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zFe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BFe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zFe(Object(n),!0).forEach((function(t){$Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zFe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $Fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RFe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RFe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RFe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UFe=function(e,t,n,r,o){var i,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&o instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=o[d]>a?a:o[d];i="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(i+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),i+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(i+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),i+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(i+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),i+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(i+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),i+="Z"}else if(a>0&&o===+o&&o>0){var f=Math.min(a,o);i="M ".concat(e,",").concat(t+s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+l*f,",").concat(t,"\n            L ").concat(e+n-l*f,",").concat(t,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*f,"\n            L ").concat(e+n,",").concat(t+r-s*f,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e+n-l*f,",").concat(t+r,"\n            L ").concat(e+l*f,",").concat(t+r,"\n            A ").concat(f,",").concat(f,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*f," Z")}else i="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return i},VFe=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,o=t.x,i=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(o,o+a),c=Math.max(o,o+a),u=Math.min(i,i+s),d=Math.max(i,i+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},HFe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},WFe=function(e){var t=BFe(BFe({},HFe),e),r=(0,n.useRef)(),o=DFe((0,n.useState)(-1),2),i=o[0],a=o[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(e){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,f=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,v=t.isAnimationActive,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var y=je("recharts-rectangle",f);return g?n.createElement(IFe,{canBegin:i>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:h,animationEasing:p,isActive:g},(function(e){var o=e.width,a=e.height,s=e.x,l=e.y;return n.createElement(IFe,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:v,easing:p},n.createElement("path",LFe({},AIe(t,!0),{className:y,d:UFe(s,l,o,a,d),ref:r})))})):n.createElement("path",LFe({},AIe(t,!0),{className:y,d:UFe(s,l,c,u,d)}))};function qFe(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function GFe(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}class KFe extends Map{constructor(e,t=JFe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(XFe(this,e))}has(e){return super.has(XFe(this,e))}set(e,t){return super.set(YFe(this,e),t)}delete(e){return super.delete(ZFe(this,e))}}Set;function XFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function YFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ZFe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function JFe(e){return null!==e&&"object"==typeof e?e.valueOf():e}const QFe=Symbol("implicit");function eze(){var e=new KFe,t=[],n=[],r=QFe;function o(o){let i=e.get(o);if(void 0===i){if(r!==QFe)return r;e.set(o,i=t.push(o)-1)}return n[i%n.length]}return o.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new KFe;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return o},o.range=function(e){return arguments.length?(n=Array.from(e),o):n.slice()},o.unknown=function(e){return arguments.length?(r=e,o):r},o.copy=function(){return eze(t,n).unknown(r)},qFe.apply(o,arguments),o}function tze(){var e,t,n=eze().unknown(void 0),r=n.domain,o=n.range,i=0,a=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=a<i,f=d?a:i,p=d?i:a;e=(p-f)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(n-l))*u,t=e*(1-l),s&&(f=Math.round(f),t=Math.round(t));var h=function(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);++r<o;)i[r]=e+r*n;return i}(n).map((function(t){return f+e*t}));return o(d?h.reverse():h)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([i,a]=e,i=+i,a=+a,d()):[i,a]},n.rangeRound=function(e){return[i,a]=e,i=+i,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return tze(r(),[i,a]).round(s).paddingInner(l).paddingOuter(c).align(u)},qFe.apply(d(),arguments)}function nze(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nze(t())},e}function rze(){return nze(tze.apply(null,arguments).paddingInner(1))}function oze(e){return oze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oze(e)}function ize(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ize(Object(n),!0).forEach((function(t){sze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ize(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sze(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oze(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lze={widthCache:{},cacheCount:0},cze={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uze="recharts_measurement_span";var dze=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||CRe.isSsr)return{width:0,height:0};var n,r=(n=aze({},t),Object.keys(n).forEach((function(e){n[e]||delete n[e]})),n),o=JSON.stringify({text:e,copyStyle:r});if(lze.widthCache[o])return lze.widthCache[o];try{var i=document.getElementById(uze);i||((i=document.createElement("span")).setAttribute("id",uze),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=aze(aze({},cze),r);Object.assign(i.style,a),i.textContent="".concat(e);var s=i.getBoundingClientRect(),l={width:s.width,height:s.height};return lze.widthCache[o]=l,++lze.cacheCount>2e3&&(lze.cacheCount=0,lze.widthCache={}),l}catch(e){return{width:0,height:0}}};function fze(e){return fze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fze(e)}function pze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return hze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vze(r.key),r)}}function vze(e){var t=function(e,t){if("object"!=fze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fze(t)?t:t+""}var gze=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yze=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bze=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wze=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xze={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Sze=Object.keys(xze),kze="NaN";var Eze=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||bze.test(n)||(this.num=NaN,this.unit=""),Sze.includes(n)&&(this.num=function(e,t){return e*xze[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=pze(null!==(n=wze.exec(t))&&void 0!==n?n:[],3),o=r[1],i=r[2];return new e(parseFloat(o),null!=i?i:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&mze(t.prototype,n),r&&mze(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function Oze(e){if(e.includes(kze))return kze;for(var t=e;t.includes("*")||t.includes("/");){var n,r=pze(null!==(n=gze.exec(t))&&void 0!==n?n:[],4),o=r[1],i=r[2],a=r[3],s=Eze.parse(null!=o?o:""),l=Eze.parse(null!=a?a:""),c="*"===i?s.multiply(l):s.divide(l);if(c.isNaN())return kze;t=t.replace(gze,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=pze(null!==(u=yze.exec(t))&&void 0!==u?u:[],4),f=d[1],p=d[2],h=d[3],m=Eze.parse(null!=f?f:""),v=Eze.parse(null!=h?h:""),g="+"===p?m.add(v):m.subtract(v);if(g.isNaN())return kze;t=t.replace(yze,g.toString())}return t}var jze=/\(([^()]*)\)/;function _ze(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=pze(jze.exec(t),2)[1];t=t.replace(jze,Oze(n))}return t}(t),t=Oze(t)}function Cze(e){var t=function(e){try{return _ze(e)}catch(e){return kze}}(e.slice(5,-1));return t===kze?"":t}var Tze=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Pze=["dx","dy","angle","className","breakAll"];function Aze(){return Aze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aze.apply(this,arguments)}function Nze(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Mze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ize(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ize(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ize(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Rze=/[ \f\n\r\t\v\u2028\u2029]+/,Lze=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var o=[];return nIe()(t)||(o=n?t.toString().split(""):t.toString().split(Rze)),{wordsWithComputedWidth:o.map((function(e){return{word:e,width:dze(e,r).width}})),spaceWidth:n?0:dze(" ",r).width}}catch(e){return null}},Dze=function(e){return[{words:nIe()(e)?[]:e.toString().split(Rze)}]},Fze=function(e){var t=e.width,n=e.scaleToFit,r=e.children,o=e.style,i=e.breakAll,a=e.maxLines;if((t||n)&&!CRe.isSsr){var s=Lze({breakAll:i,children:r,style:o});return s?function(e,t,n,r,o){var i=e.maxLines,a=e.children,s=e.style,l=e.breakAll,c=qMe(i),u=a,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var i=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||o||s.width+a+n<Number(r)))s.words.push(i),s.width+=a+n;else{var l={words:[i],width:a};e.push(l)}return e}),[])},f=d(t);if(!c)return f;for(var p,h=function(e){var t=u.slice(0,e),n=Lze({breakAll:l,style:s,children:t+"…"}).wordsWithComputedWidth,o=d(n),a=o.length>i||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>Number(r);return[a,o]},m=0,v=u.length-1,g=0;m<=v&&g<=u.length-1;){var y=Math.floor((m+v)/2),b=Mze(h(y-1),2),w=b[0],x=b[1],S=Mze(h(y),1)[0];if(w||S||(m=y+1),w&&S&&(v=y-1),!w&&S){p=x;break}g++}return p||f}({breakAll:i,children:r,maxLines:a,style:o},s.wordsWithComputedWidth,s.spaceWidth,t,n):Dze(r)}return Dze(r)},zze="#808080",Bze=function(e){var t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.lineHeight,s=void 0===a?"1em":a,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,f=e.textAnchor,p=void 0===f?"start":f,h=e.verticalAnchor,m=void 0===h?"end":h,v=e.fill,g=void 0===v?zze:v,y=Nze(e,Tze),b=(0,n.useMemo)((function(){return Fze({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})}),[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),w=y.dx,x=y.dy,S=y.angle,k=y.className,E=y.breakAll,O=Nze(y,Pze);if(!GMe(r)||!GMe(i))return null;var j,_=r+(qMe(w)?w:0),C=i+(qMe(x)?x:0);switch(m){case"start":j=Cze("calc(".concat(c,")"));break;case"middle":j=Cze("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:j=Cze("calc(".concat(b.length-1," * -").concat(s,")"))}var T=[];if(d){var P=b[0].width,A=y.width;T.push("scale(".concat((qMe(A)?A/P:1)/P,")"))}return S&&T.push("rotate(".concat(S,", ").concat(_,", ").concat(C,")")),T.length&&(O.transform=T.join(" ")),n.createElement("text",Aze({},AIe(O,!0),{x:_,y:C,className:je("recharts-text",k),textAnchor:p,fill:g.includes("url")?zze:g}),b.map((function(e,t){var r=e.words.join(E?"":" ");return n.createElement("tspan",{x:_,dy:0===t?j:s,key:"".concat(r,"-").concat(t)},r)})))};const $ze=Math.sqrt(50),Uze=Math.sqrt(10),Vze=Math.sqrt(2);function Hze(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),a=i>=$ze?10:i>=Uze?5:i>=Vze?2:1;let s,l,c;return o<0?(c=Math.pow(10,-o)/a,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,o)*a,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?Hze(e,t,2*n):[s,l,c]}function Wze(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[o,i,a]=r?Hze(t,e,n):Hze(e,t,n);if(!(i>=o))return[];const s=i-o+1,l=new Array(s);if(r)if(a<0)for(let e=0;e<s;++e)l[e]=(i-e)/-a;else for(let e=0;e<s;++e)l[e]=(i-e)*a;else if(a<0)for(let e=0;e<s;++e)l[e]=(o+e)/-a;else for(let e=0;e<s;++e)l[e]=(o+e)*a;return l}function qze(e,t,n){return Hze(e=+e,t=+t,n=+n)[2]}function Gze(e,t,n){n=+n;const r=(t=+t)<(e=+e),o=r?qze(t,e,n):qze(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}function Kze(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xze(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yze(e){let t,n,r;function o(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<0?o=t+1:i=t}while(o<i)}return o}return 2!==e.length?(t=Kze,n=(t,n)=>Kze(e(t),n),r=(t,n)=>e(t)-n):(t=e===Kze||e===Xze?e:Zze,n=e,r=e),{left:o,center:function(e,t,n=0,i=e.length){const a=o(e,t,n,i-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,o=0,i=e.length){if(o<i){if(0!==t(r,r))return i;do{const t=o+i>>>1;n(e[t],r)<=0?o=t+1:i=t}while(o<i)}return o}}}function Zze(){return 0}function Jze(e){return null===e?NaN:+e}const Qze=Yze(Kze),eBe=Qze.right,tBe=(Qze.left,Yze(Jze).center,eBe);function nBe(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rBe(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function oBe(){}var iBe=.7,aBe=1/iBe,sBe="\\s*([+-]?\\d+)\\s*",lBe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cBe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uBe=/^#([0-9a-f]{3,8})$/,dBe=new RegExp(`^rgb\\(${sBe},${sBe},${sBe}\\)$`),fBe=new RegExp(`^rgb\\(${cBe},${cBe},${cBe}\\)$`),pBe=new RegExp(`^rgba\\(${sBe},${sBe},${sBe},${lBe}\\)$`),hBe=new RegExp(`^rgba\\(${cBe},${cBe},${cBe},${lBe}\\)$`),mBe=new RegExp(`^hsl\\(${lBe},${cBe},${cBe}\\)$`),vBe=new RegExp(`^hsla\\(${lBe},${cBe},${cBe},${lBe}\\)$`),gBe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yBe(){return this.rgb().formatHex()}function bBe(){return this.rgb().formatRgb()}function wBe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=uBe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?xBe(t):3===n?new EBe(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?SBe(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?SBe(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=dBe.exec(e))?new EBe(t[1],t[2],t[3],1):(t=fBe.exec(e))?new EBe(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=pBe.exec(e))?SBe(t[1],t[2],t[3],t[4]):(t=hBe.exec(e))?SBe(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=mBe.exec(e))?PBe(t[1],t[2]/100,t[3]/100,1):(t=vBe.exec(e))?PBe(t[1],t[2]/100,t[3]/100,t[4]):gBe.hasOwnProperty(e)?xBe(gBe[e]):"transparent"===e?new EBe(NaN,NaN,NaN,0):null}function xBe(e){return new EBe(e>>16&255,e>>8&255,255&e,1)}function SBe(e,t,n,r){return r<=0&&(e=t=n=NaN),new EBe(e,t,n,r)}function kBe(e,t,n,r){return 1===arguments.length?function(e){return e instanceof oBe||(e=wBe(e)),e?new EBe((e=e.rgb()).r,e.g,e.b,e.opacity):new EBe}(e):new EBe(e,t,n,null==r?1:r)}function EBe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function OBe(){return`#${TBe(this.r)}${TBe(this.g)}${TBe(this.b)}`}function jBe(){const e=_Be(this.opacity);return`${1===e?"rgb(":"rgba("}${CBe(this.r)}, ${CBe(this.g)}, ${CBe(this.b)}${1===e?")":`, ${e})`}`}function _Be(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function CBe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function TBe(e){return((e=CBe(e))<16?"0":"")+e.toString(16)}function PBe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new NBe(e,t,n,r)}function ABe(e){if(e instanceof NBe)return new NBe(e.h,e.s,e.l,e.opacity);if(e instanceof oBe||(e=wBe(e)),!e)return new NBe;if(e instanceof NBe)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),a=NaN,s=i-o,l=(i+o)/2;return s?(a=t===i?(n-r)/s+6*(n<r):n===i?(r-t)/s+2:(t-n)/s+4,s/=l<.5?i+o:2-i-o,a*=60):s=l>0&&l<1?0:a,new NBe(a,s,l,e.opacity)}function NBe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function MBe(e){return(e=(e||0)%360)<0?e+360:e}function IBe(e){return Math.max(0,Math.min(1,e||0))}function RBe(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function LBe(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}nBe(oBe,wBe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yBe,formatHex:yBe,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ABe(this).formatHsl()},formatRgb:bBe,toString:bBe}),nBe(EBe,kBe,rBe(oBe,{brighter(e){return e=null==e?aBe:Math.pow(aBe,e),new EBe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?iBe:Math.pow(iBe,e),new EBe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new EBe(CBe(this.r),CBe(this.g),CBe(this.b),_Be(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:OBe,formatHex:OBe,formatHex8:function(){return`#${TBe(this.r)}${TBe(this.g)}${TBe(this.b)}${TBe(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:jBe,toString:jBe})),nBe(NBe,(function(e,t,n,r){return 1===arguments.length?ABe(e):new NBe(e,t,n,null==r?1:r)}),rBe(oBe,{brighter(e){return e=null==e?aBe:Math.pow(aBe,e),new NBe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?iBe:Math.pow(iBe,e),new NBe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new EBe(RBe(e>=240?e-240:e+120,o,r),RBe(e,o,r),RBe(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new NBe(MBe(this.h),IBe(this.s),IBe(this.l),_Be(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_Be(this.opacity);return`${1===e?"hsl(":"hsla("}${MBe(this.h)}, ${100*IBe(this.s)}%, ${100*IBe(this.l)}%${1===e?")":`, ${e})`}`}}));const DBe=e=>()=>e;function FBe(e,t){return function(n){return e+n*t}}function zBe(e){return 1==(e=+e)?BBe:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):DBe(isNaN(t)?n:t)}}function BBe(e,t){var n=t-e;return n?FBe(e,n):DBe(isNaN(e)?t:e)}const $Be=function e(t){var n=zBe(t);function r(e,t){var r=n((e=kBe(e)).r,(t=kBe(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),a=BBe(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function UBe(e){return function(t){var n,r,o=t.length,i=new Array(o),a=new Array(o),s=new Array(o);for(n=0;n<o;++n)r=kBe(t[n]),i[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return i=e(i),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=i(e),r.g=a(e),r.b=s(e),r+""}}}UBe((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],a=r>0?e[r-1]:2*o-i,s=r<t-1?e[r+2]:2*i-o;return LBe((n-r/t)*t,a,o,i,s)}})),UBe((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return LBe((n-r/t)*t,o,i,a,s)}}));function VBe(e,t){var n,r=t?t.length:0,o=e?Math.min(r,e.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=ZBe(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<o;++n)a[n]=i[n](e);return a}}function HBe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function WBe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function qBe(e,t){var n,r={},o={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=ZBe(e[n],t[n]):o[n]=t[n];return function(e){for(n in r)o[n]=r[n](e);return o}}var GBe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,KBe=new RegExp(GBe.source,"g");function XBe(e,t){var n,r,o,i=GBe.lastIndex=KBe.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=GBe.exec(e))&&(r=KBe.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:WBe(n,r)})),i=KBe.lastIndex;return i<t.length&&(o=t.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function YBe(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,o=t.slice();return function(i){for(n=0;n<r;++n)o[n]=e[n]*(1-i)+t[n]*i;return o}}function ZBe(e,t){var n,r=typeof t;return null==t||"boolean"===r?DBe(t):("number"===r?WBe:"string"===r?(n=wBe(t))?(t=n,$Be):XBe:t instanceof wBe?$Be:t instanceof Date?HBe:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?YBe:Array.isArray(t)?VBe:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?qBe:WBe)(e,t)}function JBe(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function QBe(e){return+e}var e$e=[0,1];function t$e(e){return e}function n$e(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function r$e(e,t,n){var r=e[0],o=e[1],i=t[0],a=t[1];return o<r?(r=n$e(o,r),i=n(a,i)):(r=n$e(r,o),i=n(i,a)),function(e){return i(r(e))}}function o$e(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)o[a]=n$e(e[a],e[a+1]),i[a]=n(t[a],t[a+1]);return function(t){var n=tBe(e,t,1,r)-1;return i[n](o[n](t))}}function i$e(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function a$e(){var e,t,n,r,o,i,a=e$e,s=e$e,l=ZBe,c=t$e;function u(){var e=Math.min(a.length,s.length);return c!==t$e&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?o$e:r$e,o=i=null,d}function d(t){return null==t||isNaN(t=+t)?n:(o||(o=r(a.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((i||(i=r(s,a.map(e),WBe)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,QBe),u()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=JBe,u()},d.clamp=function(e){return arguments.length?(c=!!e||t$e,u()):c!==t$e},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function s$e(){return a$e()(t$e,t$e)}var l$e,c$e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u$e(e){if(!(t=c$e.exec(e)))throw new Error("invalid format: "+e);var t;return new d$e({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function d$e(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function f$e(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function p$e(e){return(e=f$e(Math.abs(e)))?e[1]:NaN}function h$e(e,t){var n=f$e(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}u$e.prototype=d$e.prototype,d$e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const m$e={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>h$e(100*e,t),r:h$e,s:function(e,t){var n=f$e(e,t);if(!n)return e+"";var r=n[0],o=n[1],i=o-(l$e=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+f$e(e,Math.max(0,t+i-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v$e(e){return e}var g$e,y$e,b$e,w$e=Array.prototype.map,x$e=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function S$e(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?v$e:(t=w$e.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var o=e.length,i=[],a=0,s=t[0],l=0;o>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(e.substring(o-=s,o+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return i.reverse().join(n)}),o=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?v$e:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(w$e.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=u$e(e)).fill,n=e.align,d=e.sign,f=e.symbol,p=e.zero,h=e.width,m=e.comma,v=e.precision,g=e.trim,y=e.type;"n"===y?(m=!0,y="g"):m$e[y]||(void 0===v&&(v=12),g=!0,y="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var b="$"===f?o:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===f?i:/[%p]/.test(y)?l:"",x=m$e[y],S=/[defgprs%]/.test(y);function k(e){var o,i,l,f=b,k=w;if("c"===y)k=x(e)+k,e="";else{var E=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:x(Math.abs(e),v),g&&(e=function(e){e:for(var t,n=e.length,r=1,o=-1;r<n;++r)switch(e[r]){case".":o=t=r;break;case"0":0===o&&(o=r),t=r;break;default:if(!+e[r])break e;o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(t+1):e}(e)),E&&0==+e&&"+"!==d&&(E=!1),f=(E?"("===d?d:c:"-"===d||"("===d?"":d)+f,k=("s"===y?x$e[8+l$e/3]:"")+k+(E&&"("===d?")":""),S)for(o=-1,i=e.length;++o<i;)if(48>(l=e.charCodeAt(o))||l>57){k=(46===l?a+e.slice(o+1):e.slice(o))+k,e=e.slice(0,o);break}}m&&!p&&(e=r(e,1/0));var O=f.length+e.length+k.length,j=O<h?new Array(h-O+1).join(t):"";switch(m&&p&&(e=r(j+e,j.length?h-k.length:1/0),j=""),n){case"<":e=f+e+k+j;break;case"=":e=f+j+e+k;break;case"^":e=j.slice(0,O=j.length>>1)+f+e+k+j.slice(O);break;default:e=j+f+e+k}return s(e)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return e+""},k}return{format:d,formatPrefix:function(e,t){var n=d(((e=u$e(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(p$e(t)/3))),o=Math.pow(10,-r),i=x$e[8+r/3];return function(e){return n(o*e)+i}}}}function k$e(e,t,n,r){var o,i=Gze(e,t,n);switch((r=u$e(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(o=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(p$e(t)/3)))-p$e(Math.abs(e)))}(i,a))||(r.precision=o),b$e(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,p$e(t)-p$e(e))+1}(i,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(e){return Math.max(0,-p$e(Math.abs(e)))}(i))||(r.precision=o-2*("%"===r.type))}return y$e(r)}function E$e(e){var t=e.domain;return e.ticks=function(e){var n=t();return Wze(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return k$e(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,o,i=t(),a=0,s=i.length-1,l=i[a],c=i[s],u=10;for(c<l&&(o=l,l=c,c=o,o=a,a=s,s=o);u-- >0;){if((o=qze(l,c,n))===r)return i[a]=l,i[s]=c,t(i);if(o>0)l=Math.floor(l/o)*o,c=Math.ceil(c/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,c=Math.floor(c*o)/o}r=o}return e},e}function O$e(){var e=s$e();return e.copy=function(){return i$e(e,O$e())},qFe.apply(e,arguments),E$e(e)}function j$e(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,QBe),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return j$e(e).unknown(t)},e=arguments.length?Array.from(e,QBe):[0,1],E$e(n)}function _$e(e,t){var n,r=0,o=(e=e.slice()).length-1,i=e[r],a=e[o];return a<i&&(n=r,r=o,o=n,n=i,i=a,a=n),e[r]=t.floor(i),e[o]=t.ceil(a),e}function C$e(e){return Math.log(e)}function T$e(e){return Math.exp(e)}function P$e(e){return-Math.log(-e)}function A$e(e){return-Math.exp(-e)}function N$e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function M$e(e){return(t,n)=>-e(-t,n)}function I$e(e){const t=e(C$e,T$e),n=t.domain;let r,o,i=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(i),o=function(e){return 10===e?N$e:e===Math.E?Math.exp:t=>Math.pow(e,t)}(i),n()[0]<0?(r=M$e(r),o=M$e(o),e(P$e,A$e)):e(C$e,T$e),t}return t.base=function(e){return arguments.length?(i=+e,a()):i},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let c,u,d=r(a),f=r(s);const p=null==e?10:+e;let h=[];if(!(i%1)&&f-d<p){if(d=Math.floor(d),f=Math.ceil(f),a>0){for(;d<=f;++d)for(c=1;c<i;++c)if(u=d<0?c/o(-d):c*o(d),!(u<a)){if(u>s)break;h.push(u)}}else for(;d<=f;++d)for(c=i-1;c>=1;--c)if(u=d>0?c/o(-d):c*o(d),!(u<a)){if(u>s)break;h.push(u)}2*h.length<p&&(h=Wze(a,s,p))}else h=Wze(d,f,Math.min(f-d,p)).map(o);return l?h.reverse():h},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===i?"s":","),"function"!=typeof n&&(i%1||null!=(n=u$e(n)).precision||(n.trim=!0),n=y$e(n)),e===1/0)return n;const a=Math.max(1,i*e/t.ticks().length);return e=>{let t=e/o(Math.round(r(e)));return t*i<i-.5&&(t*=i),t<=a?n(e):""}},t.nice=()=>n(_$e(n(),{floor:e=>o(Math.floor(r(e))),ceil:e=>o(Math.ceil(r(e)))})),t}function R$e(){const e=I$e(a$e()).domain([1,10]);return e.copy=()=>i$e(e,R$e()).base(e.base()),qFe.apply(e,arguments),e}function L$e(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function D$e(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F$e(e){var t=1,n=e(L$e(t),D$e(t));return n.constant=function(n){return arguments.length?e(L$e(t=+n),D$e(t)):t},E$e(n)}function z$e(){var e=F$e(a$e());return e.copy=function(){return i$e(e,z$e()).constant(e.constant())},qFe.apply(e,arguments)}function B$e(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $$e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function U$e(e){return e<0?-e*e:e*e}function V$e(e){var t=e(t$e,t$e),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(t$e,t$e):.5===n?e($$e,U$e):e(B$e(n),B$e(1/n)):n},E$e(t)}function H$e(){var e=V$e(a$e());return e.copy=function(){return i$e(e,H$e()).exponent(e.exponent())},qFe.apply(e,arguments),e}function W$e(){return H$e.apply(null,arguments).exponent(.5)}function q$e(e){return Math.sign(e)*e*e}function G$e(){var e,t=s$e(),n=[0,1],r=!1;function o(n){var o=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(o)?e:r?Math.round(o):o}return o.invert=function(e){return t.invert(q$e(e))},o.domain=function(e){return arguments.length?(t.domain(e),o):t.domain()},o.range=function(e){return arguments.length?(t.range((n=Array.from(e,QBe)).map(q$e)),o):n.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(r=!!e,o):r},o.clamp=function(e){return arguments.length?(t.clamp(e),o):t.clamp()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return G$e(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},qFe.apply(o,arguments),E$e(o)}function K$e(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n<o||void 0===n&&o>=o)&&(n=o)}return n}function X$e(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let o of e)null!=(o=t(o,++r,e))&&(n>o||void 0===n&&o>=o)&&(n=o)}return n}function Y$e(e=Kze){if(e===Kze)return Z$e;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function Z$e(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function J$e(e,t,n=0,r=1/0,o){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(o=void 0===o?Z$e:Y$e(o);r>n;){if(r-n>600){const i=r-n+1,a=t-n+1,s=Math.log(i),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(i-l)/i)*(a-i/2<0?-1:1);J$e(e,t,Math.max(n,Math.floor(t-a*l/i+c)),Math.min(r,Math.floor(t+(i-a)*l/i+c)),o)}const i=e[t];let a=n,s=r;for(Q$e(e,n,t),o(e[r],i)>0&&Q$e(e,n,r);a<s;){for(Q$e(e,a,s),++a,--s;o(e[a],i)<0;)++a;for(;o(e[s],i)>0;)--s}0===o(e[n],i)?Q$e(e,n,s):(++s,Q$e(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Q$e(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function eUe(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return X$e(e);if(t>=1)return K$e(e);var r,o=(r-1)*t,i=Math.floor(o),a=K$e(J$e(e,i).subarray(0,i+1));return a+(X$e(e.subarray(i+1))-a)*(o-i)}}function tUe(e,t,n=Jze){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e);return a+(+n(e[i+1],i+1,e)-a)*(o-i)}}function nUe(){var e,t=[],n=[],r=[];function o(){var e=0,o=Math.max(1,n.length);for(r=new Array(o-1);++e<o;)r[e-1]=tUe(t,e/o);return i}function i(t){return null==t||isNaN(t=+t)?e:n[tBe(r,t)]}return i.invertExtent=function(e){var o=n.indexOf(e);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},i.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(Kze),o()},i.range=function(e){return arguments.length?(n=Array.from(e),o()):n.slice()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.quantiles=function(){return r.slice()},i.copy=function(){return nUe().domain(t).range(n).unknown(e)},qFe.apply(i,arguments)}function rUe(){var e,t=0,n=1,r=1,o=[.5],i=[0,1];function a(t){return null!=t&&t<=t?i[tBe(o,t,0,r)]:e}function s(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(i=Array.from(e)).length-1,s()):i.slice()},a.invertExtent=function(e){var a=i.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,o[0]]:a>=r?[o[r-1],n]:[o[a-1],o[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return rUe().domain([t,n]).range(i).unknown(e)},qFe.apply(E$e(a),arguments)}function oUe(){var e,t=[.5],n=[0,1],r=1;function o(o){return null!=o&&o<=o?n[tBe(t,o,0,r)]:e}return o.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),o):t.slice()},o.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),o):n.slice()},o.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},o.unknown=function(t){return arguments.length?(e=t,o):e},o.copy=function(){return oUe().domain(t).range(n).unknown(e)},qFe.apply(o,arguments)}!function(e){g$e=S$e(e),y$e=g$e.format,b$e=g$e.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const iUe=1e3,aUe=6e4,sUe=36e5,lUe=864e5,cUe=6048e5,uUe=2592e6,dUe=31536e6,fUe=new Date,pUe=new Date;function hUe(e,t,n,r){function o(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o.floor=t=>(e(t=new Date(+t)),t),o.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),o.round=e=>{const t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),o.range=(n,r,i)=>{const a=[];if(n=o.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;let s;do{a.push(s=new Date(+n)),t(n,i),e(n)}while(s<n&&n<r);return a},o.filter=n=>hUe((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(o.count=(t,r)=>(fUe.setTime(+t),pUe.setTime(+r),e(fUe),e(pUe),Math.floor(n(fUe,pUe))),o.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(r?t=>r(t)%e==0:t=>o.count(0,t)%e==0):o:null)),o}const mUe=hUe((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));mUe.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?hUe((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):mUe:null);mUe.range;const vUe=hUe((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*iUe)}),((e,t)=>(t-e)/iUe),(e=>e.getUTCSeconds())),gUe=(vUe.range,hUe((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*iUe)}),((e,t)=>{e.setTime(+e+t*aUe)}),((e,t)=>(t-e)/aUe),(e=>e.getMinutes()))),yUe=(gUe.range,hUe((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*aUe)}),((e,t)=>(t-e)/aUe),(e=>e.getUTCMinutes()))),bUe=(yUe.range,hUe((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*iUe-e.getMinutes()*aUe)}),((e,t)=>{e.setTime(+e+t*sUe)}),((e,t)=>(t-e)/sUe),(e=>e.getHours()))),wUe=(bUe.range,hUe((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*sUe)}),((e,t)=>(t-e)/sUe),(e=>e.getUTCHours()))),xUe=(wUe.range,hUe((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aUe)/lUe),(e=>e.getDate()-1))),SUe=(xUe.range,hUe((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/lUe),(e=>e.getUTCDate()-1))),kUe=(SUe.range,hUe((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/lUe),(e=>Math.floor(e/lUe))));kUe.range;function EUe(e){return hUe((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aUe)/cUe))}const OUe=EUe(0),jUe=EUe(1),_Ue=EUe(2),CUe=EUe(3),TUe=EUe(4),PUe=EUe(5),AUe=EUe(6);OUe.range,jUe.range,_Ue.range,CUe.range,TUe.range,PUe.range,AUe.range;function NUe(e){return hUe((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/cUe))}const MUe=NUe(0),IUe=NUe(1),RUe=NUe(2),LUe=NUe(3),DUe=NUe(4),FUe=NUe(5),zUe=NUe(6),BUe=(MUe.range,IUe.range,RUe.range,LUe.range,DUe.range,FUe.range,zUe.range,hUe((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),$Ue=(BUe.range,hUe((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),UUe=($Ue.range,hUe((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));UUe.every=e=>isFinite(e=Math.floor(e))&&e>0?hUe((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;UUe.range;const VUe=hUe((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));VUe.every=e=>isFinite(e=Math.floor(e))&&e>0?hUe((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;VUe.range;function HUe(e,t,n,r,o,i){const a=[[vUe,1,iUe],[vUe,5,5e3],[vUe,15,15e3],[vUe,30,3e4],[i,1,aUe],[i,5,3e5],[i,15,9e5],[i,30,18e5],[o,1,sUe],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,lUe],[r,2,1728e5],[n,1,cUe],[t,1,uUe],[t,3,7776e6],[e,1,dUe]];function s(t,n,r){const o=Math.abs(n-t)/r,i=Yze((([,,e])=>e)).right(a,o);if(i===a.length)return e.every(Gze(t/dUe,n/dUe,r));if(0===i)return mUe.every(Math.max(Gze(t,n,r),1));const[s,l]=a[o/a[i-1][2]<a[i][2]/o?i-1:i];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const o=n&&"function"==typeof n.range?n:s(e,t,n),i=o?o.range(e,+t+1):[];return r?i.reverse():i},s]}const[WUe,qUe]=HUe(VUe,$Ue,MUe,kUe,wUe,yUe),[GUe,KUe]=HUe(UUe,BUe,OUe,xUe,bUe,gUe);function XUe(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YUe(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ZUe(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var JUe,QUe,eVe,tVe={"-":"",_:" ",0:"0"},nVe=/^\s*\d+/,rVe=/^%/,oVe=/[\\^$*+?|[\]().{}]/g;function iVe(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",i=o.length;return r+(i<n?new Array(n-i+1).join(t)+o:o)}function aVe(e){return e.replace(oVe,"\\$&")}function sVe(e){return new RegExp("^(?:"+e.map(aVe).join("|")+")","i")}function lVe(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function cVe(e,t,n){var r=nVe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uVe(e,t,n){var r=nVe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function pVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function hVe(e,t,n){var r=nVe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function mVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vVe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gVe(e,t,n){var r=nVe.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function yVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function bVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function wVe(e,t,n){var r=nVe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function xVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kVe(e,t,n){var r=nVe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function EVe(e,t,n){var r=nVe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function OVe(e,t,n){var r=nVe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jVe(e,t,n){var r=rVe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function _Ve(e,t,n){var r=nVe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function CVe(e,t,n){var r=nVe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function TVe(e,t){return iVe(e.getDate(),t,2)}function PVe(e,t){return iVe(e.getHours(),t,2)}function AVe(e,t){return iVe(e.getHours()%12||12,t,2)}function NVe(e,t){return iVe(1+xUe.count(UUe(e),e),t,3)}function MVe(e,t){return iVe(e.getMilliseconds(),t,3)}function IVe(e,t){return MVe(e,t)+"000"}function RVe(e,t){return iVe(e.getMonth()+1,t,2)}function LVe(e,t){return iVe(e.getMinutes(),t,2)}function DVe(e,t){return iVe(e.getSeconds(),t,2)}function FVe(e){var t=e.getDay();return 0===t?7:t}function zVe(e,t){return iVe(OUe.count(UUe(e)-1,e),t,2)}function BVe(e){var t=e.getDay();return t>=4||0===t?TUe(e):TUe.ceil(e)}function $Ve(e,t){return e=BVe(e),iVe(TUe.count(UUe(e),e)+(4===UUe(e).getDay()),t,2)}function UVe(e){return e.getDay()}function VVe(e,t){return iVe(jUe.count(UUe(e)-1,e),t,2)}function HVe(e,t){return iVe(e.getFullYear()%100,t,2)}function WVe(e,t){return iVe((e=BVe(e)).getFullYear()%100,t,2)}function qVe(e,t){return iVe(e.getFullYear()%1e4,t,4)}function GVe(e,t){var n=e.getDay();return iVe((e=n>=4||0===n?TUe(e):TUe.ceil(e)).getFullYear()%1e4,t,4)}function KVe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+iVe(t/60|0,"0",2)+iVe(t%60,"0",2)}function XVe(e,t){return iVe(e.getUTCDate(),t,2)}function YVe(e,t){return iVe(e.getUTCHours(),t,2)}function ZVe(e,t){return iVe(e.getUTCHours()%12||12,t,2)}function JVe(e,t){return iVe(1+SUe.count(VUe(e),e),t,3)}function QVe(e,t){return iVe(e.getUTCMilliseconds(),t,3)}function eHe(e,t){return QVe(e,t)+"000"}function tHe(e,t){return iVe(e.getUTCMonth()+1,t,2)}function nHe(e,t){return iVe(e.getUTCMinutes(),t,2)}function rHe(e,t){return iVe(e.getUTCSeconds(),t,2)}function oHe(e){var t=e.getUTCDay();return 0===t?7:t}function iHe(e,t){return iVe(MUe.count(VUe(e)-1,e),t,2)}function aHe(e){var t=e.getUTCDay();return t>=4||0===t?DUe(e):DUe.ceil(e)}function sHe(e,t){return e=aHe(e),iVe(DUe.count(VUe(e),e)+(4===VUe(e).getUTCDay()),t,2)}function lHe(e){return e.getUTCDay()}function cHe(e,t){return iVe(IUe.count(VUe(e)-1,e),t,2)}function uHe(e,t){return iVe(e.getUTCFullYear()%100,t,2)}function dHe(e,t){return iVe((e=aHe(e)).getUTCFullYear()%100,t,2)}function fHe(e,t){return iVe(e.getUTCFullYear()%1e4,t,4)}function pHe(e,t){var n=e.getUTCDay();return iVe((e=n>=4||0===n?DUe(e):DUe.ceil(e)).getUTCFullYear()%1e4,t,4)}function hHe(){return"+0000"}function mHe(){return"%"}function vHe(e){return+e}function gHe(e){return Math.floor(+e/1e3)}function yHe(e){return new Date(e)}function bHe(e){return e instanceof Date?+e:+new Date(+e)}function wHe(e,t,n,r,o,i,a,s,l,c){var u=s$e(),d=u.invert,f=u.domain,p=c(".%L"),h=c(":%S"),m=c("%I:%M"),v=c("%I %p"),g=c("%a %d"),y=c("%b %d"),b=c("%B"),w=c("%Y");function x(e){return(l(e)<e?p:s(e)<e?h:a(e)<e?m:i(e)<e?v:r(e)<e?o(e)<e?g:y:n(e)<e?b:w)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?f(Array.from(e,bHe)):f().map(yHe)},u.ticks=function(t){var n=f();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?x:c(t)},u.nice=function(e){var n=f();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?f(_$e(n,e)):u},u.copy=function(){return i$e(u,wHe(e,t,n,r,o,i,a,s,l,c))},u}function xHe(){return qFe.apply(wHe(GUe,KUe,UUe,BUe,OUe,xUe,bUe,gUe,vUe,QUe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SHe(){return qFe.apply(wHe(WUe,qUe,VUe,$Ue,MUe,SUe,wUe,yUe,vUe,eVe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kHe(){var e,t,n,r,o,i=0,a=1,s=t$e,l=!1;function c(t){return null==t||isNaN(t=+t)?o:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(o){return arguments.length?([i,a]=o,e=r(i=+i),t=r(a=+a),n=e===t?0:1/(t-e),c):[i,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(ZBe),c.rangeRound=u(JBe),c.unknown=function(e){return arguments.length?(o=e,c):o},function(o){return r=o,e=o(i),t=o(a),n=e===t?0:1/(t-e),c}}function EHe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OHe(){var e=E$e(kHe()(t$e));return e.copy=function(){return EHe(e,OHe())},GFe.apply(e,arguments)}function jHe(){var e=I$e(kHe()).domain([1,10]);return e.copy=function(){return EHe(e,jHe()).base(e.base())},GFe.apply(e,arguments)}function _He(){var e=F$e(kHe());return e.copy=function(){return EHe(e,_He()).constant(e.constant())},GFe.apply(e,arguments)}function CHe(){var e=V$e(kHe());return e.copy=function(){return EHe(e,CHe()).exponent(e.exponent())},GFe.apply(e,arguments)}function THe(){return CHe.apply(null,arguments).exponent(.5)}function PHe(){var e=[],t=t$e;function n(n){if(null!=n&&!isNaN(n=+n))return t((tBe(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(Kze),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>eUe(e,r/t)))},n.copy=function(){return PHe(t).domain(e)},GFe.apply(n,arguments)}function AHe(){var e,t,n,r,o,i,a,s=0,l=.5,c=1,u=1,d=t$e,f=!1;function p(e){return isNaN(e=+e)?a:(e=.5+((e=+i(e))-t)*(u*e<u*t?r:o),d(f?Math.max(0,Math.min(1,e)):e))}function h(e){return function(t){var n,r,o;return arguments.length?([n,r,o]=t,d=function(e,t){void 0===t&&(t=e,e=ZBe);for(var n=0,r=t.length-1,o=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(o,o=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return i[t](e-t)}}(e,[n,r,o]),p):[d(0),d(.5),d(1)]}}return p.domain=function(a){return arguments.length?([s,l,c]=a,e=i(s=+s),t=i(l=+l),n=i(c=+c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,p):[s,l,c]},p.clamp=function(e){return arguments.length?(f=!!e,p):f},p.interpolator=function(e){return arguments.length?(d=e,p):d},p.range=h(ZBe),p.rangeRound=h(JBe),p.unknown=function(e){return arguments.length?(a=e,p):a},function(a){return i=a,e=a(s),t=a(l),n=a(c),r=e===t?0:.5/(t-e),o=t===n?0:.5/(n-t),u=t<e?-1:1,p}}function NHe(){var e=E$e(AHe()(t$e));return e.copy=function(){return EHe(e,NHe())},GFe.apply(e,arguments)}function MHe(){var e=I$e(AHe()).domain([.1,1,10]);return e.copy=function(){return EHe(e,MHe()).base(e.base())},GFe.apply(e,arguments)}function IHe(){var e=F$e(AHe());return e.copy=function(){return EHe(e,IHe()).constant(e.constant())},GFe.apply(e,arguments)}function RHe(){var e=V$e(AHe());return e.copy=function(){return EHe(e,RHe()).exponent(e.exponent())},GFe.apply(e,arguments)}function LHe(){return RHe.apply(null,arguments).exponent(.5)}function DHe(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){JUe=function(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,i=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,c=sVe(o),u=lVe(o),d=sVe(i),f=lVe(i),p=sVe(a),h=lVe(a),m=sVe(s),v=lVe(s),g=sVe(l),y=lVe(l),b={a:function(e){return a[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:TVe,e:TVe,f:IVe,g:WVe,G:GVe,H:PVe,I:AVe,j:NVe,L:MVe,m:RVe,M:LVe,p:function(e){return o[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:vHe,s:gHe,S:DVe,u:FVe,U:zVe,V:$Ve,w:UVe,W:VVe,x:null,X:null,y:HVe,Y:qVe,Z:KVe,"%":mHe},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:XVe,e:XVe,f:eHe,g:dHe,G:pHe,H:YVe,I:ZVe,j:JVe,L:QVe,m:tHe,M:nHe,p:function(e){return o[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:vHe,s:gHe,S:rHe,u:oHe,U:iHe,V:sHe,w:lHe,W:cHe,x:null,X:null,y:uHe,Y:fHe,Z:hHe,"%":mHe},x={a:function(e,t,n){var r=p.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return E(e,t,n,r)},d:bVe,e:bVe,f:OVe,g:mVe,G:hVe,H:xVe,I:xVe,j:wVe,L:EVe,m:yVe,M:SVe,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:gVe,Q:_Ve,s:CVe,S:kVe,u:uVe,U:dVe,V:fVe,w:cVe,W:pVe,x:function(e,t,r){return E(e,n,t,r)},X:function(e,t,n){return E(e,r,t,n)},y:mVe,Y:hVe,Z:vVe,"%":jVe};function S(e,t){return function(n){var r,o,i,a=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(o=tVe[r=e.charAt(++s)])?r=e.charAt(++s):o="e"===r?" ":"0",(i=t[r])&&(r=i(n,o)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function k(e,t){return function(n){var r,o,i=ZUe(1900,void 0,1);if(E(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(o=(r=YUe(ZUe(i.y,0,1))).getUTCDay(),r=o>4||0===o?IUe.ceil(r):IUe(r),r=SUe.offset(r,7*(i.V-1)),i.y=r.getUTCFullYear(),i.m=r.getUTCMonth(),i.d=r.getUTCDate()+(i.w+6)%7):(o=(r=XUe(ZUe(i.y,0,1))).getDay(),r=o>4||0===o?jUe.ceil(r):jUe(r),r=xUe.offset(r,7*(i.V-1)),i.y=r.getFullYear(),i.m=r.getMonth(),i.d=r.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),o="Z"in i?YUe(ZUe(i.y,0,1)).getUTCDay():XUe(ZUe(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(o+5)%7:i.w+7*i.U-(o+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,YUe(i)):XUe(i)}}function E(e,t,n,r){for(var o,i,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(o=t.charCodeAt(a++))){if(o=t.charAt(a++),!(i=x[o in tVe?t.charAt(a++):o])||(r=i(e,n,r))<0)return-1}else if(o!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=k(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=k(e+="",!0);return t.toString=function(){return e},t}}}(e),QUe=JUe.format,JUe.parse,eVe=JUe.utcFormat,JUe.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function FHe(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function zHe(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function BHe(e,t){return e[t]}function $He(e){const t=[];return t.key=e,t}var UHe=o(4506),VHe=o.n(UHe),HHe=o(1684),WHe=o.n(HHe),qHe=o(7307),GHe=o.n(qHe),KHe=o(8351),XHe=o.n(KHe);function YHe(e){return function(e){if(Array.isArray(e))return ZHe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ZHe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZHe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZHe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var JHe=function(e){return e},QHe={"@@functional/placeholder":!0},eWe=function(e){return e===QHe},tWe=function(e){return function t(){return 0===arguments.length||1===arguments.length&&eWe(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},nWe=function e(t,n){return 1===t?n:tWe((function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=o.filter((function(e){return e!==QHe})).length;return a>=t?n.apply(void 0,o):e(t-a,tWe((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=o.map((function(e){return eWe(e)?t.shift():e}));return n.apply(void 0,YHe(i).concat(t))})))}))},rWe=function(e){return nWe(e.length,e)},oWe=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},iWe=rWe((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),aWe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return JHe;var r=t.reverse(),o=r[0],i=r.slice(1);return function(){return i.reduce((function(e,t){return t(e)}),o.apply(void 0,arguments))}},sWe=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},lWe=function(e){var t=null,n=null;return function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t&&o.every((function(e,n){return e===t[n]}))?n:(t=o,n=e.apply(void 0,o))}};var cWe=rWe((function(e,t,n){var r=+e;return r+n*(+t-r)})),uWe=rWe((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),dWe=rWe((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const fWe={rangeStep:function(e,t,n){for(var r=new(XHe())(e),o=0,i=[];r.lt(t)&&o<1e5;)i.push(r.toNumber()),r=r.add(n),o++;return i},getDigitCount:function(e){return 0===e?1:Math.floor(new(XHe())(e).abs().log(10).toNumber())+1},interpolateNumber:cWe,uninterpolateNumber:uWe,uninterpolateTruncation:dWe};function pWe(e){return function(e){if(Array.isArray(e))return vWe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||mWe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hWe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||mWe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mWe(e,t){if(e){if("string"==typeof e)return vWe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vWe(e,t):void 0}}function vWe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gWe(e){var t=hWe(e,2),n=t[0],r=t[1],o=n,i=r;return n>r&&(o=r,i=n),[o,i]}function yWe(e,t,n){if(e.lte(0))return new(XHe())(0);var r=fWe.getDigitCount(e.toNumber()),o=new(XHe())(10).pow(r),i=e.div(o),a=1!==r?.05:.1,s=new(XHe())(Math.ceil(i.div(a).toNumber())).add(n).mul(a).mul(o);return t?s:new(XHe())(Math.ceil(s))}function bWe(e,t,n){var r=1,o=new(XHe())(e);if(!o.isint()&&n){var i=Math.abs(e);i<1?(r=new(XHe())(10).pow(fWe.getDigitCount(e)-1),o=new(XHe())(Math.floor(o.div(r).toNumber())).mul(r)):i>1&&(o=new(XHe())(Math.floor(e)))}else 0===e?o=new(XHe())(Math.floor((t-1)/2)):n||(o=new(XHe())(Math.floor(e)));var a=Math.floor((t-1)/2),s=aWe(iWe((function(e){return o.add(new(XHe())(e-a).mul(r)).toNumber()})),oWe);return s(0,t)}function wWe(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(XHe())(0),tickMin:new(XHe())(0),tickMax:new(XHe())(0)};var i,a=yWe(new(XHe())(t).sub(e).div(n-1),r,o);i=e<=0&&t>=0?new(XHe())(0):(i=new(XHe())(e).add(t).div(2)).sub(new(XHe())(i).mod(a));var s=Math.ceil(i.sub(e).div(a).toNumber()),l=Math.ceil(new(XHe())(t).sub(i).div(a).toNumber()),c=s+l+1;return c>n?wWe(e,t,n,r,o+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:a,tickMin:i.sub(new(XHe())(s).mul(a)),tickMax:i.add(new(XHe())(l).mul(a))})}var xWe=lWe((function(e){var t=hWe(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=hWe(gWe([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(pWe(oWe(0,o-1).map((function(){return 1/0})))):[].concat(pWe(oWe(0,o-1).map((function(){return-1/0}))),[c]);return n>r?sWe(u):u}if(l===c)return bWe(l,o,i);var d=wWe(l,c,a,i),f=d.step,p=d.tickMin,h=d.tickMax,m=fWe.rangeStep(p,h.add(new(XHe())(.1).mul(f)),f);return n>r?sWe(m):m})),SWe=(lWe((function(e){var t=hWe(e,2),n=t[0],r=t[1],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(o,2),s=hWe(gWe([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return bWe(l,o,i);var u=yWe(new(XHe())(c).sub(l).div(a-1),i,0),d=aWe(iWe((function(e){return new(XHe())(l).add(new(XHe())(e).mul(u)).toNumber()})),oWe),f=d(0,a).filter((function(e){return e>=l&&e<=c}));return n>r?sWe(f):f})),lWe((function(e,t){var n=hWe(e,2),r=n[0],o=n[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=hWe(gWe([r,o]),2),s=a[0],l=a[1];if(s===-1/0||l===1/0)return[r,o];if(s===l)return[s];var c=Math.max(t,2),u=yWe(new(XHe())(l).sub(s).div(c-1),i,0),d=[].concat(pWe(fWe.rangeStep(new(XHe())(s),new(XHe())(l).sub(new(XHe())(.99).mul(u)),u)),[l]);return r>o?sWe(d):d}))),kWe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function EWe(e){return EWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EWe(e)}function OWe(){return OWe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OWe.apply(this,arguments)}function jWe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CWe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function TWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RWe(r.key),r)}}function PWe(e,t,n){return t=NWe(t),function(e,t){if(t&&("object"===EWe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,AWe()?Reflect.construct(t,n||[],NWe(e).constructor):t.apply(e,n))}function AWe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(AWe=function(){return!!e})()}function NWe(e){return NWe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},NWe(e)}function MWe(e,t){return MWe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MWe(e,t)}function IWe(e,t,n){return(t=RWe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RWe(e){var t=function(e,t){if("object"!=EWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==EWe(t)?t:t+""}var LWe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),PWe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MWe(e,t)}(t,e),r=t,o=[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,o=e.width,i=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=CWe(e,kWe),d=AIe(u,!1);"x"===this.props.direction&&"number"!==l.type&&GIe(!1);var f=a.map((function(e){var a=s(e,i),u=a.x,f=a.y,p=a.value,h=a.errorVal;if(!h)return null;var m,v,g=[];if(Array.isArray(h)){var y=jWe(h,2);m=y[0],v=y[1]}else m=v=h;if("vertical"===r){var b=l.scale,w=f+t,x=w+o,S=w-o,k=b(p-m),E=b(p+v);g.push({x1:E,y1:x,x2:E,y2:S}),g.push({x1:k,y1:w,x2:E,y2:w}),g.push({x1:k,y1:x,x2:k,y2:S})}else if("horizontal"===r){var O=c.scale,j=u+t,_=j-o,C=j+o,T=O(p-m),P=O(p+v);g.push({x1:_,y1:P,x2:C,y2:P}),g.push({x1:j,y1:T,x2:j,y2:P}),g.push({x1:_,y1:T,x2:C,y2:T})}return n.createElement(tRe,OWe({className:"recharts-errorBar",key:"bar-".concat(g.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),g.map((function(e){return n.createElement("line",OWe({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return n.createElement(tRe,{className:"recharts-errorBars"},f)}}],o&&TWe(r.prototype,o),i&&TWe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function DWe(e){return DWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DWe(e)}function FWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FWe(Object(n),!0).forEach((function(t){BWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BWe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=DWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=DWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==DWe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}IWe(LWe,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),IWe(LWe,"displayName","ErrorBar");var $We=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,o=e.legendContent,i=jIe(t,rDe);if(!i)return null;var a,s=rDe.defaultProps,l=void 0!==s?zWe(zWe({},s),i.props):{};return a=i.props&&i.props.payload?i.props&&i.props.payload:"children"===o?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,o=r.sectors||r.data||[];return e.concat(o.map((function(e){return{type:i.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?zWe(zWe({},n),t.props):{},o=r.dataKey,i=r.name,a=r.legendType;return{inactive:r.hide,dataKey:o,type:l.iconType||a||"square",color:YWe(t),value:i||o,payload:r}})),zWe(zWe(zWe({},l),rDe.getWithHeight(i,r)),{},{payload:a,item:i})};function UWe(e){return UWe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UWe(e)}function VWe(e){return function(e){if(Array.isArray(e))return HWe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return HWe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HWe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function HWe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function WWe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qWe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WWe(Object(n),!0).forEach((function(t){GWe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WWe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function GWe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UWe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UWe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UWe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KWe(e,t,n){return nIe()(e)||nIe()(t)?n:GMe(t)?$Me()(e,t,n):oIe()(t)?t(e):n}function XWe(e,t,n,r){var o=GHe()(e,(function(e){return KWe(e,t)}));if("number"===n){var i=o.filter((function(e){return qMe(e)||parseFloat(e)}));return i.length?[WHe()(i),VHe()(i)]:[1/0,-1/0]}return(r?o.filter((function(e){return!nIe()(e)})):o).map((function(e){return GMe(e)||e instanceof Date?e:""}))}var YWe=function(e){var t,n,r=e.type.displayName,o=null!==(t=e.type)&&void 0!==t&&t.defaultProps?qWe(qWe({},e.type.defaultProps),e.props):e.props,i=o.stroke,a=o.fill;switch(r){case"Line":n=i;break;case"Area":case"Radar":n=i&&"none"!==i?i:a;break;default:n=a}return n},ZWe=function(e,t,n,r,o){var i=OIe(t.props.children,LWe).filter((function(e){return function(e,t,n){return!!nIe()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,o,e.props.direction)}));if(i&&i.length){var a=i.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=KWe(t,n);if(nIe()(r))return e;var o=Array.isArray(r)?[WHe()(r),VHe()(r)]:[r,r],i=a.reduce((function(e,n){var r=KWe(t,n,0),i=o[0]-Math.abs(Array.isArray(r)?r[0]:r),a=o[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(i,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(i[0],e[0]),Math.max(i[1],e[1])]}),[1/0,-1/0])}return null},JWe=function(e,t,n,r,o){var i=t.map((function(t){var i=t.props.dataKey;return"number"===n&&i&&ZWe(e,t,i,r)||XWe(e,i,n,o)}));if("number"===n)return i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return i.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},QWe=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},eqe=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var o,i,a=e.map((function(e){return e.coordinate===t&&(o=!0),e.coordinate===n&&(i=!0),e.coordinate}));return o||a.push(t),i||a.push(n),a},tqe=function(e,t,n){if(!e)return null;var r=e.scale,o=e.duplicateDomain,i=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===i&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null==a?void 0:a.length)>=2?2*HMe(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=o?o.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!zMe()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:o?o[e]:e,index:t,offset:l}}))},nqe=new WeakMap,rqe=function(e,t){if("function"!=typeof t)return e;nqe.has(e)||nqe.set(e,new WeakMap);var n=nqe.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},oqe=function(e,n,r){var o=e.scale,i=e.type,a=e.layout,s=e.axisType;if("auto"===o)return"radial"===a&&"radiusAxis"===s?{scale:tze(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:O$e(),realScaleType:"linear"}:"category"===i&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:rze(),realScaleType:"point"}:"category"===i?{scale:tze(),realScaleType:"band"}:{scale:O$e(),realScaleType:"linear"};if(DMe()(o)){var l="scale".concat(WRe()(o));return{scale:(t[l]||rze)(),realScaleType:t[l]?l:"point"}}return oIe()(o)?{scale:o}:{scale:rze(),realScaleType:"point"}},iqe=1e-4,aqe=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),o=Math.min(r[0],r[1])-iqe,i=Math.max(r[0],r[1])+iqe,a=e(t[0]),s=e(t[n-1]);(a<o||a>i||s<o||s>i)&&e.domain([t[0],t[n-1]])}},sqe={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0,a=0;a<t;++a){var s=zMe()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1]):(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}DHe(e,t)}},none:DHe,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}DHe(e,t)}},wiggle:function(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<o;++s){for(var u=e[t[s]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,p=0;p<s;++p){var h=e[t[p]];f+=(h[a][1]||0)-(h[a-1][1]||0)}l+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=i,l&&(i-=c/l)}n[a-1][1]+=n[a-1][0]=i,DHe(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var o=0,i=0;i<t;++i){var a=zMe()(e[i][n][1])?e[i][n][0]:e[i][n][1];a>=0?(e[i][n][0]=o,e[i][n][1]=o+a,o=e[i][n][1]):(e[i][n][0]=0,e[i][n][1]=0)}}},lqe=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),o=sqe[n],i=function(){var e=hLe([]),t=zHe,n=DHe,r=BHe;function o(o){var i,a,s=Array.from(e.apply(this,arguments),$He),l=s.length,c=-1;for(const e of o)for(i=0,++c;i<l;++i)(s[i][c]=[0,+r(e,s[i].key,c,o)]).data=e;for(i=0,a=FHe(t(s));i<l;++i)s[a[i]].index=i;return n(s,a),s}return o.keys=function(t){return arguments.length?(e="function"==typeof t?t:hLe(Array.from(t)),o):e},o.value=function(e){return arguments.length?(r="function"==typeof e?e:hLe(+e),o):r},o.order=function(e){return arguments.length?(t=null==e?zHe:"function"==typeof e?e:hLe(Array.from(e)),o):t},o.offset=function(e){return arguments.length?(n=null==e?DHe:e,o):n},o}().keys(r).value((function(e,t){return+KWe(e,t,0)})).order(zHe).offset(o);return i(e)},cqe=function(e,t){var n=t.realScaleType,r=t.type,o=t.tickCount,i=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(o&&"number"===r&&i&&("auto"===i[0]||"auto"===i[1])){var l=e.domain();if(!l.length)return null;var c=xWe(l,o,a);return e.domain([WHe()(c),VHe()(c)]),{niceTicks:c}}if(o&&"number"===r){var u=e.domain();return{niceTicks:SWe(u,o,a)}}return null};function uqe(e){var t=e.axis,n=e.ticks,r=e.bandSize,o=e.entry,i=e.index,a=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!nIe()(o[t.dataKey])){var s=QMe(n,"value",o[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=KWe(o,nIe()(a)?t.dataKey:a);return nIe()(l)?null:t.scale(l)}var dqe=function(e){var t=e.axis,n=e.ticks,r=e.offset,o=e.bandSize,i=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=KWe(i,t.dataKey,t.domain[a]);return nIe()(s)?null:t.scale(s)-o/2+r},fqe=function(e,t,n){return Object.keys(e).reduce((function(r,o){var i=e[o].stackedData.reduce((function(e,r){var o=r.slice(t,n+1).reduce((function(e,t){return[WHe()(t.concat([e[0]]).filter(qMe)),VHe()(t.concat([e[1]]).filter(qMe))]}),[1/0,-1/0]);return[Math.min(e[0],o[0]),Math.max(e[1],o[1])]}),[1/0,-1/0]);return[Math.min(i[0],r[0]),Math.max(i[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},pqe=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hqe=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mqe=function(e,t,n){if(oIe()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(qMe(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(pqe.test(e[0])){var o=+pqe.exec(e[0])[1];r[0]=t[0]-o}else oIe()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(qMe(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(hqe.test(e[1])){var i=+hqe.exec(e[1])[1];r[1]=t[1]+i}else oIe()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},vqe=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var o=WIe()(t,(function(e){return e.coordinate})),i=1/0,a=1,s=o.length;a<s;a++){var l=o[a],c=o[a-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return n?void 0:0},gqe=function(e,t,n){return e&&e.length?FV()(e,$Me()(n,"type.defaultProps.domain"))?t:e:t},yqe=function(e,t){var n=e.type.defaultProps?qWe(qWe({},e.type.defaultProps),e.props):e.props,r=n.dataKey,o=n.name,i=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return qWe(qWe({},AIe(e,!1)),{},{dataKey:r,unit:i,formatter:a,name:o||r,color:YWe(e),value:KWe(t,r),type:s,payload:t,chartType:l,hide:c})};function bqe(e){return bqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bqe(e)}function wqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xqe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wqe(Object(n),!0).forEach((function(t){Sqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sqe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bqe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bqe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bqe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kqe=["Webkit","Moz","O","ms"];function Eqe(e){return Eqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eqe(e)}function Oqe(){return Oqe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oqe.apply(this,arguments)}function jqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jqe(Object(n),!0).forEach((function(t){Mqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iqe(r.key),r)}}function Tqe(e,t,n){return t=Aqe(t),function(e,t){if(t&&("object"===Eqe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pqe()?Reflect.construct(t,n||[],Aqe(e).constructor):t.apply(e,n))}function Pqe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pqe=function(){return!!e})()}function Aqe(e){return Aqe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Aqe(e)}function Nqe(e,t){return Nqe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nqe(e,t)}function Mqe(e,t,n){return(t=Iqe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iqe(e){var t=function(e,t){if("object"!=Eqe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Eqe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Eqe(t)?t:t+""}var Rqe=function(e){return e.changedTouches&&!!e.changedTouches.length},Lqe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mqe(n=Tqe(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),Mqe(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),Mqe(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,o=e.startIndex;null==r||r({endIndex:t,startIndex:o})})),n.detachDragEndListener()})),Mqe(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),Mqe(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),Mqe(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),Mqe(n,"handleSlideDragStart",(function(e){var t=Rqe(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nqe(e,t)}(t,e),r=t,o=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,o=this.state.scaleValues,i=this.props,a=i.gap,s=i.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(o,l),d=t.getIndexInRange(o,c);return{startIndex:u-u%a,endIndex:d===s?s:d-d%a}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,o=t.dataKey,i=KWe(n[e],o,e);return oIe()(r)?r(i,e):i}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,o=t.endX,i=this.props,a=i.x,s=i.width,l=i.travellerWidth,c=i.startIndex,u=i.endIndex,d=i.onChange,f=e.pageX-n;f>0?f=Math.min(f,a+s-l-o,a+s-l-r):f<0&&(f=Math.max(f,a-r,a-o));var p=this.getIndex({startX:r+f,endX:o+f});p.startIndex===c&&p.endIndex===u||!d||d(p),this.setState({startX:r+f,endX:o+f,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=Rqe(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,o=t.endX,i=t.startX,a=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,f=s.gap,p=s.data,h={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-a):m<0&&(m=Math.max(m,l-a)),h[r]=a+m;var v=this.getIndex(h),g=v.startIndex,y=v.endIndex;this.setState(Mqe(Mqe({},r,a+m),"brushMoveStartX",e.pageX),(function(){var e;d&&(e=p.length-1,("startX"===r&&(o>i?g%f==0:y%f==0)||o<i&&y===e||"endX"===r&&(o>i?y%f==0:g%f==0)||o>i&&y===e)&&d(v))}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,o=r.scaleValues,i=r.startX,a=r.endX,s=this.state[t],l=o.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=o.length)){var u=o[c];"startX"===t&&u>=a||"endX"===t&&u<=i||this.setState(Mqe({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,i=e.height,a=e.fill,s=e.stroke;return n.createElement("rect",{stroke:s,fill:a,x:t,y:r,width:o,height:i})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,i=e.height,a=e.data,s=e.children,l=e.padding,c=n.Children.only(s);return c?n.cloneElement(c,{x:t,y:r,width:o,height:i,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,r){var o,i,a=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,f=s.ariaLabel,p=s.data,h=s.startIndex,m=s.endIndex,v=Math.max(e,this.props.x),g=_qe(_qe({},AIe(this.props,!1)),{},{x:v,y:l,width:c,height:u}),y=f||"Min value: ".concat(null===(o=p[h])||void 0===o?void 0:o.name,", Max value: ").concat(null===(i=p[m])||void 0===i?void 0:i.name);return n.createElement(tRe,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,g))}},{key:"renderSlide",value:function(e,t){var r=this.props,o=r.y,i=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return n.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:o,width:c,height:i})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,o=e.y,i=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return n.createElement(tRe,{className:"recharts-brush-texts"},n.createElement(Bze,Oqe({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:o+i/2},d),this.getTextOfTick(t)),n.createElement(Bze,Oqe({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+a+5,y:o+i/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,o=e.children,i=e.x,a=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,f=u.endX,p=u.isTextActive,h=u.isSlideMoving,m=u.isTravellerMoving,v=u.isTravellerFocused;if(!t||!t.length||!qMe(i)||!qMe(a)||!qMe(s)||!qMe(l)||s<=0||l<=0)return null;var g=je("recharts-brush",r),y=1===n.Children.count(o),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=kqe.reduce((function(e,r){return xqe(xqe({},e),{},Sqe({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return n.createElement(tRe,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(d,f),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(f,"endX"),(p||h||m||v||c)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,o=e.width,i=e.height,a=e.stroke,s=Math.floor(r+i/2)-1;return n.createElement(n.Fragment,null,n.createElement("rect",{x:t,y:r,width:o,height:i,fill:a,stroke:"none"}),n.createElement("line",{x1:t+1,y1:s,x2:t+o-1,y2:s,fill:"none",stroke:"#fff"}),n.createElement("line",{x1:t+1,y1:s+2,x2:t+o-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,r){return n.isValidElement(e)?n.cloneElement(e,r):oIe()(e)?e(r):t.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,o=e.x,i=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return _qe({prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,o=e.x,i=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=rze().domain(VIe()(0,s)).range([o,o+i-a]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:o,travellerWidth:i,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||o!==t.prevX||i!==t.prevTravellerWidth)){t.scale.range([o,o+r-i]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:i,prevUpdateId:a,prevX:o,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var o=Math.floor((n+r)/2);e[o]>t?r=o:n=o}return t>=e[r]?r:n}}],o&&Cqe(r.prototype,o),i&&Cqe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function Dqe(e){return Dqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dqe(e)}function Fqe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zqe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fqe(Object(n),!0).forEach((function(t){Bqe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fqe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bqe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Dqe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Dqe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Dqe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Uqe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uqe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uqe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Mqe(Lqe,"displayName","Brush"),Mqe(Lqe,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Vqe=Math.PI/180,Hqe=function(e){return 180*e/Math.PI},Wqe=function(e,t,n,r){return{x:e+Math.cos(-Vqe*r)*n,y:t+Math.sin(-Vqe*r)*n}},qqe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},Gqe=function(e,t,n,r,o){var i=e.width,a=e.height,s=e.startAngle,l=e.endAngle,c=YMe(e.cx,i,i/2),u=YMe(e.cy,a,a/2),d=qqe(i,a,n),f=YMe(e.innerRadius,d,0),p=YMe(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,n){var i,a=t[n],d=a.domain,h=a.reversed;if(nIe()(a.range))"angleAxis"===r?i=[s,l]:"radiusAxis"===r&&(i=[f,p]),h&&(i=[i[1],i[0]]);else{var m=$qe(i=a.range,2);s=m[0],l=m[1]}var v=oqe(a,o),g=v.realScaleType,y=v.scale;y.domain(d).range(i),aqe(y);var b=cqe(y,zqe(zqe({},a),{},{realScaleType:g})),w=zqe(zqe(zqe({},a),b),{},{range:i,radius:p,realScaleType:g,scale:y,cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:s,endAngle:l});return zqe(zqe({},e),{},Bqe({},n,w))}),{})},Kqe=function(e,t){var n=e.x,r=e.y,o=t.cx,i=t.cy,a=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(r-i,2))}({x:n,y:r},{x:o,y:i});if(a<=0)return{radius:a};var s=(n-o)/a,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:a,angle:Hqe(l),angleInRadian:l}},Xqe=function(e,t){var n=t.startAngle,r=t.endAngle,o=Math.floor(n/360),i=Math.floor(r/360);return e+360*Math.min(o,i)},Yqe=function(e,t){var n=e.x,r=e.y,o=Kqe({x:n,y:r},t),i=o.radius,a=o.angle,s=t.innerRadius,l=t.outerRadius;if(i<s||i>l)return!1;if(0===i)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),o=Math.floor(n/360),i=Math.min(r,o);return{startAngle:t-360*i,endAngle:n-360*i}}(t),d=u.startAngle,f=u.endAngle,p=a;if(d<=f){for(;p>f;)p-=360;for(;p<d;)p+=360;c=p>=d&&p<=f}else{for(;p>d;)p-=360;for(;p<f;)p+=360;c=p>=f&&p<=d}return c?zqe(zqe({},t),{},{radius:i,angle:Xqe(p,t)}):null},Zqe=function(e){return(0,n.isValidElement)(e)||oIe()(e)||"boolean"==typeof e?"":e.className};function Jqe(e){return Jqe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jqe(e)}var Qqe=["offset"];function eGe(e){return function(e){if(Array.isArray(e))return tGe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tGe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tGe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tGe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nGe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function rGe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oGe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rGe(Object(n),!0).forEach((function(t){iGe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rGe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iGe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Jqe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jqe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Jqe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aGe(){return aGe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aGe.apply(this,arguments)}var sGe=function(e,t,r){var o,i,a=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,f=u.cy,p=u.innerRadius,h=u.outerRadius,m=u.startAngle,v=u.endAngle,g=u.clockWise,y=(p+h)/2,b=function(e,t){return HMe(t-e)*Math.min(Math.abs(t-e),360)}(m,v),w=b>=0?1:-1;"insideStart"===a?(o=m+w*l,i=g):"insideEnd"===a?(o=v-w*l,i=!g):"end"===a&&(o=v+w*l,i=g),i=b<=0?i:!i;var x=Wqe(d,f,y,o),S=Wqe(d,f,y,o+359*(i?1:-1)),k="M".concat(x.x,",").concat(x.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(i?0:1,",\n    ").concat(S.x,",").concat(S.y),E=nIe()(e.id)?XMe("recharts-radial-line-"):e.id;return n.createElement("text",aGe({},r,{dominantBaseline:"central",className:je("recharts-radial-bar-label",c)}),n.createElement("defs",null,n.createElement("path",{id:E,d:k})),n.createElement("textPath",{xlinkHref:"#".concat(E)},t))};function lGe(e){var t,r=e.offset,o=oGe({offset:void 0===r?5:r},nGe(e,Qqe)),i=o.viewBox,a=o.position,s=o.value,l=o.children,c=o.content,u=o.className,d=void 0===u?"":u,f=o.textBreakAll;if(!i||nIe()(s)&&nIe()(l)&&!(0,n.isValidElement)(c)&&!oIe()(c))return null;if((0,n.isValidElement)(c))return(0,n.cloneElement)(c,o);if(oIe()(c)){if(t=(0,n.createElement)(c,o),(0,n.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=nIe()(e.children)?t:e.children;return oIe()(n)?n(r):r}(o);var p=function(e){return"cx"in e&&qMe(e.cx)}(i),h=AIe(o,!0);if(p&&("insideStart"===a||"insideEnd"===a||"end"===a))return sGe(o,t,h);var m=p?function(e){var t=e.viewBox,n=e.offset,r=e.position,o=t,i=o.cx,a=o.cy,s=o.innerRadius,l=o.outerRadius,c=(o.startAngle+o.endAngle)/2;if("outside"===r){var u=Wqe(i,a,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=i?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:i,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=Wqe(i,a,(s+l)/2,c);return{x:f.x,y:f.y,textAnchor:"middle",verticalAnchor:"middle"}}(o):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,o=e.position,i=t,a=i.x,s=i.y,l=i.width,c=i.height,u=c>=0?1:-1,d=u*r,f=u>0?"end":"start",p=u>0?"start":"end",h=l>=0?1:-1,m=h*r,v=h>0?"end":"start",g=h>0?"start":"end";if("top"===o)return oGe(oGe({},{x:a+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===o)return oGe(oGe({},{x:a+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===o){var y={x:a-m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"};return oGe(oGe({},y),n?{width:Math.max(y.x-n.x,0),height:c}:{})}if("right"===o){var b={x:a+l+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return oGe(oGe({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var w=n?{width:l,height:c}:{};return"insideLeft"===o?oGe({x:a+m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},w):"insideRight"===o?oGe({x:a+l-m,y:s+c/2,textAnchor:v,verticalAnchor:"middle"},w):"insideTop"===o?oGe({x:a+l/2,y:s+d,textAnchor:"middle",verticalAnchor:p},w):"insideBottom"===o?oGe({x:a+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:f},w):"insideTopLeft"===o?oGe({x:a+m,y:s+d,textAnchor:g,verticalAnchor:p},w):"insideTopRight"===o?oGe({x:a+l-m,y:s+d,textAnchor:v,verticalAnchor:p},w):"insideBottomLeft"===o?oGe({x:a+m,y:s+c-d,textAnchor:g,verticalAnchor:f},w):"insideBottomRight"===o?oGe({x:a+l-m,y:s+c-d,textAnchor:v,verticalAnchor:f},w):aIe()(o)&&(qMe(o.x)||WMe(o.x))&&(qMe(o.y)||WMe(o.y))?oGe({x:a+YMe(o.x,l),y:s+YMe(o.y,c),textAnchor:"end",verticalAnchor:"end"},w):oGe({x:a+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)}(o);return n.createElement(Bze,aGe({className:je("recharts-label",d)},h,m,{breakAll:f}),t)}lGe.displayName="Label";var cGe=function(e){var t=e.cx,n=e.cy,r=e.angle,o=e.startAngle,i=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,f=e.top,p=e.left,h=e.width,m=e.height,v=e.clockWise,g=e.labelViewBox;if(g)return g;if(qMe(h)&&qMe(m)){if(qMe(u)&&qMe(d))return{x:u,y:d,width:h,height:m};if(qMe(f)&&qMe(p))return{x:f,y:p,width:h,height:m}}return qMe(u)&&qMe(d)?{x:u,y:d,width:0,height:0}:qMe(t)&&qMe(n)?{cx:t,cy:n,startAngle:o||r||0,endAngle:i||r||0,innerRadius:l||0,outerRadius:c||s||a||0,clockWise:v}:e.viewBox?e.viewBox:{}};lGe.parseViewBox=cGe,lGe.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var o=e.children,i=cGe(e),a=OIe(o,lGe).map((function(e,r){return(0,n.cloneElement)(e,{viewBox:t||i,key:"label-".concat(r)})}));if(!r)return a;var s=function(e,t){return e?!0===e?n.createElement(lGe,{key:"label-implicit",viewBox:t}):GMe(e)?n.createElement(lGe,{key:"label-implicit",viewBox:t,value:e}):(0,n.isValidElement)(e)?e.type===lGe?(0,n.cloneElement)(e,{key:"label-implicit",viewBox:t}):n.createElement(lGe,{key:"label-implicit",content:e,viewBox:t}):oIe()(e)?n.createElement(lGe,{key:"label-implicit",content:e,viewBox:t}):aIe()(e)?n.createElement(lGe,aGe({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||i);return[s].concat(eGe(a))};var uGe=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},dGe=o(3916),fGe=o.n(dGe),pGe=o(9747),hGe=o.n(pGe),mGe=function(e){return null};mGe.displayName="Cell";var vGe=o(8090),gGe=o.n(vGe);function yGe(e){return yGe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yGe(e)}var bGe=["valueAccessor"],wGe=["data","dataKey","clockWise","id","textBreakAll"];function xGe(e){return function(e){if(Array.isArray(e))return SGe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return SGe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SGe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SGe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kGe(){return kGe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kGe.apply(this,arguments)}function EGe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OGe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EGe(Object(n),!0).forEach((function(t){jGe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EGe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jGe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=yGe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yGe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yGe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var CGe=function(e){return Array.isArray(e.value)?gGe()(e.value):e.value};function TGe(e){var t=e.valueAccessor,r=void 0===t?CGe:t,o=_Ge(e,bGe),i=o.data,a=o.dataKey,s=o.clockWise,l=o.id,c=o.textBreakAll,u=_Ge(o,wGe);return i&&i.length?n.createElement(tRe,{className:"recharts-label-list"},i.map((function(e,t){var o=nIe()(a)?r(e,t):KWe(e&&e.payload,a),i=nIe()(l)?{}:{id:"".concat(l,"-").concat(t)};return n.createElement(lGe,kGe({},AIe(e,!0),u,i,{parentViewBox:e.parentViewBox,value:o,textBreakAll:c,viewBox:lGe.parseViewBox(nIe()(s)?e:OGe(OGe({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}TGe.displayName="LabelList",TGe.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var o=OIe(e.children,TGe).map((function(e,r){return(0,n.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));if(!r)return o;var i=function(e,t){return e?!0===e?n.createElement(TGe,{key:"labelList-implicit",data:t}):n.isValidElement(e)||oIe()(e)?n.createElement(TGe,{key:"labelList-implicit",data:t,content:e}):aIe()(e)?n.createElement(TGe,kGe({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[i].concat(xGe(o))};var PGe=o(1331),AGe=o.n(PGe),NGe=o(3812),MGe=o.n(NGe);function IGe(e){return IGe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IGe(e)}function RGe(){return RGe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RGe.apply(this,arguments)}function LGe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return DGe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DGe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DGe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FGe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zGe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FGe(Object(n),!0).forEach((function(t){BGe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FGe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BGe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=IGe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=IGe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==IGe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $Ge=function(e,t,n,r,o){var i,a=n-r;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+n,",").concat(t),i+="L ".concat(e+n-a/2,",").concat(t+o),i+="L ".concat(e+n-a/2-r,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z")},UGe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VGe=function(e){var t=zGe(zGe({},UGe),e),r=(0,n.useRef)(),o=LGe((0,n.useState)(-1),2),i=o[0],a=o[1];(0,n.useEffect)((function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(e){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,f=t.className,p=t.animationEasing,h=t.animationDuration,m=t.animationBegin,v=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var g=je("recharts-trapezoid",f);return v?n.createElement(IFe,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:h,animationEasing:p,isActive:v},(function(e){var o=e.upperWidth,a=e.lowerWidth,s=e.height,l=e.x,c=e.y;return n.createElement(IFe,{canBegin:i>0,from:"0px ".concat(-1===i?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:p},n.createElement("path",RGe({},AIe(t,!0),{className:g,d:$Ge(l,c,o,a,s),ref:r})))})):n.createElement("g",null,n.createElement("path",RGe({},AIe(t,!0),{className:g,d:$Ge(s,l,c,u,d)})))};function HGe(e){return HGe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HGe(e)}function WGe(){return WGe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WGe.apply(this,arguments)}function qGe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GGe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qGe(Object(n),!0).forEach((function(t){KGe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qGe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KGe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=HGe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HGe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HGe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XGe=function(e){var t=e.cx,n=e.cy,r=e.radius,o=e.angle,i=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(a?1:-1)+r,u=Math.asin(s/c)/Vqe,d=l?o:o+i*u,f=l?o-i*u:o;return{center:Wqe(t,n,c,d),circleTangency:Wqe(t,n,r,d),lineTangency:Wqe(t,n,c*Math.cos(u*Vqe),f),theta:u}},YGe=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.startAngle,a=function(e,t){return HMe(t-e)*Math.min(Math.abs(t-e),359.999)}(i,e.endAngle),s=i+a,l=Wqe(t,n,o,i),c=Wqe(t,n,o,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(o,",").concat(o,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(i>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=Wqe(t,n,r,i),f=Wqe(t,n,r,s);u+="L ".concat(f.x,",").concat(f.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(i<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},ZGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JGe=function(e){var t=GGe(GGe({},ZGe),e),r=t.cx,o=t.cy,i=t.innerRadius,a=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=t.className;if(a<i||u===d)return null;var p,h=je("recharts-sector",f),m=a-i,v=YMe(s,m,0,!0);return p=v>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,o=e.outerRadius,i=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=HMe(c-l),d=XGe({cx:t,cy:n,radius:o,angle:l,sign:u,cornerRadius:i,cornerIsExternal:s}),f=d.circleTangency,p=d.lineTangency,h=d.theta,m=XGe({cx:t,cy:n,radius:o,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:s}),v=m.circleTangency,g=m.lineTangency,y=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-h-y;if(b<0)return a?"M ".concat(p.x,",").concat(p.y,"\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*i,",0\n        a").concat(i,",").concat(i,",0,0,1,").concat(2*-i,",0\n      "):YGe({cx:t,cy:n,innerRadius:r,outerRadius:o,startAngle:l,endAngle:c});var w="M ".concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,"\n    A").concat(o,",").concat(o,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(v.x,",").concat(v.y,"\n    A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n  ");if(r>0){var x=XGe({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),S=x.circleTangency,k=x.lineTangency,E=x.theta,O=XGe({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),j=O.circleTangency,_=O.lineTangency,C=O.theta,T=s?Math.abs(l-c):Math.abs(l-c)-E-C;if(T<0&&0===i)return"".concat(w,"L").concat(t,",").concat(n,"Z");w+="L".concat(_.x,",").concat(_.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(j.x,",").concat(j.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(S.x,",").concat(S.y,"\n      A").concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else w+="L".concat(t,",").concat(n,"Z");return w}({cx:r,cy:o,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):YGe({cx:r,cy:o,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),n.createElement("path",WGe({},AIe(t,!0),{className:h,d:p,role:"img"}))},QGe=["option","shapeType","propTransformer","activeClassName","isActive"];function eKe(e){return eKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eKe(e)}function tKe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function nKe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rKe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nKe(Object(n),!0).forEach((function(t){oKe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nKe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oKe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=eKe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eKe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eKe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iKe(e,t){return rKe(rKe({},t),e)}function aKe(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return n.createElement(WFe,r);case"trapezoid":return n.createElement(VGe,r);case"sector":return n.createElement(JGe,r);case"symbols":if(function(e){return"symbols"===e}(t))return n.createElement(ALe,r);break;default:return null}}function sKe(e){var t,r=e.option,o=e.shapeType,i=e.propTransformer,a=void 0===i?iKe:i,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=tKe(e,QGe);if((0,n.isValidElement)(r))t=(0,n.cloneElement)(r,rKe(rKe({},u),function(e){return(0,n.isValidElement)(e)?e.props:e}(r)));else if(oIe()(r))t=r(u);else if(AGe()(r)&&!MGe()(r)){var d=a(r,u);t=n.createElement(aKe,{shapeType:o,elementProps:d})}else{var f=u;t=n.createElement(aKe,{shapeType:o,elementProps:f})}return c?n.createElement(tRe,{className:l},t):t}function lKe(e,t){return null!=t&&"trapezoids"in e.props}function cKe(e,t){return null!=t&&"sectors"in e.props}function uKe(e,t){return null!=t&&"points"in e.props}function dKe(e,t){var n,r,o=e.x===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,i=e.y===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return o&&i}function fKe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function pKe(e,t){var n=e.x===t.x,r=e.y===t.y,o=e.z===t.z;return n&&r&&o}function hKe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,o=function(e,t){var n;return lKe(e,t)?n="trapezoids":cKe(e,t)?n="sectors":uKe(e,t)&&(n="points"),n}(n,t),i=function(e,t){var n,r;return lKe(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:cKe(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:uKe(e,t)?t.payload:{}}(n,t),a=r.filter((function(e,r){var a=FV()(i,e),s=n.props[o].filter((function(e){var r=function(e,t){var n;return lKe(e,t)?n=dKe:cKe(e,t)?n=fKe:uKe(e,t)&&(n=pKe),n}(n,t);return r(e,t)})),l=n.props[o].indexOf(s[s.length-1]);return a&&r===l}));return r.indexOf(a[a.length-1])}var mKe=["x","y"];function vKe(e){return vKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vKe(e)}function gKe(){return gKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gKe.apply(this,arguments)}function yKe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bKe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yKe(Object(n),!0).forEach((function(t){wKe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yKe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wKe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=vKe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vKe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==vKe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xKe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function SKe(e,t){var n=e.x,r=e.y,o=xKe(e,mKe),i="".concat(n),a=parseInt(i,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||o.height),u=parseInt(c,10),d="".concat(t.width||o.width),f=parseInt(d,10);return bKe(bKe(bKe(bKe(bKe({},t),o),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:t.name,radius:t.radius})}function kKe(e){return n.createElement(sKe,gKe({shapeType:"rectangle",propTransformer:SKe,activeClassName:"recharts-active-bar"},e))}var EKe,OKe=["value","background"];function jKe(e){return jKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jKe(e)}function _Ke(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function CKe(){return CKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CKe.apply(this,arguments)}function TKe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PKe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TKe(Object(n),!0).forEach((function(t){LKe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TKe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DKe(r.key),r)}}function NKe(e,t,n){return t=IKe(t),function(e,t){if(t&&("object"===jKe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MKe()?Reflect.construct(t,n||[],IKe(e).constructor):t.apply(e,n))}function MKe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MKe=function(){return!!e})()}function IKe(e){return IKe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},IKe(e)}function RKe(e,t){return RKe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},RKe(e,t)}function LKe(e,t,n){return(t=DKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DKe(e){var t=function(e,t){if("object"!=jKe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jKe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jKe(t)?t:t+""}var FKe=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LKe(e=NKe(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),LKe(e,"id",XMe("recharts-bar-")),LKe(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),LKe(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RKe(e,t)}(t,e),r=t,o=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,o=r.shape,i=r.dataKey,a=r.activeIndex,s=r.activeBar,l=AIe(this.props,!1);return e&&e.map((function(e,r){var c=r===a,u=c?s:o,d=PKe(PKe(PKe({},l),e),{},{isActive:c,option:u,index:r,dataKey:i,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return n.createElement(tRe,CKe({className:"recharts-bar-rectangle"},mIe(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value)}),n.createElement(kKe,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,o=t.layout,i=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return n.createElement(IFe,{begin:a,duration:s,isActive:i,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,a=r.map((function(e,t){var n=u&&u[t];if(n){var r=JMe(n.x,e.x),a=JMe(n.y,e.y),s=JMe(n.width,e.width),l=JMe(n.height,e.height);return PKe(PKe({},e),{},{x:r(i),y:a(i),width:s(i),height:l(i)})}if("horizontal"===o){var c=JMe(0,e.height)(i);return PKe(PKe({},e),{},{y:e.y+e.height-c,height:c})}var d=JMe(0,e.width)(i);return PKe(PKe({},e),{},{width:d})}));return n.createElement(tRe,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&FV()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,o=t.dataKey,i=t.activeIndex,a=AIe(this.props.background,!1);return r.map((function(t,r){t.value;var s=t.background,l=_Ke(t,OKe);if(!s)return null;var c=PKe(PKe(PKe(PKe(PKe({},l),{},{fill:"#eee"},s),a),mIe(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:o,index:r,className:"recharts-bar-background-rectangle"});return n.createElement(kKe,CKe({key:"background-bar-".concat(r),option:e.props.background,isActive:r===i},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,o=r.data,i=r.xAxis,a=r.yAxis,s=r.layout,l=OIe(r.children,LWe);if(!l)return null;var c="vertical"===s?o[0].height/2:o[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:KWe(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(tRe,d,l.map((function(e){return n.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:o,xAxis:i,yAxis:a,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,o=e.className,i=e.xAxis,a=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,f=e.background,p=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,m=je("recharts-bar",o),v=i&&i.allowDataOverflow,g=a&&a.allowDataOverflow,y=v||g,b=nIe()(p)?this.id:p;return n.createElement(tRe,{className:m},v||g?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(b)},n.createElement("rect",{x:v?s:s-c/2,y:g?l:l-u/2,width:v?c:2*c,height:g?u:2*u}))):null,n.createElement(tRe,{className:"recharts-bar-rectangles",clipPath:y?"url(#clipPath-".concat(b,")"):null},f?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(y,b),(!d||h)&&TGe.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],o&&AKe(r.prototype,o),i&&AKe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function zKe(e){return zKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zKe(e)}function BKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HKe(r.key),r)}}function $Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UKe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Ke(Object(n),!0).forEach((function(t){VKe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VKe(e,t,n){return(t=HKe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HKe(e){var t=function(e,t){if("object"!=zKe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zKe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zKe(t)?t:t+""}EKe=FKe,LKe(FKe,"displayName","Bar"),LKe(FKe,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!CRe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),LKe(FKe,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,o=e.bandSize,i=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,f=e.offset,p=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!p)return null;var h=t.layout,m=n.type.defaultProps,v=void 0!==m?PKe(PKe({},m),n.props):n.props,g=v.dataKey,y=v.children,b=v.minPointSize,w="horizontal"===h?a:i,x=c?w.scale.domain():null,S=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return r<=0&&o>=0?0:o<0?o:r}return n[0]}({numericAxis:w}),k=OIe(y,mGe),E=d.map((function(e,t){var r,d,f,m,v,y;c?r=function(e,t){if(!t||2!==t.length||!qMe(t[0])||!qMe(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),o=[e[0],e[1]];return(!qMe(e[0])||e[0]<n)&&(o[0]=n),(!qMe(e[1])||e[1]>r)&&(o[1]=r),o[0]>r&&(o[0]=r),o[1]<n&&(o[1]=n),o}(c[u+t],x):(r=KWe(e,g),Array.isArray(r)||(r=[S,r]));var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"==typeof e)return e;var o="number"==typeof n;return o?e(n,r):(o||GIe(!1),t)}}(b,EKe.defaultProps.minPointSize)(r[1],t);if("horizontal"===h){var E,O=[a.scale(r[0]),a.scale(r[1])],j=O[0],_=O[1];d=dqe({axis:i,ticks:s,bandSize:o,offset:p.offset,entry:e,index:t}),f=null!==(E=null!=_?_:j)&&void 0!==E?E:void 0,m=p.size;var C=j-_;if(v=Number.isNaN(C)?0:C,y={x:d,y:a.y,width:m,height:a.height},Math.abs(w)>0&&Math.abs(v)<Math.abs(w)){var T=HMe(v||w)*(Math.abs(w)-Math.abs(v));f-=T,v+=T}}else{var P=[i.scale(r[0]),i.scale(r[1])],A=P[0],N=P[1];if(d=A,f=dqe({axis:a,ticks:l,bandSize:o,offset:p.offset,entry:e,index:t}),m=N-A,v=p.size,y={x:i.x,y:f,width:i.width,height:v},Math.abs(w)>0&&Math.abs(m)<Math.abs(w))m+=HMe(m||w)*(Math.abs(w)-Math.abs(m))}return PKe(PKe(PKe({},e),{},{x:d,y:f,width:m,height:v,value:c?r:r[1],payload:e,background:y},k&&k[t]&&k[t].props),{},{tooltipPayload:[yqe(n,e)],tooltipPosition:{x:d+m/2,y:f+v/2}})}));return PKe({data:E,layout:h},f)}));var WKe=function(e,t,n,r,o){var i=e.width,a=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:i-n.right,rightMirror:i-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},d=!!jIe(l,FKe);return c.reduce((function(i,a){var l,c,f,p,h,m=t[a],v=m.orientation,g=m.domain,y=m.padding,b=void 0===y?{}:y,w=m.mirror,x=m.reversed,S="".concat(v).concat(w?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var k=g[1]-g[0],E=1/0,O=m.categoricalDomain.sort();if(O.forEach((function(e,t){t>0&&(E=Math.min((e||0)-(O[t-1]||0),E))})),Number.isFinite(E)){var j=E/k,_="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=j*_/2),"no-gap"===m.padding){var C=YMe(e.barCategoryGap,j*_),T=j*_/2;l=T-C-(T-C)/_*C}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,x&&(c=[c[1],c[0]]);var P=oqe(m,o,d),A=P.scale,N=P.realScaleType;A.domain(g).range(c),aqe(A);var M=cqe(A,UKe(UKe({},m),{},{realScaleType:N}));"xAxis"===r?(h="top"===v&&!w||"bottom"===v&&w,f=n.left,p=u[S]-h*m.height):"yAxis"===r&&(h="left"===v&&!w||"right"===v&&w,f=u[S]-h*m.width,p=n.top);var I=UKe(UKe(UKe({},m),M),{},{realScaleType:N,x:f,y:p,scale:A,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return I.bandSize=vqe(I,M),m.hide||"xAxis"!==r?m.hide||(u[S]+=(h?-1:1)*I.width):u[S]+=(h?-1:1)*I.height,UKe(UKe({},i),{},VKe({},a,I))}),{})},qKe=function(e,t){var n=e.x,r=e.y,o=t.x,i=t.y;return{x:Math.min(n,o),y:Math.min(r,i),width:Math.abs(o-n),height:Math.abs(i-r)}},GKe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&BKe(t.prototype,n),r&&BKe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();VKe(GKe,"EPS",1e-4);var KKe=function(e){var t=Object.keys(e).reduce((function(t,n){return UKe(UKe({},t),{},VKe({},n,GKe.create(e[n])))}),{});return UKe(UKe({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,o=n.position;return fGe()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:o})}))},isInRange:function(e){return hGe()(e,(function(e,n){return t[n].isInRange(e)}))}})};function XKe(){return XKe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XKe.apply(this,arguments)}function YKe(e){return YKe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YKe(e)}function ZKe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JKe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZKe(Object(n),!0).forEach((function(t){oXe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZKe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iXe(r.key),r)}}function eXe(e,t,n){return t=nXe(t),function(e,t){if(t&&("object"===YKe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tXe()?Reflect.construct(t,n||[],nXe(e).constructor):t.apply(e,n))}function tXe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tXe=function(){return!!e})()}function nXe(e){return nXe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nXe(e)}function rXe(e,t){return rXe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rXe(e,t)}function oXe(e,t,n){return(t=iXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iXe(e){var t=function(e,t){if("object"!=YKe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=YKe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==YKe(t)?t:t+""}var aXe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),eXe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rXe(e,t)}(t,e),r=t,o=[{key:"render",value:function(){var e=this.props,r=e.x,o=e.y,i=e.r,a=e.alwaysShow,s=e.clipPathId,l=GMe(r),c=GMe(o);if(eIe(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,o=e.yAxis,i=KKe({x:r.scale,y:o.scale}),a=i.apply({x:t,y:n},{bandAware:!0});return uGe(e,"discard")&&!i.isInRange(a)?null:a}(this.props);if(!u)return null;var d=u.x,f=u.y,p=this.props,h=p.shape,m=p.className,v=JKe(JKe({clipPath:uGe(this.props,"hidden")?"url(#".concat(s,")"):void 0},AIe(this.props,!0)),{},{cx:d,cy:f});return n.createElement(tRe,{className:je("recharts-reference-dot",m)},t.renderDot(h,v),lGe.renderCallByParent(this.props,{x:d-i,y:f-i,width:2*i,height:2*i}))}}],o&&QKe(r.prototype,o),i&&QKe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);oXe(aXe,"displayName","ReferenceDot"),oXe(aXe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),oXe(aXe,"renderDot",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement(iDe,XKe({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var sXe=o(2426),lXe=o.n(sXe),cXe=o(7309),uXe=o.n(cXe),dXe=o(104),fXe=o.n(dXe)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var pXe=(0,n.createContext)(void 0),hXe=(0,n.createContext)(void 0),mXe=(0,n.createContext)(void 0),vXe=(0,n.createContext)({}),gXe=(0,n.createContext)(void 0),yXe=(0,n.createContext)(0),bXe=(0,n.createContext)(0),wXe=function(e){var t=e.state,r=t.xAxisMap,o=t.yAxisMap,i=t.offset,a=e.clipPathId,s=e.children,l=e.width,c=e.height,u=fXe(i);return n.createElement(pXe.Provider,{value:r},n.createElement(hXe.Provider,{value:o},n.createElement(vXe.Provider,{value:i},n.createElement(mXe.Provider,{value:u},n.createElement(gXe.Provider,{value:a},n.createElement(yXe.Provider,{value:c},n.createElement(bXe.Provider,{value:l},s)))))))};var xXe=function(e){var t=(0,n.useContext)(pXe);null==t&&GIe(!1);var r=t[e];return null==r&&GIe(!1),r},SXe=function(e){var t=(0,n.useContext)(hXe);null==t&&GIe(!1);var r=t[e];return null==r&&GIe(!1),r},kXe=function(){return(0,n.useContext)(bXe)},EXe=function(){return(0,n.useContext)(yXe)};function OXe(e){return OXe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OXe(e)}function jXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IXe(r.key),r)}}function _Xe(e,t,n){return t=TXe(t),function(e,t){if(t&&("object"===OXe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,CXe()?Reflect.construct(t,n||[],TXe(e).constructor):t.apply(e,n))}function CXe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CXe=function(){return!!e})()}function TXe(e){return TXe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TXe(e)}function PXe(e,t){return PXe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},PXe(e,t)}function AXe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NXe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AXe(Object(n),!0).forEach((function(t){MXe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AXe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MXe(e,t,n){return(t=IXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IXe(e){var t=function(e,t){if("object"!=OXe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OXe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OXe(t)?t:t+""}function RXe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return LXe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LXe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function LXe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DXe(){return DXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DXe.apply(this,arguments)}function FXe(e){var t=e.x,r=e.y,o=e.segment,i=e.xAxisId,a=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,n.useContext)(gXe),d=xXe(i),f=SXe(a),p=(0,n.useContext)(mXe);if(!u||!p)return null;eIe(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,o,i,a,s,l){var c=o.x,u=o.y,d=o.width,f=o.height;if(n){var p=l.y,h=e.y.apply(p,{position:i});if(uGe(l,"discard")&&!e.y.isInRange(h))return null;var m=[{x:c+d,y:h},{x:c,y:h}];return"left"===s?m.reverse():m}if(t){var v=l.x,g=e.x.apply(v,{position:i});if(uGe(l,"discard")&&!e.x.isInRange(g))return null;var y=[{x:g,y:u+f},{x:g,y:u}];return"top"===a?y.reverse():y}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:i})}));return uGe(l,"discard")&&lXe()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(KKe({x:d.scale,y:f.scale}),GMe(t),GMe(r),o&&2===o.length,p,e.position,d.orientation,f.orientation,e);if(!h)return null;var m=RXe(h,2),v=m[0],g=v.x,y=v.y,b=m[1],w=b.x,x=b.y,S=NXe(NXe({clipPath:uGe(e,"hidden")?"url(#".concat(u,")"):void 0},AIe(e,!0)),{},{x1:g,y1:y,x2:w,y2:x});return n.createElement(tRe,{className:je("recharts-reference-line",l)},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement("line",DXe({},t,{className:"recharts-reference-line-line"}))}(s,S),lGe.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,o=e.y2;return qKe({x:t,y:n},{x:r,y:o})}({x1:g,y1:y,x2:w,y2:x})))}var zXe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),_Xe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PXe(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){return n.createElement(FXe,this.props)}}])&&jXe(r.prototype,o),i&&jXe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function BXe(){return BXe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BXe.apply(this,arguments)}function $Xe(e){return $Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$Xe(e)}function UXe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VXe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UXe(Object(n),!0).forEach((function(t){XXe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UXe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HXe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YXe(r.key),r)}}function WXe(e,t,n){return t=GXe(t),function(e,t){if(t&&("object"===$Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qXe()?Reflect.construct(t,n||[],GXe(e).constructor):t.apply(e,n))}function qXe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qXe=function(){return!!e})()}function GXe(e){return GXe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},GXe(e)}function KXe(e,t){return KXe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},KXe(e,t)}function XXe(e,t,n){return(t=YXe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YXe(e){var t=function(e,t){if("object"!=$Xe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$Xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$Xe(t)?t:t+""}MXe(zXe,"displayName","ReferenceLine"),MXe(zXe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ZXe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WXe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KXe(e,t)}(t,e),r=t,o=[{key:"render",value:function(){var e=this.props,r=e.x1,o=e.x2,i=e.y1,a=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;eIe(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=GMe(r),d=GMe(o),f=GMe(i),p=GMe(a),h=this.props.shape;if(!(u||d||f||p||h))return null;var m=function(e,t,n,r,o){var i=o.x1,a=o.x2,s=o.y1,l=o.y2,c=o.xAxis,u=o.yAxis;if(!c||!u)return null;var d=KKe({x:c.scale,y:u.scale}),f={x:e?d.x.apply(i,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},p={x:t?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!uGe(o,"discard")||d.isInRange(f)&&d.isInRange(p)?qKe(f,p):null}(u,d,f,p,this.props);if(!m&&!h)return null;var v=uGe(this.props,"hidden")?"url(#".concat(c,")"):void 0;return n.createElement(tRe,{className:je("recharts-reference-area",s)},t.renderRect(h,VXe(VXe({clipPath:v},AIe(this.props,!0)),m)),lGe.renderCallByParent(this.props,m))}}],o&&HXe(r.prototype,o),i&&HXe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function JXe(e){return function(e){if(Array.isArray(e))return QXe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return QXe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QXe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QXe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}XXe(ZXe,"displayName","ReferenceArea"),XXe(ZXe,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),XXe(ZXe,"renderRect",(function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement(WFe,BXe({},t,{className:"recharts-reference-area-rect"}))}));var eYe=function(e,t,n,r,o){var i=OIe(e,zXe),a=OIe(e,aXe),s=[].concat(JXe(i),JXe(a)),l=OIe(e,ZXe),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&uGe(t.props,"extendDomain")&&qMe(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var f="".concat(u,"1"),p="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&uGe(t.props,"extendDomain")&&qMe(t.props[f])&&qMe(t.props[p])){var r=t.props[f],o=t.props[p];return[Math.min(e[0],r,o),Math.max(e[1],r,o)]}return e}),d)}return o&&o.length&&(d=o.reduce((function(e,t){return qMe(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},tYe=o(228),nYe=new(o.n(tYe)()),rYe="recharts.syncMouseEvents";function oYe(e){return oYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oYe(e)}function iYe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sYe(r.key),r)}}function aYe(e,t,n){return(t=sYe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sYe(e){var t=function(e,t){if("object"!=oYe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oYe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oYe(t)?t:t+""}var lYe=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),aYe(this,"activeIndex",0),aYe(this,"coordinateList",[]),aYe(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,o=e.container,i=void 0===o?null:o,a=e.layout,s=void 0===a?null:a,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!=r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!=i?i:this.container,this.layout=null!=s?s:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,o=n.y,i=n.height,a=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+a+s,u=o+this.offset.top+i/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&iYe(e.prototype,t),n&&iYe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function cYe(){}function uYe(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function dYe(e){this._context=e}function fYe(e){this._context=e}function pYe(e){this._context=e}dYe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uYe(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uYe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},fYe.prototype={areaStart:cYe,areaEnd:cYe,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uYe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},pYe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uYe(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class hYe{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function mYe(e){this._context=e}function vYe(e){this._context=e}function gYe(e){return new vYe(e)}function yYe(e){return e<0?-1:1}function bYe(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(yYe(i)+yYe(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function wYe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xYe(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function SYe(e){this._context=e}function kYe(e){this._context=new EYe(e)}function EYe(e){this._context=e}function OYe(e){this._context=e}function jYe(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function _Ye(e,t){this._context=e,this._t=t}function CYe(e){return e[0]}function TYe(e){return e[1]}function PYe(e,t){var n=hLe(!0),r=null,o=gYe,i=null,a=xLe(s);function s(s){var l,c,u,d=(s=FHe(s)).length,f=!1;for(null==r&&(i=o(u=a())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(c,l,s),+t(c,l,s));if(u)return i=null,u+""||null}return e="function"==typeof e?e:void 0===e?CYe:hLe(e),t="function"==typeof t?t:void 0===t?TYe:hLe(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:hLe(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:hLe(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:hLe(!!e),s):n},s.curve=function(e){return arguments.length?(o=e,null!=r&&(i=o(r)),s):o},s.context=function(e){return arguments.length?(null==e?r=i=null:i=o(r=e),s):r},s}function AYe(e,t,n){var r=null,o=hLe(!0),i=null,a=gYe,s=null,l=xLe(c);function c(c){var u,d,f,p,h,m=(c=FHe(c)).length,v=!1,g=new Array(m),y=new Array(m);for(null==i&&(s=a(h=l())),u=0;u<=m;++u){if(!(u<m&&o(p=c[u],u,c))===v)if(v=!v)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=u-1;f>=d;--f)s.point(g[f],y[f]);s.lineEnd(),s.areaEnd()}v&&(g[u]=+e(p,u,c),y[u]=+t(p,u,c),s.point(r?+r(p,u,c):g[u],n?+n(p,u,c):y[u]))}if(h)return s=null,h+""||null}function u(){return PYe().defined(o).curve(a).context(i)}return e="function"==typeof e?e:void 0===e?CYe:hLe(+e),t="function"==typeof t?t:hLe(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?TYe:hLe(+n),c.x=function(t){return arguments.length?(e="function"==typeof t?t:hLe(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:hLe(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:hLe(+e),c):r},c.y=function(e){return arguments.length?(t="function"==typeof e?e:hLe(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:hLe(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:hLe(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(o="function"==typeof e?e:hLe(!!e),c):o},c.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),c):a},c.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),c):i},c}function NYe(e){return NYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NYe(e)}function MYe(){return MYe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MYe.apply(this,arguments)}function IYe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RYe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IYe(Object(n),!0).forEach((function(t){LYe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IYe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LYe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=NYe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NYe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NYe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}mYe.prototype={areaStart:cYe,areaEnd:cYe,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},vYe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},SYe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xYe(this,this._t0,wYe(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xYe(this,wYe(this,n=bYe(this,e,t)),n);break;default:xYe(this,this._t0,n=bYe(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(kYe.prototype=Object.create(SYe.prototype)).point=function(e,t){SYe.prototype.point.call(this,t,e)},EYe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},OYe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=jYe(e),o=jYe(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},_Ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var DYe={curveBasisClosed:function(e){return new fYe(e)},curveBasisOpen:function(e){return new pYe(e)},curveBasis:function(e){return new dYe(e)},curveBumpX:function(e){return new hYe(e,!0)},curveBumpY:function(e){return new hYe(e,!1)},curveLinearClosed:function(e){return new mYe(e)},curveLinear:gYe,curveMonotoneX:function(e){return new SYe(e)},curveMonotoneY:function(e){return new kYe(e)},curveNatural:function(e){return new OYe(e)},curveStep:function(e){return new _Ye(e,.5)},curveStepAfter:function(e){return new _Ye(e,1)},curveStepBefore:function(e){return new _Ye(e,0)}},FYe=function(e){return e.x===+e.x&&e.y===+e.y},zYe=function(e){return e.x},BYe=function(e){return e.y},$Ye=function(e){var t,n=e.type,r=void 0===n?"linear":n,o=e.points,i=void 0===o?[]:o,a=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if(oIe()(e))return e;var n="curve".concat(WRe()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?DYe[n]||gYe:DYe["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?i.filter((function(e){return FYe(e)})):i;if(Array.isArray(a)){var f=c?a.filter((function(e){return FYe(e)})):a,p=d.map((function(e,t){return RYe(RYe({},e),{},{base:f[t]})}));return t="vertical"===s?AYe().y(BYe).x1(zYe).x0((function(e){return e.base.x})):AYe().x(zYe).y1(BYe).y0((function(e){return e.base.y})),t.defined(FYe).curve(u),t(p)}return(t="vertical"===s&&qMe(a)?AYe().y(BYe).x1(zYe).x0(a):qMe(a)?AYe().x(zYe).y1(BYe).y0(a):PYe().x(zYe).y(BYe)).defined(FYe).curve(u),t(d)},UYe=function(e){var t=e.className,r=e.points,o=e.path,i=e.pathRef;if(!(r&&r.length||o))return null;var a=r&&r.length?$Ye(e):o;return n.createElement("path",MYe({},AIe(e,!1),hIe(e),{className:je("recharts-curve",t),d:a,ref:i}))};function VYe(e){return VYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VYe(e)}var HYe=["x","y","top","left","width","height","className"];function WYe(){return WYe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WYe.apply(this,arguments)}function qYe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GYe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=VYe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VYe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==VYe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KYe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var XYe=function(e,t,n,r,o,i){return"M".concat(e,",").concat(o,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n)},YYe=function(e){var t=e.x,r=void 0===t?0:t,o=e.y,i=void 0===o?0:o,a=e.top,s=void 0===a?0:a,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,f=e.height,p=void 0===f?0:f,h=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qYe(Object(n),!0).forEach((function(t){GYe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qYe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:r,y:i,top:s,left:c,width:d,height:p},KYe(e,HYe));return qMe(r)&&qMe(i)&&qMe(d)&&qMe(p)&&qMe(s)&&qMe(c)?n.createElement("path",WYe({},AIe(m,!0),{className:je("recharts-cross",h),d:XYe(r,i,d,p,s,c)})):null};function ZYe(e){var t=e.cx,n=e.cy,r=e.radius,o=e.startAngle,i=e.endAngle;return{points:[Wqe(t,n,r,o),Wqe(t,n,r,i)],cx:t,cy:n,radius:r,startAngle:o,endAngle:i}}function JYe(e,t,n){var r,o,i,a;if("horizontal"===e)i=r=t.x,o=n.top,a=n.top+n.height;else if("vertical"===e)a=o=t.y,r=n.left,i=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return ZYe(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,f=Wqe(s,l,c,d),p=Wqe(s,l,u,d);r=f.x,o=f.y,i=p.x,a=p.y}return[{x:r,y:o},{x:i,y:a}]}function QYe(e){return QYe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QYe(e)}function eZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZe(Object(n),!0).forEach((function(t){nZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=QYe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QYe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QYe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZe(e){var t,r,o,i=e.element,a=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,h=e.chartName,m=null!==(t=i.props.cursor)&&void 0!==t?t:null===(r=i.type.defaultProps)||void 0===r?void 0:r.cursor;if(!i||!m||!s||!l||"ScatterChart"!==h&&"axis"!==a)return null;var v=UYe;if("ScatterChart"===h)o=l,v=YYe;else if("BarChart"===h)o=function(e,t,n,r){var o=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-o:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-o,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(p,l,u,f),v=WFe;else if("radial"===p){var g=ZYe(l),y=g.cx,b=g.cy,w=g.radius;o={cx:y,cy:b,startAngle:g.startAngle,endAngle:g.endAngle,innerRadius:w,outerRadius:w},v=JGe}else o={points:JYe(p,l,u)},v=UYe;var x=tZe(tZe(tZe(tZe({stroke:"#ccc",pointerEvents:"none"},u),o),AIe(m,!1)),{},{payload:c,payloadIndex:d,className:je("recharts-tooltip-cursor",m.className)});return(0,n.isValidElement)(m)?(0,n.cloneElement)(m,x):(0,n.createElement)(v,x)}var oZe=["item"],iZe=["children","className","width","height","style","compact","title","desc"];function aZe(e){return aZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aZe(e)}function sZe(){return sZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sZe.apply(this,arguments)}function lZe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||vZe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cZe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function uZe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xZe(r.key),r)}}function dZe(e,t,n){return t=pZe(t),function(e,t){if(t&&("object"===aZe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,fZe()?Reflect.construct(t,n||[],pZe(e).constructor):t.apply(e,n))}function fZe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fZe=function(){return!!e})()}function pZe(e){return pZe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pZe(e)}function hZe(e,t){return hZe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hZe(e,t)}function mZe(e){return function(e){if(Array.isArray(e))return gZe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||vZe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vZe(e,t){if(e){if("string"==typeof e)return gZe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gZe(e,t):void 0}}function gZe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function yZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yZe(Object(n),!0).forEach((function(t){wZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wZe(e,t,n){return(t=xZe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xZe(e){var t=function(e,t){if("object"!=aZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aZe(t)?t:t+""}var SZe={xAxis:["bottom","top"],yAxis:["left","right"]},kZe={width:"100%",height:"100%"},EZe={x:0,y:0};function OZe(e){return e}var jZe=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,o=t.dataEndIndex,i=(null!=n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(mZe(e),mZe(n)):e}),[]);return i.length>0?i:e&&e.length&&qMe(r)&&qMe(o)?e.slice(r,o+1):[]};function _Ze(e){return"number"===e?[0,"auto"]:void 0}var CZe=function(e,t,n,r){var o=e.graphicalItems,i=e.tooltipAxis,a=jZe(t,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce((function(o,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),i.dataKey&&!i.allowDuplicatedCategory)?c=QMe(void 0===u?a:u,i.dataKey,r):c=u&&u[n]||a[n];return c?[].concat(mZe(o),[yqe(s,c)]):o}),[])},TZe=function(e,t,n,r){var o=r||{x:e.chartX,y:e.chartY},i=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(o,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a<=1)return 0;if(o&&"angleAxis"===o.axisType&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var s=o.range,l=0;l<a;l++){var c=l>0?r[l-1].coordinate:r[a-1].coordinate,u=r[l].coordinate,d=l>=a-1?r[0].coordinate:r[l+1].coordinate,f=void 0;if(HMe(u-c)!==HMe(d-u)){var p=[];if(HMe(d-u)===HMe(s[1]-s[0])){f=d;var h=u+s[1]-s[0];p[0]=Math.min(h,(h+c)/2),p[1]=Math.max(h,(h+c)/2)}else{f=c;var m=d+s[1]-s[0];p[0]=Math.min(u,(m+u)/2),p[1]=Math.max(u,(m+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){i=r[l].index;break}}else{var g=Math.min(c,d),y=Math.max(c,d);if(e>(g+u)/2&&e<=(y+u)/2){i=r[l].index;break}}}else for(var b=0;b<a;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===a-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){i=n[b].index;break}return i}(i,a,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=CZe(e,t,c,u),f=function(e,t,n,r){var o=t.find((function(e){return e&&e.index===n}));if(o){if("horizontal"===e)return{x:o.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:o.coordinate};if("centric"===e){var i=o.coordinate,a=r.radius;return bZe(bZe(bZe({},r),Wqe(r.cx,r.cy,a,i)),{},{angle:i,radius:a})}var s=o.coordinate,l=r.angle;return bZe(bZe(bZe({},r),Wqe(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return EZe}(n,a,c,o);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:f}}return null},PZe=function(e,t){var n=t.axes,r=t.graphicalItems,o=t.axisType,i=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,f=QWe(c,o);return n.reduce((function(t,n){var p,h=void 0!==n.type.defaultProps?bZe(bZe({},n.type.defaultProps),n.props):n.props,m=h.type,v=h.dataKey,g=h.allowDataOverflow,y=h.allowDuplicatedCategory,b=h.scale,w=h.ticks,x=h.includeHidden,S=h[i];if(t[S])return t;var k,E,O,j=jZe(e.data,{graphicalItems:r.filter((function(e){var t;return(i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i])===S})),dataStartIndex:s,dataEndIndex:l}),_=j.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null==e?void 0:e[0],o=null==e?void 0:e[1];if(r&&o&&qMe(r)&&qMe(o))return!0}return!1})(h.domain,g,m)&&(k=mqe(h.domain,null,g),!f||"number"!==m&&"auto"===b||(O=XWe(j,v,"category")));var C=_Ze(m);if(!k||0===k.length){var T,P=null!==(T=h.domain)&&void 0!==T?T:C;if(v){if(k=XWe(j,v,m),"category"===m&&f){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(k);y&&A?(E=k,k=VIe()(0,_)):y||(k=gqe(P,k,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(mZe(e),[t])}),[]))}else if("category"===m)k=y?k.filter((function(e){return""!==e&&!nIe()(e)})):gqe(P,k,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||nIe()(t)?e:[].concat(mZe(e),[t])}),[]);else if("number"===m){var N=function(e,t,n,r,o){var i=t.map((function(t){return ZWe(e,t,n,o,r)})).filter((function(e){return!nIe()(e)}));return i&&i.length?i.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(j,r.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===S&&(x||!o)})),v,o,c);N&&(k=N)}!f||"number"!==m&&"auto"===b||(O=XWe(j,v,"category"))}else k=f?VIe()(0,_):a&&a[S]&&a[S].hasStack&&"number"===m?"expand"===d?[0,1]:fqe(a[S].stackGroups,s,l):JWe(j,r.filter((function(e){var t=i in e.props?e.props[i]:e.type.defaultProps[i],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===S&&(x||!n)})),m,c,!0);if("number"===m)k=eYe(u,k,S,o,w),P&&(k=mqe(P,k,g));else if("category"===m&&P){var M=P;k.every((function(e){return M.indexOf(e)>=0}))&&(k=M)}}return bZe(bZe({},t),{},wZe({},S,bZe(bZe({},h),{},{axisType:o,domain:k,categoricalDomain:O,duplicateDomain:E,originalDomain:null!==(p=h.domain)&&void 0!==p?p:C,isCategorical:f,layout:c})))}),{})},AZe=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,o=t.AxisComp,i=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=OIe(c,o),f={};return d&&d.length?f=PZe(e,{axes:d,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):i&&i.length&&(f=function(e,t){var n=t.graphicalItems,r=t.Axis,o=t.axisType,i=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=jZe(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),f=d.length,p=QWe(c,o),h=-1;return n.reduce((function(e,t){var m,v=(void 0!==t.type.defaultProps?bZe(bZe({},t.type.defaultProps),t.props):t.props)[i],g=_Ze("number");return e[v]?e:(h++,p?m=VIe()(0,f):a&&a[v]&&a[v].hasStack?(m=fqe(a[v].stackGroups,s,l),m=eYe(u,m,v,o)):(m=mqe(g,JWe(d,n.filter((function(e){var t,n,r=i in e.props?e.props[i]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[i],o="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===v&&!o})),"number",c),r.defaultProps.allowDataOverflow),m=eYe(u,m,v,o)),bZe(bZe({},e),{},wZe({},v,bZe(bZe({axisType:o},r.defaultProps),{},{hide:!0,orientation:$Me()(SZe,"".concat(o,".").concat(h%2),null),domain:m,originalDomain:g,isCategorical:p,layout:c}))))}),{})}(e,{Axis:o,graphicalItems:i,axisType:r,axisIdKey:u,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),f},NZe=function(e){var t=e.children,n=e.defaultShowTooltip,r=jIe(t,Lqe),o=0,i=0;return e.data&&0!==e.data.length&&(i=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(o=r.props.startIndex),r.props.endIndex>=0&&(i=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},MZe=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},IZe=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),o=void 0===r?{}:r,i=e.yAxisMap,a=void 0===i?{}:i,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=jIe(c,Lqe),f=jIe(c,rDe),p=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:bZe(bZe({},e),{},wZe({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),h=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:bZe(bZe({},e),{},wZe({},r,$Me()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=bZe(bZe({},h),p),v=m.bottom;d&&(m.bottom+=d.props.height||Lqe.defaultProps.height),f&&t&&(m=function(e,t,n,r){var o=n.children,i=n.width,a=n.margin,s=i-(a.left||0)-(a.right||0),l=$We({children:o,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,f=l.align,p=l.verticalAlign,h=l.layout;if(("vertical"===h||"horizontal"===h&&"middle"===p)&&"center"!==f&&qMe(e[f]))return qWe(qWe({},e),{},GWe({},f,e[f]+(u||0)));if(("horizontal"===h||"vertical"===h&&"center"===f)&&"middle"!==p&&qMe(e[p]))return qWe(qWe({},e),{},GWe({},p,e[p]+(d||0)))}return e}(m,0,n,t));var g=s-m.left-m.right,y=l-m.top-m.bottom;return bZe(bZe({brushBottom:v},m),{},{width:Math.max(g,0),height:Math.max(y,0)})},RZe=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},LZe=function(e){var t=e.chartName,r=e.GraphicalChild,o=e.defaultTooltipEventType,i=void 0===o?"axis":o,a=e.validateTooltipEventTypes,s=void 0===a?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(e,t){var n=t.graphicalItems,r=t.stackGroups,o=t.offset,i=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,f=e.barCategoryGap,p=e.maxBarSize,h=MZe(u),m=h.numericAxisName,v=h.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=xIe(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=[];return n.forEach((function(n,h){var b=jZe(e.data,{graphicalItems:[n],dataStartIndex:a,dataEndIndex:s}),w=void 0!==n.type.defaultProps?bZe(bZe({},n.type.defaultProps),n.props):n.props,x=w.dataKey,S=w.maxBarSize,k=w["".concat(m,"Id")],E=w["".concat(v,"Id")],O=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],o=w["".concat(n.axisType,"Id")];r&&r[o]||"zAxis"===n.axisType||GIe(!1);var i=r[o];return bZe(bZe({},e),{},wZe(wZe({},n.axisType,i),"".concat(n.axisType,"Ticks"),tqe(i)))}),{}),j=O[v],_=O["".concat(v,"Ticks")],C=r&&r[k]&&r[k].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?qWe(qWe({},e.type.defaultProps),e.props):e.props).stackId;if(GMe(r)){var o=t[r];if(o){var i=o.items.indexOf(e);return i>=0?o.stackedData[i]:null}}return null}(n,r[k].stackGroups),T=xIe(n.type).indexOf("Bar")>=0,P=vqe(j,_),A=[],N=g&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,o=void 0===r?{}:r;if(!o)return{};for(var i={},a=Object.keys(o),s=0,l=a.length;s<l;s++)for(var c=o[a[s]].stackGroups,u=Object.keys(c),d=0,f=u.length;d<f;d++){var p=c[u[d]],h=p.items,m=p.cateAxisId,v=h.filter((function(e){return xIe(e.type).indexOf("Bar")>=0}));if(v&&v.length){var g=v[0].type.defaultProps,y=void 0!==g?qWe(qWe({},g),v[0].props):v[0].props,b=y.barSize,w=y[m];i[w]||(i[w]=[]);var x=nIe()(b)?t:b;i[w].push({item:v[0],stackList:v.slice(1),barSize:nIe()(x)?void 0:YMe(x,n,0)})}}return i}({barSize:c,stackGroups:r,totalSize:RZe(O,v)});if(T){var M,I,R=nIe()(S)?p:S,L=null!==(M=null!==(I=vqe(j,_,!0))&&void 0!==I?I:R)&&void 0!==M?M:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,o=e.sizeList,i=void 0===o?[]:o,a=e.maxBarSize,s=i.length;if(s<1)return null;var l,c=YMe(t,r,0,!0),u=[];if(i[0].barSize===+i[0].barSize){var d=!1,f=r/s,p=i.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*c)>=r&&(p-=(s-1)*c,c=0),p>=r&&f>0&&(d=!0,p=s*(f*=.9));var h={offset:((r-p)/2|0)-c,size:0};l=i.reduce((function(e,t){var n={item:t.item,position:{offset:h.offset+h.size+c,size:d?f:t.barSize}},r=[].concat(VWe(e),[n]);return h=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:h})})),r}),u)}else{var m=YMe(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var v=(r-2*m-(s-1)*c)/s;v>1&&(v>>=0);var g=a===+a?Math.min(v,a):v;l=i.reduce((function(e,t,n){var r=[].concat(VWe(e),[{item:t.item,position:{offset:m+(v+c)*n+(v-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:f,bandSize:L!==P?L:P,sizeList:N[E],maxBarSize:R}),L!==P&&(A=A.map((function(e){return bZe(bZe({},e),{},{position:bZe(bZe({},e.position),{},{offset:e.position.offset-L/2})})})))}var D,F,z=n&&n.type&&n.type.getComposedData;z&&y.push({props:bZe(bZe({},z(bZe(bZe({},O),{},{displayedData:b,props:e,dataKey:x,item:n,bandSize:P,barPosition:A,offset:o,stackedData:C,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},wZe(wZe(wZe({key:n.key||"item-".concat(h)},m,O[m]),v,O[v]),"animationId",i)),childIndex:(D=n,F=e.children,EIe(F).indexOf(D)),item:n})})),y},p=function(e,n){var o=e.props,i=e.dataStartIndex,a=e.dataEndIndex,s=e.updateId;if(!_Ie({props:o}))return null;var c=o.children,d=o.layout,p=o.stackOffset,h=o.data,m=o.reverseStackOrder,v=MZe(d),g=v.numericAxisName,y=v.cateAxisName,b=OIe(c,r),w=function(e,t,n,r,o,i){if(!e)return null;var a=(i?t.reverse():t).reduce((function(e,t){var o,i=null!==(o=t.type)&&void 0!==o&&o.defaultProps?qWe(qWe({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(i.hide)return e;var s=i[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(GMe(a)){var c=l.stackGroups[a]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[a]=c}else l.stackGroups[XMe("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return qWe(qWe({},e),{},GWe({},s,l))}),{});return Object.keys(a).reduce((function(t,i){var s=a[i];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,i){var a=s.stackGroups[i];return qWe(qWe({},t),{},GWe({},i,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:lqe(e,a.items,o)}))}),{})),qWe(qWe({},t),{},GWe({},i,s))}),{})}(h,b,"".concat(g,"Id"),"".concat(y,"Id"),p,m),x=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return bZe(bZe({},e),{},wZe({},n,AZe(o,bZe(bZe({},t),{},{graphicalItems:b,stackGroups:t.axisType===g&&w,dataStartIndex:i,dataEndIndex:a}))))}),{}),S=IZe(bZe(bZe({},x),{},{props:o,graphicalItems:b}),null==n?void 0:n.legendBBox);Object.keys(x).forEach((function(e){x[e]=u(o,x[e],S,e.replace("Map",""),t)}));var k,E,O=x["".concat(y,"Map")],j=(k=ZMe(O),{tooltipTicks:E=tqe(k,!1,!0),orderedTooltipTicks:WIe()(E,(function(e){return e.coordinate})),tooltipAxis:k,tooltipAxisBandSize:vqe(k,E)}),_=f(o,bZe(bZe({},x),{},{dataStartIndex:i,dataEndIndex:a,updateId:s,graphicalItems:b,stackGroups:w,offset:S}));return bZe(bZe({formattedGraphicalItems:_,graphicalItems:b,offset:S,stackGroups:w},j),x)},h=function(e){function r(e){var o,i,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),wZe(a=dZe(this,r,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),wZe(a,"accessibilityManager",new lYe),wZe(a,"handleLegendBBoxUpdate",(function(e){if(e){var t=a.state,n=t.dataStartIndex,r=t.dataEndIndex,o=t.updateId;a.setState(bZe({legendBBox:e},p({props:a.props,dataStartIndex:n,dataEndIndex:r,updateId:o},bZe(bZe({},a.state),{},{legendBBox:e}))))}})),wZe(a,"handleReceiveSyncEvent",(function(e,t,n){if(a.props.syncId===e){if(n===a.eventEmitterSymbol&&"function"!=typeof a.props.syncMethod)return;a.applySyncEvent(t)}})),wZe(a,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==a.state.dataStartIndex||n!==a.state.dataEndIndex){var r=a.state.updateId;a.setState((function(){return bZe({dataStartIndex:t,dataEndIndex:n},p({props:a.props,dataStartIndex:t,dataEndIndex:n,updateId:r},a.state))})),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),wZe(a,"handleMouseEnter",(function(e){var t=a.getMouseInfo(e);if(t){var n=bZe(bZe({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseEnter;oIe()(r)&&r(n,e)}})),wZe(a,"triggeredAfterMouseMove",(function(e){var t=a.getMouseInfo(e),n=t?bZe(bZe({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(n),a.triggerSyncEvent(n);var r=a.props.onMouseMove;oIe()(r)&&r(n,e)})),wZe(a,"handleItemMouseEnter",(function(e){a.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),wZe(a,"handleItemMouseLeave",(function(){a.setState((function(){return{isTooltipActive:!1}}))})),wZe(a,"handleMouseMove",(function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)})),wZe(a,"handleMouseLeave",(function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var n=a.props.onMouseLeave;oIe()(n)&&n(t,e)})),wZe(a,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&wIe[t]?wIe[t]:null}(e),r=$Me()(a.props,"".concat(n));n&&oIe()(r)&&r(null!==(t=/.*touch.*/i.test(n)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)})),wZe(a,"handleClick",(function(e){var t=a.getMouseInfo(e);if(t){var n=bZe(bZe({},t),{},{isTooltipActive:!0});a.setState(n),a.triggerSyncEvent(n);var r=a.props.onClick;oIe()(r)&&r(n,e)}})),wZe(a,"handleMouseDown",(function(e){var t=a.props.onMouseDown;oIe()(t)&&t(a.getMouseInfo(e),e)})),wZe(a,"handleMouseUp",(function(e){var t=a.props.onMouseUp;oIe()(t)&&t(a.getMouseInfo(e),e)})),wZe(a,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),wZe(a,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])})),wZe(a,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])})),wZe(a,"handleDoubleClick",(function(e){var t=a.props.onDoubleClick;oIe()(t)&&t(a.getMouseInfo(e),e)})),wZe(a,"handleContextMenu",(function(e){var t=a.props.onContextMenu;oIe()(t)&&t(a.getMouseInfo(e),e)})),wZe(a,"triggerSyncEvent",(function(e){void 0!==a.props.syncId&&nYe.emit(rYe,a.props.syncId,e,a.eventEmitterSymbol)})),wZe(a,"applySyncEvent",(function(e){var t=a.props,n=t.layout,r=t.syncMethod,o=a.state.updateId,i=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(bZe({dataStartIndex:i,dataEndIndex:s},p({props:a.props,dataStartIndex:i,dataEndIndex:s,updateId:o},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=a.state,f=d.offset,h=d.tooltipTicks;if(!f)return;if("function"==typeof r)u=r(h,e);else if("value"===r){u=-1;for(var m=0;m<h.length;m++)if(h[m].value===e.activeLabel){u=m;break}}var v=bZe(bZe({},f),{},{x:f.left,y:f.top}),g=Math.min(l,v.x+v.width),y=Math.min(c,v.y+v.height),b=h[u]&&h[u].value,w=CZe(a.state,a.props.data,u),x=h[u]?{x:"horizontal"===n?h[u].coordinate:g,y:"horizontal"===n?y:h[u].coordinate}:EZe;a.setState(bZe(bZe({},e),{},{activeLabel:b,activeCoordinate:x,activePayload:w,activeTooltipIndex:u}))}else a.setState(e)})),wZe(a,"renderCursor",(function(e){var r,o=a.state,i=o.isTooltipActive,s=o.activeCoordinate,l=o.activePayload,c=o.offset,u=o.activeTooltipIndex,d=o.tooltipAxisBandSize,f=a.getTooltipEventType(),p=null!==(r=e.props.active)&&void 0!==r?r:i,h=a.props.layout,m=e.key||"_recharts-cursor";return n.createElement(rZe,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:p,layout:h,offset:c,tooltipAxisBandSize:d,tooltipEventType:f})})),wZe(a,"renderPolarAxis",(function(e,t,r){var o=$Me()(e,"type.axisType"),i=$Me()(a.state,"".concat(o,"Map")),s=e.type.defaultProps,l=void 0!==s?bZe(bZe({},s),e.props):e.props,c=i&&i[l["".concat(o,"Id")]];return(0,n.cloneElement)(e,bZe(bZe({},c),{},{className:je(o,c.className),key:e.key||"".concat(t,"-").concat(r),ticks:tqe(c,!0)}))})),wZe(a,"renderPolarGrid",(function(e){var t=e.props,r=t.radialLines,o=t.polarAngles,i=t.polarRadius,s=a.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=ZMe(l),d=ZMe(c),f=d.cx,p=d.cy,h=d.innerRadius,m=d.outerRadius;return(0,n.cloneElement)(e,{polarAngles:Array.isArray(o)?o:tqe(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(i)?i:tqe(u,!0).map((function(e){return e.coordinate})),cx:f,cy:p,innerRadius:h,outerRadius:m,key:e.key||"polar-grid",radialLines:r})})),wZe(a,"renderLegend",(function(){var e=a.state.formattedGraphicalItems,t=a.props,r=t.children,o=t.width,i=t.height,s=a.props.margin||{},l=o-(s.left||0)-(s.right||0),u=$We({children:r,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,f=cZe(u,oZe);return(0,n.cloneElement)(d,bZe(bZe({},f),{},{chartWidth:o,chartHeight:i,margin:s,onBBoxUpdate:a.handleLegendBBoxUpdate}))})),wZe(a,"renderTooltip",(function(){var e,t=a.props,r=t.children,o=t.accessibilityLayer,i=jIe(r,VRe);if(!i)return null;var s=a.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,f=s.offset,p=null!==(e=i.props.active)&&void 0!==e?e:l;return(0,n.cloneElement)(i,{viewBox:bZe(bZe({},f),{},{x:f.left,y:f.top}),active:p,label:d,payload:p?u:[],coordinate:c,accessibilityLayer:o})})),wZe(a,"renderBrush",(function(e){var t=a.props,r=t.margin,o=t.data,i=a.state,s=i.offset,l=i.dataStartIndex,c=i.dataEndIndex,u=i.updateId;return(0,n.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:rqe(a.handleBrushChange,e.props.onChange),data:o,x:qMe(e.props.x)?e.props.x:s.left,y:qMe(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(r.bottom||0),width:qMe(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),wZe(a,"renderReferenceElement",(function(e,t,r){if(!e)return null;var o=a.clipPathId,i=a.state,s=i.xAxisMap,l=i.yAxisMap,c=i.offset,u=e.type.defaultProps||{},d=e.props,f=d.xAxisId,p=void 0===f?u.xAxisId:f,h=d.yAxisId,m=void 0===h?u.yAxisId:h;return(0,n.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:s[p],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:o})})),wZe(a,"renderActivePoints",(function(e){var t=e.item,n=e.activePoint,o=e.basePoint,i=e.childIndex,a=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?bZe(bZe({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=bZe(bZe({index:i,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:YWe(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},AIe(u,!1)),hIe(u));return s.push(r.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(i))),o?s.push(r.renderActiveDot(u,bZe(bZe({},d),{},{cx:o.x,cy:o.y}),"".concat(l,"-basePoint-").concat(i))):a&&s.push(null),s})),wZe(a,"renderGraphicChild",(function(e,t,r){var o=a.filterFormatItem(e,t,r);if(!o)return null;var i=a.getTooltipEventType(),s=a.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,f=jIe(a.props.children,VRe),p=o.props,h=p.points,m=p.isRange,v=p.baseLine,g=void 0!==o.item.type.defaultProps?bZe(bZe({},o.item.type.defaultProps),o.item.props):o.item.props,y=g.activeDot,b=g.hide,w=g.activeBar,x=g.activeShape,S=Boolean(!b&&l&&f&&(y||w||x)),k={};"axis"!==i&&f&&"click"===f.props.trigger?k={onClick:rqe(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==i&&(k={onMouseLeave:rqe(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:rqe(a.handleItemMouseEnter,e.props.onMouseEnter)});var E=(0,n.cloneElement)(e,bZe(bZe({},o.props),k));if(S){if(!(u>=0)){var O,j=(null!==(O=a.getItemByXY(a.state.activeCoordinate))&&void 0!==O?O:{graphicalItem:E}).graphicalItem,_=j.item,C=void 0===_?e:_,T=j.childIndex,P=bZe(bZe(bZe({},o.props),k),{},{activeIndex:T});return[(0,n.cloneElement)(C,P),null,null]}var A,N;if(c.dataKey&&!c.allowDuplicatedCategory){var M="function"==typeof c.dataKey?function(e){return"function"==typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=QMe(h,M,d),N=m&&v&&QMe(v,M,d)}else A=null==h?void 0:h[u],N=m&&v&&v[u];if(x||w){var I=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,n.cloneElement)(e,bZe(bZe(bZe({},o.props),k),{},{activeIndex:I})),null,null]}if(!nIe()(A))return[E].concat(mZe(a.renderActivePoints({item:o,activePoint:A,basePoint:N,childIndex:u,isRange:m})))}return m?[E,null,null]:[E,null]})),wZe(a,"renderCustomized",(function(e,t,r){return(0,n.cloneElement)(e,bZe(bZe({key:"recharts-customized-".concat(r)},a.props),a.state))})),wZe(a,"renderMap",{CartesianGrid:{handler:OZe,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:OZe},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:OZe},YAxis:{handler:OZe},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(o=e.id)&&void 0!==o?o:XMe("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=Eh()(a.triggeredAfterMouseMove,null!==(i=e.throttleDelay)&&void 0!==i?i:1e3/60),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hZe(e,t)}(r,e),o=r,a=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,o=e.layout,i=jIe(t,VRe);if(i){var a=i.props.defaultIndex;if(!("number"!=typeof a||a<0||a>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[a]&&this.state.tooltipTicks[a].value,l=CZe(this.state,n,a,s),c=this.state.tooltipTicks[a].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===o?{x:c,y:u}:{y:c,x:u},f=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));f&&(d=bZe(bZe({},d),f.props.points[a].tooltipPosition),l=f.props.points[a].tooltipPayload);var p={activeTooltipIndex:a,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(p),this.renderCursor(i),this.accessibilityManager.setIndex(a)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){NIe([jIe(e.children,VRe)],[jIe(this.props.children,VRe)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=jIe(this.props.children,VRe);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:i}return i}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),o={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},i={chartX:Math.round(e.pageX-o.left),chartY:Math.round(e.pageY-o.top)},a=r.width/n.offsetWidth||1,s=this.inRange(i.chartX,i.chartY,a);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=ZMe(c).scale,f=ZMe(u).scale,p=d&&d.invert?d.invert(i.chartX):null,h=f&&f.invert?f.invert(i.chartY):null;return bZe(bZe({},i),{},{xValue:p,yValue:h})}var m=TZe(this.state,this.props.data,this.props.layout,s);return m?bZe(bZe({},i),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,o=e/n,i=t/n;if("horizontal"===r||"vertical"===r){var a=this.state.offset;return o>=a.left&&o<=a.left+a.width&&i>=a.top&&i<=a.top+a.height?{x:o,y:i}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=ZMe(l);return Yqe({x:o,y:i},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=jIe(e,VRe),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),bZe(bZe({},hIe(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){nYe.on(rYe,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nYe.removeListener(rYe,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,o=0,i=r.length;o<i;o++){var a=r[o];if(a.item===e||a.props.key===e.key||t===xIe(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,o=t.top,i=t.height,a=t.width;return n.createElement("defs",null,n.createElement("clipPath",{id:e},n.createElement("rect",{x:r,y:o,height:i,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=lZe(t,2),r=n[0],o=n[1];return bZe(bZe({},e),{},wZe({},r,o.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=lZe(t,2),r=n[0],o=n[1];return bZe(bZe({},e),{},wZe({},r,o.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var o=0,i=n.length;o<i;o++){var a=n[o],s=a.props,l=a.item,c=void 0!==l.type.defaultProps?bZe(bZe({},l.type.defaultProps),l.props):l.props,u=xIe(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return VFe(e,t)}));if(d)return{graphicalItem:a,payload:d}}else if("RadialBar"===u){var f=(s.data||[]).find((function(t){return Yqe(e,t)}));if(f)return{graphicalItem:a,payload:f}}else if(lKe(a,r)||cKe(a,r)||uKe(a,r)){var p=hKe({graphicalItem:a,activeTooltipItem:r,itemData:c.data}),h=void 0===c.activeIndex?p:c.activeIndex;return{graphicalItem:bZe(bZe({},a),{},{childIndex:h}),payload:uKe(a,r)?c.data[p]:a.props.data[p]}}}return null}},{key:"render",value:function(){var e=this;if(!_Ie(this))return null;var t,r,o=this.props,i=o.children,a=o.className,s=o.width,l=o.height,c=o.style,u=o.compact,d=o.title,f=o.desc,p=cZe(o,iZe),h=AIe(p,!1);if(u)return n.createElement(wXe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement(ZIe,sZe({},h,{width:s,height:l,title:d,desc:f}),this.renderClipPath(),IIe(i,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return n.createElement(wXe,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},n.createElement("div",sZe({className:je("recharts-wrapper",a),style:bZe({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),n.createElement(ZIe,sZe({},h,{width:s,height:l,title:d,desc:f,style:kZe}),this.renderClipPath(),IIe(i,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],a&&uZe(o.prototype,a),l&&uZe(o,l),Object.defineProperty(o,"prototype",{writable:!1}),o;var o,a,l}(n.Component);wZe(h,"displayName",t),wZe(h,"defaultProps",bZe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),wZe(h,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,o=e.children,i=e.width,a=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var f=NZe(e);return bZe(bZe(bZe({},f),{},{updateId:0},p(bZe(bZe({props:e},f),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:o})}if(n!==t.prevDataKey||r!==t.prevData||i!==t.prevWidth||a!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!lIe(c,t.prevMargin)){var h=NZe(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},v=bZe(bZe({},TZe(t,r,s)),{},{updateId:t.updateId+1}),g=bZe(bZe(bZe({},h),m),v);return bZe(bZe(bZe({},g),p(bZe({props:e},g),t)),{},{prevDataKey:n,prevData:r,prevWidth:i,prevHeight:a,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:o})}if(!NIe(o,t.prevChildren)){var y,b,w,x,S=jIe(o,Lqe),k=S&&null!==(y=null===(b=S.props)||void 0===b?void 0:b.startIndex)&&void 0!==y?y:u,E=S&&null!==(w=null===(x=S.props)||void 0===x?void 0:x.endIndex)&&void 0!==w?w:d,O=k!==u||E!==d,j=!nIe()(r)&&!O?t.updateId:t.updateId+1;return bZe(bZe({updateId:j},p(bZe(bZe({props:e},t),{},{updateId:j,dataStartIndex:k,dataEndIndex:E}),t)),{},{prevChildren:o,dataStartIndex:k,dataEndIndex:E})}return null})),wZe(h,"renderActiveDot",(function(e,t,r){var o;return o=(0,n.isValidElement)(e)?(0,n.cloneElement)(e,t):oIe()(e)?e(t):n.createElement(iDe,t),n.createElement(tRe,{className:"recharts-active-dot",key:r},o)}));var m=(0,n.forwardRef)((function(e,t){return n.createElement(h,sZe({},e,{ref:t}))}));return m.displayName=h.displayName,m};function DZe(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],o=0;o<e.length;o+=t){if(void 0!==n&&!0!==n(e[o]))return;r.push(e[o])}return r}function FZe(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),o=r*Math.PI/180,i=Math.atan(n/t),a=o>i&&o<Math.PI-i?n/Math.sin(o):t/Math.cos(o);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function zZe(e,t,n,r,o){if(e*t<e*r||e*t>e*o)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-o)<=0}function BZe(e){return BZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BZe(e)}function $Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Ze(Object(n),!0).forEach((function(t){VZe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VZe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=BZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BZe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZe(e,t,n){var r=e.tick,o=e.ticks,i=e.viewBox,a=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!o||!o.length||!r)return[];if(qMe(l)||CRe.isSsr)return function(e,t){return DZe(e,t+1)}(o,"number"==typeof l&&qMe(l)?l:0);var f=[],p="top"===s||"bottom"===s?"width":"height",h=u&&"width"===p?dze(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var o=oIe()(c)?c(e.value,r):e.value;return"width"===p?FZe(dze(o,{fontSize:t,letterSpacing:n}),h,d):dze(o,{fontSize:t,letterSpacing:n})[p]},v=o.length>=2?HMe(o[1].coordinate-o[0].coordinate):1,g=function(e,t,n){var r="width"===n,o=e.x,i=e.y,a=e.width,s=e.height;return 1===t?{start:r?o:i,end:r?o+a:i+s}:{start:r?o+a:i+s,end:r?o:i}}(i,v,p);return"equidistantPreserveStart"===l?function(e,t,n,r,o){for(var i,a=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,f=function(){var t=null==r?void 0:r[c];if(void 0===t)return{v:DZe(r,u)};var i,a=c,f=function(){return void 0===i&&(i=n(t,a)),i},p=t.coordinate,h=0===c||zZe(e,p,f,d,l);h||(c=0,d=s,u+=1),h&&(d=p+e*(f()/2+o),c+=u)};u<=a.length;)if(i=f())return i.v;return[]}(v,g,m,o,a):(f="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,o,i){var a=(r||[]).slice(),s=a.length,l=t.start,c=t.end;if(i){var u=r[s-1],d=n(u,s-1),f=e*(u.coordinate+e*d/2-c);a[s-1]=u=UZe(UZe({},u),{},{tickCoord:f>0?u.coordinate-f*e:u.coordinate}),zZe(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+o),a[s-1]=UZe(UZe({},u),{},{isShow:!0}))}for(var p=i?s-1:s,h=function(t){var r,i=a[t],s=function(){return void 0===r&&(r=n(i,t)),r};if(0===t){var u=e*(i.coordinate-e*s()/2-l);a[t]=i=UZe(UZe({},i),{},{tickCoord:u<0?i.coordinate-u*e:i.coordinate})}else a[t]=i=UZe(UZe({},i),{},{tickCoord:i.coordinate});zZe(e,i.tickCoord,s,l,c)&&(l=i.tickCoord+e*(s()/2+o),a[t]=UZe(UZe({},i),{},{isShow:!0}))},m=0;m<p;m++)h(m);return a}(v,g,m,o,a,"preserveStartEnd"===l):function(e,t,n,r,o){for(var i=(r||[]).slice(),a=i.length,s=t.start,l=t.end,c=function(t){var r,c=i[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===a-1){var d=e*(c.coordinate+e*u()/2-l);i[t]=c=UZe(UZe({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else i[t]=c=UZe(UZe({},c),{},{tickCoord:c.coordinate});zZe(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+o),i[t]=UZe(UZe({},c),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return i}(v,g,m,o,a),f.filter((function(e){return e.isShow})))}var WZe=["viewBox"],qZe=["viewBox"],GZe=["ticks"];function KZe(e){return KZe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KZe(e)}function XZe(){return XZe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XZe.apply(this,arguments)}function YZe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZZe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YZe(Object(n),!0).forEach((function(t){oJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YZe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JZe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function QZe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iJe(r.key),r)}}function eJe(e,t,n){return t=nJe(t),function(e,t){if(t&&("object"===KZe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,tJe()?Reflect.construct(t,n||[],nJe(e).constructor):t.apply(e,n))}function tJe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tJe=function(){return!!e})()}function nJe(e){return nJe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nJe(e)}function rJe(e,t){return rJe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rJe(e,t)}function oJe(e,t,n){return(t=iJe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iJe(e){var t=function(e,t){if("object"!=KZe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KZe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KZe(t)?t:t+""}var aJe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=eJe(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rJe(e,t)}(t,e),r=t,o=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=JZe(e,WZe),o=this.props,i=o.viewBox,a=JZe(o,qZe);return!lIe(n,i)||!lIe(r,a)||!lIe(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,o,i,a,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,h=s.mirror,m=s.tickMargin,v=h?-1:1,g=e.tickSize||p,y=qMe(e.tickCoord)?e.tickCoord:e.coordinate;switch(f){case"top":t=n=e.coordinate,a=(r=(o=c+ +!h*d)-v*g)-v*m,i=y;break;case"left":r=o=e.coordinate,i=(t=(n=l+ +!h*u)-v*g)-v*m,a=y;break;case"right":r=o=e.coordinate,i=(t=(n=l+ +h*u)+v*g)+v*m,a=y;break;default:t=n=e.coordinate,a=(r=(o=c+ +h*d)+v*g)+v*m,i=y}return{line:{x1:t,y1:r,x2:n,y2:o},tick:{x:i,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,i=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,c=ZZe(ZZe(ZZe({},AIe(this.props,!1)),AIe(l,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!s||"bottom"===a&&s);c=ZZe(ZZe({},c),{},{x1:t,y1:r+u*i,x2:t+o,y2:r+u*i})}else{var d=+("left"===a&&!s||"right"===a&&s);c=ZZe(ZZe({},c),{},{x1:t+d*o,y1:r,x2:t+d*o,y2:r+i})}return n.createElement("line",XZe({},c,{className:je("recharts-cartesian-axis-line",$Me()(l,"className"))}))}},{key:"renderTicks",value:function(e,r,o){var i=this,a=this.props,s=a.tickLine,l=a.stroke,c=a.tick,u=a.tickFormatter,d=a.unit,f=HZe(ZZe(ZZe({},this.props),{},{ticks:e}),r,o),p=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=AIe(this.props,!1),v=AIe(c,!1),g=ZZe(ZZe({},m),{},{fill:"none"},AIe(s,!1)),y=f.map((function(e,r){var o=i.getTickLineCoord(e),a=o.line,y=o.tick,b=ZZe(ZZe(ZZe(ZZe({textAnchor:p,verticalAnchor:h},m),{},{stroke:"none",fill:l},v),y),{},{index:r,payload:e,visibleTicksCount:f.length,tickFormatter:u});return n.createElement(tRe,XZe({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},mIe(i.props,e,r)),s&&n.createElement("line",XZe({},g,a,{className:je("recharts-cartesian-axis-tick-line",$Me()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat(oIe()(u)?u(e.value,r):e.value).concat(d||"")))}));return n.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,o=t.width,i=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=JZe(l,GZe),d=c;return oIe()(a)&&(d=c&&c.length>0?a(this.props):a(u)),o<=0||i<=0||!d||!d.length?null:n.createElement(tRe,{className:je("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),lGe.renderCallByParent(this.props))}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement(Bze,XZe({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],o&&QZe(r.prototype,o),i&&QZe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function sJe(e){return sJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sJe(e)}function lJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hJe(r.key),r)}}function cJe(e,t,n){return t=dJe(t),function(e,t){if(t&&("object"===sJe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,uJe()?Reflect.construct(t,n||[],dJe(e).constructor):t.apply(e,n))}function uJe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uJe=function(){return!!e})()}function dJe(e){return dJe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dJe(e)}function fJe(e,t){return fJe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fJe(e,t)}function pJe(e,t,n){return(t=hJe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hJe(e){var t=function(e,t){if("object"!=sJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sJe(t)?t:t+""}function mJe(){return mJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mJe.apply(this,arguments)}function vJe(e){var t=e.xAxisId,r=kXe(),o=EXe(),i=xXe(t);return null==i?null:n.createElement(aJe,mJe({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(e){return tqe(e,!0)}}))}oJe(aJe,"displayName","CartesianAxis"),oJe(aJe,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var gJe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cJe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fJe(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){return n.createElement(vJe,this.props)}}])&&lJe(r.prototype,o),i&&lJe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);function yJe(e){return yJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yJe(e)}function bJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OJe(r.key),r)}}function wJe(e,t,n){return t=SJe(t),function(e,t){if(t&&("object"===yJe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xJe()?Reflect.construct(t,n||[],SJe(e).constructor):t.apply(e,n))}function xJe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xJe=function(){return!!e})()}function SJe(e){return SJe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SJe(e)}function kJe(e,t){return kJe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kJe(e,t)}function EJe(e,t,n){return(t=OJe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJe(e){var t=function(e,t){if("object"!=yJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yJe(t)?t:t+""}function jJe(){return jJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jJe.apply(this,arguments)}pJe(gJe,"displayName","XAxis"),pJe(gJe,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var _Je=function(e){var t=e.yAxisId,r=kXe(),o=EXe(),i=SXe(t);return null==i?null:n.createElement(aJe,jJe({},i,{className:je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:o},ticksGenerator:function(e){return tqe(e,!0)}}))},CJe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wJe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kJe(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){return n.createElement(_Je,this.props)}}])&&bJe(r.prototype,o),i&&bJe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);EJe(CJe,"displayName","YAxis"),EJe(CJe,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var TJe=LZe({chartName:"BarChart",GraphicalChild:FKe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gJe},{axisType:"yAxis",AxisComp:CJe}],formatAxisMap:WKe}),PJe=["x1","y1","x2","y2","key"],AJe=["offset"];function NJe(e){return NJe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NJe(e)}function MJe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IJe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MJe(Object(n),!0).forEach((function(t){RJe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MJe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function RJe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=NJe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NJe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NJe(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LJe(){return LJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LJe.apply(this,arguments)}function DJe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var FJe=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,o=e.x,i=e.y,a=e.width,s=e.height,l=e.ry;return n.createElement("rect",{x:o,y:i,ry:l,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zJe(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(oIe()(e))r=e(t);else{var o=t.x1,i=t.y1,a=t.x2,s=t.y2,l=t.key,c=DJe(t,PJe),u=AIe(c,!1),d=(u.offset,DJe(u,AJe));r=n.createElement("line",LJe({},d,{x1:o,y1:i,x2:a,y2:s,fill:"none",key:l}))}return r}function BJe(e){var t=e.x,r=e.width,o=e.horizontal,i=void 0===o||o,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(n,o){var a=IJe(IJe({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(o),index:o});return zJe(i,a)}));return n.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function $Je(e){var t=e.y,r=e.height,o=e.vertical,i=void 0===o||o,a=e.verticalPoints;if(!i||!a||!a.length)return null;var s=a.map((function(n,o){var a=IJe(IJe({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(o),index:o});return zJe(i,a)}));return n.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function UJe(e){var t=e.horizontalFill,r=e.fillOpacity,o=e.x,i=e.y,a=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+i-i)})).sort((function(e,t){return e-t}));i!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?i+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return n.createElement("rect",{key:"react-".concat(l),y:e,x:o,height:c,width:a,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function VJe(e){var t=e.vertical,r=void 0===t||t,o=e.verticalFill,i=e.fillOpacity,a=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!o||!o.length)return null;var d=u.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==d[0]&&d.unshift(0);var f=d.map((function(e,t){var r=!d[t+1]?a+l-e:d[t+1]-e;if(r<=0)return null;var u=t%o.length;return n.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:r,height:c,stroke:"none",fill:o[u],fillOpacity:i,className:"recharts-cartesian-grid-bg"})}));return n.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var HJe=function(e,t){var n=e.xAxis,r=e.width,o=e.height,i=e.offset;return eqe(HZe(IJe(IJe(IJe({},aJe.defaultProps),n),{},{ticks:tqe(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),i.left,i.left+i.width,t)},WJe=function(e,t){var n=e.yAxis,r=e.width,o=e.height,i=e.offset;return eqe(HZe(IJe(IJe(IJe({},aJe.defaultProps),n),{},{ticks:tqe(n,!0),viewBox:{x:0,y:0,width:r,height:o}})),i.top,i.top+i.height,t)},qJe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GJe(e){var t,r,o,i,a,s,l,c,u=kXe(),d=EXe(),f=(0,n.useContext)(vXe),p=IJe(IJe({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:qJe.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:qJe.fill,horizontal:null!==(o=e.horizontal)&&void 0!==o?o:qJe.horizontal,horizontalFill:null!==(i=e.horizontalFill)&&void 0!==i?i:qJe.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:qJe.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:qJe.verticalFill,x:qMe(e.x)?e.x:f.left,y:qMe(e.y)?e.y:f.top,width:qMe(e.width)?e.width:f.width,height:qMe(e.height)?e.height:f.height}),h=p.x,m=p.y,v=p.width,g=p.height,y=p.syncWithTicks,b=p.horizontalValues,w=p.verticalValues,x=(l=(0,n.useContext)(pXe),ZMe(l)),S=(c=(0,n.useContext)(hXe),uXe()(c,(function(e){return hGe()(e.domain,Number.isFinite)}))||ZMe(c));if(!qMe(v)||v<=0||!qMe(g)||g<=0||!qMe(h)||h!==+h||!qMe(m)||m!==+m)return null;var k=p.verticalCoordinatesGenerator||HJe,E=p.horizontalCoordinatesGenerator||WJe,O=p.horizontalPoints,j=p.verticalPoints;if((!O||!O.length)&&oIe()(E)){var _=b&&b.length,C=E({yAxis:S?IJe(IJe({},S),{},{ticks:_?b:S.ticks}):void 0,width:u,height:d,offset:f},!!_||y);eIe(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(NJe(C),"]")),Array.isArray(C)&&(O=C)}if((!j||!j.length)&&oIe()(k)){var T=w&&w.length,P=k({xAxis:x?IJe(IJe({},x),{},{ticks:T?w:x.ticks}):void 0,width:u,height:d,offset:f},!!T||y);eIe(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(NJe(P),"]")),Array.isArray(P)&&(j=P)}return n.createElement("g",{className:"recharts-cartesian-grid"},n.createElement(FJe,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),n.createElement(BJe,LJe({},p,{offset:f,horizontalPoints:O,xAxis:x,yAxis:S})),n.createElement($Je,LJe({},p,{offset:f,verticalPoints:j,xAxis:x,yAxis:S})),n.createElement(UJe,LJe({},p,{horizontalPoints:O})),n.createElement(VJe,LJe({},p,{verticalPoints:j})))}GJe.displayName="CartesianGrid";var KJe=["points","className","baseLinePoints","connectNulls"];function XJe(){return XJe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XJe.apply(this,arguments)}function YJe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ZJe(e){return function(e){if(Array.isArray(e))return JJe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return JJe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JJe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JJe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var QJe=function(e){return e&&e.x===+e.x&&e.y===+e.y},eQe=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){QJe(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),QJe(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(ZJe(e),ZJe(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},tQe=function(e){var t=e.points,r=e.className,o=e.baseLinePoints,i=e.connectNulls,a=YJe(e,KJe);if(!t||!t.length)return null;var s=je("recharts-polygon",r);if(o&&o.length){var l=a.stroke&&"none"!==a.stroke,c=function(e,t,n){var r=eQe(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(eQe(t.reverse(),n).slice(1))}(t,o,i);return n.createElement("g",{className:s},n.createElement("path",XJe({},AIe(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",stroke:"none",d:c})),l?n.createElement("path",XJe({},AIe(a,!0),{fill:"none",d:eQe(t,i)})):null,l?n.createElement("path",XJe({},AIe(a,!0),{fill:"none",d:eQe(o,i)})):null)}var u=eQe(t,i);return n.createElement("path",XJe({},AIe(a,!0),{fill:"Z"===u.slice(-1)?a.fill:"none",className:s,d:u}))};function nQe(e){return nQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nQe(e)}function rQe(){return rQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rQe.apply(this,arguments)}function oQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oQe(Object(n),!0).forEach((function(t){dQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fQe(r.key),r)}}function sQe(e,t,n){return t=cQe(t),function(e,t){if(t&&("object"===nQe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,lQe()?Reflect.construct(t,n||[],cQe(e).constructor):t.apply(e,n))}function lQe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lQe=function(){return!!e})()}function cQe(e){return cQe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cQe(e)}function uQe(e,t){return uQe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},uQe(e,t)}function dQe(e,t,n){return(t=fQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fQe(e){var t=function(e,t){if("object"!=nQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nQe(t)?t:t+""}var pQe=Math.PI/180,hQe=1e-5,mQe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),sQe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uQe(e,t)}(t,e),r=t,o=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,o=t.radius,i=t.orientation,a=t.tickSize||8,s=Wqe(n,r,o,e.coordinate),l=Wqe(n,r,o+("inner"===i?-1:1)*a,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*pQe);return n>hQe?"outer"===t?"start":"end":n<-hQe?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,o=e.radius,i=e.axisLine,a=e.axisLineType,s=iQe(iQe({},AIe(this.props,!1)),{},{fill:"none"},AIe(i,!1));if("circle"===a)return n.createElement(iDe,rQe({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:r,r:o}));var l=this.props.ticks.map((function(e){return Wqe(t,r,o,e.coordinate)}));return n.createElement(tQe,rQe({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,r=this.props,o=r.ticks,i=r.tick,a=r.tickLine,s=r.tickFormatter,l=r.stroke,c=AIe(this.props,!1),u=AIe(i,!1),d=iQe(iQe({},c),{},{fill:"none"},AIe(a,!1)),f=o.map((function(r,o){var f=e.getTickLineCoord(r),p=iQe(iQe(iQe({textAnchor:e.getTickTextAnchor(r)},c),{},{stroke:"none",fill:l},u),{},{index:o,payload:r,x:f.x2,y:f.y2});return n.createElement(tRe,rQe({className:je("recharts-polar-angle-axis-tick",Zqe(i)),key:"tick-".concat(r.coordinate)},mIe(e.props,r,o)),a&&n.createElement("line",rQe({className:"recharts-polar-angle-axis-tick-line"},d,f)),i&&t.renderTickItem(i,p,s?s(r.value,o):r.value))}));return n.createElement(tRe,{className:"recharts-polar-angle-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,o=e.axisLine;return r<=0||!t||!t.length?null:n.createElement(tRe,{className:je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement(Bze,rQe({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],o&&aQe(r.prototype,o),i&&aQe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);dQe(mQe,"displayName","PolarAngleAxis"),dQe(mQe,"axisType","angleAxis"),dQe(mQe,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vQe=o(7551),gQe=o.n(vQe),yQe=o(6533),bQe=o.n(yQe),wQe=["cx","cy","angle","ticks","axisLine"],xQe=["ticks","tick","angle","tickFormatter","stroke"];function SQe(e){return SQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SQe(e)}function kQe(){return kQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kQe.apply(this,arguments)}function EQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EQe(Object(n),!0).forEach((function(t){NQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jQe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function _Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MQe(r.key),r)}}function CQe(e,t,n){return t=PQe(t),function(e,t){if(t&&("object"===SQe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,TQe()?Reflect.construct(t,n||[],PQe(e).constructor):t.apply(e,n))}function TQe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TQe=function(){return!!e})()}function PQe(e){return PQe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},PQe(e)}function AQe(e,t){return AQe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},AQe(e,t)}function NQe(e,t,n){return(t=MQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MQe(e){var t=function(e,t){if("object"!=SQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=SQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==SQe(t)?t:t+""}var IQe,RQe=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),CQe(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AQe(e,t)}(t,e),r=t,o=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,o=n.cx,i=n.cy;return Wqe(o,i,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,o=e.ticks,i=gQe()(o,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:bQe()(o,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:i.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,o=e.angle,i=e.ticks,a=e.axisLine,s=jQe(e,wQe),l=i.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=Wqe(t,r,l[0],o),u=Wqe(t,r,l[1],o),d=OQe(OQe(OQe({},AIe(s,!1)),{},{fill:"none"},AIe(a,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return n.createElement("line",kQe({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,r=this.props,o=r.ticks,i=r.tick,a=r.angle,s=r.tickFormatter,l=r.stroke,c=jQe(r,xQe),u=this.getTickTextAnchor(),d=AIe(c,!1),f=AIe(i,!1),p=o.map((function(r,o){var c=e.getTickValueCoord(r),p=OQe(OQe(OQe(OQe({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},f),{},{index:o},c),{},{payload:r});return n.createElement(tRe,kQe({className:je("recharts-polar-radius-axis-tick",Zqe(i)),key:"tick-".concat(r.coordinate)},mIe(e.props,r,o)),t.renderTickItem(i,p,s?s(r.value,o):r.value))}));return n.createElement(tRe,{className:"recharts-polar-radius-axis-ticks"},p)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,o=e.tick;return t&&t.length?n.createElement(tRe,{className:je("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),o&&this.renderTicks(),lGe.renderCallByParent(this.props,this.getViewBox())):null}}],i=[{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):oIe()(e)?e(t):n.createElement(Bze,kQe({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],o&&_Qe(r.prototype,o),i&&_Qe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);function LQe(e){return LQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LQe(e)}function DQe(){return DQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DQe.apply(this,arguments)}function FQe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zQe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FQe(Object(n),!0).forEach((function(t){WQe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FQe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qQe(r.key),r)}}function $Qe(e,t,n){return t=VQe(t),function(e,t){if(t&&("object"===LQe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UQe()?Reflect.construct(t,n||[],VQe(e).constructor):t.apply(e,n))}function UQe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(UQe=function(){return!!e})()}function VQe(e){return VQe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},VQe(e)}function HQe(e,t){return HQe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},HQe(e,t)}function WQe(e,t,n){return(t=qQe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQe(e){var t=function(e,t){if("object"!=LQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LQe(t)?t:t+""}NQe(RQe,"displayName","PolarRadiusAxis"),NQe(RQe,"axisType","radiusAxis"),NQe(RQe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var GQe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),WQe(n=$Qe(this,t,[e]),"pieRef",null),WQe(n,"sectorRefs",[]),WQe(n,"id",XMe("recharts-pie-")),WQe(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),oIe()(e)&&e()})),WQe(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),oIe()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HQe(e,t)}(t,e),r=t,o=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,o=r.label,i=r.labelLine,a=r.dataKey,s=r.valueKey,l=AIe(this.props,!1),c=AIe(o,!1),u=AIe(i,!1),d=o&&o.offsetRadius||20,f=e.map((function(e,r){var f=(e.startAngle+e.endAngle)/2,p=Wqe(e.cx,e.cy,e.outerRadius+d,f),h=zQe(zQe(zQe(zQe({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:t.getTextAnchor(p.x,e.cx)},p),m=zQe(zQe(zQe(zQe({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Wqe(e.cx,e.cy,e.outerRadius,f),p]}),v=a;return nIe()(a)&&nIe()(s)?v="value":nIe()(a)&&(v=s),n.createElement(tRe,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},i&&t.renderLabelLineItem(i,m,"line"),t.renderLabelItem(o,h,KWe(e,v)))}));return n.createElement(tRe,{className:"recharts-pie-labels"},f)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,o=r.activeShape,i=r.blendStroke,a=r.inactiveShape;return e.map((function(r,s){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=a&&t.hasActiveIndex()?a:null,u=l?o:c,d=zQe(zQe({},r),{},{stroke:i?r.fill:r.stroke,tabIndex:-1});return n.createElement(tRe,DQe({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},mIe(t.props,r,s),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(s)}),n.createElement(sKe,DQe({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,o=t.isAnimationActive,i=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return n.createElement(IFe,{begin:i,duration:a,isActive:o,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var o=t.t,i=[],a=(r&&r[0]).startAngle;return r.forEach((function(e,t){var n=u&&u[t],r=t>0?$Me()(e,"paddingAngle",0):0;if(n){var s=JMe(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=zQe(zQe({},e),{},{startAngle:a+r,endAngle:a+s(o)+r});i.push(l),a=l.endAngle}else{var c=e.endAngle,d=e.startAngle,f=JMe(0,c-d)(o),p=zQe(zQe({},e),{},{startAngle:a+r,endAngle:a+f+r});i.push(p),a=p.endAngle}})),n.createElement(tRe,null,e.renderSectorsStatically(i))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&FV()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,o=t.sectors,i=t.className,a=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,f=this.state.isAnimationFinished;if(r||!o||!o.length||!qMe(s)||!qMe(l)||!qMe(c)||!qMe(u))return null;var p=je("recharts-pie",i);return n.createElement(tRe,{tabIndex:this.props.rootTabIndex,className:p,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(o),lGe.renderCallByParent(this.props,null,!1),(!d||f)&&TGe.renderCallByParent(this.props,o,!1))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);if(oIe()(e))return e(t);var o=je("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return n.createElement(UYe,DQe({},t,{key:r,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(e,t,r){if(n.isValidElement(e))return n.cloneElement(e,t);var o=r;if(oIe()(e)&&(o=e(t),n.isValidElement(o)))return o;var i=je("recharts-pie-label-text","boolean"==typeof e||oIe()(e)?"":e.className);return n.createElement(Bze,DQe({},t,{alignmentBaseline:"middle",className:i}),o)}}],o&&BQe(r.prototype,o),i&&BQe(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);IQe=GQe,WQe(GQe,"displayName","Pie"),WQe(GQe,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!CRe.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),WQe(GQe,"parseDeltaAngle",(function(e,t){return HMe(t-e)*Math.min(Math.abs(t-e),360)})),WQe(GQe,"getRealPieData",(function(e){var t=e.data,n=e.children,r=AIe(e,!1),o=OIe(n,mGe);return t&&t.length?t.map((function(e,t){return zQe(zQe(zQe({payload:e},r),e),o&&o[t]&&o[t].props)})):o&&o.length?o.map((function(e){return zQe(zQe({},r),e.props)})):[]})),WQe(GQe,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,o=t.width,i=t.height,a=qqe(o,i);return{cx:r+YMe(e.cx,o,o/2),cy:n+YMe(e.cy,i,i/2),innerRadius:YMe(e.innerRadius,a,0),outerRadius:YMe(e.outerRadius,a,.8*a),maxRadius:e.maxRadius||Math.sqrt(o*o+i*i)/2}})),WQe(GQe,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?zQe(zQe({},t.type.defaultProps),t.props):t.props,o=IQe.getRealPieData(r);if(!o||!o.length)return null;var i=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,p=Math.abs(r.minAngle),h=IQe.parseCoordinateOfPie(r,n),m=IQe.parseDeltaAngle(a,s),v=Math.abs(m),g=c;nIe()(c)&&nIe()(d)?(eIe(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):nIe()(c)&&(eIe(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=d);var y,b,w=o.filter((function(e){return 0!==KWe(e,g,0)})).length,x=v-w*p-(v>=360?w:w-1)*l,S=o.reduce((function(e,t){var n=KWe(t,g,0);return e+(qMe(n)?n:0)}),0);S>0&&(y=o.map((function(e,t){var n,r=KWe(e,g,0),o=KWe(e,u,t),s=(qMe(r)?r:0)/S,c=(n=t?b.endAngle+HMe(m)*l*(0!==r?1:0):a)+HMe(m)*((0!==r?p:0)+s*x),d=(n+c)/2,v=(h.innerRadius+h.outerRadius)/2,y=[{name:o,value:r,payload:e,dataKey:g,type:f}],w=Wqe(h.cx,h.cy,v,d);return b=zQe(zQe(zQe({percent:s,cornerRadius:i,name:o,tooltipPayload:y,midAngle:d,middleRadius:v,tooltipPosition:w},e),h),{},{value:KWe(e,g),startAngle:n,endAngle:c,payload:e,paddingAngle:HMe(m)*l})})));return zQe(zQe({},h),{},{sectors:y,data:o})}));var KQe=LZe({chartName:"PieChart",GraphicalChild:GQe,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:mQe},{axisType:"radiusAxis",AxisComp:RQe}],formatAxisMap:Gqe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),XQe=["type","layout","connectNulls","ref"],YQe=["key"];function ZQe(e){return ZQe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZQe(e)}function JQe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function QQe(){return QQe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QQe.apply(this,arguments)}function e0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t0e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e0e(Object(n),!0).forEach((function(t){c0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function n0e(e){return function(e){if(Array.isArray(e))return r0e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r0e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r0e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r0e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u0e(r.key),r)}}function i0e(e,t,n){return t=s0e(t),function(e,t){if(t&&("object"===ZQe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,a0e()?Reflect.construct(t,n||[],s0e(e).constructor):t.apply(e,n))}function a0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(a0e=function(){return!!e})()}function s0e(e){return s0e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s0e(e)}function l0e(e,t){return l0e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l0e(e,t)}function c0e(e,t,n){return(t=u0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u0e(e){var t=function(e,t){if("object"!=ZQe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZQe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZQe(t)?t:t+""}var d0e=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return c0e(e=i0e(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),c0e(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),c0e(e,"getStrokeDasharray",(function(n,r,o){var i=o.reduce((function(e,t){return e+t}));if(!i)return e.generateSimpleStrokeDasharray(r,n);for(var a=Math.floor(n/i),s=n%i,l=r-n,c=[],u=0,d=0;u<o.length;d+=o[u],++u)if(d+o[u]>s){c=[].concat(n0e(o.slice(0,u)),[s-d]);break}var f=c.length%2==0?[0,l]:[l];return[].concat(n0e(t.repeat(o,a)),n0e(c),f).map((function(e){return"".concat(e,"px")})).join(", ")})),c0e(e,"id",XMe("recharts-line-")),c0e(e,"pathRef",(function(t){e.mainCurve=t})),c0e(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),c0e(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l0e(e,t)}(t,e),r=t,o=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,o=r.points,i=r.xAxis,a=r.yAxis,s=r.layout,l=OIe(r.children,LWe);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:KWe(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return n.createElement(tRe,u,l.map((function(e){return n.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:o,xAxis:i,yAxis:a,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,r,o){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.dot,s=i.points,l=i.dataKey,c=AIe(this.props,!1),u=AIe(a,!0),d=s.map((function(e,n){var r=t0e(t0e(t0e({key:"dot-".concat(n),r:3},c),u),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(a,r)})),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return n.createElement(tRe,QQe({className:"recharts-line-dots",key:"dots"},f),d)}},{key:"renderCurveStatically",value:function(e,t,r,o){var i=this.props,a=i.type,s=i.layout,l=i.connectNulls,c=(i.ref,JQe(i,XQe)),u=t0e(t0e(t0e({},AIe(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},o),{},{type:a,layout:s,connectNulls:l});return n.createElement(UYe,QQe({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,o=this.props,i=o.points,a=o.strokeDasharray,s=o.isAnimationActive,l=o.animationBegin,c=o.animationDuration,u=o.animationEasing,d=o.animationId,f=o.animateNewValues,p=o.width,h=o.height,m=this.state,v=m.prevPoints,g=m.totalLength;return n.createElement(IFe,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(n){var o=n.t;if(v){var s=v.length/i.length,l=i.map((function(e,t){var n=Math.floor(t*s);if(v[n]){var r=v[n],i=JMe(r.x,e.x),a=JMe(r.y,e.y);return t0e(t0e({},e),{},{x:i(o),y:a(o)})}if(f){var l=JMe(2*p,e.x),c=JMe(h/2,e.y);return t0e(t0e({},e),{},{x:l(o),y:c(o)})}return t0e(t0e({},e),{},{x:e.x,y:e.y})}));return r.renderCurveStatically(l,e,t)}var c,u=JMe(0,g)(o);if(a){var d="".concat(a).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=r.getStrokeDasharray(u,g,d)}else c=r.generateSimpleStrokeDasharray(g,u);return r.renderCurveStatically(i,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,o=n.isAnimationActive,i=this.state,a=i.prevPoints,s=i.totalLength;return o&&r&&r.length&&(!a&&s>0||!FV()(a,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,o=t.dot,i=t.points,a=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,v=1===i.length,g=je("recharts-line",a),y=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,w=y||b,x=nIe()(h)?this.id:h,S=null!==(e=AIe(o,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,E=void 0===k?3:k,O=S.strokeWidth,j=void 0===O?2:O,_=(PIe(o)?o:{}).clipDot,C=void 0===_||_,T=2*E+j;return n.createElement(tRe,{className:g},y||b?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(x)},n.createElement("rect",{x:y?u:u-d/2,y:b?c:c-f/2,width:y?d:2*d,height:b?f:2*f})),!C&&n.createElement("clipPath",{id:"clipPath-dots-".concat(x)},n.createElement("rect",{x:u-T/2,y:c-T/2,width:d+T,height:f+T}))):null,!v&&this.renderCurve(w,x),this.renderErrorBar(w,x),(v||o)&&this.renderDots(w,C,x),(!p||m)&&TGe.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!=0?[].concat(n0e(e),[0]):e,r=[],o=0;o<t;++o)r=[].concat(n0e(r),n0e(n));return r}},{key:"renderDotItem",value:function(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(oIe()(e))r=e(t);else{var o=t.key,i=JQe(t,YQe),a=je("recharts-line-dot","boolean"!=typeof e?e.className:"");r=n.createElement(iDe,QQe({key:o},i,{className:a}))}return r}}],o&&o0e(r.prototype,o),i&&o0e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);c0e(d0e,"displayName","Line"),c0e(d0e,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!CRe.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),c0e(d0e,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,o=e.xAxisTicks,i=e.yAxisTicks,a=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=KWe(e,a);return"horizontal"===u?{x:uqe({axis:n,ticks:o,bandSize:s,entry:e,index:t}),y:nIe()(l)?null:r.scale(l),value:l,payload:e}:{x:nIe()(l)?null:n.scale(l),y:uqe({axis:r,ticks:i,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return t0e({points:d,layout:u},c)}));var f0e=LZe({chartName:"LineChart",GraphicalChild:d0e,axisComponents:[{axisType:"xAxis",AxisComp:gJe},{axisType:"yAxis",AxisComp:CJe}],formatAxisMap:WKe});function p0e(e){return p0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0e(e)}function h0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w0e(r.key),r)}}function m0e(e,t,n){return t=g0e(t),function(e,t){if(t&&("object"===p0e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v0e()?Reflect.construct(t,n||[],g0e(e).constructor):t.apply(e,n))}function v0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v0e=function(){return!!e})()}function g0e(e){return g0e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g0e(e)}function y0e(e,t){return y0e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y0e(e,t)}function b0e(e,t,n){return(t=w0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w0e(e){var t=function(e,t){if("object"!=p0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p0e(t)?t:t+""}var x0e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m0e(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y0e(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&h0e(n.prototype,r),o&&h0e(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(n.Component);b0e(x0e,"displayName","ZAxis"),b0e(x0e,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var S0e=["option","isActive"];function k0e(){return k0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0e.apply(this,arguments)}function E0e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O0e(e){var t=e.option,r=e.isActive,o=E0e(e,S0e);return"string"==typeof t?n.createElement(sKe,k0e({option:n.createElement(ALe,k0e({type:t},o)),isActive:r,shapeType:"symbols"},o)):n.createElement(sKe,k0e({option:t,isActive:r,shapeType:"symbols"},o))}function j0e(e){return j0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0e(e)}function _0e(){return _0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_0e.apply(this,arguments)}function C0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T0e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C0e(Object(n),!0).forEach((function(t){R0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L0e(r.key),r)}}function A0e(e,t,n){return t=M0e(t),function(e,t){if(t&&("object"===j0e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N0e()?Reflect.construct(t,n||[],M0e(e).constructor):t.apply(e,n))}function N0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N0e=function(){return!!e})()}function M0e(e){return M0e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},M0e(e)}function I0e(e,t){return I0e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I0e(e,t)}function R0e(e,t,n){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=function(e,t){if("object"!=j0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j0e(t)?t:t+""}var D0e=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return R0e(e=A0e(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),R0e(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0})})),R0e(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1})})),R0e(e,"id",XMe("recharts-scatter-")),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I0e(e,t)}(t,e),r=t,o=[{key:"renderSymbolsStatically",value:function(e){var t=this,r=this.props,o=r.shape,i=r.activeShape,a=r.activeIndex,s=AIe(this.props,!1);return e.map((function(e,r){var l=a===r,c=l?i:o,u=T0e(T0e({},s),e);return n.createElement(tRe,_0e({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(r)},mIe(t.props,e,r),{role:"img"}),n.createElement(O0e,_0e({option:c,isActive:l,key:"symbol-".concat(r)},u)))}))}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,r=t.points,o=t.isAnimationActive,i=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return n.createElement(IFe,{begin:i,duration:a,isActive:o,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,i=r.map((function(e,t){var n=c&&c[t];if(n){var r=JMe(n.cx,e.cx),i=JMe(n.cy,e.cy),a=JMe(n.size,e.size);return T0e(T0e({},e),{},{cx:r(o),cy:i(o),size:a(o)})}var s=JMe(0,e.size);return T0e(T0e({},e),{},{size:s(o)})}));return n.createElement(tRe,null,e.renderSymbolsStatically(i))}))}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&FV()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,r=e.xAxis,o=e.yAxis,i=OIe(e.children,LWe);return i?i.map((function(e,i){var a=e.props,s=a.direction,l=a.dataKey;return n.cloneElement(e,{key:"".concat(s,"-").concat(l,"-").concat(t[i]),data:t,xAxis:r,yAxis:o,layout:"x"===s?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===s?+e.node.x:+e.node.y,errorVal:KWe(e,t)}}})})):null}},{key:"renderLine",value:function(){var e,t,r=this.props,o=r.points,i=r.line,a=r.lineType,s=r.lineJointType,l=AIe(this.props,!1),c=AIe(i,!1);if("joint"===a)e=o.map((function(e){return{x:e.cx,y:e.cy}}));else if("fitting"===a){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,o=0,i=0,a=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,o+=l*c,i+=l*l,a=Math.min(a,l),s=Math.max(s,l);var d=t*i!=n*n?(t*o-n*r)/(t*i-n*n):0;return{xmin:a,xmax:s,a:d,b:(r-d*n)/t}}(o),d=u.xmin,f=u.xmax,p=u.a,h=u.b,m=function(e){return p*e+h};e=[{x:d,y:m(d)},{x:f,y:m(f)}]}var v=T0e(T0e(T0e({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return t=n.isValidElement(i)?n.cloneElement(i,v):oIe()(i)?i(v):n.createElement(UYe,_0e({},v,{type:s})),n.createElement(tRe,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.points,o=e.line,i=e.className,a=e.xAxis,s=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,f=e.id,p=e.isAnimationActive;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,m=je("recharts-scatter",i),v=a&&a.allowDataOverflow,g=s&&s.allowDataOverflow,y=v||g,b=nIe()(f)?this.id:f;return n.createElement(tRe,{className:m,clipPath:y?"url(#clipPath-".concat(b,")"):null},v||g?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(b)},n.createElement("rect",{x:v?l:l-u/2,y:g?c:c-d/2,width:v?u:2*u,height:g?d:2*d}))):null,o&&this.renderLine(),this.renderErrorBar(),n.createElement(tRe,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!p||h)&&TGe.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],o&&P0e(r.prototype,o),i&&P0e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);R0e(D0e,"displayName","Scatter"),R0e(D0e,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!CRe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),R0e(D0e,"getComposedData",(function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,o=e.item,i=e.displayedData,a=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=o.props.tooltipType,u=OIe(o.props.children,mGe),d=nIe()(t.dataKey)?o.props.dataKey:t.dataKey,f=nIe()(n.dataKey)?o.props.dataKey:n.dataKey,p=r&&r.dataKey,h=r?r.range:x0e.defaultProps.range,m=h&&h[0],v=t.scale.bandwidth?t.scale.bandwidth():0,g=n.scale.bandwidth?n.scale.bandwidth():0,y=i.map((function(e,i){var l=KWe(e,d),h=KWe(e,f),y=!nIe()(p)&&KWe(e,p)||"-",b=[{name:nIe()(t.dataKey)?o.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:nIe()(n.dataKey)?o.props.name:n.name||n.dataKey,unit:n.unit||"",value:h,payload:e,dataKey:f,type:c}];"-"!==y&&b.push({name:r.name||r.dataKey,unit:r.unit||"",value:y,payload:e,dataKey:p,type:c});var w=uqe({axis:t,ticks:a,bandSize:v,entry:e,index:i,dataKey:d}),x=uqe({axis:n,ticks:s,bandSize:g,entry:e,index:i,dataKey:f}),S="-"!==y?r.scale(y):m,k=Math.sqrt(Math.max(S,0)/Math.PI);return T0e(T0e({},e),{},{cx:w,cy:x,x:w-k,y:x-k,xAxis:t,yAxis:n,zAxis:r,width:2*k,height:2*k,size:S,node:{x:l,y:h,z:y},tooltipPayload:b,tooltipPosition:{x:w,y:x},payload:e},u&&u[i]&&u[i].props)}));return T0e({points:y},l)}));var F0e,z0e=LZe({chartName:"ScatterChart",GraphicalChild:D0e,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:gJe},{axisType:"yAxis",AxisComp:CJe},{axisType:"zAxis",AxisComp:x0e}],formatAxisMap:WKe}),B0e=["layout","type","stroke","connectNulls","isRange","ref"],$0e=["key"];function U0e(e){return U0e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0e(e)}function V0e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function H0e(){return H0e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0e.apply(this,arguments)}function W0e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q0e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W0e(Object(n),!0).forEach((function(t){J0e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W0e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Q0e(r.key),r)}}function K0e(e,t,n){return t=Y0e(t),function(e,t){if(t&&("object"===U0e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,X0e()?Reflect.construct(t,n||[],Y0e(e).constructor):t.apply(e,n))}function X0e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(X0e=function(){return!!e})()}function Y0e(e){return Y0e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y0e(e)}function Z0e(e,t){return Z0e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z0e(e,t)}function J0e(e,t,n){return(t=Q0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q0e(e){var t=function(e,t){if("object"!=U0e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=U0e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U0e(t)?t:t+""}var e1e=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J0e(e=K0e(this,t,[].concat(r)),"state",{isAnimationFinished:!0}),J0e(e,"id",XMe("recharts-area-")),J0e(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),oIe()(t)&&t()})),J0e(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),oIe()(t)&&t()})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0e(e,t)}(t,e),r=t,o=[{key:"renderDots",value:function(e,r,o){var i=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(i&&!a)return null;var s=this.props,l=s.dot,c=s.points,u=s.dataKey,d=AIe(this.props,!1),f=AIe(l,!0),p=c.map((function(e,n){var r=q0e(q0e(q0e({key:"dot-".concat(n),r:3},d),f),{},{index:n,cx:e.x,cy:e.y,dataKey:u,value:e.value,payload:e.payload,points:c});return t.renderDotItem(l,r)})),h={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(o,")"):null};return n.createElement(tRe,H0e({className:"recharts-area-dots"},h),p)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,o=t.points,i=t.strokeWidth,a=o[0].x,s=o[o.length-1].x,l=e*Math.abs(a-s),c=VHe()(o.map((function(e){return e.y||0})));return qMe(r)&&"number"==typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(VHe()(r.map((function(e){return e.y||0}))),c)),qMe(c)?n.createElement("rect",{x:a<s?a:a-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,o=t.points,i=t.strokeWidth,a=o[0].y,s=o[o.length-1].y,l=e*Math.abs(a-s),c=VHe()(o.map((function(e){return e.x||0})));return qMe(r)&&"number"==typeof r?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(VHe()(r.map((function(e){return e.x||0}))),c)),qMe(c)?n.createElement("rect",{x:0,y:a<s?a:a-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,o){var i=this.props,a=i.layout,s=i.type,l=i.stroke,c=i.connectNulls,u=i.isRange,d=(i.ref,V0e(i,B0e));return n.createElement(tRe,{clipPath:r?"url(#clipPath-".concat(o,")"):null},n.createElement(UYe,H0e({},AIe(d,!0),{points:e,connectNulls:c,type:s,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==l&&n.createElement(UYe,H0e({},AIe(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:e})),"none"!==l&&u&&n.createElement(UYe,H0e({},AIe(this.props,!1),{className:"recharts-area-curve",layout:a,type:s,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,o=this.props,i=o.points,a=o.baseLine,s=o.isAnimationActive,l=o.animationBegin,c=o.animationDuration,u=o.animationEasing,d=o.animationId,f=this.state,p=f.prevPoints,h=f.prevBaseLine;return n.createElement(IFe,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(o){var s=o.t;if(p){var l,c=p.length/i.length,u=i.map((function(e,t){var n=Math.floor(t*c);if(p[n]){var r=p[n],o=JMe(r.x,e.x),i=JMe(r.y,e.y);return q0e(q0e({},e),{},{x:o(s),y:i(s)})}return e}));return l=qMe(a)&&"number"==typeof a?JMe(h,a)(s):nIe()(a)||zMe()(a)?JMe(h,0)(s):a.map((function(e,t){var n=Math.floor(t*c);if(h[n]){var r=h[n],o=JMe(r.x,e.x),i=JMe(r.y,e.y);return q0e(q0e({},e),{},{x:o(s),y:i(s)})}return e})),r.renderAreaStatically(u,l,e,t)}return n.createElement(tRe,null,n.createElement("defs",null,n.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(s))),n.createElement(tRe,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(i,a,e,t)))}))}},{key:"renderArea",value:function(e,t){var n=this.props,r=n.points,o=n.baseLine,i=n.isAnimationActive,a=this.state,s=a.prevPoints,l=a.prevBaseLine,c=a.totalLength;return i&&r&&r.length&&(!s&&c>0||!FV()(s,r)||!FV()(l,o))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(r,o,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,o=t.dot,i=t.points,a=t.className,s=t.top,l=t.left,c=t.xAxis,u=t.yAxis,d=t.width,f=t.height,p=t.isAnimationActive,h=t.id;if(r||!i||!i.length)return null;var m=this.state.isAnimationFinished,v=1===i.length,g=je("recharts-area",a),y=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,w=y||b,x=nIe()(h)?this.id:h,S=null!==(e=AIe(o,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=S.r,E=void 0===k?3:k,O=S.strokeWidth,j=void 0===O?2:O,_=(PIe(o)?o:{}).clipDot,C=void 0===_||_,T=2*E+j;return n.createElement(tRe,{className:g},y||b?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(x)},n.createElement("rect",{x:y?l:l-d/2,y:b?s:s-f/2,width:y?d:2*d,height:b?f:2*f})),!C&&n.createElement("clipPath",{id:"clipPath-dots-".concat(x)},n.createElement("rect",{x:l-T/2,y:s-T/2,width:d+T,height:f+T}))):null,v?null:this.renderArea(w,x),(o||v)&&this.renderDots(w,C,x),(!p||m)&&TGe.renderCallByParent(this.props,i))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],o&&G0e(r.prototype,o),i&&G0e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);F0e=e1e,J0e(e1e,"displayName","Area"),J0e(e1e,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!CRe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),J0e(e1e,"getBaseValue",(function(e,t,n,r){var o=e.layout,i=e.baseValue,a=t.props.baseValue,s=null!=a?a:i;if(qMe(s)&&"number"==typeof s)return s;var l="horizontal"===o?r:n,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===s?d:"dataMax"===s||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===s?c[0]:"dataMax"===s?c[1]:c[0]})),J0e(e1e,"getComposedData",(function(e){var t,n=e.props,r=e.item,o=e.xAxis,i=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,p=e.offset,h=n.layout,m=u&&u.length,v=F0e.getBaseValue(n,r,o,i),g="horizontal"===h,y=!1,b=f.map((function(e,t){var n;m?n=u[d+t]:(n=KWe(e,c),Array.isArray(n)?y=!0:n=[v,n]);var r=null==n[1]||m&&null==KWe(e,c);return g?{x:uqe({axis:o,ticks:a,bandSize:l,entry:e,index:t}),y:r?null:i.scale(n[1]),value:n,payload:e}:{x:r?null:o.scale(n[1]),y:uqe({axis:i,ticks:s,bandSize:l,entry:e,index:t}),value:n,payload:e}}));return t=m||y?b.map((function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?o.scale(t):null,y:e.y}})):g?i.scale(v):o.scale(v),q0e({points:b,baseLine:t,layout:h,isRange:y},p)})),J0e(e1e,"renderDotItem",(function(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(oIe()(e))r=e(t);else{var o=je("recharts-area-dot","boolean"!=typeof e?e.className:""),i=t.key,a=V0e(t,$0e);r=n.createElement(iDe,H0e({},a,{key:i,className:o}))}return r}));var t1e=LZe({chartName:"AreaChart",GraphicalChild:e1e,axisComponents:[{axisType:"xAxis",AxisComp:gJe},{axisType:"yAxis",AxisComp:CJe}],formatAxisMap:WKe}),n1e=o(6170),r1e=o.n(n1e),o1e=["key"];function i1e(e){return i1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i1e(e)}function a1e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s1e(){return s1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s1e.apply(this,arguments)}function l1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l1e(Object(n),!0).forEach((function(t){m1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u1e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v1e(r.key),r)}}function d1e(e,t,n){return t=p1e(t),function(e,t){if(t&&("object"===i1e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,f1e()?Reflect.construct(t,n||[],p1e(e).constructor):t.apply(e,n))}function f1e(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f1e=function(){return!!e})()}function p1e(e){return p1e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p1e(e)}function h1e(e,t){return h1e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h1e(e,t)}function m1e(e,t,n){return(t=v1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v1e(e){var t=function(e,t){if("object"!=i1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i1e(t)?t:t+""}var g1e=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m1e(e=d1e(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),m1e(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),oIe()(t)&&t()})),m1e(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),oIe()(t)&&t()})),m1e(e,"handleMouseEnter",(function(t){var n=e.props.onMouseEnter;n&&n(e.props,t)})),m1e(e,"handleMouseLeave",(function(t){var n=e.props.onMouseLeave;n&&n(e.props,t)})),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h1e(e,t)}(t,e),r=t,o=[{key:"renderDots",value:function(e){var r=this.props,o=r.dot,i=r.dataKey,a=AIe(this.props,!1),s=AIe(o,!0),l=e.map((function(e,n){var r=c1e(c1e(c1e({key:"dot-".concat(n),r:3},a),s),{},{dataKey:i,cx:e.x,cy:e.y,index:n,payload:e});return t.renderDotItem(o,r)}));return n.createElement(tRe,{className:"recharts-radar-dots"},l)}},{key:"renderPolygonStatically",value:function(e){var t,r=this.props,o=r.shape,i=r.dot,a=r.isRange,s=r.baseLinePoints,l=r.connectNulls;return t=n.isValidElement(o)?n.cloneElement(o,c1e(c1e({},this.props),{},{points:e})):oIe()(o)?o(c1e(c1e({},this.props),{},{points:e})):n.createElement(tQe,s1e({},AIe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:e,baseLinePoints:a?s:null,connectNulls:l})),n.createElement(tRe,{className:"recharts-radar-polygon"},t,i?this.renderDots(e):null)}},{key:"renderPolygonWithAnimation",value:function(){var e=this,t=this.props,r=t.points,o=t.isAnimationActive,i=t.animationBegin,a=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return n.createElement(IFe,{begin:i,duration:a,isActive:o,easing:s,from:{t:0},to:{t:1},key:"radar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var n=t.t,o=c&&c.length/r.length,i=r.map((function(e,t){var r=c&&c[Math.floor(t*o)];if(r){var i=JMe(r.x,e.x),a=JMe(r.y,e.y);return c1e(c1e({},e),{},{x:i(n),y:a(n)})}var s=JMe(e.cx,e.x),l=JMe(e.cy,e.y);return c1e(c1e({},e),{},{x:s(n),y:l(n)})}));return e.renderPolygonStatically(i)}))}},{key:"renderPolygon",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=e.isRange,o=this.state.prevPoints;return!(n&&t&&t.length)||r||o&&FV()(o,t)?this.renderPolygonStatically(t):this.renderPolygonWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.className,o=e.points,i=e.isAnimationActive;if(t||!o||!o.length)return null;var a=this.state.isAnimationFinished,s=je("recharts-radar",r);return n.createElement(tRe,{className:s},this.renderPolygon(),(!i||a)&&TGe.renderCallByParent(this.props,o))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderDotItem",value:function(e,t){var r;if(n.isValidElement(e))r=n.cloneElement(e,t);else if(oIe()(e))r=e(t);else{var o=t.key,i=a1e(t,o1e);r=n.createElement(iDe,s1e({},i,{key:o,className:je("recharts-radar-dot","boolean"!=typeof e?e.className:"")}))}return r}}],o&&u1e(r.prototype,o),i&&u1e(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.PureComponent);m1e(g1e,"displayName","Radar"),m1e(g1e,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!CRe.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),m1e(g1e,"getComposedData",(function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,o=e.dataKey,i=e.bandSize,a=n.cx,s=n.cy,l=!1,c=[],u="number"!==n.type&&null!=i?i:0;r.forEach((function(e,r){var i=KWe(e,n.dataKey,r),d=KWe(e,o),f=n.scale(i)+u,p=Array.isArray(d)?gGe()(d):d,h=nIe()(p)?void 0:t.scale(p);Array.isArray(d)&&d.length>=2&&(l=!0),c.push(c1e(c1e({},Wqe(a,s,h,f)),{},{name:i,value:d,cx:a,cy:s,radius:h,angle:f,payload:e}))}));var d=[];return l&&c.forEach((function(e){if(Array.isArray(e.value)){var n=r1e()(e.value),r=nIe()(n)?void 0:t.scale(n);d.push(c1e(c1e({},e),{},{radius:r},Wqe(a,s,r,e.angle)))}else d.push(e)})),{points:c,isRange:l,baseLinePoints:d}}));var y1e=LZe({chartName:"RadarChart",GraphicalChild:g1e,axisComponents:[{axisType:"angleAxis",AxisComp:mQe},{axisType:"radiusAxis",AxisComp:RQe}],formatAxisMap:Gqe,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),b1e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function w1e(e){return w1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1e(e)}function x1e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function S1e(){return S1e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S1e.apply(this,arguments)}function k1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k1e(Object(n),!0).forEach((function(t){O1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O1e(e,t,n){return t=function(e){var t=function(e,t){if("object"!=w1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w1e(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j1e=function(e,t,n,r){var o="";return r.forEach((function(r,i){var a=Wqe(t,n,e,r);o+=i?"L ".concat(a.x,",").concat(a.y):"M ".concat(a.x,",").concat(a.y)})),o+="Z"},_1e=function(e){var t=e.cx,r=e.cy,o=e.innerRadius,i=e.outerRadius,a=e.polarAngles,s=e.radialLines;if(!a||!a.length||!s)return null;var l=E1e({stroke:"#ccc"},AIe(e,!1));return n.createElement("g",{className:"recharts-polar-grid-angle"},a.map((function(e){var a=Wqe(t,r,o,e),s=Wqe(t,r,i,e);return n.createElement("line",S1e({},l,{key:"line-".concat(e),x1:a.x,y1:a.y,x2:s.x,y2:s.y}))})))},C1e=function(e){var t=e.cx,r=e.cy,o=e.radius,i=e.index,a=E1e(E1e({stroke:"#ccc"},AIe(e,!1)),{},{fill:"none"});return n.createElement("circle",S1e({},a,{className:je("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:o}))},T1e=function(e){var t=e.radius,r=e.index,o=E1e(E1e({stroke:"#ccc"},AIe(e,!1)),{},{fill:"none"});return n.createElement("path",S1e({},o,{className:je("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:j1e(t,e.cx,e.cy,e.polarAngles)}))},P1e=function(e){var t=e.polarRadius,r=e.gridType;return t&&t.length?n.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((function(t,o){var i=o;return"circle"===r?n.createElement(C1e,S1e({key:i},e,{radius:t,index:o})):n.createElement(T1e,S1e({key:i},e,{radius:t,index:o}))}))):null},A1e=function(e){var t=e.cx,r=void 0===t?0:t,o=e.cy,i=void 0===o?0:o,a=e.innerRadius,s=void 0===a?0:a,l=e.outerRadius,c=void 0===l?0:l,u=e.gridType,d=void 0===u?"polygon":u,f=e.radialLines,p=void 0===f||f,h=x1e(e,b1e);return c<=0?null:n.createElement("g",{className:"recharts-polar-grid"},n.createElement(_1e,S1e({cx:r,cy:i,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},h)),n.createElement(P1e,S1e({cx:r,cy:i,innerRadius:s,outerRadius:c,gridType:d,radialLines:p},h)))};function N1e(e){return N1e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N1e(e)}function M1e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I1e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M1e(Object(n),!0).forEach((function(t){R1e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R1e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=N1e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N1e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N1e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L1e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return D1e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D1e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D1e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}A1e.displayName="PolarGrid";var F1e=function(e,t){return t||"Row ".concat(e+1)},z1e=function(e,t){if(!t)return e+1;var n=parseFloat(t);return isNaN(n)?e+1:n},B1e=function(e){var t,r=e.data,o=e.theme,i=e.columnColors,a=e.mode,s=L1e((0,n.useState)({}),2),l=s[0],c=s[1],u=(null===(t=r.columns[0])||void 0===t?void 0:t.data.map((function(e,t){var n,o={name:F1e(t,null===(n=r.rowLabels)||void 0===n?void 0:n[t])};return r.columns.forEach((function(e){var n=e.data[t];if(null!=n){var a=e.label||"Column ".concat(r.columns.indexOf(e)+1);o[a]=n;var s=i[r.columns.indexOf(e)];o["".concat(a,"Color")]=s}})),o})).filter((function(e){return r.columns.some((function(t,n){var r=t.label||"Column ".concat(n+1);return void 0!==e[r]&&null!==e[r]}))})))||[],d=(0,n.useMemo)((function(){var e=USe({alias:"page"},o);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[o]),f=(0,n.useMemo)((function(){return{color:USe({alias:"header"},o),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[o]),p=(0,n.useMemo)((function(){return USe({alias:"header"},o)}),[o]);return(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(TJe,{data:u,children:[(0,Ut.jsx)(GJe,{strokeDasharray:"3 3",stroke:p,opacity:.2}),(0,Ut.jsx)(gJe,{dataKey:"name",stroke:p}),(0,Ut.jsx)(CJe,{stroke:p,domain:[0,"auto"],padding:{top:20,bottom:20}}),(0,Ut.jsx)(VRe,{cursor:{fill:"transparent"},contentStyle:d,wrapperStyle:{outline:"none"}}),(0,Ut.jsx)(rDe,{wrapperStyle:f,onMouseEnter:function(e){var t=e.dataKey;c((function(e){return I1e(I1e({},e),{},R1e({},t,.5))}))},onMouseLeave:function(e){var t=e.dataKey;c((function(e){return I1e(I1e({},e),{},R1e({},t,1))}))}}),r.columns.map((function(e,t){var n,r,o=i[t],s=e.label||"Column ".concat(t+1);return(0,Ut.jsx)(FKe,{dataKey:s,fill:o,stroke:o,fillOpacity:null!==(n=l[s])&&void 0!==n?n:1,strokeOpacity:null!==(r=l[s])&&void 0!==r?r:1,legendType:"plainline",activeBar:{fill:o,fillOpacity:.9},isAnimationActive:a!==dh.THUMBNAIL},t)}))]})})},$1e=function(e){var t=e.data,r=e.theme,o=e.columnColors,i=e.mode,a=t.columns.map((function(e,t){var n=o[t],r=function(e){return e.filter((function(e){return null!=e}))}(e.data);return{name:e.label||"Column ".concat(t+1),value:r.reduce((function(e,t){return e+t}),0),fill:n,textColor:zxe.getTextColor(n)}})).filter((function(e){return e.value>0})),s=(0,n.useMemo)((function(){var e=USe({alias:"page"},r);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[r]),l=(0,n.useMemo)((function(){return{color:USe({alias:"header"},r),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[r]),c=((0,n.useMemo)((function(){return USe({alias:"header"},r)}),[r]),Math.PI/180);return(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(KQe,{children:[(0,Ut.jsx)(GQe,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:function(e){var t=e.cx,n=e.cy,r=e.midAngle,o=e.innerRadius,i=e.outerRadius,a=e.percent,s=o+.5*(i-o),l=t+s*Math.cos(-r*c),u=n+s*Math.sin(-r*c);return(0,Ut.jsx)("text",{x:l,y:u,fill:"white",textAnchor:l>t?"start":"end",dominantBaseline:"central",children:"".concat((100*a).toFixed(0),"%")})},innerRadius:"40%",outerRadius:"80%",fill:"#8884d8",dataKey:"value",isAnimationActive:i!==dh.THUMBNAIL,children:a.map((function(e,t){return(0,Ut.jsx)(mGe,{fill:e.fill},"cell-".concat(t))}))}),(0,Ut.jsx)(VRe,{contentStyle:s,wrapperStyle:{outline:"none"}}),(0,Ut.jsx)(rDe,{wrapperStyle:l})]})})},U1e=function(e){var t,r=e.data,o=e.theme,i=e.columnColors,a=e.mode,s=L1e((0,n.useState)({}),2),l=s[0],c=s[1],u=(null===(t=r.columns[0])||void 0===t?void 0:t.data.map((function(e,t){var n,o=null===(n=r.rowLabels)||void 0===n?void 0:n[t],i={name:F1e(t,o),x:z1e(t,o)};return r.columns.forEach((function(e){var n=e.data[t];if(null!=n){var o=e.label||"Column ".concat(r.columns.indexOf(e)+1);i[o]=n}})),i})).filter((function(e){return r.columns.some((function(t,n){var r=t.label||"Column ".concat(n+1);return void 0!==e[r]&&null!==e[r]}))})))||[],d=u.every((function(e){return!isNaN(parseFloat(e.name))})),f=(0,n.useMemo)((function(){var e=USe({alias:"page"},o);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[o]),p=(0,n.useMemo)((function(){return{color:USe({alias:"header"},o),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[o]),h=(0,n.useMemo)((function(){return USe({alias:"header"},o)}),[o]);return u.length?(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(f0e,{data:u,children:[(0,Ut.jsx)(GJe,{strokeDasharray:"3 3",stroke:h,opacity:.2}),(0,Ut.jsx)(gJe,{dataKey:d?"x":"name",type:d?"number":"category",domain:d?["auto","auto"]:void 0,stroke:h}),(0,Ut.jsx)(CJe,{stroke:h,domain:[0,"auto"],padding:{top:20,bottom:20}}),(0,Ut.jsx)(VRe,{contentStyle:f,wrapperStyle:{outline:"none"}}),(0,Ut.jsx)(rDe,{wrapperStyle:p,onMouseEnter:function(e){var t=e.dataKey;c((function(e){return I1e(I1e({},e),{},R1e({},t,.5))}))},onMouseLeave:function(e){var t=e.dataKey;c((function(e){return I1e(I1e({},e),{},R1e({},t,1))}))}}),r.columns.map((function(e,t){var n,r,o,s=i[t],c=e.label||"Column ".concat(t+1);return(0,Ut.jsx)(d0e,{type:"monotone",dataKey:c,stroke:s,strokeWidth:3,strokeOpacity:null!==(n=l[c])&&void 0!==n?n:1,dot:{fill:s,stroke:s,fillOpacity:null!==(r=l[c])&&void 0!==r?r:1,strokeOpacity:null!==(o=l[c])&&void 0!==o?o:1},activeDot:{fill:s,stroke:s,r:8},legendType:"plainline",connectNulls:!0,isAnimationActive:a!==dh.THUMBNAIL},t)}))]})}):null},V1e=function(e){var t=e.data,r=e.theme,o=e.columnColors,i=e.mode,a=t.columns.map((function(e){return{name:e.label||"Column ".concat(t.columns.indexOf(e)+1),data:e.data.map((function(e,n){var r;if(null===e)return null;var o=null===(r=t.rowLabels)||void 0===r?void 0:r[n],i=o?parseFloat(o):n+1;return{x:isNaN(i)?n+1:i,y:e,name:o||"Row ".concat(n+1)}})).filter((function(e){return null!==e})),fill:o[t.columns.indexOf(e)]}})),s=(0,n.useMemo)((function(){var e=USe({alias:"page"},r);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[r]),l=(0,n.useMemo)((function(){return{color:USe({alias:"header"},r),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[r]),c=(0,n.useMemo)((function(){return USe({alias:"header"},r)}),[r]);return(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(z0e,{children:[(0,Ut.jsx)(GJe,{strokeDasharray:"3 3",stroke:c,opacity:.2}),(0,Ut.jsx)(gJe,{type:"number",dataKey:"x",name:"x",domain:["auto","auto"],stroke:c}),(0,Ut.jsx)(CJe,{type:"number",dataKey:"y",name:"y",stroke:c,domain:[0,"auto"],padding:{top:20,bottom:20}}),(0,Ut.jsx)(VRe,{cursor:{strokeDasharray:"3 3"},contentStyle:s,wrapperStyle:{outline:"none"},formatter:function(e,t,n){var r=n.payload;return["y: ".concat(e),"x: ".concat(r.x).concat(r.name!=="Row ".concat(r.x)?" (".concat(r.name,")"):"")]}}),(0,Ut.jsx)(rDe,{wrapperStyle:l}),a.map((function(e,t){return(0,Ut.jsx)(D0e,{name:e.name,data:e.data,fill:e.fill,legendType:"plainline",isAnimationActive:i!==dh.THUMBNAIL},t)}))]})})},H1e=function(e){var t,r=e.data,o=e.theme,i=e.columnColors,a=e.mode,s=(0,n.useState)((function(){var e={};return r.columns.forEach((function(t){var n=t.label||"Column ".concat(r.columns.indexOf(t)+1);e[n]=.3})),e})),l=L1e(s,2),c=l[0],u=l[1],d=(null===(t=r.columns[0])||void 0===t?void 0:t.data.map((function(e,t){var n,o={name:F1e(t,null===(n=r.rowLabels)||void 0===n?void 0:n[t])};return r.columns.forEach((function(e){var n=e.data[t];if(null!==n){var i=e.label||"Column ".concat(r.columns.indexOf(e)+1);o[i]=n}})),o})).filter((function(e){return r.columns.some((function(t,n){var r=t.label||"Column ".concat(n+1);return void 0!==e[r]}))})))||[],f=(0,n.useMemo)((function(){var e=USe({alias:"page"},o);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[o]),p=(0,n.useMemo)((function(){return{color:USe({alias:"header"},o),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[o]),h=(0,n.useMemo)((function(){return USe({alias:"header"},o)}),[o]);return(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(t1e,{data:d,children:[(0,Ut.jsx)(GJe,{strokeDasharray:"3 3",stroke:h,opacity:.2}),(0,Ut.jsx)(gJe,{dataKey:"name",stroke:h}),(0,Ut.jsx)(CJe,{stroke:h,domain:[0,"auto"],padding:{top:20,bottom:20}}),(0,Ut.jsx)(VRe,{contentStyle:f,wrapperStyle:{outline:"none"}}),(0,Ut.jsx)(rDe,{wrapperStyle:p,onMouseEnter:function(e){var t=e.dataKey;u((function(e){return I1e(I1e({},e),{},R1e({},t,1))}))},onMouseLeave:function(e){var t=e.dataKey;u((function(e){return I1e(I1e({},e),{},R1e({},t,.3))}))}}),r.columns.map((function(e,t){var n,r,o=e.label||"Column ".concat(t+1),s=i[t];return(0,Ut.jsx)(e1e,{type:"monotone",dataKey:o,stroke:s,fill:s,fillOpacity:null!==(n=c[o])&&void 0!==n?n:.3,strokeOpacity:null!==(r=c[o])&&void 0!==r?r:.3,legendType:"plainline",activeDot:{r:8},isAnimationActive:a!==dh.THUMBNAIL},t)}))]})})},W1e=function(e){var t,r=e.data,o=e.theme,i=e.columnColors,a=e.mode,s=(0,n.useState)((function(){var e={};return r.columns.forEach((function(t){var n=t.label||"Column ".concat(r.columns.indexOf(t)+1);e[n]=.3})),e})),l=L1e(s,2),c=l[0],u=l[1],d=(null===(t=r.columns[0])||void 0===t?void 0:t.data.map((function(e,t){var n,o={name:F1e(t,null===(n=r.rowLabels)||void 0===n?void 0:n[t])};return r.columns.forEach((function(e){var n=e.data[t];if(null!==n){var i=e.label||"Column ".concat(r.columns.indexOf(e)+1);o[i]=n}})),o})).filter((function(e){return r.columns.some((function(t,n){var r=t.label||"Column ".concat(n+1);return void 0!==e[r]}))})))||[],f=(0,n.useMemo)((function(){var e=USe({alias:"page"},o);return{backgroundColor:e,color:zxe.getTextColor(e),border:"none",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",padding:"8px 12px"}}),[o]),p=(0,n.useMemo)((function(){return{color:USe({alias:"header"},o),padding:"4px 8px",transition:"box-shadow 0.2s ease-in-out"}}),[o]),h=(0,n.useMemo)((function(){return USe({alias:"header"},o)}),[o]);return(0,Ut.jsx)($Ie,{width:"100%",height:"100%",children:(0,Ut.jsxs)(y1e,{cx:"50%",cy:"50%",outerRadius:"80%",data:d,children:[(0,Ut.jsx)(A1e,{stroke:h,opacity:.2}),(0,Ut.jsx)(mQe,{dataKey:"name",stroke:h}),(0,Ut.jsx)(RQe,{stroke:h}),(0,Ut.jsx)(rDe,{wrapperStyle:p,onMouseEnter:function(e){var t=e.dataKey;u((function(e){return I1e(I1e({},e),{},R1e({},t,1))}))},onMouseLeave:function(e){var t=e.dataKey;u((function(e){return I1e(I1e({},e),{},R1e({},t,.3))}))}}),r.columns.map((function(e,t){var n,r,o=e.label||"Column ".concat(t+1),s=i[t];return(0,Ut.jsx)(g1e,{name:o,dataKey:o,stroke:s,fill:s,fillOpacity:null!==(n=c[o])&&void 0!==n?n:.3,strokeOpacity:null!==(r=c[o])&&void 0!==r?r:.3,legendType:"plainline",activeDot:{r:8},isAnimationActive:a!==dh.THUMBNAIL},t)})),(0,Ut.jsx)(VRe,{contentStyle:f,wrapperStyle:{outline:"none"}})]})})};function q1e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function G1e(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{const n=e[t],r=typeof n;"object"!==r&&"function"!==r||Object.isFrozen(n)||G1e(n)})),e}class K1e{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function X1e(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Y1e(e,...t){const n=Object.create(null);for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const Z1e=e=>!!e.scope;class J1e{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=X1e(e)}openNode(e){if(!Z1e(e))return;const t=((e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${t}${n.shift()}`,...n.map(((e,t)=>`${e}${"_".repeat(t+1)}`))].join(" ")}return`${t}${e}`})(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){Z1e(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const Q1e=(e={})=>{const t={children:[]};return Object.assign(t,e),t};class e2e{constructor(){this.rootNode=Q1e(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t=Q1e({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach((t=>this._walk(e,t))),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{e2e._collapse(e)})))}}class t2e extends e2e{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){const n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new J1e(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function n2e(e){return e?"string"==typeof e?e:e.source:null}function r2e(e){return a2e("(?=",e,")")}function o2e(e){return a2e("(?:",e,")*")}function i2e(e){return a2e("(?:",e,")?")}function a2e(...e){const t=e.map((e=>n2e(e))).join("");return t}function s2e(...e){const t=function(e){const t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e),n="("+(t.capture?"":"?:")+e.map((e=>n2e(e))).join("|")+")";return n}function l2e(e){return new RegExp(e.toString()+"|").exec("").length-1}const c2e=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function u2e(e,{joinWith:t}){let n=0;return e.map((e=>{n+=1;const t=n;let r=n2e(e),o="";for(;r.length>0;){const e=c2e.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o})).map((e=>`(${e})`)).join(t)}const d2e="[a-zA-Z]\\w*",f2e="[a-zA-Z_]\\w*",p2e="\\b\\d+(\\.\\d+)?",h2e="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",m2e="\\b(0b[01]+)",v2e={begin:"\\\\[\\s\\S]",relevance:0},g2e={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[v2e]},y2e={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[v2e]},b2e=function(e,t,n={}){const r=Y1e({scope:"comment",begin:e,end:t,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=s2e("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:a2e(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},w2e=b2e("//","$"),x2e=b2e("/\\*","\\*/"),S2e=b2e("#","$"),k2e={scope:"number",begin:p2e,relevance:0},E2e={scope:"number",begin:h2e,relevance:0},O2e={scope:"number",begin:m2e,relevance:0},j2e={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[v2e,{begin:/\[/,end:/\]/,relevance:0,contains:[v2e]}]},_2e={scope:"title",begin:d2e,relevance:0},C2e={scope:"title",begin:f2e,relevance:0},T2e={begin:"\\.\\s*"+f2e,relevance:0};var P2e=Object.freeze({__proto__:null,APOS_STRING_MODE:g2e,BACKSLASH_ESCAPE:v2e,BINARY_NUMBER_MODE:O2e,BINARY_NUMBER_RE:m2e,COMMENT:b2e,C_BLOCK_COMMENT_MODE:x2e,C_LINE_COMMENT_MODE:w2e,C_NUMBER_MODE:E2e,C_NUMBER_RE:h2e,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:S2e,IDENT_RE:d2e,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:T2e,NUMBER_MODE:k2e,NUMBER_RE:p2e,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:y2e,REGEXP_MODE:j2e,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=a2e(t,/.*\b/,e.binary,/\b.*/)),Y1e({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:_2e,UNDERSCORE_IDENT_RE:f2e,UNDERSCORE_TITLE_MODE:C2e});function A2e(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function N2e(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function M2e(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=A2e,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function I2e(e,t){Array.isArray(e.illegal)&&(e.illegal=s2e(...e.illegal))}function R2e(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function L2e(e,t){void 0===e.relevance&&(e.relevance=1)}const D2e=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach((t=>{delete e[t]})),e.keywords=n.keywords,e.begin=a2e(n.beforeMatch,r2e(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},F2e=["of","and","for","in","not","or","if","then","parent","list","value"];function z2e(e,t,n="keyword"){const r=Object.create(null);return"string"==typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,z2e(e[n],t,n))})),r;function o(e,n){t&&(n=n.map((e=>e.toLowerCase()))),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,B2e(n[0],n[1])]}))}}function B2e(e,t){return t?Number(t):function(e){return F2e.includes(e.toLowerCase())}(e)?0:1}const $2e={},U2e=e=>{console.error(e)},V2e=(e,...t)=>{console.log(`WARN: ${e}`,...t)},H2e=(e,t)=>{$2e[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),$2e[`${e}/${t}`]=!0)},W2e=new Error;function q2e(e,t,{key:n}){let r=0;const o=e[n],i={},a={};for(let e=1;e<=t.length;e++)a[e+r]=o[e],i[e+r]=!0,r+=l2e(t[e-1]);e[n]=a,e[n]._emit=i,e[n]._multi=!0}function G2e(e){!function(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope)}(e),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw U2e("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),W2e;if("object"!=typeof e.beginScope||null===e.beginScope)throw U2e("beginScope must be object"),W2e;q2e(e,e.begin,{key:"beginScope"}),e.begin=u2e(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw U2e("skip, excludeEnd, returnEnd not compatible with endScope: {}"),W2e;if("object"!=typeof e.endScope||null===e.endScope)throw U2e("endScope must be object"),W2e;q2e(e,e.end,{key:"endScope"}),e.end=u2e(e.end,{joinWith:""})}}(e)}function K2e(e){function t(t,n){return new RegExp(n2e(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=l2e(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map((e=>e[1]));this.matcherRe=t(u2e(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex(((e,t)=>t>0&&void 0!==e)),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach((([e,n])=>t.addRule(e,n))),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Y1e(e.classNameAliases||{}),function n(o,i){const a=o;if(o.isCompiled)return a;[N2e,R2e,G2e,D2e].forEach((e=>e(o,i))),e.compilerExtensions.forEach((e=>e(o,i))),o.__beforeBegin=null,[M2e,I2e,L2e].forEach((e=>e(o,i))),o.isCompiled=!0;let s=null;return"object"==typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),s=o.keywords.$pattern,delete o.keywords.$pattern),s=s||/\w+/,o.keywords&&(o.keywords=z2e(o.keywords,e.case_insensitive)),a.keywordPatternRe=t(s,!0),i&&(o.begin||(o.begin=/\B|\b/),a.beginRe=t(a.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(a.endRe=t(a.end)),a.terminatorEnd=n2e(a.end)||"",o.endsWithParent&&i.terminatorEnd&&(a.terminatorEnd+=(o.end?"|":"")+i.terminatorEnd)),o.illegal&&(a.illegalRe=t(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return Y1e(e,{variants:null},t)})));if(e.cachedVariants)return e.cachedVariants;if(X2e(e))return Y1e(e,{starts:e.starts?Y1e(e.starts):null});if(Object.isFrozen(e))return Y1e(e);return e}("self"===e?o:e)}))),o.contains.forEach((function(e){n(e,a)})),o.starts&&n(o.starts,i),a.matcher=function(e){const t=new r;return e.contains.forEach((e=>t.addRule(e.begin,{rule:e,type:"begin"}))),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}function X2e(e){return!!e&&(e.endsWithParent||X2e(e.starts))}class Y2e extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}const Z2e=X1e,J2e=Y1e,Q2e=Symbol("nomatch"),e4e=function(e){const t=Object.create(null),n=Object.create(null),r=[];let o=!0;const i="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let s={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:t2e};function l(e){return s.noHighlightRe.test(e)}function c(e,t,n){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language):(H2e("10.7.0","highlight(lang, code, ...args) has been deprecated."),H2e("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t),void 0===n&&(n=!0);const i={code:r,language:o};y("before:highlight",i);const a=i.result?i.result:u(i.language,i.code,n);return a.code=i.code,y("after:highlight",a),a}function u(e,n,r,a){const l=Object.create(null);function c(e,t){return e.keywords[t]}function f(){if(!j.keywords)return void C.addText(T);let e=0;j.keywordPatternRe.lastIndex=0;let t=j.keywordPatternRe.exec(T),n="";for(;t;){n+=T.substring(e,t.index);const r=k.case_insensitive?t[0].toLowerCase():t[0],o=c(j,r);if(o){const[e,i]=o;if(C.addText(n),n="",l[r]=(l[r]||0)+1,l[r]<=7&&(P+=i),e.startsWith("_"))n+=t[0];else{const n=k.classNameAliases[e]||e;h(t[0],n)}}else n+=t[0];e=j.keywordPatternRe.lastIndex,t=j.keywordPatternRe.exec(T)}n+=T.substring(e),C.addText(n)}function p(){null!=j.subLanguage?function(){if(""===T)return;let e=null;if("string"==typeof j.subLanguage){if(!t[j.subLanguage])return void C.addText(T);e=u(j.subLanguage,T,!0,_[j.subLanguage]),_[j.subLanguage]=e._top}else e=d(T,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(P+=e.relevance),C.__addSublanguage(e._emitter,e.language)}():f(),T=""}function h(e,t){""!==e&&(C.startScope(t),C.addText(e),C.endScope())}function v(e,t){let n=1;const r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}const r=k.classNameAliases[e[n]]||e[n],o=t[n];r?h(o,r):(T=o,f(),T=""),n++}}function g(e,t){return e.scope&&"string"==typeof e.scope&&C.openNode(k.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(h(T,k.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),T=""):e.beginScope._multi&&(v(e.beginScope,t),T="")),j=Object.create(e,{parent:{value:j}}),j}function y(e,t,n){let r=function(e,t){const n=e&&e.exec(t);return n&&0===n.index}(e.endRe,n);if(r){if(e["on:end"]){const n=new K1e(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){for(;e.endsParent&&e.parent;)e=e.parent;return e}}if(e.endsWithParent)return y(e.parent,t,n)}function b(e){return 0===j.matcher.regexIndex?(T+=e[0],1):(M=!0,0)}function w(e){const t=e[0],r=n.substring(e.index),o=y(j,e,r);if(!o)return Q2e;const i=j;j.endScope&&j.endScope._wrap?(p(),h(t,j.endScope._wrap)):j.endScope&&j.endScope._multi?(p(),v(j.endScope,e)):i.skip?T+=t:(i.returnEnd||i.excludeEnd||(T+=t),p(),i.excludeEnd&&(T=t));do{j.scope&&C.closeNode(),j.skip||j.subLanguage||(P+=j.relevance),j=j.parent}while(j!==o.parent);return o.starts&&g(o.starts,e),i.returnEnd?0:t.length}let x={};function S(t,i){const a=i&&i[0];if(T+=t,null==a)return p(),0;if("begin"===x.type&&"end"===i.type&&x.index===i.index&&""===a){if(T+=n.slice(i.index,i.index+1),!o){const t=new Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=x.rule,t}return 1}if(x=i,"begin"===i.type)return function(e){const t=e[0],n=e.rule,r=new K1e(n),o=[n.__beforeBegin,n["on:begin"]];for(const n of o)if(n&&(n(e,r),r.isMatchIgnored))return b(t);return n.skip?T+=t:(n.excludeBegin&&(T+=t),p(),n.returnBegin||n.excludeBegin||(T=t)),g(n,e),n.returnBegin?0:t.length}(i);if("illegal"===i.type&&!r){const e=new Error('Illegal lexeme "'+a+'" for mode "'+(j.scope||"<unnamed>")+'"');throw e.mode=j,e}if("end"===i.type){const e=w(i);if(e!==Q2e)return e}if("illegal"===i.type&&""===a)return 1;if(N>1e5&&N>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return T+=a,a.length}const k=m(e);if(!k)throw U2e(i.replace("{}",e)),new Error('Unknown language: "'+e+'"');const E=K2e(k);let O="",j=a||E;const _={},C=new s.__emitter(s);!function(){const e=[];for(let t=j;t!==k;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach((e=>C.openNode(e)))}();let T="",P=0,A=0,N=0,M=!1;try{if(k.__emitTokens)k.__emitTokens(n,C);else{for(j.matcher.considerAll();;){N++,M?M=!1:j.matcher.considerAll(),j.matcher.lastIndex=A;const e=j.matcher.exec(n);if(!e)break;const t=S(n.substring(A,e.index),e);A=e.index+t}S(n.substring(A))}return C.finalize(),O=C.toHTML(),{language:e,value:O,relevance:P,illegal:!1,_emitter:C,_top:j}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:Z2e(n),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:A,context:n.slice(A-100,A+100),mode:t.mode,resultSoFar:O},_emitter:C};if(o)return{language:e,value:Z2e(n),illegal:!1,relevance:0,errorRaised:t,_emitter:C,_top:j};throw t}}function d(e,n){n=n||s.languages||Object.keys(t);const r=function(e){const t={value:Z2e(e),illegal:!1,relevance:0,_top:a,_emitter:new s.__emitter(s)};return t._emitter.addText(e),t}(e),o=n.filter(m).filter(g).map((t=>u(t,e,!1)));o.unshift(r);const i=o.sort(((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(m(e.language).supersetOf===t.language)return 1;if(m(t.language).supersetOf===e.language)return-1}return 0})),[l,c]=i,d=l;return d.secondBest=c,d}function f(e){let t=null;const r=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=s.languageDetectRe.exec(t);if(n){const t=m(n[1]);return t||(V2e(i.replace("{}",n[1])),V2e("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find((e=>l(e)||m(e)))}(e);if(l(r))return;if(y("before:highlightElement",{el:e,language:r}),e.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);if(e.children.length>0&&(s.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),s.throwUnescapedHTML)){throw new Y2e("One of your code blocks includes unescaped HTML.",e.innerHTML)}t=e;const o=t.textContent,a=r?c(o,{language:r,ignoreIllegals:!0}):d(o);e.innerHTML=a.value,e.dataset.highlighted="yes",function(e,t,r){const o=t&&n[t]||r;e.classList.add("hljs"),e.classList.add(`language-${o}`)}(e,r,a.language),e.result={language:a.language,re:a.relevance,relevance:a.relevance},a.secondBest&&(e.secondBest={language:a.secondBest.language,relevance:a.secondBest.relevance}),y("after:highlightElement",{el:e,result:a,text:o})}let p=!1;function h(){if("loading"===document.readyState)return void(p=!0);document.querySelectorAll(s.cssSelector).forEach(f)}function m(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function v(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach((e=>{n[e.toLowerCase()]=t}))}function g(e){const t=m(e);return t&&!t.disableAutodetect}function y(e,t){const n=e;r.forEach((function(e){e[n]&&e[n](t)}))}"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){p&&h()}),!1),Object.assign(e,{highlight:c,highlightAuto:d,highlightAll:h,highlightElement:f,highlightBlock:function(e){return H2e("10.7.0","highlightBlock will be removed entirely in v12.0"),H2e("10.7.0","Please use highlightElement now."),f(e)},configure:function(e){s=J2e(s,e)},initHighlighting:()=>{h(),H2e("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){h(),H2e("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(n,r){let i=null;try{i=r(e)}catch(e){if(U2e("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw e;U2e(e),i=a}i.name||(i.name=n),t[n]=i,i.rawDefinition=r.bind(null,e),i.aliases&&v(i.aliases,{languageName:n})},unregisterLanguage:function(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]},listLanguages:function(){return Object.keys(t)},getLanguage:m,registerAliases:v,autoDetection:g,inherit:J2e,addPlugin:function(e){!function(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}(e),r.push(e)},removePlugin:function(e){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString="11.10.0",e.regex={concat:a2e,lookahead:r2e,either:s2e,optional:i2e,anyNumberOfTimes:o2e};for(const e in P2e)"object"==typeof P2e[e]&&G1e(P2e[e]);return Object.assign(e,P2e),e},t4e=e4e({});t4e.newInstance=()=>e4e({});var n4e=t4e;t4e.HighlightJS=t4e,t4e.default=t4e;var r4e=q1e(n4e);function o4e(e,t=[]){return e.map((e=>{const n=[...t,...e.properties?e.properties.className:[]];return e.children?o4e(e.children,n):{text:e.value,classes:n}})).flat()}function i4e(e){return e.value||e.children||[]}function a4e({doc:e,name:t,lowlight:n,defaultLanguage:r}){const o=[];return jN(e,(e=>e.type.name===t)).forEach((e=>{var t;let i=e.pos+1;const a=e.node.attrs.language||r,s=n.listLanguages();var l;o4e(a&&(s.includes(a)||(l=a,Boolean(r4e.getLanguage(l)))||(null===(t=n.registered)||void 0===t?void 0:t.call(n,a)))?i4e(n.highlight(a,e.node.textContent)):i4e(n.highlightAuto(e.node.textContent))).forEach((e=>{const t=i+e.text.length;if(e.classes.length){const n=dP.inline(i,t,{class:e.classes.join(" ")});o.push(n)}i=t}))})),hP.create(e,o)}function s4e({name:e,lowlight:t,defaultLanguage:n}){if(!["highlight","highlightAuto","listLanguages"].every((e=>"function"==typeof t[e])))throw Error("You should provide an instance of lowlight to use the code-block-lowlight extension");const r=new __({key:new P_("lowlight"),state:{init:(r,{doc:o})=>a4e({doc:o,name:e,lowlight:t,defaultLanguage:n}),apply:(r,o,i,a)=>{const s=i.selection.$head.parent.type.name,l=a.selection.$head.parent.type.name,c=jN(i.doc,(t=>t.type.name===e)),u=jN(a.doc,(t=>t.type.name===e));return r.docChanged&&([s,l].includes(e)||u.length!==c.length||r.steps.some((e=>void 0!==e.from&&void 0!==e.to&&c.some((t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to)))))?a4e({doc:r.doc,name:e,lowlight:t,defaultLanguage:n}):o.map(r.mapping,r.doc)}},props:{decorations:e=>r.getState(e)}});return r}const l4e=s$.extend({addOptions(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),lowlight:{},languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},addProseMirrorPlugins(){var e;return[...(null===(e=this.parent)||void 0===e?void 0:e.call(this))||[],s4e({name:this.name,lowlight:this.options.lowlight,defaultLanguage:this.options.defaultLanguage})]}});const c4e=o(8416),u4e={};class d4e{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(""===e)return;const t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,t){const n=this.stack[this.stack.length-1],r=e.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:r}):n.children.push(...r)}openNode(e){const t=this,n=e.split(".").map((function(e,n){return n?e+"_".repeat(n):t.options.classPrefix+e})),r={type:"element",tagName:"span",properties:{className:n},children:[]};this.stack[this.stack.length-1].children.push(r),this.stack.push(r)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const f4e="[A-Za-z$_][0-9A-Za-z$_]*",p4e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],h4e=["true","false","null","undefined","NaN","Infinity"],m4e=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],v4e=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],g4e=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],y4e=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],b4e=[].concat(g4e,m4e,v4e);const w4e="[A-Za-z$_][0-9A-Za-z$_]*",x4e=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],S4e=["true","false","null","undefined","NaN","Infinity"],k4e=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],E4e=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],O4e=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],j4e=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],_4e=[].concat(O4e,k4e,E4e);const C4e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video","defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],T4e=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),P4e=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),A4e=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),N4e=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const M4e=Gw("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function I4e(e){return I4e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I4e(e)}function R4e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L4e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R4e(Object(n),!0).forEach((function(t){D4e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R4e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D4e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=I4e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I4e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I4e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F4e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z4e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z4e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z4e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var B4e=function(e){const t=c4e.newInstance();return e&&o(e),{highlight:n,highlightAuto:function(e,o){const i=o||u4e,a=i.subset||r();let s,l=-1,c=0;for(;++l<a.length;){const r=a[l];if(!t.getLanguage(r))continue;const i=n(r,e,o);i.data&&void 0!==i.data.relevance&&i.data.relevance>c&&(c=i.data.relevance,s=i)}return s||{type:"root",children:[],data:{language:void 0,relevance:c}}},listLanguages:r,register:o,registerAlias:function(e,n){if("string"==typeof e)t.registerAliases("string"==typeof n?n:[...n],{languageName:e});else{let n;for(n in e)if(Object.hasOwn(e,n)){const r=e[n];t.registerAliases("string"==typeof r?r:[...r],{languageName:n})}}},registered:function(e){return Boolean(t.getLanguage(e))}};function n(e,n,r){const o=r||u4e,i="string"==typeof o.prefix?o.prefix:"hljs-";if(!t.getLanguage(e))throw new Error("Unknown language: `"+e+"` is not registered");t.configure({__emitter:d4e,classPrefix:i});const a=t.highlight(n,{ignoreIllegals:!0,language:e});if(a.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:a.errorRaised});const s=a._emitter.root,l=s.data;return l.language=a.language,l.relevance=a.relevance,s}function r(){return t.listLanguages()}function o(e,n){if("string"==typeof e)t.registerLanguage(e,n);else{let n;for(n in e)Object.hasOwn(e,n)&&t.registerLanguage(n,e[n])}}}();function $4e(e){return $4e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$4e(e)}function U4e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V4e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U4e(Object(n),!0).forEach((function(t){H4e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U4e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H4e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=$4e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$4e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$4e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}B4e.register("js",(function(e){const t=e.regex,n=f4e,r="<>",o="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let o;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const i=e.input.substring(n);((o=i.match(/^\s*=/))||(o=i.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},a={$pattern:f4e,keyword:p4e,literal:h4e,built_in:b4e,"variable.language":y4e},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,h,m,{match:/\$\d+/},u];d.contains=g.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(g)});const y=[].concat(v,d.contains),b=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(y)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},x={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...m4e,...v4e]}},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},E={match:t.concat(/\b/,(O=[...g4e,"super","import"].map((e=>`${e}\\s*\\(`)),t.concat("(?!",O.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var O;const j={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},_={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},C="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",T={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(C)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,h,m,v,{match:/\$\d+/},u,S,{scope:"attr",match:n+t.lookahead(":"),relevance:0},T,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:C,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:o},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},j,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},E,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},x,_,{match:/\$[(.]/}]}})),B4e.register("ts",(function(e){const t=e.regex,n=function(e){const t=e.regex,n=w4e,r="<>",o="</>",i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,t)=>{const n=e[0].length+e.index,r=e.input[n];if("<"===r||","===r)return void t.ignoreMatch();let o;">"===r&&(((e,{after:t})=>{const n="</"+e[0].slice(1);return-1!==e.input.indexOf(n,t)})(e,{after:n})||t.ignoreMatch());const i=e.input.substring(n);((o=i.match(/^\s*=/))||(o=i.match(/^\s+extends\s+/))&&0===o.index)&&t.ignoreMatch()}},a={$pattern:w4e,keyword:x4e,literal:S4e,built_in:_4e,"variable.language":j4e},s="[0-9](_?[0-9])*",l=`\\.(${s})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",u={className:"number",variants:[{begin:`(\\b(${c})((${l})|\\.)?|(${l}))[eE][+-]?(${s})\\b`},{begin:`\\b(${c})\\b((${l})\\b|\\.)?|(${l})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},p={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},m={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},g=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,h,m,{match:/\$\d+/},u];d.contains=g.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(g)});const y=[].concat(v,d.contains),b=y.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(y)}]),w={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},x={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,t.concat(n,"(",t.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},S={relevance:0,match:t.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...k4e,...E4e]}},k={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[w],illegal:/%/},E={match:t.concat(/\b/,(O=[...O4e,"super","import"].map((e=>`${e}\\s*\\(`)),t.concat("(?!",O.join("|"),")")),n,t.lookahead(/\s*\(/)),className:"title.function",relevance:0};var O;const j={begin:t.concat(/\./,t.lookahead(t.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},_={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},w]},C="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",T={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,t.lookahead(C)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[w]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:S},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,p,h,m,v,{match:/\$\d+/},u,S,{scope:"attr",match:n+t.lookahead(":"),relevance:0},T,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:C,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:r,end:o},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}]},k,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[w,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},j,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[w]},E,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},x,_,{match:/\$[(.]/}]}}(e),r=w4e,o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[n.exports.CLASS_REFERENCE]},s={$pattern:w4e,keyword:x4e.concat(["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"]),literal:S4e,built_in:_4e.concat(o),"variable.language":j4e},l={className:"meta",begin:"@"+r},c=(e,t,n)=>{const r=e.contains.findIndex((e=>e.label===t));if(-1===r)throw new Error("can not find mode to replace");e.contains.splice(r,1,n)};Object.assign(n.keywords,s),n.exports.PARAMS_CONTAINS.push(l);const u=n.contains.find((e=>"attr"===e.scope)),d=Object.assign({},u,{match:t.concat(r,t.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,u,d]),n.contains=n.contains.concat([l,i,a,d]),c(n,"shebang",e.SHEBANG()),c(n,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/});const f=n.contains.find((e=>"func.def"===e.label));return f.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n})),B4e.register("python",(function(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},i={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,s,a]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",u=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,d=`\\b|${r.join("|")}`,f={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${u}))[eE][+-]?(${c})[jJ]?(?=${d})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${c})[jJ](?=${d})`}]},p={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},h={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",i,f,l,e.HASH_COMMENT_MODE]}]};return a.contains=[l,f,i],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[i,f,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},l,p,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[h]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[f,h,l]}]}})),B4e.register("html",(function(e){const t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},i=e.inherit(o,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),s=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,s,a,i,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,i,s,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}})),B4e.register("css",(function(e){const t=e.regex,n=(e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(e),r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+P4e.join("|")+")"},{begin:":(:)?("+A4e.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+N4e.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...r,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...r,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:T4e.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...r,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+C4e.join("|")+")\\b"}]}})),B4e.register("json",(function(e){const t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}})),B4e.register("bash",(function(e){const t=e.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},i=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,o]};o.contains.push(s);const l={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},c=e.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),u={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[c,e.SHEBANG(),u,l,i,a,{match:/(\/[a-z._-]+)+/},s,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}})),B4e.register("sql",(function(e){const t=e.regex,n=e.COMMENT("--","$"),r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],o=r,i=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!r.includes(e))),a={match:t.concat(/\b/,t.either(...o),/\s*\(/),relevance:0,keywords:{built_in:o}};function s(e){return t.concat(/\b/,t.either(...e.map((e=>e.replace(/\s+/,"\\s+")))),/\b/)}const l={scope:"keyword",match:s(["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"]),relevance:0};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){const r=n;return t=t||[],e.map((e=>e.match(/\|\d+$/)||t.includes(e)?e:r(e)?`${e}|0`:e))}(i,{when:e=>e.length<3}),literal:["true","false","unknown"],type:["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{scope:"type",match:s(["double precision","large object","with timezone","without timezone"])},l,a,{scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},{scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},{begin:/"/,end:/"/,contains:[{match:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}));var W4e=function(e){var t=e.item,n=e.index,r=e.mode,o=e.editable,i=e.submitted,a=e.data,s=e.blockId,l=e.isDragging,c=e.draggedId,u=(e.dragOffset,e.isCorrect),d=e.focusedItemId,f=e.isKeyboardFocus,p=e.onFocus,h=e.onBlur,m=e.onDragStart,v=e.onMoveItem,g=e.onDeleteItem,y=e.headerColor,b=e.bodyColor,w=(e.adaptiveTextSizeClass,e.itemRefs),x=(e.tempOrder,l&&c===t.id),S=d===(null==t?void 0:t.id),k=function(e){o&&m(e,t.id,n)};return(0,Ut.jsx)(nfe.div,{layout:"position",ref:function(e){w.current[t.id]=e},initial:!1,className:"touch-none",style:{zIndex:x?100:void 0,opacity:x?.7:1,boxShadow:x?"0 4px 16px 0 rgba(0,0,0,0.10), 0 1.5px 4px 0 rgba(0,0,0,0.08)":"none",borderRadius:x?"0.75rem":"0"},children:(0,Ut.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-lesson-elementColor/30 bg-lesson-elementColor/10 px-4 py-3 text-base font-medium transition-all",tabIndex:o?0:-1,onFocus:function(){return p(t.id)},onBlur:h,children:[(0,Ut.jsxs)("div",{className:"-ml-1 w-6 select-none text-right text-lg font-semibold text-primary/80",children:[n+1,"."]}),o&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(qNe,{className:vr("h-5 w-5 flex-none cursor-grab text-primary/60 outline-none active:cursor-grabbing",l&&c===t.id&&"touch-none"),"aria-label":"Drag to reorder",onMouseDown:k,onTouchStart:k}),S&&f&&(0,Ut.jsxs)("div",{className:"ml-2 flex gap-1","data-item-id":t.id,tabIndex:-1,children:[(0,Ut.jsx)("button",{className:"rounded p-1 hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary",onClick:function(){return v(t.id,"up")},disabled:0===n,"aria-label":"Move item up",tabIndex:0,children:(0,Ut.jsx)(we,{className:"h-4 w-4 text-primary/60"})}),(0,Ut.jsx)("button",{className:"rounded p-1 hover:bg-primary/10 focus:outline-none focus:ring-2 focus:ring-primary",onClick:function(){return v(t.id,"down")},disabled:n===a.items.length-1,"aria-label":"Move item down",tabIndex:0,children:(0,Ut.jsx)(xe,{className:"h-4 w-4 text-primary/60"})})]})]}),(0,Ut.jsx)("div",{className:vr("min-w-0 flex-1",r!==dh.EDIT&&"select-none"),children:(0,Ut.jsx)("div",{style:{"--header-color":y,"--body-color":b,"--text-color":b,"--placeholder-color":b+"80"},children:(0,Ut.jsx)(GY,{value:null==t?void 0:t.text,editable:r===dh.EDIT,onChange:function(e){var n=a.items.map((function(n){return n.id===t.id?V4e(V4e({},n),{},{text:e}):n}));EE(s,V4e(V4e({},a),{},{items:n}),"ranking-item-text-".concat(t.id))},className:"min-w-0 text-left"})})}),r===dh.EDIT&&a.items.length>1&&(0,Ut.jsx)("button",{className:"ml-auto flex items-center justify-center rounded p-1 text-gray-500 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-primary","aria-label":"Delete item",onClick:function(){return g(t.id)},type:"button",tabIndex:0,children:(0,Ut.jsx)(LF,{className:"h-5 w-5"})}),i&&a.graded&&(0,Ut.jsx)("div",{className:"ml-2",children:u?(0,Ut.jsx)($Te,{className:"h-5 w-5 text-green-500"}):(0,Ut.jsx)(UTe,{className:"h-5 w-5 text-red-500"})})]})},t.id)};function q4e(e){return q4e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q4e(e)}function G4e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K4e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G4e(Object(n),!0).forEach((function(t){X4e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G4e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X4e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=q4e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=q4e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==q4e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y4e(e){return function(e){if(Array.isArray(e))return Q4e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J4e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z4e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||J4e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J4e(e,t){if(e){if("string"==typeof e)return Q4e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q4e(e,t):void 0}}function Q4e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e5e={textTile:function(e){var t,n,r=e.id,o=e.mode,i=e.parentId,a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),s=Sh(),l=Ohe();if(!a)return(0,Ut.jsx)("div",{children:r});var c,u=null!==(t=a.data.overlayColor)&&void 0!==t?t:"rgba(0, 0, 0, 0.5)",d=USe(s.bodyColor,s),f=USe(s.headerColor,s),p=d;if(a.data.backgroundImage)f=d=bMe(u)?"black":"white",p=d;else if(a.data.backgroundColor){c=USe(a.data.backgroundColor,s),f=d=ph(c)?"black":"white",p=d}a.data.textColor&&(f=d=USe(a.data.textColor,s),p=d),a.data.textColor||a.data.backgroundImage||a.data.backgroundColor||"box"===a.data.textAdornment||(p=s.accentColor);var h=function(){return"highlight"===a.data.textAdornment||a.data.backgroundImage||a.data.backgroundColor||a.data.textColor?"!bg-current":"!bg-lesson-elementColor"};return a.data.backgroundImage&&"model"in a.data.backgroundImage?(0,Ut.jsx)(ICe,{image:{type:"imageTile",data:{image:a.data.backgroundImage,objectFit:"cover",status:"Empty"}},searchTerm:a.data.backgroundImage.searchTerm,id:r,parentId:i}):(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{style:{backgroundColor:c,backgroundImage:a.data.backgroundImage?'url("'.concat(a.data.backgroundImage.source,'")'):void 0,backgroundSize:a.data.backgroundImage?"cover":"auto",backgroundPosition:"center center"},className:"relative h-full w-full rounded-xl",children:[a.data.backgroundImage&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 rounded-xl",style:{backgroundColor:u}}),(0,Ut.jsx)("div",{style:{"--header-color":"rgb(".concat(_he(f),")"),"--header-placeholder":jE(f,.6),"--body-color":"rgb(".concat(_he(d),")"),"--body-placeholder":jE(d,.6),color:d,fontFamily:(null===(n=s.bodyFont)||void 0===n?void 0:n.name)||"inherit"},dir:l?"rtl":"ltr",className:vr("custom-text relative z-10 flex h-full w-full px-4 py-4",pSe(o),"center"===a.data.justify?"text-center":"right"===a.data.justify?l?"text-left":"text-right":l?"text-right":"text-left"),children:(0,Ut.jsx)("div",{className:vr("flex h-full w-full",null!==a.data.capWidth&&"mx-auto"),style:{maxWidth:a.data.capWidth?"".concat(a.data.capWidth,"px"):void 0,alignItems:"center"===a.data.align?"center":"end"===a.data.align?"flex-end":"flex-start",position:"relative",zIndex:20},children:(0,Ut.jsxs)("div",{className:"relative w-full",style:{zIndex:30},children:["highlight"===a.data.textAdornment&&(0,Ut.jsx)("div",{className:vr("relative z-40 mb-2 h-1","center"===a.data.justify&&"mx-auto w-36","right"===a.data.justify&&"ml-auto w-36","left"===a.data.justify&&"w-36",h()),style:a.data.backgroundImage||a.data.backgroundColor||a.data.textColor?void 0:{backgroundColor:s.accentColor}}),(0,Ut.jsxs)("div",{className:vr("relative","box"===a.data.textAdornment&&"px-2 py-4"),style:{zIndex:35},children:["box"===a.data.textAdornment&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:vr("absolute -left-2 -right-2 -top-2 z-40 h-0.5"),style:{background:p}}),(0,Ut.jsx)("div",{className:vr("absolute -bottom-2 -left-2 -right-2 z-40 h-0.5"),style:{background:p}})]}),(0,Ut.jsx)(GY,{className:"relative z-30",editable:o===dh.EDIT,onChange:function(e){EE(r,gMe(gMe({},a.data),{},{text:e}),"text-tile-".concat(r))},value:a.data.text||""}),"title"===a.data.textAdornment&&(0,Ut.jsx)("div",{className:vr("relative z-40 mt-4 h-1","center"===a.data.justify&&"mx-auto w-36","right"===a.data.justify&&"ml-auto w-36","left"===a.data.justify&&"w-36",h()),style:a.data.backgroundImage||a.data.backgroundColor||a.data.textColor?void 0:{backgroundColor:s.accentColor}})]})]})})})]})})},imageTile:function(e){var t,r=e.id,o=e.mode,i=e.parentId,a=Br(),s=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),l=be((function(e){return e.selectedTileId}))===r,c=xh(),u=L4().enqueueSnackbar,d=XCe((0,n.useState)(!1),2),f=(d[0],d[1],bn()),p=(0,n.useRef)(null),h=Th((function(e){return e.resizingImage===r}))&&o===dh.EDIT,m=rfe(r,i),v=(null!==(t=m.relativeWidth)&&void 0!==t?t:1)/(m.relativeHeight||1)*kCe;if((0,n.useEffect)((function(){if(o===dh.EDIT&&l){var e=function(){var e=KCe(qCe().mark((function e(t){var n,o,i,l,c,d,f,p,h;return qCe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=t.target)||"INPUT"!==o.tagName&&"TEXTAREA"!==o.tagName&&"true"!==o.contentEditable&&!o.closest('input, textarea, [contenteditable="true"]')){e.next=3;break}return e.abrupt("return");case 3:if(i=null===(n=t.clipboardData)||void 0===n?void 0:n.items){e.next=6;break}return e.abrupt("return");case 6:l=!1,c=!1,d=WCe(i),e.prev=9,d.s();case 11:if((f=d.n()).done){e.next=24;break}if(p=f.value,l=!0,!p.type.startsWith("image/")){e.next=22;break}if(c=!0,!(h=p.getAsFile())){e.next=22;break}return t.preventDefault(),e.next=21,JCe({file:h,id:r,blockContent:s,enqueueSnackbar:u,t:a});case 21:return e.abrupt("break",24);case 22:e.next=11;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(9),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:l&&!c&&(Ooe("image_paste_error",{error:"non_image_content",tile_id:r}),u(a("onlyImagesCanBePastedHere"),{variant:"error"}));case 33:case"end":return e.stop()}}),e,null,[[9,26,29,32]])})));return function(t){return e.apply(this,arguments)}}();return document.addEventListener("paste",e),function(){return document.removeEventListener("paste",e)}}}),[o,r,s,l]),!s)return(0,Ut.jsx)("div",{children:r});if(!s.data.image)return o===dh.EDIT?(0,Ut.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8 font-sans ".concat(c.isDarkTheme?"text-white":"text-black"),children:[(0,Ut.jsx)("div",{className:"text-center text-sm font-semibold",children:a("selectImageOrPasteHere")}),(0,Ut.jsx)(ake,{onChooseType:function(e){MSe(r,[{type:e,search:"",selectedRatio:"",bingRightsTypeFilter:"All",subOption:"unsplash",value:"image-picker"}])}})]}):(0,Ut.jsx)("div",{});if(s.data.image&&"model"in s.data.image)return(0,Ut.jsx)(ICe,{image:s,searchTerm:s.data.image.searchTerm,id:r,parentId:i});var g=function(){var e;return o===dh.EDIT&&l&&null!==(e=s.data.image)&&void 0!==e&&e.searchTerm?(0,Ut.jsx)("div",{className:"absolute right-2 top-2 z-10",children:(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(Fr,{size:"smallIcon",variant:"secondary",onClick:function(){var e,t,n,o={type:"Generated",search:null!==(e=null===(t=s.data.image)||void 0===t?void 0:t.searchTerm)&&void 0!==e?e:"",bingRightsTypeFilter:"All",subOption:"unsplash",selectedRatio:BCe(null===(n=s.data.image)||void 0===n?void 0:n.aspectRatio),value:"image-picker"};MSe(r,[o])},children:(0,Ut.jsx)(tke,{className:"h-4 w-4"})})}),(0,Ut.jsx)(RV,{children:a("regenerateImage")})]})}):null};if("custom"===s.data.objectFit){var y=s.data.image.position||{x:0,y:0,zoom:1},b=function(e){EE(r,VCe(VCe({},s.data),{},{image:VCe(VCe({},s.data.image),{},{position:e})}),"blocks.".concat(r,".data.image.position"))};return(0,Ut.jsxs)("div",{ref:p,className:"absolute bottom-0 left-0 right-0 top-0 overflow-hidden rounded-xl",onDoubleClick:function(){Th.setState((function(e){e.resizingImage=r}))},children:[g(),!h&&(0,Ut.jsx)(cCe,{imageUrl:s.data.image.source,imageAspectRatio:s.data.image.aspectRatio||1,imagePosition:y,containerAspectRatio:v,mode:o}),h&&(0,Ut.jsx)(xCe,{containerClassName:vr("rounded-lg",c.isDarkTheme?"bg-white/10":"bg-black/10"),containerAspectRatio:v,imageAspectRatio:s.data.image.aspectRatio||1,initialPosition:y,containerRef:p,setImagePosition:b,onFinishCropping:function(e){Th.setState((function(e){e.resizingImage=null})),b(e)},imageUrl:s.data.image.source})]})}return(0,Ut.jsxs)("div",{onDoubleClick:function(){o===dh.EDIT&&function(e){var t,n=e.blockData,r=e.containerAspectRatio,o=e.id;if(null===(t=n.image)||void 0===t||!t.aspectRatio)throw new Error("Image aspect ratio is null");var i=lCe(n.image.aspectRatio,r);if("contain"===n.objectFit){var a=function(e,t){return e>t?{x:0,y:0,zoom:1}:{x:0,y:0,zoom:e/t}}(n.image.aspectRatio,r);return EE(o,jCe(jCe({},n),{},{objectFit:"custom",image:jCe(jCe({},n.image),{},{position:jCe(jCe({},a),{},{zoom:a.zoom/i})})})),void Th.setState((function(e){e.resizingImage=o}))}if("cover"===n.objectFit){var s=function(e,t){return e>t?{x:0,y:0,zoom:e/t}:{x:0,y:0,zoom:1}}(n.image.aspectRatio,r);return EE(o,jCe(jCe({},n),{},{objectFit:"custom",image:jCe(jCe({},n.image),{},{position:jCe(jCe({},s),{},{zoom:s.zoom/i})})})),void Th.setState((function(e){e.resizingImage=o}))}"custom"===n.objectFit&&Th.setState((function(e){e.resizingImage=o}))}({blockData:s.data,containerAspectRatio:v,id:r})},className:vr("cover"===s.data.objectFit&&"rounded-xl","contain"===s.data.objectFit&&!f&&"rounded-xl","cover"===s.data.objectFit&&"absolute","contain"===s.data.objectFit&&!f&&"absolute","bottom-0 left-0 right-0 top-0 overflow-hidden"),children:[g(),(0,Ut.jsx)(cke,{src:s.data.image.source,altText:s.data.image.altText||"",mode:o,children:(0,Ut.jsx)("img",{src:s.data.image.source,alt:s.data.image.altText||"",className:"block h-full w-full",style:{objectFit:o===dh.PRINT?"contain":s.data.objectFit||"cover"}})})]})},flashcardsTile:function(e){var t,r,o,i=Br(),a=e.id,s=e.mode,l=e.printMode,c=fh(a,s),u=Sh(),d=j_e((0,n.useState)(0),2),f=d[0],p=d[1],h=(null===(t=c.data)||void 0===t||null===(t=t.items)||void 0===t?void 0:t.length)||0,m=c.data,v=m.mode,g=Sh().bodyFont,y=function(t,n,r){var o,i,c=E_e(E_e({},t),{},{front:"string"==typeof t.front?C_e(t.front):t.front,back:"string"==typeof t.back?C_e(t.back):t.back}),u=null===(o=be.getState().blockStates[a])||void 0===o||null===(o=o.items)||void 0===o?void 0:o[n],d=null===(i=be.getState().blockStates[a])||void 0===i||null===(i=i.itemsCompleted)||void 0===i?void 0:i[n];return(0,Ut.jsx)(P_e,{tileId:a,parentId:e.parentId,index:n,card:c,printMode:l,onDelete:function(){EE(a,E_e(E_e({},m),{},{items:m.items.filter((function(e,t){return t!==n}))}))},onFrontChange:function(t){e.mode!==dh.THUMBNAIL&&EE(a,E_e(E_e({},m),{},{items:m.items.map((function(e,r){return r===n?E_e(E_e({},e),{},{front:t}):e}))}),"front-flashcard-".concat(n,"-").concat(a))},onBackChange:function(t){e.mode!==dh.THUMBNAIL&&EE(a,E_e(E_e({},m),{},{items:m.items.map((function(e,r){return r===n?E_e(E_e({},e),{},{back:t}):e}))}),"back-flashcard-".concat(n,"-").concat(a))},mode:s,updateCardFlippedState:function(t){if(e.mode!==dh.THUMBNAIL){var r=be.getState().blockStates[a],o={},i=null==r?void 0:r.items;Array.isArray(i)?i.forEach((function(e,t){o[t]=e.isFlipped})):o=i,uh(e.id,E_e(E_e({},r),{},{items:E_e(E_e({},o),{},O_e({},n,t)),itemsCompleted:E_e(E_e({},null==r?void 0:r.itemsCompleted),{},O_e({},n,!0))}))}},flipped:u,totalFlashcards:h,isCarousel:r,completed:d},n)};return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",style:{fontFamily:(null==g?void 0:g.name)||"inherit"},children:(0,Ut.jsxs)("div",{className:"relative w-full p-4",children:[("grid"===v||l)&&(0,Ut.jsx)("div",{className:vr("relative flex w-full flex-wrap justify-center",pSe(s)),children:null===(r=m.items)||void 0===r?void 0:r.map((function(e,t){return y(e,t)}))}),(0,Ut.jsx)("div",{className:"flex w-full justify-center",children:"carousel"===v&&!l&&(0,Ut.jsxs)(Xje,{className:vr("w-full md:max-w-[36vw]",pSe(s)),children:[(0,Ut.jsx)(Yje,{children:null===(o=m.items)||void 0===o?void 0:o.map((function(e,t){return(0,Ut.jsx)(Zje,{children:y(e,t,!0)},t)}))}),(s===dh.EDIT||m.items.length>1)&&(0,Ut.jsxs)("div",{className:"flex w-full justify-between gap-2 px-4",children:[(0,Ut.jsx)("div",{onClick:function(){p(f>0?f-1:h-1)},children:(0,Ut.jsx)(Jje,{className:"lg:h-12 lg:w-12 lg:p-4"})}),(0,Ut.jsxs)("div",{className:"mt-1 flex flex-grow flex-col items-center gap-1",children:[(0,Ut.jsxs)("div",{className:"text-sm",children:[f+1," ",i("of")," ",h]}),(0,Ut.jsx)(x_e,{sx:{backgroundColor:u.pageColor,border:"1px solid ".concat(u.accentColor),"& .MuiLinearProgress-bar":{backgroundColor:u.accentColor,transitionDuration:"0.75s",transitionTimingFunction:"ease"}},className:"h-1 w-full rounded-lg",variant:"determinate",value:(f+1)/h*100})]}),(0,Ut.jsx)("div",{onClick:function(){p(f<h-1?f+1:0)},children:(0,Ut.jsx)(Qje,{className:"lg:h-12 lg:w-12 lg:p-4"})})]})]})})]})})},questionTile:function(e){var t,n,r,o,i=Br(),a=e.id,s=e.mode,l=e.preview,c=(rfe(e.id,e.parentId),Sh(),be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]}))),u=null!==(t=null===(n=fh(a,s).state)||void 0===n?void 0:n.submitted)&&void 0!==t&&t,d=null===(r=null==c||null===(o=c.data)||void 0===o?void 0:o.graded)||void 0===r||r;return c?(0,Ut.jsx)("div",{className:vr("flex h-full  w-full items-center justify-center ",pSe(s)),children:(0,Ut.jsxs)("div",{className:vr("w-full px-4 py-4"),children:[(0,Ut.jsx)("div",{className:vr("mb-2 w-full text-2xl leading-normal",pSe(s)),children:(0,Ut.jsx)("div",{className:"w-full pb-4",children:(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsx)(GY,{placeholder:i("question"),editable:s===dh.EDIT,onChange:function(e){EE(a,aAe(aAe({},c.data),{},{question:e}),"question-text-".concat(a))},value:c.data.question})})})}),(0,Ut.jsx)(lAe,aAe({},e)),s===dh.VIEW&&u&&!d&&(0,Ut.jsxs)("div",{className:vr("absolute flex items-center gap-2",l?"bottom-10 right-4":"bottom-10 left-4"),children:[(0,Ut.jsx)($Te,{className:"h-6 w-6 text-current duration-300 animate-in fade-in"}),(0,Ut.jsx)("span",{className:"text-current",children:"Completed"})]})]})}):(0,Ut.jsx)("div",{children:e.id})},videoTile:function(e){var t,r,o,i,a,s,l,c,u,d=e.id,f=e.mode,p=(e.parentId,kOe((0,n.useState)(!1),2)),h=p[0],m=p[1],v=kOe((0,n.useState)(!1),2),g=v[0],y=v[1],b=kOe((0,n.useState)(0),2),w=b[0],x=(b[1],fh(d,f)),S=x.data,k=(xh().elementColor,be((function(e){return e.selectedTileId}))),E=be((function(e){return e.videoTileBeingEdited})),O=be((function(e){return e.lessonContent.language})),j=(0,n.useRef)(null),_=k===d;void 0===(null===(t=S.video)||void 0===t?void 0:t.source)&&yOe.captureException(new Error("Video source is undefined"),{extra:{videoProps:S.video,lessonId:be.getState().lessonId,blockId:d}}),(0,n.useEffect)((function(){if(E===d)m(!0),setTimeout((function(){return y(!0)}),200);else{y(!1);setTimeout((function(){return m(!1)}),200)}}),[E,d]);var C=x.state?{watchedProportion:null!==(r=x.state.watchedProportion)&&void 0!==r?r:0,seekProportion:null!==(o=x.state.seekProportion)&&void 0!==o?o:0}:{watchedProportion:0,seekProportion:0},T=C.watchedProportion>.98,P=(f===dh.EDIT||f===dh.DRAG)&&!E;return(0,Ut.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center gap-2 overflow-hidden",draggable:!1,onDragStart:function(e){return e.preventDefault()},onMouseDown:function(e){return(E===d||_)&&e.stopPropagation()},children:[P&&!_&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-10"}),(0,Ut.jsx)("div",{className:"relative w-full",style:{maxWidth:"100%"},children:(0,Ut.jsx)("div",{className:"relative w-full",style:{paddingBottom:"56.25%",maxHeight:"70vh"},children:(0,Ut.jsx)(w1,{progress:C,setProgress:function(e){(f!==dh.EDIT||_)&&x.updateState(xOe(xOe({},x.state),{},{watchedProportion:e.watchedProportion,seekProportion:e.seekProportion}))},video:S.video,lessonLanguage:O,restrictSkipAhead:null!==(i=S.restrictSkipAhead)&&void 0!==i&&i,startTime:null!==(a=null===(s=S.video)||void 0===s?void 0:s.trimStart)&&void 0!==a?a:0,endTime:null!==(l=null===(c=S.video)||void 0===c?void 0:c.trimEnd)&&void 0!==l?l:w,className:"absolute inset-0 h-full w-full rounded-lg",ref:j})})}),E===d&&f===dh.EDIT&&(0,Ut.jsx)("div",{className:"w-full overflow-hidden transition-[height] duration-200 ease-in-out ".concat(h?"h-[85px]":"h-0"),children:(0,Ut.jsx)("div",{className:"w-full transform transition-all duration-300 ease-in-out ".concat(g?"translate-y-0 opacity-100":"-translate-y-full opacity-0"),draggable:!1,onDragStart:function(e){return e.preventDefault()},onMouseDown:function(e){return e.stopPropagation()},children:(0,Ut.jsx)(gOe,{videoUrl:S.video.source,videoRef:j,video:S.video,onUpdate:function(e){EE(d,xOe(xOe({},S),{},{video:e}),"video-trim-".concat(d))}})})}),(0,Ut.jsx)(OOe,{videoCompleted:T,mode:f,requireCompletion:null!==(u=S.requireCompletion)&&void 0!==u&&u})]})},embedTile:function(e){var t=e.id,r=e.mode,o=Br(),i=fh(t,r).data,a=DOe((0,n.useState)(i.source||""),2),s=a[0],l=a[1],c=be((function(e){return e.selectedTileId}))===t,u=Sh(),d=r===dh.EDIT||r===dh.DRAG;(0,n.useEffect)((function(){l(i.source||"")}),[i.source]);var f=function(){s!==i.source&&setTimeout((function(){EE(t,{source:POe(s)})}),100)};return(0,Ut.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 top-0 overflow-hidden rounded-xl",children:[d&&!c&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-10"}),i.source&&r!==dh.DRAG&&r!==dh.THUMBNAIL?(0,Ut.jsx)("iframe",{width:"100%",height:"100%",style:{objectFit:"cover"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,src:i.source}):(0,Ut.jsxs)("div",{className:"flex h-full w-full flex-col items-center justify-center",children:[(0,Ut.jsx)(LOe,{className:"mb-8 h-32 w-32",color:u.accentColor}),d&&(0,Ut.jsx)(ROe,{placeholder:o("pasteUrlHere"),value:s,onChange:function(e){return l(e.target.value)},onBlur:f,onKeyDown:function(e){"Enter"===e.key&&f()}})]})]})},accordionTile:function(e){e.id;var t=e.mode;return(0,Ut.jsx)("div",{style:{alignItems:"center"},className:"flex h-full w-full items-start justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsx)("div",{className:vr("relative flex w-full flex-wrap justify-center",pSe(t)),children:(0,Ut.jsx)($Se,zSe({},e))})})})},shortAnswerTile:function(e){var t,n,r,o,i=Br(),a=e.id,s=e.mode,l=(e.preview,Sh()),c=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]})),u=null!==(t=null===(n=fh(a,s).state)||void 0===n?void 0:n.submitted)&&void 0!==t&&t,d=null===(r=null==c||null===(o=c.data)||void 0===o?void 0:o.graded)||void 0===r||r;return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full max-w-3xl p-4",children:(0,Ut.jsxs)("div",{className:vr("relative  w-full flex-wrap justify-center",pSe(s)),children:[(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)("div",{className:"relative flex items-center",children:(0,Ut.jsx)(GY,{placeholder:i("question"),editable:s===dh.EDIT,onChange:function(e){EE(a,GAe(GAe({},c.data),{},{question:e}),"short-answer-question-".concat(a))},value:c.data.question})})}),(0,Ut.jsx)("div",{style:{backgroundColor:l.bodyColor},className:"my-4 h-[1px] w-full opacity-30"}),(0,Ut.jsx)(HAe,GAe({},e)),s===dh.VIEW&&u&&!d&&(0,Ut.jsxs)("div",{className:vr("absolute bottom-4 right-0 flex items-center gap-2"),children:[(0,Ut.jsx)("span",{className:"text-sm font-semibold text-current",children:ZK("Completed")}),(0,Ut.jsx)($Te,{className:"h-6 w-6 text-current duration-300 animate-in fade-in"})]})]})})})},matchingTile:function(e){var t=e.id,n=e.mode,r=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]}));return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsx)("div",{className:vr("relative flex w-full flex-wrap justify-center",pSe(n)),children:(0,Ut.jsxs)("div",{className:"flex w-full max-w-xl flex-col",children:[(0,Ut.jsx)(GY,{className:"mb-8 leading-normal",editable:n===dh.EDIT,onChange:function(e){EE(t,_Pe(_Pe({},r.data),{},{title:e}),"matching-tile-".concat(t))},value:r.data.title}),(0,Ut.jsx)(EPe,_Pe({},e))]})})})})},sortingTile:function(e){return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,Ut.jsx)(CNe,ANe({},e))})})})},hotButtonTile:function(e){var t=e.id,n=e.mode,r=fh(t,n).data;return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full overflow-hidden",children:(0,Ut.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,Ut.jsx)(Z_e,eCe(eCe({},e),{},{image:r.image}))})})})},buttonsTile:function(e){var t,n=e.id,r=e.mode,o=(e.parentId,e.preview),i=(Br(),Br(),Br()),a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[n]})),s=(be((function(e){return e.selectedTileId===n})),Sh()),l=a.data,c=!Bp()&&!o,u=YSe().onGoForward,d=L4().enqueueSnackbar,f=Ohe();if(!a)return(0,Ut.jsx)("div",{children:n});var p=s.bodyColor;return(0,Ut.jsx)("div",{style:{color:p,fontFamily:(null===(t=s.bodyFont)||void 0===t?void 0:t.name)||"inherit",alignItems:a.data.align},dir:f?"rtl":"ltr",className:vr("flex h-full w-full flex-wrap gap-2 p-4 py-2",pSe(r)),children:(0,Ut.jsx)("div",{className:"flex w-full flex-wrap gap-2",style:{justifyContent:"center"===a.data.justify?"center":"right"===a.data.justify?f?"left":"right":f?"right":"left"},children:l.items.map((function(e,t){return(0,Ut.jsx)("div",{className:"flex flex-col items-center justify-center "+(l.fullWidth?"w-full":""),children:r===dh.EDIT?(0,Ut.jsx)(dpe,{onClick:function(){ISe({id:n,location:[{id:e.id,value:"button-item"}]}),Th.setState({contextMode:"tile"})},className:l.fullWidth?"w-full":"",size:l.size,children:e.label||ZK("url"===e.destination.type?"Open Link":"file"===e.destination.type?"Open File":"Next")}):(0,Ut.jsx)(Ut.Fragment,{children:"url"===e.destination.type||"file"===e.destination.type?(0,Ut.jsx)(JSe(),{className:l.fullWidth?"w-full":"",target:"_blank",href:e.destination.value||"",children:(0,Ut.jsx)(dpe,{as:"span",className:l.fullWidth?"w-full":"",size:l.size,children:e.label||("url"===e.destination.type?ZK("Open Link"):ZK("Open File"))})}):(0,Ut.jsx)(dpe,{onClick:function(){c?d(ZK("Complete the current page before moving on.")):u()},className:l.fullWidth?"w-full":"",size:l.size,children:e.label||i("next")})})},e.id)}))})})},sectionCalloutTile:function(e){var t,n=e.id,r=e.mode,o=e.parentId,i=Br(),a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[n]})),s=Ohe(),l=xh(),c=l.theme,u=l.elementColor,d=l.elementText,f=Bs(),p=be((function(e){var t,n,r=(null===(t=e.lessonContent)||void 0===t?void 0:t.blockOrder)||[],i=!(null===(n=e.lessonContent.settings)||void 0===n||!n.hideTitlePage),a=r.filter((function(t,n){var r,o=null===(r=e.lessonContent)||void 0===r?void 0:r.blocks[t];return(!i||0!==n)&&(!!o&&("divider"===(null==o?void 0:o.type)||"tiledLayout"===(null==o?void 0:o.type)&&o.sectionDivider))})),s=!1,l="section"===f.scoredContent,c=_o(e.lessonContent,o);l&&f.scoredSectionId&&(c===_o(e.lessonContent,f.scoredSectionId)&&(s=!0));return{dividerNumber:c+1,totalDividers:a.length,isQuiz:s}})),h=p.dividerNumber,m=p.totalDividers,v=p.isQuiz;if(!a)return(0,Ut.jsx)("div",{children:n});var g=c.bodyColor;return(0,Ut.jsx)("div",{style:{backgroundColor:(c.imageUrl,"transparent"),color:g,fontFamily:(null===(t=c.bodyFont)||void 0===t?void 0:t.name)||"inherit",justifyContent:"center"===a.data.justify?"center":"right"===a.data.justify?s?"left":"right":s?"right":"left",alignItems:a.data.align},dir:s?"rtl":"ltr",className:vr("flex h-full w-full p-4 py-1",pSe(r)),children:(0,Ut.jsx)("div",{children:(0,Ut.jsxs)("div",{style:{borderColor:u},className:"flex items-center gap-2 rounded-full border-2 p-1 px-1 text-[0.875em]",children:[v&&(0,Ut.jsx)("div",{style:{backgroundColor:u,color:d},className:"rounded-full p-1.5 px-3",children:i("quiz")}),0===h?(0,Ut.jsx)("div",{className:"flex items-center gap-2 px-2",children:(0,Ut.jsx)("div",{className:"whitespace-nowrap",children:i("introduction")})}):(0,Ut.jsxs)("div",{className:"flex items-center gap-2 px-2 pr-4",children:[ZK("Section"),(0,Ut.jsxs)("div",{className:"whitespace-nowrap",children:[h," ",ZK("of")," ",m]})]})]})})})},listTile:function(e){var t=e.id,r=e.mode,o=e.parentId,i=bn(),a=(0,n.useRef)(null),s=ETe((0,n.useState)(0),2),l=s[0],c=s[1];(0,n.useEffect)((function(){var e=new ResizeObserver((function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=OTe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;c(r.contentRect.width)}}catch(e){n.e(e)}finally{n.f()}}));return a.current&&e.observe(a.current),function(){return e.disconnect()}}),[]);var u=l>0&&l<700,d=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n?void 0:n.blocks[t]})),f=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n||null===(n=n.blocks[t])||void 0===n?void 0:n.narration})),p=be((function(e){return e.currentNarrationIndex})),h=Gpe(o).narrations,m=Ohe(),v=d.data.items,g=d.data.columns,y=d.data.mode,b=be((function(e){return e.blockStates[t]}))||d.data,w=xh(),x=w.elementColor,S=(w.elementText,zxe.getTextColor(x)),k=function(e){r===dh.VIEW&&wpe({tileNarration:f,itemId:e.id,pageNarrations:h})};function E(e,t){return r===dh.EDIT?e.sequenceLabel||"":e.sequenceLabel||(t+1).toString()}return d?(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)("div",{ref:a,className:"relative w-full h-full",children:"Staircase"===y?(0,Ut.jsx)("div",{dir:m?"rtl":"ltr",className:vr("custom-text flex flex-col items-start w-full gap-y-2 rounded-xl p-4",pSe(r),i?"flex-col":""),children:v.map((function(e,n){var o=10+40/Math.max(v.length,1)*n;return(0,Ut.jsxs)("div",{className:"flex items-stretch h-full w-full gap-4 py-2",children:[(0,Ut.jsx)("div",{className:"flex items-center justify-center px-4",style:{width:"".concat(o,"%"),background:x,borderRadius:12,"--header-color":S,"--body-color":S,"--text-color":S,"--placeholder-color":"".concat(S,"80")},children:(0,Ut.jsx)("span",{className:"font-bold text-2xl",style:{color:S},children:n+1})}),(0,Ut.jsx)("div",{className:"flex-1 flex items-center",children:(0,Ut.jsx)(GY,{className:"z-10 w-full text-left text-color [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]",editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})})]},e.id)}))}):"Pyramid"===y?(0,Ut.jsx)("div",{dir:m?"rtl":"ltr",className:vr("custom-text flex flex-col items-center w-full gap-y-2 rounded-xl p-4",pSe(r),i?"flex-col":""),children:v.map((function(e,n){var o=40+60/Math.max(v.length-1,1)*n;return(0,Ut.jsx)("div",{className:"flex justify-center items-center py-2 px-4",style:{width:"".concat(o,"%"),background:x,borderRadius:12,"--header-color":S,"--body-color":S,"--text-color":S,"--placeholder-color":"".concat(S,"80")},onClick:function(){return k(e)},children:(0,Ut.jsx)(GY,{className:"z-10 w-full text-center text-color [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]",editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})},e.id)}))}):"Circle"===y?(0,Ut.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:u?(0,Ut.jsxs)("div",{className:"flex flex-col items-center w-full gap-6",children:[(0,Ut.jsx)("div",{className:"flex flex-col justify-center items-center",style:{width:280,height:280},children:(0,Ut.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 320 320",children:[v.map((function(e,t){var n=v.length,r=2*Math.PI/n,o=130,i=50,a=2*Math.PI*(t+.5)/n-Math.PI/2-r,s=12*Math.cos(a),l=12*Math.sin(a),c=2*Math.PI*t/n-Math.PI/2-r,u=2*Math.PI*(t+1)/n-Math.PI/2-r,d=160+o*Math.cos(c)+s,f=160+o*Math.sin(c)+l,p=160+o*Math.cos(u)+s,h=160+o*Math.sin(u)+l,m=160+i*Math.cos(c)+s,g=160+i*Math.sin(c)+l,y=160+i*Math.cos(u)+s,b=160+i*Math.sin(u)+l,w=u-c>Math.PI?1:0,S=["M ".concat(m," ").concat(g),"L ".concat(d," ").concat(f),"A ".concat(o," ").concat(o," 0 ").concat(w," 1 ").concat(p," ").concat(h),"L ".concat(y," ").concat(b),"A ".concat(i," ").concat(i," 0 ").concat(w," 0 ").concat(m," ").concat(g),"Z"].join(" ");return(0,Ut.jsx)("g",{children:(0,Ut.jsx)("path",{d:S,fill:x})},e.id)})),v.map((function(e,t){var n=v.length,r=2*Math.PI/n,o=2*Math.PI*(t+.5)/n-Math.PI/2-r,i=160+90*Math.cos(o),a=160+90*Math.sin(o);return(0,Ut.jsx)("text",{x:i,y:a,textAnchor:"middle",alignmentBaseline:"middle",fontSize:"28",fontWeight:"bold",fill:S,style:{userSelect:"none"},children:t+1},e.id)}))]})}),(0,Ut.jsx)("div",{className:"w-full px-5",children:(0,Ut.jsx)("ol",{className:"list-decimal list-inside space-y-4",children:v.map((function(e,n){return(0,Ut.jsxs)("li",{className:"flex items-start gap-3",children:[(0,Ut.jsxs)("span",{className:"flex-shrink-0 font-bold text-lg",style:{color:x},children:[n+1,"."]}),(0,Ut.jsx)("div",{className:"flex-1",children:(0,Ut.jsx)(GY,{className:vr("custom-text",pSe(r),"z-10 w-full text-color"),editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})})]},e.id)}))})})]}):(0,Ut.jsxs)("div",{className:"w-full h-full grid grid-cols-[1fr_320px_1fr] items-center gap-8",children:[(0,Ut.jsx)("div",{className:"flex flex-col items-end gap-4",children:function(){var e=v.length,n=Math.floor(e/2);return[v[0]].concat(wTe(v.slice(n+1).reverse())).map((function(e){return(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)(GY,{className:vr("custom-text",pSe(r),"z-10 w-full text-right text-color"),editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})},e.id)}))}()}),(0,Ut.jsx)("div",{className:"flex justify-center items-center",children:(0,Ut.jsxs)("svg",{width:"320",height:"320",viewBox:"0 0 320 320",children:[v.map((function(e,t){var n=v.length,r=2*Math.PI/n,o=130,i=50,a=2*Math.PI*(t+.5)/n-Math.PI/2-r,s=12*Math.cos(a),l=12*Math.sin(a),c=2*Math.PI*t/n-Math.PI/2-r,u=2*Math.PI*(t+1)/n-Math.PI/2-r,d=160+o*Math.cos(c)+s,f=160+o*Math.sin(c)+l,p=160+o*Math.cos(u)+s,h=160+o*Math.sin(u)+l,m=160+i*Math.cos(c)+s,g=160+i*Math.sin(c)+l,y=160+i*Math.cos(u)+s,b=160+i*Math.sin(u)+l,w=u-c>Math.PI?1:0,S=["M ".concat(m," ").concat(g),"L ".concat(d," ").concat(f),"A ".concat(o," ").concat(o," 0 ").concat(w," 1 ").concat(p," ").concat(h),"L ".concat(y," ").concat(b),"A ".concat(i," ").concat(i," 0 ").concat(w," 0 ").concat(m," ").concat(g),"Z"].join(" ");return(0,Ut.jsx)("g",{children:(0,Ut.jsx)("path",{d:S,fill:x})},e.id)})),v.map((function(e,t){var n=v.length,r=2*Math.PI/n,o=2*Math.PI*(t+.5)/n-Math.PI/2-r,i=160+90*Math.cos(o),a=160+90*Math.sin(o);return(0,Ut.jsx)("text",{x:i,y:a,textAnchor:"middle",alignmentBaseline:"middle",fontSize:"28",fontWeight:"bold",fill:S,style:{userSelect:"none"},children:t+1},e.id)}))]})}),(0,Ut.jsx)("div",{className:"flex flex-col items-start gap-4",children:function(){var e=v.length,n=Math.floor(e/2);return v.slice(1,n+1).map((function(e){return(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)(GY,{className:vr("custom-text",pSe(r),"z-10 w-full text-left text-color"),editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})},e.id)}))}()})]})}):(0,Ut.jsx)("div",{dir:m?"rtl":"ltr",className:vr("custom-text grid h-full w-full gap-x-4 gap-y-8 rounded-xl p-4",pSe(r),i?"flex flex-col":""),style:{gridTemplateColumns:"repeat(".concat(g,", 1fr)")},children:v.map((function(e,n){var o,i=(null===(o=b.items)||void 0===o?void 0:o.find((function(t){return e.id===t.id})))||{},a=Spe({pageNarrations:h,tileNarration:f,itemId:e.id,currentNarrationIndex:p});return(0,Ut.jsxs)("div",{className:"flex items-center gap-4",onClick:function(){return k(e)},children:[(0,Ut.jsxs)("div",{className:"relative",children:["Numbered"===y&&(0,Ut.jsx)("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-xl border border-solid border-lesson-elementColor/30 bg-lesson-elementColor/10 text-[24px]",children:(0,Ut.jsx)(ASe,{className:vr(e.sequenceLabel?"w-auto":n>=9?"w-8":"w-6",r!==dh.EDIT?"w-auto":""),style:{textAlignLast:"center"},mode:r,value:E(e,n),onChange:function(n){var r=n.slice(0,2);EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{sequenceLabel:r}):t}))}),"text-tile-".concat(t))},placeholder:(n+1).toString()})}),"Bulleted"===y&&(0,Ut.jsx)("div",{className:"flex h-8 w-12 items-center justify-center text-[40px]",children:(0,Ut.jsx)("div",{children:"•"})}),"Checkbox"===y&&(0,Ut.jsx)("div",{className:"flex w-12 items-center justify-center",children:(0,Ut.jsx)(yTe,{onCheckedChange:function(n){uh(t,STe(STe({},b),{},{items:b.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{checked:n}):t}))}))},checked:i.checked})}),r===dh.VIEW&&a&&(0,Ut.jsx)("div",{className:"absolute -left-3 top-1/2 -translate-y-1/2",children:(0,Ut.jsx)(ife,{showPulse:!be.getState().currentNarrationIsPlaying})})]}),(0,Ut.jsx)(GY,{className:"z-10",editable:r===dh.EDIT,onChange:function(n){EE(t,STe(STe({},d.data),{},{items:d.data.items.map((function(t){return t.id===e.id?STe(STe({},t),{},{text:n}):t}))}),"text-tile-".concat(t))},value:e.text,showOnlyCurrent:!1})]},e.id)}))})})}):(0,Ut.jsx)("div",{children:t})},experienceTile:function(e){var t,n=fh(e.id,e.mode),r=(null===(t=n.state)||void 0===t?void 0:t.nodeHistory)||[],o=be((function(t){var n;return null===(n=t.lessonContent)||void 0===n?void 0:n.blocks[e.id]}));return null!=o&&o.data&&"root"in o.data?(0,Ut.jsx)("div",{className:"flex p-2 h-full w-full items-center",children:(0,Ut.jsx)(fSe,uSe(uSe({},e),{},{parentId:e.id,rootId:o.data.root.id,nodeHistory:r,setNodeHistory:function(e){n.updateState(uSe(uSe({},n.state),{},{nodeHistory:e}))}}))}):(0,Ut.jsx)(oge,{id:e.id,parentId:e.parentId,data:o.data})},dividerTile:function(e){var t=e.id,n=(e.mode,e.parentId,be((function(e){var n;return null===(n=e.lessonContent)||void 0===n?void 0:n.blocks[t]}))),r=xh().theme;return n&&"spacer"!==n.data.variant?(0,Ut.jsx)("div",{className:vr("flex h-full w-full p-2",{"items-start":"start"===n.data.align,"items-center":"center"===n.data.align,"items-end":"end"===n.data.align}),children:(0,Ut.jsx)("div",{className:"relative w-full",children:(0,Ut.jsx)("hr",{className:"my-2 w-[calc(100%)] border-[1px]",style:{borderColor:r.bodyColor,opacity:.3}})})}):null},tabsTile:function(e){return(0,Ut.jsx)("div",{className:"flex h-full w-full items-start justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsx)("div",{className:vr("relative w-full",pSe(e.mode)),children:(0,Ut.jsx)(pMe,lMe({},e))})})})},timelineTile:function(e){var t=e.id,r=e.mode,o=(e.printMode,fh(t,r).data),i=o.events,a=o.cyclical&&"center"!==(null==o?void 0:o.alignment),s=bn()?"start":null==o?void 0:o.alignment,l=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),d=TMe((0,n.useState)({linePath:"",arrowPath:""}),2),f=d[0],p=d[1],h=i.map((function(e){return{id:e.id,content:e.content}})),m=JSON.stringify(h),v=function(){if(l.current&&c.current&&u.current){var e=c.current.getBoundingClientRect(),t=u.current.getBoundingClientRect(),n=t.top-e.top+t.height-0;if(l.current.style.height="".concat(n,"px"),l.current.style.top="".concat(e.height/2-10,"px"),a){l.current.style.top="".concat(e.height/2,"px");var r=l.current.getBoundingClientRect().width/2+2,o="end"===s,i=o?15:-15,d=o?-5:5,f=["M ".concat(r,",0"),"L ".concat(r,",").concat(n),"C ".concat(r,",").concat(n+20," ").concat(r+i,",").concat(n+20," ").concat(r+i,",").concat(n),"L ".concat(r+i,", -10"),"C ".concat(r+i,",").concat(-20," ").concat(r,",").concat(-20," ").concat(r,",-10")].join(" "),h=["M ".concat(r,",-10"),"L ".concat(r+d,",-10"),"L ".concat(r,",0"),"L ".concat(r-d,",-10"),"Z"].join(" ");p({linePath:f,arrowPath:h})}}};(0,n.useEffect)((function(){var e;v();var t=new ResizeObserver(v);return null!==(e=l.current)&&void 0!==e&&e.parentElement&&t.observe(l.current.parentElement),function(){return t.disconnect()}}),[m,s,a]);var g=(0,n.useMemo)((function(){return{start:"left-4",center:"left-1/2",end:"right-4",fill:"left-4"}[s||"center"]||"left-4"}),[s]),y=function(e){var t="center"===s?e%2==0?"start":"end":s||"center";return"center"===s&&o.events[e].alignment&&"center"!==o.events[e].alignment?o.events[e].alignment:t};return(0,Ut.jsx)("div",{className:"h-full w-full p-4 ".concat(a?"pt-10":""),children:(0,Ut.jsx)("div",{className:"relative flex h-full items-center",children:(0,Ut.jsxs)("div",{className:"relative w-full",children:[r!==dh.THUMBNAIL&&(0,Ut.jsx)(Ut.Fragment,{children:a?(0,Ut.jsx)("div",{ref:l,className:"absolute w-8 rounded-b-xl rounded-tl-md rounded-tr-sm ".concat(g," -ml-4"),children:(0,Ut.jsxs)("svg",{className:"absolute -top-2.5 w-full overflow-visible",height:"10",preserveAspectRatio:"none",children:[(0,Ut.jsx)("path",{d:f.linePath,className:"stroke-lesson-buttonColor",fill:"none",strokeWidth:3}),(0,Ut.jsx)("path",{d:f.arrowPath,className:"fill-lesson-buttonColor"})]})}):(0,Ut.jsx)("div",{ref:l,className:"absolute w-1 bg-lesson-buttonColor ".concat(g)})}),(0,Ut.jsxs)("div",{className:"relative ".concat(g," -translate-x-[2px] ").concat("center"===s?"w-1/2":""),children:[r===dh.THUMBNAIL&&(a?(0,Ut.jsx)("div",{className:"absolute -top-5 h-full w-4 rounded-xl border-2 border-lesson-buttonColor bg-transparent ".concat("center"===s?"-left-3 translate-x-[2px]":"end"===s?"right-3":"-left-3")}):(0,Ut.jsx)("div",{className:"absolute h-full w-0.5 bg-lesson-buttonColor ".concat("center"===s?"translate-x-[3px]":"end"===s?"right-0":"left-1")})),(0,Ut.jsx)("div",{className:"flex flex-col gap-8",children:i.map((function(e,n){return(0,Ut.jsx)(CMe,{id:t,eventIndex:n,alignment:y(n),cyclical:a,mode:r,dotRef:0===n?c:n===i.length-1?u:void 0},e.id)}))})]})]})})})},audioTile:function(e){var t=e.id,r=e.mode,o=(e.parentId,e.preview,e.printMode,fh(t,r).data),i=GSe((0,n.useState)(!1),2),a=i[0],s=i[1],l=GSe((0,n.useState)(0),2),c=l[0],u=l[1],d=GSe((0,n.useState)(0),2),f=d[0],p=d[1],h=GSe((0,n.useState)(1),2),m=h[0],v=h[1],g=GSe((0,n.useState)(!1),2),y=g[0],b=g[1],w=(0,n.useRef)(null),x=be((function(e){var n;return null===(n=e.lessonContent)||void 0===n?void 0:n.blocks[t]})),S=Sh(),k=xh(),E=null!=x&&x.elementColor?USe(null==x?void 0:x.elementColor,S):"transparent",O=(0,n.useMemo)((function(){if(console.log("resolvedBackgroundColor",x),null==x||!x.elementColor||"transparent"===E)return{textColor:S.headerColor,bgColor:"transparent",buttonTextColor:S.headerColor};if("object"===qSe(x.elementColor)&&"element"===x.elementColor.alias)return{textColor:S.headerColor,bgColor:E,buttonTextColor:S.headerColor};var e=zxe.getBlendedColor(USe(x.elementColor,S),S.pageColor);return zxe.getContrastColors(e,{headerColor:S.headerColor,buttonText:k.buttonText,pageColor:S.pageColor})}),[null==x?void 0:x.elementColor,S,S.headerColor,k.buttonText,S.pageColor,E]),j=O.textColor;O.bgColor,O.buttonTextColor;(0,n.useEffect)((function(){w.current&&s(!w.current.paused)}),[]);var _=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},C=function(){w.current&&(a?w.current.pause():w.current.play(),s(!a))},T=f?c/f*100:0;return(0,Ut.jsx)("div",{className:"h-full w-full p-4",children:(0,Ut.jsxs)("div",{className:"relative flex h-full items-center",children:[(0,Ut.jsx)("div",{className:"flex h-full w-full items-center rounded-xl p-4",style:{backgroundColor:E,color:j},children:(0,Ut.jsxs)("div",{className:"flex w-full flex-col gap-4",children:[o.image&&(0,Ut.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ut.jsx)("img",{src:o.image.source,alt:"Album cover",className:"h-16 w-16 flex-shrink-0 rounded-md object-cover"}),(0,Ut.jsx)("div",{className:"flex w-full flex-col gap-1",style:{"--header-color":j,"--body-color":j,"--text-color":j,"--placeholder-color":j+"80"},children:(0,Ut.jsx)(GY,{editable:r===dh.EDIT,value:o.content,onChange:function(e){EE(t,HSe(HSe({},o),{},{content:e}))},className:"text-color text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium",showOnlyCurrent:!1})})]}),(0,Ut.jsx)("div",{className:"flex w-full items-center",children:(0,Ut.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,Ut.jsx)("audio",{ref:w,src:o.audio.source,onTimeUpdate:function(){w.current&&u(w.current.currentTime)},onLoadedMetadata:function(){if(w.current){var e=w.current.duration;p(e)}},onEnded:function(){return C()},className:"hidden"}),(0,Ut.jsx)(LV,{title:ZK(a?"Pause":"Play"),children:(0,Ut.jsxs)("button",{onClick:function(e){e.stopPropagation(),C()},className:"text-color rounded-full p-1.5 transition-colors hover:bg-lesson-headerColor/10",style:{color:j},"aria-label":ZK(a?"Pause":"Play"),"aria-live":"assertive",role:"button",children:[(0,Ut.jsx)("span",{className:"sr-only","aria-live":"assertive",children:ZK(a?"Pause":"Play")}),a?(0,Ut.jsx)(hZ,{className:"h-7 w-7","aria-hidden":"true"}):(0,Ut.jsx)(eZ,{className:"h-7 w-7","aria-hidden":"true"})]})}),(0,Ut.jsx)("span",{className:"text-color/80 -mr-4 min-w-[40px] text-xs",style:{color:j},children:_(c)}),(0,Ut.jsxs)("div",{className:"group relative h-[7px] flex-1",onClick:function(e){e.stopPropagation();var t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*f;w.current&&(w.current.currentTime=n,u(n))},onMouseDown:function(e){return e.stopPropagation()},children:[(0,Ut.jsx)("div",{className:"absolute h-full w-full rounded-full",style:{backgroundColor:"".concat(j,"20")}}),(0,Ut.jsx)("div",{className:"absolute h-full rounded-full",style:{width:"".concat(Math.max(0,T),"%"),backgroundColor:j}}),(0,Ut.jsx)("div",{className:"absolute h-3 w-3 -translate-y-[3px] rounded-full opacity-0 transition-opacity group-hover:opacity-100",style:{backgroundColor:j,left:"".concat(Math.max(0,T),"%"),transform:"translateX(-50%) translateY(-3px)"}}),(0,Ut.jsx)("input",{type:"range",min:"0",max:f,value:c,onChange:function(e){e.stopPropagation();var t=parseFloat(e.target.value);w.current&&(w.current.currentTime=t,u(t))},className:"absolute inset-0 h-full w-full cursor-pointer appearance-none bg-transparent [&::-moz-range-thumb]:h-0 [&::-moz-range-thumb]:w-0 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:bg-transparent [&::-webkit-slider-thumb]:h-0 [&::-webkit-slider-thumb]:w-0 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-transparent","aria-label":"Audio progress"})]}),(0,Ut.jsx)("span",{className:"text-color/80 -ml-4 min-w-[40px] text-right text-xs",style:{color:j},children:_(f)}),o.audio.transcript&&(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)(LV,{title:ZK("View transcript"),children:(0,Ut.jsx)("button",{onClick:function(){return b(!y)},className:"text-color flex h-7 min-w-[40px] items-center justify-center rounded-sm transition-colors hover:bg-lesson-headerColor/10",style:{color:j},"aria-label":ZK("View transcript"),"aria-expanded":y,children:(0,Ut.jsx)(tZ,{className:"h-5 w-5"})})})}),(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)("button",{className:"text-color flex h-7 min-w-[40px] items-center justify-center rounded-sm transition-colors hover:bg-lesson-headerColor/10",style:{color:j},"aria-label":ZK("Change playback speed"),children:(0,Ut.jsxs)("span",{className:"text-sm font-medium",children:[m,"x"]})})}),(0,Ut.jsx)(yx,{children:[.5,.75,1,1.25,1.5,2].map((function(e){return(0,Ut.jsxs)(wx,{onClick:function(){return function(e){w.current&&(w.current.playbackRate=e),v(e)}(e)},className:m===e?"bg-accent":"",children:[e,"x"]},e)}))})]})]})})]})}),(0,Ut.jsx)(MJ,{open:y,onOpenChange:b,children:(0,Ut.jsxs)(DJ,{bodyScroll:!0,children:[(0,Ut.jsx)(FJ,{children:(0,Ut.jsx)(BJ,{children:ZK("Transcript")})}),(0,Ut.jsx)("div",{className:"whitespace-pre-wrap",children:o.audio.transcript||ZK("No transcript available")}),(0,Ut.jsx)(LV,{title:ZK("Close"),children:(0,Ut.jsxs)(bJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,Ut.jsx)(wJ,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:ZK("Close")})]})})]})})]})})},carouselTile:function(e){var t,r,o,i,a=e.id,s=e.mode,l=Br(),c=Br(),u=be((function(e){return e.selectedTileId===a})),d=LSe(a),f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[a]})),p=be((function(e){return e.blockStates[a]})),h=be((function(e){return e.lessonContent})),m=null==h||null===(t=h.settings)||void 0===t?void 0:t.requireInteractives,v=hke((0,n.useState)(0),2),g=v[0],y=v[1],b=xh(),w=(0,n.useRef)((null==f||null===(r=f.data.images)||void 0===r?void 0:r.length)||0);(0,n.useEffect)((function(){s===dh.VIEW&&uh(a,fke(fke({},p),{},{itemsCompleted:fke(fke({},null==p?void 0:p.itemsCompleted),{},pke({},g,!0))}))}),[]);var x=function(e){s===dh.VIEW&&uh(a,fke(fke({},p),{},{itemsCompleted:fke(fke({},null==p?void 0:p.itemsCompleted),{},pke({},e,!0))}))},S=function(){return!m||(null==f||!f.data.images||f.data.images.every((function(e,t){var n;return!(null==p||null===(n=p.itemsCompleted)||void 0===n||!n[t])})))};if((0,n.useEffect)((function(){var e,t=(null==f||null===(e=f.data.images)||void 0===e?void 0:e.length)||0;t>w.current&&y(t-1),w.current=t}),[null==f||null===(o=f.data.images)||void 0===o?void 0:o.length]),(0,n.useEffect)((function(){var e,t;(null==f||null===(e=f.data.images)||void 0===e?void 0:e.length)<=g&&y(Math.max(0,(null==f||null===(t=f.data.images)||void 0===t?void 0:t.length)-1))}),[null==f||null===(i=f.data.images)||void 0===i?void 0:i.length,g]),!f)return(0,Ut.jsx)("div",{children:a});var k=f.data.images;return k&&0!==k.length?(0,Ut.jsxs)("div",{className:"group relative h-full w-full",children:[s===dh.EDIT&&u&&(0,Ut.jsx)("div",{className:"absolute right-2 top-2 z-10",children:(0,Ut.jsxs)(dx,{children:[(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(dpe,{size:"smallIcon",variant:"primary",children:(0,Ut.jsx)(OE,{className:"h-6 w-6"})})}),(0,Ut.jsxs)(yx,{children:[(0,Ut.jsx)(wx,{onClick:function(){var e;return MSe(a,[{id:null===(e=k[g])||void 0===e?void 0:e.id,value:"carousel-item"}])},children:c("options")}),(0,Ut.jsx)(wx,{variant:"destructive",onClick:function(){var e=k.filter((function(e,t){return t!==g}));EE(a,fke(fke({},f.data),{},{images:e}),"delete-carousel-image")},children:c("remove")})]})]})}),(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 overflow-hidden rounded-xl",children:(0,Ut.jsxs)("div",{className:"relative h-full w-full",children:[k.map((function(e,t){return(0,Ut.jsx)("div",{className:vr("absolute h-full w-full transition-opacity duration-500",t===g?"opacity-100":"pointer-events-none opacity-0"),children:e.image&&(0,Ut.jsx)(cke,{src:e.image.source,altText:e.image.altText||"",mode:s,children:(0,Ut.jsx)("img",{src:e.image.source,alt:e.image.altText||"",className:"h-full w-full",style:{objectFit:s===dh.PRINT?"contain":e.objectFit||"cover"}})})},e.id)})),s!==dh.PRINT&&k.length>1&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:(0,Ut.jsxs)("div",{className:"relative",children:[(0,Ut.jsx)(Fr,{onClick:function(){var e,t=0===g?k.length-1:g-1;(y(t),x(t),s===dh.EDIT&&"carousel-item"===(null==d?void 0:d.value))&&ISe({id:a,location:[{id:null===(e=k[t])||void 0===e?void 0:e.id,value:"carousel-item"}]})},className:"relative z-10 rounded-full bg-black/50 p-1 text-white hover:bg-black/70",size:"icon",children:(0,Ut.jsx)(QSe,{className:"h-6 w-6 text-white"})}),s===dh.VIEW&&m&&!S()&&(0,Ut.jsx)("div",{className:"pointer-events-none absolute -inset-2 z-[100] flex items-center justify-center",children:(0,Ut.jsx)(ofe,{buttonColor:"white",buttonText:"black",isDarkMode:!1,variant:"ring-only"})})]})}),(0,Ut.jsx)("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:(0,Ut.jsxs)("div",{className:"relative",children:[(0,Ut.jsx)(Fr,{onClick:function(){var e,t=g===k.length-1?0:g+1;(y(t),x(t),s===dh.EDIT&&"carousel-item"===(null==d?void 0:d.value))&&ISe({id:a,location:[{id:null===(e=k[t])||void 0===e?void 0:e.id,value:"carousel-item"}]})},className:"relative z-10 rounded-full bg-black/50 p-1 text-white hover:bg-black/70",size:"icon",children:(0,Ut.jsx)(eke,{className:"h-6 w-6 text-white"})}),s===dh.VIEW&&m&&!S()&&(0,Ut.jsx)("div",{className:"pointer-events-none absolute -inset-2 z-[100] flex items-center justify-center",children:(0,Ut.jsx)(ofe,{buttonColor:"white",buttonText:"black",isDarkMode:!1,variant:"ring-only"})})]})}),(0,Ut.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2",children:(0,Ut.jsxs)("div",{className:"relative",children:[(0,Ut.jsx)("div",{className:"absolute -inset-1 -z-10 rounded-lg bg-black/50"}),(0,Ut.jsx)("div",{className:"flex gap-2",children:k.map((function(e,t){return(0,Ut.jsx)("button",{onClick:function(){return function(e){var t;y(e),x(e),s===dh.EDIT&&"carousel-item"===(null==d?void 0:d.value)&&ISe({id:a,location:[{id:null===(t=k[e])||void 0===t?void 0:t.id,value:"carousel-item"}]})}(t)},className:vr("h-2 w-2 rounded-full transition-all",t===g?"w-4 bg-white":"bg-white/50 hover:bg-white/75")},e.id)}))})]})})]})]})})]}):s===dh.EDIT?(0,Ut.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 p-8 font-sans ".concat(b.isDarkTheme?"text-white":"text-black"),children:[(0,Ut.jsx)("div",{className:"text-center",children:l("addImagesToCarousel")}),(0,Ut.jsx)(ake,{onChooseType:function(e){MSe(a,[{type:e,search:"",selectedRatio:"",bingRightsTypeFilter:"All",subOption:"unsplash",value:"image-picker"}])}})]}):(0,Ut.jsx)("div",{})},editableVideoTile:function(e){var t,n,r,o,i,a,s,l,c,u,d,f=e.id,p=e.mode,h=e.parentId,m=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[f]})),v=fh(f,p),g=xh().buttonColor,y=be((function(e){return e.editingVideo?e.editingVideo.tileId!==f?{isVideoBeingEdited:!1,selectedSceneId:null}:{isVideoBeingEdited:e.editingVideo.tileId===f,selectedSceneId:e.editingVideo.sceneId}:{isVideoBeingEdited:!1,selectedSceneId:null}})),b=y.isVideoBeingEdited,w=y.selectedSceneId,x=x8(be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks}))||{},f),S=be((function(e){var t;if(b&&w){var n=e.lessonContent.blocks[w];if(n)return n;if(x.length>0)return x[0].scene;throw new Error("Scene not found")}return(null===(t=x[0])||void 0===t?void 0:t.scene)||null})),k=b?w:null===(t=x[0])||void 0===t?void 0:t.sceneId,E=be((function(e){return k?D1(e.lessonContent.blocks,k):[]})),O=be((function(e){return e.lessonContent.language})),j=be((function(e){return e.selectedTileId}))===f,_=(p===dh.EDIT||p===dh.DRAG)&&!b,C=v.state?{watchedProportion:null!==(n=v.state.watchedProportion)&&void 0!==n?n:0,seekProportion:null!==(r=v.state.seekProportion)&&void 0!==r?r:0}:{watchedProportion:0,seekProportion:0},T=C.watchedProportion>.98;return m.data.video||p!==dh.VIEW?(p===dh.THUMBNAIL||p===dh.VIEW)&&null!==(o=m.data.video)&&void 0!==o&&o.source||p===dh.EDIT&&!b&&null!==(i=m.data.video)&&void 0!==i&&i.source&&"COMPLETE"===(null===(a=m.data.renderInformation)||void 0===a?void 0:a.status)?(0,Ut.jsxs)("div",{draggable:!1,onDragStart:function(e){return e.preventDefault()},onMouseDown:function(e){return(b||j)&&e.stopPropagation()},className:"flex h-full w-full flex-col items-center justify-center gap-2 overflow-hidden rounded-xl",children:[_&&!j&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 z-10"}),p===dh.EDIT&&(0,Ut.jsx)("div",{className:"absolute left-0 top-0 z-10 p-2",children:(0,Ut.jsx)("div",{className:"light flex gap-2 rounded-xl border border-border bg-background p-1 text-foreground",children:(0,Ut.jsx)(Fr,{onClick:function(e){0===x.length&&Ooe("malformed_editable_video"),ZEe(f,x),Ch(),Ooe("edit_editable_video")},children:"Edit"})})}),(0,Ut.jsx)(w1,{video:COe(COe({},m.data.video),{},{aspectRatio:16/9}),lessonLanguage:O,progress:C,setProgress:function(e){(p!==dh.EDIT||j)&&v.updateState(COe(COe({},v.state),{},{watchedProportion:e.watchedProportion,seekProportion:e.seekProportion}))},restrictSkipAhead:null!==(c=m.data.restrictSkipAhead)&&void 0!==c&&c}),(0,Ut.jsx)(OOe,{videoCompleted:T,mode:p,requireCompletion:null!==(u=m.data.requireCompletion)&&void 0!==u&&u})]}):(0,Ut.jsxs)("div",{className:vr("flex h-full w-full flex-col items-center justify-center overflow-hidden rounded-xl"),children:[(0,Ut.jsxs)("div",{className:"relative w-full",children:[(0,Ut.jsx)(GEe,{className:"w-full overflow-hidden rounded-xl",component:L1,compositionWidth:1920,compositionHeight:1080,style:{width:"100%"},durationInFrames:300,fps:30,inputProps:{sceneElements:E,onElementChange:function(e,t){kE(t,e,"videoSceneElement-".concat(t))},selectedTileId:k,buttonColor:g,scene:S,pageId:h,mode:"VIEW"},overflowVisible:!0}),!w&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)("div",{className:"absolute left-0 top-0 z-10 p-2",children:(0,Ut.jsx)("div",{className:"light flex gap-2 rounded-xl border border-border bg-background p-1 text-foreground",children:(0,Ut.jsx)(Fr,{onClick:function(e){0===x.length&&Ooe("malformed_editable_video"),ZEe(f,x),Ch(),Ooe("edit_editable_video")},children:"Edit"})})}),!(null!==(s=m.data.video)&&void 0!==s&&s.source)&&(d=null===(l=m.data.renderInformation)||void 0===l?void 0:l.status,!["RENDERING","PENDING","PROCESSING"].includes(d||""))&&(0,Ut.jsx)("div",{className:"absolute right-0 top-0 p-2",children:(0,Ut.jsxs)(MV,{delayDuration:200,children:[(0,Ut.jsx)(IV,{children:(0,Ut.jsx)(e8,{variant:"destructive",children:"Not Rendered"})}),(0,Ut.jsx)(RV,{className:"max-w-[300px]",children:(0,Ut.jsxs)("p",{children:["Learners won't see this tile until the video is rendered. Click ",(0,Ut.jsx)("strong",{children:"Edit"}),", check the script and then ",(0,Ut.jsx)("strong",{children:"Generate"})," to finish the video."]})})]})})]})]}),!b&&m.data.renderInformation&&"COMPLETE"!==m.data.renderInformation.status&&p===dh.EDIT&&(0,Ut.jsx)(cOe,{status:m.data.renderInformation.status,blockId:f,createdAt:m.data.renderInformation.createdAt})]}):null},fileDownloadTile:function(e){var t,n,r,o,i,a,s,l=e.id,c=e.mode,u=fh(l,c).data,d=Sh(),f=(null===(t=u.file)||void 0===t?void 0:t.displayName)||(null===(n=u.file)||void 0===n?void 0:n.fileName)||ZK("Upload file"),p=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WOe(i,r,o,a,s,"next",e)}function s(e){WOe(i,r,o,a,s,"throw",e)}a(void 0)}))}}(HOe().mark((function e(t){var n,r,o,i,a;return HOe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.stopPropagation(),null!==(n=u.file)&&void 0!==n&&n.source){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,fetch(u.file.source);case 6:return r=e.sent,e.next=9,r.blob();case 9:o=e.sent,i=window.URL.createObjectURL(o),(a=document.createElement("a")).href=i,a.download=u.file.fileName,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(i),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.error("Error downloading file:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t){return e.apply(this,arguments)}}();return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsxs)("div",{className:"flex h-full w-full items-center justify-between border border-solid border-lesson-elementColor/30 bg-lesson-elementColor/10 p-4 ".concat(c===dh.VIEW&&null!==(r=u.file)&&void 0!==r&&r.source?"cursor-pointer transition-all hover:brightness-95":""),style:{color:d.headerColor},onClick:function(){var e;c===dh.VIEW&&null!==(e=u.file)&&void 0!==e&&e.source&&p()},role:"button","aria-label":"Download ".concat(f),children:[(0,Ut.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ut.jsx)("div",{className:"flex-shrink-0",children:null!==(o=u.file)&&void 0!==o&&o.fileName?function(e){var t;switch(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase()){case"exe":case"js":case"ts":case"py":case"java":return(0,Ut.jsx)(zOe,{className:"h-8 w-8"});case"mp4":case"mov":case"avi":return(0,Ut.jsx)(BOe,{className:"h-8 w-8"});case"jpg":case"jpeg":case"png":case"gif":return(0,Ut.jsx)($Oe,{className:"h-8 w-8"});default:return(0,Ut.jsx)(ike,{className:"h-8 w-8"})}}(u.file.fileName):(0,Ut.jsx)(ike,{className:"h-8 w-8"})}),(0,Ut.jsxs)("div",{className:"flex flex-col",children:[(0,Ut.jsx)("span",{className:"text-lg font-medium",children:f}),(0,Ut.jsx)("span",{className:"text-sm opacity-75",children:null!==(i=u.file)&&void 0!==i&&i.fileSize?function(e){if(!e)return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB"][t])}(u.file.fileSize):"0 B"})]})]}),c===dh.EDIT?(0,Ut.jsx)(LV,{title:ZK("Download file"),side:"top",children:(0,Ut.jsx)("button",{className:"p-2 transition-colors hover:bg-black/10 ".concat(!(null!==(a=u.file)&&void 0!==a&&a.source)&&"cursor-not-allowed opacity-50"),onClick:p,disabled:!(null!==(s=u.file)&&void 0!==s&&s.source),"aria-label":"Download ".concat(f),children:(0,Ut.jsx)(UOe,{className:"h-8 w-8","aria-hidden":"true"})})}):(0,Ut.jsx)(UOe,{className:"h-8 w-8",role:"img","aria-label":"Download icon"})]})})})},quoteTile:function(e){var t,r,o,i,a,s,l,c=e.id,u=e.mode,d=(e.parentId,e.preview,e.printMode,fh(c,u).data),f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[c]})),p=Sh(),h=xh(),m=null!==(t=null===(r=f.data)||void 0===r?void 0:r.overlayColor)&&void 0!==t?t:"rgba(0, 0, 0, 0.5)",v=null!=f&&f.elementColor?USe(null==f?void 0:f.elementColor,p):"transparent",g=(0,n.useMemo)((function(){var e;if(null!==(e=f.data)&&void 0!==e&&e.backgroundImage){var t=m.match(/[\d.]+/g);if(t&&4===t.length){var n=xAe(t.map(Number),4),r=n[0],o=n[1],i=n[2],a=n[3];if(0===r&&0===o&&0===i&&a>=.3)return{textColor:"white",bgColor:"transparent",buttonTextColor:"white"};if(255===r&&255===o&&255===i&&a>=.3)return{textColor:"black",bgColor:"transparent",buttonTextColor:"black"}}var s=zxe.getBlendedColor(m,"black"),l=zxe.getContrastColors(s,{headerColor:"white",buttonText:"white",pageColor:"black"});return{textColor:l.textColor,bgColor:"transparent",buttonTextColor:l.buttonTextColor}}if(null==f||!f.elementColor||"transparent"===v)return{textColor:p.headerColor,bgColor:"transparent",buttonTextColor:p.headerColor};if("object"===wAe(f.elementColor)&&"element"===f.elementColor.alias)return{textColor:p.headerColor,bgColor:v,buttonTextColor:p.headerColor};var c=zxe.getBlendedColor(USe(f.elementColor,p),p.pageColor);return zxe.getContrastColors(c,{headerColor:p.headerColor,buttonText:h.buttonText,pageColor:p.pageColor})}),[f.elementColor,null===(o=f.data)||void 0===o?void 0:o.backgroundImage,p,h.buttonText,v,m]),y=g.textColor;g.bgColor,g.buttonTextColor;return(0,Ut.jsx)("div",{className:"h-full w-full",children:(0,Ut.jsxs)("div",{className:"relative flex h-full w-full items-center justify-center rounded-xl",style:{backgroundColor:v,color:y,backgroundImage:null!==(i=f.data)&&void 0!==i&&i.backgroundImage?'url("'.concat(f.data.backgroundImage.source,'")'):void 0,backgroundSize:null!==(a=f.data)&&void 0!==a&&a.backgroundImage?"cover":"auto",backgroundPosition:"center center"},children:[(null===(s=f.data)||void 0===s?void 0:s.backgroundImage)&&(0,Ut.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 rounded-xl",style:{backgroundColor:m}}),(0,Ut.jsxs)("div",{className:"relative z-10 flex flex-col items-center p-8",children:[(0,Ut.jsx)(vAe,{className:"mb-6 h-12 w-12",style:{color:y}}),(0,Ut.jsxs)("div",{className:"flex w-full flex-col items-center gap-8",children:[(0,Ut.jsx)("div",{style:{"--header-color":y,"--body-color":y,"--text-color":y,"--placeholder-color":"".concat(y,"80")},children:(0,Ut.jsx)(GY,{editable:u===dh.EDIT,value:d.quote,onChange:function(e){EE(c,yAe(yAe({},d),{},{quote:e}),"quote-".concat(c))},className:"text-color w-full min-w-64 text-center text-xl font-medium italic [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]",showOnlyCurrent:!1})}),(0,Ut.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[d.image&&(0,Ut.jsx)("img",{src:d.image.source,alt:null!==(l=d.image.altText)&&void 0!==l?l:"",className:"h-16 w-16 flex-shrink-0 rounded-full object-cover"}),(0,Ut.jsx)("div",{style:{"--header-color":y,"--body-color":y,"--text-color":y,"--placeholder-color":"".concat(y,"80")},children:(0,Ut.jsx)(GY,{editable:u===dh.EDIT,value:d.attribution,onChange:function(e){EE(c,yAe(yAe({},d),{},{attribution:e}),"quote-".concat(c))},className:"text-color min-w-24 ".concat(d.image?"text-left":"text-center"," text-sm [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)]"),showOnlyCurrent:!1})})]})]})]})]})})},processTile:function(e){var t=e.id,n=e.mode,r=e.parentId,o=e.preview,i=e.printMode,a=fh(t,n).data,s=LSe(t),l="process-element"===(null==s?void 0:s.value)?s.id:void 0;return(0,Ut.jsx)("div",{className:"flex h-full w-full items-center",children:(0,Ut.jsx)(UPe,{id:t,mode:n,parentId:r,preview:o,printMode:i,data:a,activeStep:l})})},tableTile:iMe,noteTile:function(e){var t,r=e.id,o=e.mode,i=(e.parentId,e.preview,e.printMode,fh(r,o).data),a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),s=Sh(),l=xh(),c=!(null!=a&&a.elementColor)||"object"===RMe(null==a?void 0:a.elementColor)&&"element"===(null==a||null===(t=a.elementColor)||void 0===t?void 0:t.alias);console.log(c);var u=(null==a?void 0:a.elementColor)&&"object"===RMe(a.elementColor)&&"page"===a.elementColor.alias,d=(0,n.useMemo)((function(){if(c)return{backgroundColor:s.accentColor+"20",textColor:s.headerColor,borderColor:void 0};if("transparent"===(null==a?void 0:a.elementColor))return{backgroundColor:"transparent",textColor:s.headerColor,borderColor:s.headerColor+"20"};if(u)return{backgroundColor:USe(s.pageColor,s)+"90",textColor:s.headerColor,borderColor:s.headerColor};var e=USe(a.elementColor,s),t=zxe.getBlendedColor(e,s.pageColor);return{backgroundColor:e+"90",textColor:zxe.getContrastColors(t,{headerColor:s.headerColor,buttonText:l.buttonText,pageColor:s.pageColor}).textColor,borderColor:e}}),[null==a?void 0:a.elementColor,s,l.buttonText,c,u]),f=d.backgroundColor,p=d.textColor,h=d.borderColor,m=c||u?"border-lesson-elementColor/30":"";return console.log(f),(0,Ut.jsx)("div",{className:"h-full w-full p-4",children:(0,Ut.jsx)("div",{className:"relative flex h-full items-center",children:(0,Ut.jsxs)("div",{className:"flex h-full w-full items-center border border-solid ".concat(m," p-4"),style:{backgroundColor:f,color:p,borderColor:h},children:[(0,Ut.jsx)("div",{className:"mr-4 flex-shrink-0 p-0.5",children:(0,Ut.jsx)(AMe,{className:"h-6 w-6"})}),(0,Ut.jsx)("div",{className:"flex w-full flex-col gap-4",style:{"--header-color":p,"--body-color":p,"--text-color":p,"--placeholder-color":p+"80"},children:(0,Ut.jsx)(GY,{editable:o===dh.EDIT,value:i.content,onChange:function(e){EE(r,MMe(MMe({},i),{},{content:e}),"note-".concat(r))},className:"text-lg font-medium [&_.ProseMirror_.is-empty::before]:!text-[var(--placeholder-color)] [&_.ProseMirror_h3]:font-medium",showOnlyCurrent:!1})})]})})})},chartTile:function(e){var t,n=e.id,r=e.mode,o=(e.parentId,e.preview,e.printMode,fh(n,r).data),i=xh().theme,a=[],s=o.columns.map((function(e,t){var n=function(e,t,n,r){return null===t?0===r.length?n.accentColor||"#000000":zxe.generateDistinctColor(r):"string"==typeof t?t:null!=t&&t.alias?USe(t,n):n.accentColor||"#000000"}(0,e.color,i,a);return a.push(n),n})),l={columns:(null==o?void 0:o.columns)||[{label:"Column 1",data:[],color:{alias:"element"}}],chartType:(null==o?void 0:o.chartType)||"bar",rowLabels:(null==o?void 0:o.rowLabels)||[]};return null!==(t=l.columns[0])&&void 0!==t&&t.data?(0,Ut.jsx)("div",{className:"relative h-full min-h-[300px] w-full overflow-hidden rounded-xl",children:(0,Ut.jsx)("div",{className:"absolute inset-0 p-4",children:(0,Ut.jsx)("div",{className:"relative h-full w-full",children:(0,Ut.jsxs)("div",{className:"absolute inset-0",children:["bar"===l.chartType&&(0,Ut.jsx)(B1e,{data:l,theme:i,columnColors:s,mode:r}),"pie"===l.chartType&&(0,Ut.jsx)($1e,{data:l,theme:i,columnColors:s,mode:r}),"line"===l.chartType&&(0,Ut.jsx)(U1e,{data:l,theme:i,columnColors:s,mode:r}),"scatter"===l.chartType&&(0,Ut.jsx)(V1e,{data:l,theme:i,columnColors:s,mode:r}),"radar"===l.chartType&&(0,Ut.jsx)(W1e,{data:l,theme:i,columnColors:s,mode:r}),"area"===l.chartType&&(0,Ut.jsx)(H1e,{data:l,theme:i,columnColors:s,mode:r})]})})})}):null},codeTile:function(e){var t,r=e.id,o=e.mode,i=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[r]})),a=o===dh.EDIT,s=F4e((0,n.useState)(!1),2),l=s[0],c=s[1],u=F4e((0,n.useState)(!1),2),d=u[0],f=u[1];if(!i)return null;var p=i.data.syntaxHighlighting,h=[iU.configure({horizontalRule:!1,blockquote:!1,heading:!1,bulletList:!1,orderedList:!1,listItem:!1,bold:!1,italic:!1,strike:!1,hardBreak:{},paragraph:!1,codeBlock:!1}),l4e.configure({lowlight:B4e,defaultLanguage:"js",HTMLAttributes:{class:"rounded p-1 font-mono text-base whitespace-pre",style:"font-family: JetBrainsMono, ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; line-height: 1.4;",spellcheck:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"}})],m="string"==typeof i.data.code?i.data.code:"text"===(null===(t=i.data.code.content)||void 0===t||null===(t=t[0])||void 0===t||null===(t=t.content)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.type)?i.data.code.content[0].content[0].text:"";return(0,Ut.jsxs)("div",{className:"flex h-full w-full items-center justify-center",children:[!p&&(0,Ut.jsx)("style",{children:'\n            .no-syntax-highlighting [class^="hljs-"] {\n              color: inherit !important;\n              font-weight: normal !important;\n            }\n          '}),(0,Ut.jsx)("div",{className:"relative w-full p-4",children:(0,Ut.jsxs)("div",{className:"min-h-[40px] w-full overflow-hidden rounded-xl border-2 border-zinc-200 bg-zinc-100 dark:border-[#1e1e1e] dark:bg-[#1e1e1e] ".concat(p?"":"no-syntax-highlighting"),spellCheck:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},children:[!a&&(0,Ut.jsx)("div",{className:"absolute right-6 top-6 z-10",children:(0,Ut.jsx)(Fr,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-md border bg-background/80 p-0 text-muted-foreground transition-all hover:bg-accent hover:text-accent-foreground ".concat(l?"opacity-100":"opacity-0"),onClick:function(){navigator.clipboard.writeText(m),f(!0),setTimeout((function(){return f(!1)}),2e3)},children:d?(0,Ut.jsx)(Xw,{className:"h-3.5 w-3.5"}):(0,Ut.jsx)(M4e,{className:"h-3.5 w-3.5"})})}),(0,Ut.jsx)("div",{className:"px-4 py-2",children:(0,Ut.jsx)(GY,{editable:a,value:i.data.code,onChange:function(e){a&&EE(r,L4e(L4e({},i.data),{},{code:e}),"code-tile-".concat(r))},className:"w-full font-mono text-base focus:outline-none [&_.ProseMirror]:min-h-[0.75em] [&_pre]:whitespace-pre [&_pre]:!bg-transparent [&_pre]:font-['ui-monospace',SFMono-Regular,Menlo,Monaco,Consolas,'Liberation_Mono','Courier_New',monospace] [&_pre]:leading-[1.4] [&_pre]:text-zinc-900 dark:[&_pre]:text-zinc-100 ".concat(a?"":"[&_.ProseMirror]:pointer-events-none"," ").concat(p?"":"no-syntax-highlighting"),disableBubbleMenu:!0,extensions:h,placeholder:"",disableOptimizations:!0})})]})})]})},rankingTile:function(e){var t,r,o=Br(),i=e.id,a=e.mode,s=e.parentId,l=e.preview,c=fh(i,a),u=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[i]})),d=xh().theme,f=d.headerColor,p=d.bodyColor,h=null==u?void 0:u.data,m=(null===(t=c.state)||void 0===t?void 0:t.submitted)||!1,v=a===dh.EDIT||!m,g=Z4e((0,n.useState)(null),2),y=(g[0],g[1],Z4e((0,n.useState)(!1),2)),b=y[0],w=y[1],x=Z4e((0,n.useState)(null),2),S=x[0],k=x[1],E=Z4e((0,n.useState)(0),2),O=E[0],j=E[1],_=Z4e((0,n.useState)(h.items.map((function(e){return e.id}))),2),C=_[0],T=_[1],P=(0,n.useRef)(0),A=(0,n.useRef)(null),N=(0,n.useRef)({}),M=(0,n.useRef)(null),I=(0,n.useRef)(null),R=Z4e((0,n.useState)(null),2),L=R[0],D=R[1],F=Z4e((0,n.useState)(!1),2),z=F[0],B=F[1],$=Z4e((0,n.useState)(null),2),U=$[0],V=$[1];(0,n.useEffect)((function(){var e;if(!(m||null!==(e=c.state)&&void 0!==e&&e.learnerOrder)){var t=Y4e(h.items).sort((function(){return Math.random()-.5})).map((function(e){return e.id}));V(t),uh(i,K4e(K4e({},c.state),{},{learnerOrder:t}))}}),[m,c.state,h.items,i]);var H=(null===(r=c.state)||void 0===r?void 0:r.learnerOrder)||(m?h.items.map((function(e){return e.id})):U||h.items.map((function(e){return e.id})));(0,n.useEffect)((function(){var e=function(e){"Tab"===e.key&&B(!0)},t=function(){B(!1)};return document.addEventListener("keydown",e),document.addEventListener("mousedown",t,!0),function(){document.removeEventListener("keydown",e),document.removeEventListener("mousedown",t,!0)}}),[]);var W=function(e){if(!I.current||null===A.current)return 0;for(var t=A.current,n=I.current,r=t,o=t+1;o<n.length&&!(e<n[o]);o++)r=o;for(var i=t-1;i>=0&&!(e>n[i]);i--)r=i;return r},q=(0,n.useCallback)((function(e){if(b&&S&&null!==A.current){var t=e.clientY-P.current;j(t);var n=W(e.clientY);M.current=n;var r=Y4e(a===dh.EDIT?h.items.map((function(e){return e.id})):H),o=A.current,i=n;if(o!==i&&null!==o&&null!==i){var s=Z4e(r.splice(o,1),1)[0];r.splice(i,0,s)}T(r)}}),[b,S,a,h.items,H]),G=(0,n.useCallback)((function(){if(b&&S&&null!==A.current){if(a===dh.EDIT){var e=Y4e(h.items.map((function(e){return e.id}))),t=A.current,n=M.current;if(t!==n&&null!==t&&null!==n){var r=Z4e(e.splice(t,1),1)[0];e.splice(n,0,r)}var o=e.map((function(e){return K4e({},h.items.find((function(t){return t.id===e})))}));EE(i,K4e(K4e({},h),{},{items:o}),"ranking-edit-reorder-".concat(i))}else{var s=Y4e(H),l=A.current,u=M.current;if(l!==u&&null!==l&&null!==u){var d=Z4e(s.splice(l,1),1)[0];s.splice(u,0,d)}uh(i,K4e(K4e({},c.state),{},{learnerOrder:s}))}w(!1),k(null),j(0),A.current=null,M.current=null}}),[b,S,a,h.items,i,h,H,c.state]),K=(0,n.useCallback)((function(e){if(b&&S&&null!==A.current&&1===e.touches.length){var t=e.touches[0].clientY-P.current;j(t);var n=W(e.touches[0].clientY);M.current=n;var r=Y4e(a===dh.EDIT?h.items.map((function(e){return e.id})):H),o=A.current,i=n;if(o!==i&&null!==o&&null!==i){var s=Z4e(r.splice(o,1),1)[0];r.splice(i,0,s)}T(r)}}),[b,S,a,h.items,H]),X=(0,n.useCallback)((function(){G()}),[G]);(0,n.useEffect)((function(){if(b&&S&&null!==A.current)return document.addEventListener("mousemove",q),document.addEventListener("mouseup",G,{once:!0}),document.addEventListener("touchmove",K),document.addEventListener("touchend",X,{once:!0}),function(){document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",G),document.removeEventListener("touchmove",K),document.removeEventListener("touchend",X)}}),[b,S,q,G,K,X]);var Y=(0,n.useCallback)((function(){var e,t=K4e(K4e({},c.state),{},{submitted:!0});c.updateState(t);var n=be.getState().lessonContent,r=zs(n.settings),o=Us.rankingTile(u,t,r,n,be.getState().blockStates);zTe({event:"answered",objectType:"assessment",objectId:i,parentObjectId:null!=s?s:null,accumulatedTime:be.getState().accumulatedTime,duration:be.getState().accumulatedTime-((null===(e=c.state)||void 0===e?void 0:e.openedCumulativeTime)||0),timestamp:(new Date).toISOString(),context:{content:u,state:t},result:{score:o}})}),[i,s,c.state,c.updateState,u]),Z=(0,n.useCallback)((function(e,t){if(a===dh.EDIT){var n=Y4e(h.items.map((function(e){return e.id}))),r=n.indexOf(e),o="up"===t?r-1:r+1;if(o>=0&&o<n.length){var s=Z4e(n.splice(r,1),1)[0];n.splice(o,0,s);var l=n.map((function(e){return K4e({},h.items.find((function(t){return t.id===e})))}));EE(i,K4e(K4e({},h),{},{items:l}),"ranking-edit-reorder-".concat(i))}}else{var u=Y4e(H),d=u.indexOf(e),f="up"===t?d-1:d+1;if(f>=0&&f<u.length){var p=Z4e(u.splice(d,1),1)[0];u.splice(f,0,p),uh(i,K4e(K4e({},c.state),{},{learnerOrder:u}))}}}),[h.items,i,H,a,c.state]);return(0,Ut.jsx)("div",{className:"pointer-events-none flex h-full w-full items-center justify-center",children:(0,Ut.jsxs)("div",{className:"pointer-events-auto relative w-full px-4 py-4",onMouseDown:function(e){return e.stopPropagation()},children:[(0,Ut.jsxs)("div",{className:vr("relative w-full flex-wrap justify-center space-y-2",pSe(a)),children:[(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)("div",{className:"relative flex w-full items-center",children:(0,Ut.jsx)("div",{style:{"--header-color":f,"--body-color":p,"--text-color":p,"--placeholder-color":p+"80"},className:vr("w-full min-w-[200px]",pSe(a)),children:(0,Ut.jsx)(GY,{placeholder:o("question"),editable:a===dh.EDIT,onChange:function(e){EE(i,K4e(K4e({},h),{},{question:e}),"ranking-question-".concat(i))},value:h.question})})})}),(0,Ut.jsx)("div",{className:"my-4 h-[1px] w-full bg-gray-200 opacity-30"}),(0,Ut.jsx)("div",{className:"text-sm text-muted-foreground",children:ZK("Drag to rearrange")}),(0,Ut.jsx)("div",{className:"w-full space-y-2",children:(b?C:a===dh.EDIT?h.items.map((function(e){return e.id})):H).map((function(e,t){var n,r=h.items.find((function(t){return t.id===e}));if(!r)return null;var o=m&&h.graded&&(null===(n=h.items[t])||void 0===n?void 0:n.id)===r.id;return(0,Ut.jsx)(W4e,{item:r,index:t,mode:a,editable:v,submitted:m,data:h,blockId:i,isDragging:b,draggedId:S,dragOffset:O,isCorrect:o,focusedItemId:L,isKeyboardFocus:z,onFocus:function(e){return D(e)},onBlur:function(e){var t;null!==(t=e.relatedTarget)&&void 0!==t&&t.closest('[data-item-id="'.concat(r.id,'"]'))||D(null)},onDragStart:function(e,t,n){if(v){w(!0),k(t);var r="touches"in e?e.touches[0].clientY:e.clientY;P.current=r,j(0),A.current=n,M.current=n,I.current=C.map((function(e){var t=N.current[e];if(!t)return 0;var n=t.getBoundingClientRect();return n.top+n.height/2}))}},onMoveItem:function(e,t){return Z(e,t)},onDeleteItem:function(e){var t=h.items.filter((function(t){return t.id!==e})).map((function(e){return K4e({},e)}));EE(i,K4e(K4e({},h),{},{items:t}),"ranking-delete-item-".concat(e))},headerColor:f,bodyColor:p,adaptiveTextSizeClass:pSe(a),itemRefs:N,tempOrder:C},r.id)}))}),(0,Ut.jsxs)("div",{"aria-live":"assertive",children:[m&&h.graded&&(0,Ut.jsxs)("div",{className:"sr-only",children:[H.every((function(e,t){var n;return(null===(n=h.items[t])||void 0===n?void 0:n.id)===e}))?"Correct":"Incorrect",h.feedback&&". ".concat(h.feedback)]}),h.feedback&&h.graded&&(0,Ut.jsx)(L2,{in:m,children:(0,Ut.jsx)("div",{className:"py-2",children:(0,Ut.jsx)("div",{className:"text-xl",children:H.every((function(e,t){var n;return(null===(n=h.items[t])||void 0===n?void 0:n.id)===e}))?h.feedbackWhenCorrect:h.feedback})})})]})]}),a===dh.VIEW&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{className:"flex h-[70px] items-center gap-2 py-4 pt-2",children:[!m&&(0,Ut.jsxs)(dpe,{onClick:Y,children:[(0,Ut.jsx)(CTe,{className:"h-5 w-5 stroke-2"}),ZK("Submit")]}),l&&m&&(0,Ut.jsx)(BTe,{onClick:function(){c.updateState(K4e(K4e({},c.state),{},{submitted:!1}))}})]}),m&&!h.graded&&(0,Ut.jsxs)("div",{className:vr("absolute flex items-center gap-2","bottom-10 right-4"),children:[(0,Ut.jsx)("span",{className:"text-sm font-semibold text-current",children:ZK("Completed")}),(0,Ut.jsx)($Te,{className:"h-6 w-6 text-current duration-300 animate-in fade-in"})]})]})]})})}};const t5e={tiledLayout:Sve};var n5e=function(e){var t=e.id,n=e.mode,r=e.printMode,o=void 0!==r&&r,i=e.preview,a=fh(t,n);if(!a.data&&!a.type)return null;if("tiledLayout"!==a.type)return(0,Ut.jsxs)("div",{className:"flex h-full w-full items-center justify-center",children:["This block is no longer supported, ",a.type," please contact us if you see this"]});var s=t5e[a.type];return s?(0,Ut.jsx)(s,{parentId:void 0,preview:i,printMode:o,id:t,mode:n}):null},r5e=(0,n.memo)(n5e),o5e=function(){var e=document.querySelector(".slide-container"),t=document.activeElement;null!=t&&t.classList.contains("up-btn")||null!=t&&t.classList.contains("down-btn")||null==e||e.focus()};function i5e(e){return i5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i5e(e)}function a5e(){a5e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==i5e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(i5e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function s5e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var l5e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){s5e(i,r,o,a,s,"next",e)}function s(e){s5e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(a5e().mark((function e(){var t,n,r,o;return a5e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=be.getState().lessonContent){e.next=3;break}return e.abrupt("return");case 3:if(null!==(n=be.getState().selectedBlockId)){e.next=6;break}return e.abrupt("return");case 6:return r=Ro(t),o=r.indexOf(n),be.setState({currentNarrationIndex:0}),setTimeout((function(){document.querySelectorAll("audio").forEach((function(e){e.pause()}))}),0),e.next=12,new Promise((function(e){return setTimeout(e,1)}));case 12:return"title"===r[o-1]?ZPe("title"):0!==o&&ZPe(r[o-1]),ch(),e.next=16,new Promise((function(e){return setTimeout(e,400)}));case 16:o5e();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const c5e=l5e;function u5e(e){return u5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u5e(e)}function d5e(){d5e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==u5e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(u5e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function f5e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var p5e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f5e(i,r,o,a,s,"next",e)}function s(e){f5e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(d5e().mark((function e(t,n){var r,o;return d5e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Math.round(100*t),e.next=3,new Promise((function(e){return setTimeout(e,1e3)}));case 3:if(null===(r=window)||void 0===r||!r.scorm_type){e.next=8;break}return initializeIfNeeded(),setScore(o,n?"passed":"failed"),commit(),e.abrupt("return");case 8:window.parent.postMessage({type:"score",score:o,scormStatus:n?"passed":"failed"},"*");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();const h5e=function(){var e=be.getState().launchType,t=be.getState().completed,n=be.getState().lessonId,r=be.getState().blockStates,o=be.getState().lessonContent,i=Tp(r,o);"SCORM"!==e&&"static"!==e||(!!be.getState().course||p5e(i.score,i.passed));if(!t){if("preview"!==e&&"author"!==e){var a;Ooe("lesson_completed",{lessonId:n,launchType:e});var s=null,l=be.getState().startedAt;if(s=l?be.getState().accumulatedTime-l:be.getState().accumulatedTime,zTe({event:"completed",objectType:"lesson",parentObjectId:null,objectId:be.getState().lessonId,accumulatedTime:be.getState().accumulatedTime,timestamp:(new Date).toISOString(),result:{score:Tp(be.getState().blockStates,be.getState().lessonContent)},duration:null!==(a=s)&&void 0!==a?a:null}),DTe(),!o)return}"static"===e?(ch(),be.setState((function(e){e.completed=!0}))):(be.setState((function(e){e.completed=!0})),ch())}};var m5e=function(){var e,t=be.getState().lessonContent;if(t){var n=zs(t.settings),r=t.blocks,o=be.getState().blockStates,i=n.scoredSectionId||"quiz",a=o[i],s=void 0,l=null==a?void 0:a.openedCumulativeTime;l&&(s=be.getState().accumulatedTime-l);var c=Tp(o,t),u=Io(t,i).map((function(e){return{content:r[e],state:o[e]}}));zTe({event:"completed",objectType:"assessmentGroup",parentObjectId:null,objectId:i,accumulatedTime:be.getState().accumulatedTime,duration:null!==(e=s)&&void 0!==e?e:null,timestamp:(new Date).toISOString(),context:{state:a,blocks:u},result:{score:c}})}};function v5e(e){return v5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v5e(e)}function g5e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y5e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g5e(Object(n),!0).forEach((function(t){b5e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g5e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b5e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=v5e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v5e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v5e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w5e(e){return w5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w5e(e)}function x5e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S5e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x5e(Object(n),!0).forEach((function(t){k5e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x5e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k5e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=w5e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w5e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w5e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E5e=function(){be.setState((function(e){var t,n=be.getState().accumulatedTime||1;if(e.startedAt=n,e.courseAttempt){var r=null===(t=e.courseAttempt)||void 0===t?void 0:t.lessonAttempts[e.lessonId];r&&e.courseAttempt&&(e.courseAttempt.lessonAttempts[e.lessonId]=S5e(S5e({},r),{},{startedAt:n}))}}));var e=be.getState().lessonId;Ooe("lesson_started",{lesson_id:e}),zTe({event:"started",objectType:"lesson",parentObjectId:null,duration:null,objectId:be.getState().lessonId,accumulatedTime:be.getState().accumulatedTime,timestamp:(new Date).toISOString()}),ch()};function O5e(e){return O5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O5e(e)}function j5e(){j5e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==O5e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(O5e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function _5e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var C5e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_5e(i,r,o,a,s,"next",e)}function s(e){_5e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(j5e().mark((function e(){var t,n,r,o,i,a,s,l,c;return j5e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=be.getState().lessonContent,n=be.getState().launchToken,null===be.getState().startedAt&&n&&E5e(),t){e.next=6;break}return e.abrupt("return");case 6:if(r=zs(t.settings),o=be.getState().selectedBlockId,i=!0,!0===(null==t?void 0:t.settings.hideTitlePage)&&(i=!1),a=Wp({lessonContent:t,selectedBlockId:o,blockStates:be.getState().blockStates,clipAtCompleted:!1}),null===(s=o)&&i&&(s="title"),null===s&&(s=a[0]),s===r.scoredSectionId&&(u=s,d=void 0,d=be.getState().blockStates[u],uh(u,y5e(y5e({},d),{},{openedCumulativeTime:be.getState().accumulatedTime}))),l=a.indexOf(s),void 0!==(c=a[l+1])){e.next=19;break}throw new Error("Block not found");case 19:return s===r.scoredSectionId&&m5e(),ZPe(c),ch(),e.next=24,new Promise((function(e){return setTimeout(e,400)}));case 24:o5e();case 25:case"end":return e.stop()}var u,d}),e)})));return function(){return e.apply(this,arguments)}}(),T5e=o(3368),P5e=o.n(T5e),A5e=function(e){var t,n,r=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.theme})),o=be((function(e){var t;return null===(t=e.course)||void 0===t?void 0:t.courseContent.theme})),i="course"===e.type?o:r;return i?(0,Ut.jsxs)(P5e(),{children:[(0,Ut.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,Ut.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),"google"===(null===(t=i.headerFont)||void 0===t?void 0:t.type)?(0,Ut.jsx)("link",{href:i.headerFont.url,rel:"stylesheet"}):(0,Ut.jsx)("style",{children:"\n      @font-face {\n        font-family: '".concat(i.headerFont.name,"';\n        src: url(\"").concat(i.headerFont.url,"\") format('").concat(i.headerFont.type,"');\n        font-weight: normal;\n        font-style: normal;\n      }\n    ")}),"google"===(null===(n=i.bodyFont)||void 0===n?void 0:n.type)?(0,Ut.jsx)("link",{href:i.bodyFont.url,rel:"stylesheet"}):(0,Ut.jsx)("style",{children:"\n      @font-face {\n        font-family: '".concat(i.bodyFont.name,"';\n        src: url(\"").concat(i.bodyFont.url,"\") format('").concat(i.bodyFont.type,"');\n        font-weight: normal;\n        font-style: normal;\n      }\n\n\n    ")})]}):null};const N5e=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"}))}));const M5e=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"}))}));var I5e=function(e){var t=e.onBack,n=e.onNext,r=e.nextDisabled,o=e.backDisabled,i=xh(),a=i.buttonColor,s=i.buttonText,l=i.isDarkTheme,c=bn();return(0,Ut.jsxs)("div",{className:vr("pointer-events-auto relative flex gap-2",l&&"dark"),children:[(0,Ut.jsxs)(MV,{delayDuration:1e3,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)("button",{onClick:t,style:{backgroundColor:a,color:s},"aria-label":ZK("Back"),className:vr("up-btn flex h-10 cursor-pointer items-center justify-center rounded-md border-none outline-current transition-all hover:opacity-80 active:scale-95 active:opacity-70",c?"w-16":"w-20",o&&"opacity-60","ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:(0,Ut.jsx)(N5e,{className:"h-5 w-5"})})}),(0,Ut.jsx)(RV,{side:"left",children:(0,Ut.jsx)("p",{children:ZK("Back")})})]}),(0,Ut.jsxs)(MV,{delayDuration:1e3,children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)("button",{onClick:function(){if(n){var e=document.querySelector(".slide-container");if(e)if(function(){var e=document.querySelector(".slide-container");if(!e)return!1;var t=e.scrollHeight-e.scrollTop;return Math.abs(t-e.clientHeight)<150}())n();else{var t=e.scrollHeight-(e.scrollTop+e.clientHeight),r=600;t<700?r=t:t<800&&(r=500),e.scrollBy({top:r,behavior:"smooth"})}}},style:{backgroundColor:a,color:s},"aria-label":ZK("Continue"),className:vr("up-btn flex h-10 cursor-pointer items-center justify-center rounded-md border-none outline-current transition-all hover:opacity-80 focus:outline-2 active:scale-95 active:opacity-70",c?"w-16":"w-20",r&&"opacity-60","ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:(0,Ut.jsx)(M5e,{className:"h-5 w-5"})})}),(0,Ut.jsx)(RV,{className:"flex items-center gap-2",side:"right",children:(0,Ut.jsx)("div",{children:ZK(r?"Complete content first":"Continue")})})]})]})};function R5e(e){var t=e.onBack,n=e.onNext,r=e.nextDisabled,o=e.backDisabled,i=(e.isCourseViewer,be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings}))),a=(null==i||i.showPoweredByMindsmith,bn()),s=be((function(e){return e.sidebarExpanded}));return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{className:vr("pointer-events-auto fixed bottom-0 right-0 z-50 flex gap-2 p-2"),children:[a&&(0,Ut.jsx)(I5e,{onBack:t,onNext:n,nextDisabled:r,backDisabled:o}),(0,Ut.jsx)(qpe,{newPositioning:!1})]}),!a&&(0,Ut.jsx)("div",{className:vr("pointer-events-none fixed bottom-0 z-50 flex p-2 transition-[padding-left] duration-500 ease-in-out sm:left-0 sm:right-0 sm:justify-center",s&&!a?"pl-[248px]":"pl-0"),children:(0,Ut.jsx)(I5e,{onBack:t,onNext:n,nextDisabled:r,backDisabled:o})})]})}function L5e(e){var t=be((function(e){var t=e.lessonContent,n=e.selectedBlockId;if(!t)return 0;if(!n)return 0;if("completed"===e.selectedBlockId)return 100;var r=Ro(t),o=n;return null===o&&(o="title"),r.findIndex((function(e){return e===o}))/(r.length-1)*100})),n=xh(),r=n.buttonColor,o=n.theme,i=bn(),a=be((function(e){return e.selectedBlockId})),s=be((function(e){return e.sidebarExpanded})),l=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.theme.imageUrl}));return(0,Ut.jsx)("div",{className:vr("fixed left-0 right-0 top-0 z-20 h-[5px]",s&&l&&"left-[240px]",i&&"left-0"),children:(0,Ut.jsx)("div",{className:"absolute left-0 right-0 top-0",style:{height:a?5:0,background:o.pageColor,transition:"height 0.5s"},children:(0,Ut.jsx)("div",{style:{width:"".concat(t,"%"),background:r,transition:"width 0.5s"},className:"h-full transition-all"})})})}function D5e(e){return D5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D5e(e)}function F5e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z5e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F5e(Object(n),!0).forEach((function(t){B5e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F5e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B5e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=D5e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D5e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D5e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $5e(){$5e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==D5e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(D5e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function U5e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var V5e=function(e){var t=(0,n.useRef)(!1),r=(0,n.useRef)(!1),o=be((function(e){return e.selectedBlockId})),i=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[o]})),a=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.blocks}));return(0,n.useEffect)((function(){var n=function(){var e=document.querySelector(".slide-container");if(!e)return!1;var t=e.scrollHeight-e.scrollTop;return Math.abs(t-e.clientHeight)<1},o=function(){var e=document.querySelector(".slide-container");return e&&0===e.scrollTop},i=function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U5e(i,r,o,a,s,"next",e)}function s(e){U5e(i,r,o,a,s,"throw",e)}a(void 0)}))}}($5e().mark((function t(r){return $5e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.changing.current){t.next=10;break}if("ArrowUp"!==r.key){t.next=5;break}if(!o()){t.next=5;break}return t.next=5,e.onGoBackward();case 5:if("ArrowDown"!==r.key){t.next=10;break}if(!n()){t.next=10;break}return t.next=9,e.onGoForward();case 9:o5e();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(e){"ArrowDown"===e.key&&(t.current||n()||(document.removeEventListener("keyup",i),r.current=!0),t.current=!0),"ArrowUp"===e.key&&(t.current||o()||(document.removeEventListener("keyup",i),r.current=!0),t.current=!0)},s=function(e){"ArrowDown"!==e.key&&"ArrowUp"!==e.key||(r.current&&(document.addEventListener("keyup",i),r.current=!1),t.current=!1);var n=be.getState().selectedBlockId;if("Enter"===e.key&&n){if(!be.getState().lessonContent.blocks[n])return;if(function(){var e=document.activeElement;if(e)return!!(e instanceof HTMLElement&&e.isContentEditable)||!!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)}())return}};return document.addEventListener("keyup",i),document.addEventListener("keydown",a),document.addEventListener("keyup",s),function(){document.removeEventListener("keyup",i),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s)}}),[e.onGoForward,e.onGoBackward]),(0,n.useEffect)((function(){var t=function(t){if(("Enter"===t.key||!isNaN(parseInt(t.key)))&&"tiledLayout"===(null==i?void 0:i.type)){var n=i.layout.rows.flatMap((function(e){return e.tiles.map((function(e){return e.tileId}))})),r=n.map((function(e){return z5e({tileId:e},null==a?void 0:a[e])})),o=n.map((function(e){return z5e({tileId:e},be.getState().blockStates[e])})),s=r.filter((function(e){return"questionTile"===(null==e?void 0:e.type)})).find((function(e){return!o.find((function(t){return t.tileId===e.tileId})).submitted})),l=o.find((function(e){return e.tileId===(null==s?void 0:s.tileId)})),c=be.getState().selectedBlockId;if(s){var u,d,f=null!==(u=l.selected)&&void 0!==u?u:[],p=null!==(d=l.submitted)&&void 0!==d&&d;if("Enter"===t.key){if(t.preventDefault(),0===f.length)return;var h=l.openedCumulativeTime;uAe(s,p,{state:l,updateState:function(e){uh(s.tileId,e)},id:s.tileId},e.onGoForward,h,null!=c?c:null)}var m=parseInt(t.key)-1;m>=0&&m<s.data.options.length&&!p&&cAe(s.tileId,dh.VIEW,p,s.data.selectMultiple,f)(m)}}};return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[o,i,a,e.onGoForward]),null};function H5e(e){return H5e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H5e(e)}function W5e(){W5e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==H5e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(H5e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function q5e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G5e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q5e(Object(n),!0).forEach((function(t){K5e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q5e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K5e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=H5e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H5e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H5e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Y5e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z5e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z5e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z5e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var J5e=function(e){return e.match(/^\S+@\S+\.\S+$/)},Q5e=function(){var e,t,n,r,o=be.getState(),i=o.launchToken;return{title:null===(e=o.lessonContent)||void 0===e?void 0:e.title,settings:null===(t=o.lessonContent)||void 0===t?void 0:t.settings,learnerName:null===(n=o.learner)||void 0===n?void 0:n.name,learnerEmail:null===(r=o.learner)||void 0===r?void 0:r.email,updateLearnerInformation:function(e,t){if(!i)throw new Error("No token found when trying to update learner name");return Fs.learn.updateLearnerInformation.mutate({token:i,name:e,email:t})}}};function e3e(e){var t=e.open,r=e.setOpen,o=e.preview,i=e.whiteContrastColor,a=(0,e.LearnerEntranceSurveyProvider)(),s=a.title,l=a.settings,c=a.learnerName,u=a.learnerEmail,d=a.updateLearnerInformation,f=null==l?void 0:l.learnerEntranceSurvey,p=null==l?void 0:l.learnerEntranceSurveyEmail,h=Y5e((0,n.useState)(c||""),2),m=h[0],v=h[1],g=Y5e((0,n.useState)(u||""),2),y=g[0],b=g[1],w=Y5e((0,n.useState)(!1),2),x=w[0],S=w[1],k=L4().enqueueSnackbar,E=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X5e(i,r,o,a,s,"next",e)}function s(e){X5e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(W5e().mark((function e(){return W5e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||""!==m){e.next=3;break}return k(ZK("Name is required"),{variant:"error"}),e.abrupt("return");case 3:if(!p||J5e(y)){e.next=6;break}return k("Please enter a valid email address",{variant:"error"}),e.abrupt("return");case 6:return S(!0),Ooe("Learner Entrance Survey Submitted",{name:m}),e.prev=8,e.next=11,d(m,y);case 11:be.setState((function(e){return{learner:G5e(G5e({},e.learner),{},{name:m,email:y})}})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),k(e.t0.message,{variant:"error"});case 17:S(!1),r(!1);case 19:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(){return e.apply(this,arguments)}}(),O=!(!c&&!u||o);return(0,Ut.jsx)(MJ,{open:t,"aria-labelledby":"learner-entrance-survey-dialog-title","aria-describedby":"learner-entrance-survey-dialog-description",children:(0,Ut.jsxs)(DJ,{className:"w-[300px]",hideCloseButton:!0,children:[(0,Ut.jsx)(FJ,{children:(0,Ut.jsx)(BJ,{id:"learner-entrance-survey-dialog-title",children:"".concat(ZK("Enter your information to view")," “").concat(s||"Untitled Lesson","”")})}),(0,Ut.jsxs)("div",{className:"flex flex-col gap-1",children:[f&&(0,Ut.jsx)(DR,{style:{outlineColor:i},onKeyDown:function(e){"Enter"===e.key&&E()},value:m,placeholder:ZK("Enter Name"),onChange:function(e){return v(e.target.value)},className:"mb-1"}),p&&(0,Ut.jsx)(DR,{style:{outlineColor:i},onKeyDown:function(e){"Enter"===e.key&&E()},value:y,placeholder:ZK("Enter Email"),onChange:function(e){return b(e.target.value)},className:"mb-1"}),(0,Ut.jsx)($J,{id:"learner-entrance-survey-dialog-description",children:O&&ZK("We autofilled your information from a previous visit.")})]}),(0,Ut.jsx)(zJ,{children:(0,Ut.jsx)(Fr,{style:{backgroundColor:i},disabled:!(!f||""!==m)||!(!p||J5e(y)),onClick:E,variant:"primary",className:"w-full",loading:x,children:"Continue"})})]})})}function t3e(e){return t3e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t3e(e)}function n3e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r3e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n3e(Object(n),!0).forEach((function(t){o3e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o3e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=t3e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t3e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t3e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i3e(e){var t=e.children,n=e.id,r=e.className,o=e.disabled,i=void 0!==o&&o,a=e.style,s=e.disableImage,l=void 0!==s&&s,c=Sh(),u=be((function(e){var t;if("title"===n)return"title";if("completed"===n)return"title";var r=null===(t=e.lessonContent)||void 0===t?void 0:t.blocks[n];return r?"tiledLayout"===r.type&&r.sectionDivider||"divider"===r.type?"title":"content":"title"}));if(i)return(0,Ut.jsx)(Ut.Fragment,{children:t});var d=c.pageColor;return(0,Ut.jsxs)("div",{style:r3e({backgroundColor:d,backgroundImage:l?"":c.imageUrl?'url("'.concat(c.imageUrl,'")'):"",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center",color:c.bodyColor},a),className:r,children:[(0,Ut.jsx)("div",{className:NSe("absolute bottom-40 left-40 right-40 top-40")}),c.imageUrl&&!l&&(0,Ut.jsx)("div",{className:NSe("z-1 absolute bottom-0 left-0 right-0 top-0"),style:{transition:"0.5s",backgroundColor:"title"!==u?c.contentOverlay||"transparent":c.titleOverlay||"transparent",top:0,left:0,right:0,bottom:0}}),(0,Ut.jsx)("div",{className:"relative z-40 h-full w-full",children:t})]})}function a3e(e){return a3e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a3e(e)}function s3e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l3e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s3e(Object(n),!0).forEach((function(t){c3e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c3e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=a3e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a3e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a3e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u3e(e){be.setState((function(t){if(e){var n,r=null===(n=t.courseAttempt)||void 0===n?void 0:n.lessonAttempts,o=null==r?void 0:r[e];o&&(r[e]=l3e(l3e({},o),{},{completed:!0}))}}))}let d3e=0;const f3e=r["useId".toString()];function p3e(e){if(void 0!==f3e){const t=f3e();return null!=e?e:t}return function(e){const[t,r]=n.useState(e),o=e||t;return n.useEffect((()=>{null==t&&(d3e+=1,r(`mui-${d3e}`))}),[t]),o}(e)}function h3e(e,t=[]){if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"==typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function m3e(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"==typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const v3e=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function g3e(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=(0,Se.A)(e,v3e),s=i?{}:function(e,t,n){return"function"==typeof e?e(t,n):e}(r,o),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=je(null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),t=(0,ke.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),a=(0,ke.A)({},n,o,r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=h3e((0,ke.A)({},o,r)),s=m3e(r),l=m3e(o),c=t(a),u=je(null==c?void 0:c.className,null==n?void 0:n.className,i,null==o?void 0:o.className,null==r?void 0:r.className),d=(0,ke.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==r?void 0:r.style),f=(0,ke.A)({},c,n,l,s);return u.length>0&&(f.className=u),Object.keys(d).length>0&&(f.style=d),{props:f,internalRef:c.ref}}((0,ke.A)({},a,{externalSlotProps:s})),u=h2(c,null==s?void 0:s.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||"string"==typeof e?t:(0,ke.A)({},t,{ownerState:(0,ke.A)({},t.ownerState,n)})}(n,(0,ke.A)({},l,{ref:u}),o);return d}function y3e(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}function b3e(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function w3e(e){return parseInt(w2(e).getComputedStyle(e).paddingRight,10)||0}function x3e(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===i.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&b3e(e,o)}))}function S3e(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function k3e(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=b2(e);return t.body===e?w2(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(b2(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${w3e(r)+e}px`;const t=b2(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${w3e(t)+e}px`}))}let e;if(r.parentNode instanceof DocumentFragment)e=b2(r).body;else{const t=r.parentElement,n=w2(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}const E3e=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&b3e(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);x3e(t,e.mount,e.modalRef,r,!0);const o=S3e(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=S3e(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=k3e(r,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(-1===n)return n;const r=S3e(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&b3e(e.modalRef,t),x3e(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&b3e(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function O3e(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,manager:i=E3e,closeAfterTransition:a=!1,onTransitionEnter:s,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:f}=e,p=n.useRef({}),h=n.useRef(null),m=n.useRef(null),v=h2(m,f),[g,y]=n.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const x=()=>(p.current.modalRef=m.current,p.current.mount=h.current,p.current),S=()=>{i.mount(x(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},k=V2((()=>{const e=function(e){return"function"==typeof e?e():e}(t)||b2(h.current).body;i.add(x(),e),m.current&&S()})),E=n.useCallback((()=>i.isTopModal(x())),[i]),O=V2((e=>{h.current=e,e&&(d&&E()?S():m.current&&b3e(m.current,w))})),j=n.useCallback((()=>{i.remove(x(),w)}),[w,i]);n.useEffect((()=>()=>{j()}),[j]),n.useEffect((()=>{d?k():b&&a||j()}),[d,j,b,a,k]);const _=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&E()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},C=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:(t={})=>{const n=h3e(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,ke.A)({},n,t);return(0,ke.A)({role:"presentation"},r,{onKeyDown:_(r),ref:v})},getBackdropProps:(e={})=>{const t=e;return(0,ke.A)({"aria-hidden":!0},t,{onClick:C(t),open:d})},getTransitionProps:()=>({onEnter:y3e((()=>{y(!1),s&&s()}),null==c?void 0:c.props.onEnter),onExited:y3e((()=>{y(!0),l&&l(),a&&j()}),null==c?void 0:c.props.onExited)}),rootRef:v,portalRef:O,isTopModal:E,exited:g,hasTransition:b}}const j3e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function _3e(e){const t=[],n=[];return Array.from(e.querySelectorAll(j3e)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function C3e(){return!0}function T3e(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:i=!1,getTabbable:a=_3e,isEnabled:s=C3e,open:l}=e,c=n.useRef(!1),u=n.useRef(null),d=n.useRef(null),f=n.useRef(null),p=n.useRef(null),h=n.useRef(!1),m=n.useRef(null),v=h2(t.ref,m),g=n.useRef(null);n.useEffect((()=>{l&&m.current&&(h.current=!r)}),[r,l]),n.useEffect((()=>{if(!l||!m.current)return;const e=b2(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),h.current&&m.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}}),[l]),n.useEffect((()=>{if(!l||!m.current)return;const e=b2(m.current),t=t=>{g.current=t,!o&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!h.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=a(m.current)),n.length>0){var r,i;const e=Boolean((null==(r=g.current)?void 0:r.shiftKey)&&"Tab"===(null==(i=g.current)?void 0:i.key)),t=n[0],o=n[n.length-1];"string"!=typeof t&&"string"!=typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,o,i,s,l,a]);const y=e=>{null===f.current&&(f.current=e.relatedTarget),h.current=!0};return(0,Ut.jsxs)(n.Fragment,{children:[(0,Ut.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),n.cloneElement(t,{ref:v,onFocus:e=>{null===f.current&&(f.current=e.relatedTarget),h.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,Ut.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}const P3e=n.forwardRef((function(e,t){const{children:r,container:o,disablePortal:i=!1}=e,[a,s]=n.useState(null),l=h2(n.isValidElement(r)?r.ref:null,t);if(U2((()=>{i||s(function(e){return"function"==typeof e?e():e}(o)||document.body)}),[o,i]),U2((()=>{if(a&&!i)return p2(t,a),()=>{p2(t,null)}}),[t,a,i]),i){if(n.isValidElement(r)){const e={ref:l};return n.cloneElement(r,e)}return(0,Ut.jsx)(n.Fragment,{children:r})}return(0,Ut.jsx)(n.Fragment,{children:a?Zr.createPortal(r,a):a})}));const A3e=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],N3e={entering:{opacity:1},entered:{opacity:1}},M3e=n.forwardRef((function(e,t){const r=v2(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:s,easing:l,in:c,onEnter:u,onEntered:d,onEntering:f,onExit:p,onExited:h,onExiting:m,style:v,timeout:g=o,TransitionComponent:y=so}=e,b=(0,Se.A)(e,A3e),w=n.useRef(null),x=m2(w,s.ref,t),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=S(f),E=S(((e,t)=>{g2(e);const n=y2({style:v,timeout:g,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),O=S(d),j=S(m),_=S((e=>{const t=y2({style:v,timeout:g,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),C=S(h);return(0,Ut.jsx)(y,(0,ke.A)({appear:a,in:c,nodeRef:w,onEnter:E,onEntered:O,onEntering:k,onExit:_,onExited:C,onExiting:j,addEndListener:e=>{i&&i(w.current,e)},timeout:g},b,{children:(e,t)=>n.cloneElement(s,(0,ke.A)({style:(0,ke.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},N3e[e],v,s.props.style),ref:x},t))}))})),I3e=M3e;function R3e(e){return zt("MuiBackdrop",e)}Bt("MuiBackdrop",["root","invisible"]);const L3e=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],D3e=_t("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>(0,ke.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}))),F3e=n.forwardRef((function(e,t){var n,r,o;const i=It({props:e,name:"MuiBackdrop"}),{children:a,className:s,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:f,slotProps:p={},slots:h={},TransitionComponent:m=I3e,transitionDuration:v}=i,g=(0,Se.A)(i,L3e),y=(0,ke.A)({},i,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e;return Ce({root:["root",n&&"invisible"]},R3e,t)})(y),w=null!=(n=p.root)?n:u.root;return(0,Ut.jsx)(m,(0,ke.A)({in:f,timeout:v},g,{children:(0,Ut.jsx)(D3e,(0,ke.A)({"aria-hidden":!0},w,{as:null!=(r=null!=(o=h.root)?o:c.Root)?r:l,className:je(b.root,s,null==w?void 0:w.className),ownerState:(0,ke.A)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:a}))}))})),z3e=F3e;function B3e(e){return zt("MuiModal",e)}Bt("MuiModal",["root","hidden","backdrop"]);const $3e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],U3e=_t("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,ke.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),V3e=_t(z3e,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),H3e=n.forwardRef((function(e,t){var r,o,i,a,s,l;const c=It({name:"MuiModal",props:e}),{BackdropComponent:u=V3e,BackdropProps:d,className:f,closeAfterTransition:p=!1,children:h,container:m,component:v,components:g={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:x=!1,disablePortal:S=!1,disableRestoreFocus:k=!1,disableScrollLock:E=!1,hideBackdrop:O=!1,keepMounted:j=!1,onBackdropClick:_,open:C,slotProps:T,slots:P}=c,A=(0,Se.A)(c,$3e),N=(0,ke.A)({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:k,disableScrollLock:E,hideBackdrop:O,keepMounted:j}),{getRootProps:M,getBackdropProps:I,getTransitionProps:R,portalRef:L,isTopModal:D,exited:F,hasTransition:z}=O3e((0,ke.A)({},N,{rootRef:t})),B=(0,ke.A)({},N,{exited:F}),$=(e=>{const{open:t,exited:n,classes:r}=e;return Ce({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},B3e,r)})(B),U={};if(void 0===h.props.tabIndex&&(U.tabIndex="-1"),z){const{onEnter:e,onExited:t}=R();U.onEnter=e,U.onExited=t}const V=null!=(r=null!=(o=null==P?void 0:P.root)?o:g.Root)?r:U3e,H=null!=(i=null!=(a=null==P?void 0:P.backdrop)?a:g.Backdrop)?i:u,W=null!=(s=null==T?void 0:T.root)?s:y.root,q=null!=(l=null==T?void 0:T.backdrop)?l:y.backdrop,G=g3e({elementType:V,externalSlotProps:W,externalForwardedProps:A,getSlotProps:M,additionalProps:{ref:t,as:v},ownerState:B,className:je(f,null==W?void 0:W.className,null==$?void 0:$.root,!B.open&&B.exited&&(null==$?void 0:$.hidden))}),K=g3e({elementType:H,externalSlotProps:q,additionalProps:d,getSlotProps:e=>I((0,ke.A)({},e,{onClick:t=>{_&&_(t),null!=e&&e.onClick&&e.onClick(t)}})),className:je(null==q?void 0:q.className,null==d?void 0:d.className,null==$?void 0:$.backdrop),ownerState:B});return j||C||z&&!F?(0,Ut.jsx)(P3e,{ref:L,container:m,disablePortal:S,children:(0,Ut.jsxs)(V,(0,ke.A)({},G,{children:[!O&&u?(0,Ut.jsx)(H,(0,ke.A)({},K)):null,(0,Ut.jsx)(T3e,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:D,open:C,children:n.cloneElement(h,U)})]}))}):null})),W3e=H3e;function q3e(e){return zt("MuiDialog",e)}const G3e=Bt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const K3e=n.createContext({}),X3e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Y3e=_t(z3e,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Z3e=_t(W3e,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),J3e=_t("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${tn(n.scroll)}`]]}})((({ownerState:e})=>(0,ke.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),Q3e=_t(go,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${tn(n.scroll)}`],t[`paperWidth${tn(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((({theme:e,ownerState:t})=>(0,ke.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${G3e.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},t.maxWidth&&"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${G3e.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${G3e.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}))),e6e=n.forwardRef((function(e,t){const r=It({props:e,name:"MuiDialog"}),o=v2(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":s,BackdropComponent:l,BackdropProps:c,children:u,className:d,disableEscapeKeyDown:f=!1,fullScreen:p=!1,fullWidth:h=!1,maxWidth:m="sm",onBackdropClick:v,onClick:g,onClose:y,open:b,PaperComponent:w=go,PaperProps:x={},scroll:S="paper",TransitionComponent:k=I3e,transitionDuration:E=i,TransitionProps:O}=r,j=(0,Se.A)(r,X3e),_=(0,ke.A)({},r,{disableEscapeKeyDown:f,fullScreen:p,fullWidth:h,maxWidth:m,scroll:S}),C=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:i}=e;return Ce({root:["root"],container:["container",`scroll${tn(n)}`],paper:["paper",`paperScroll${tn(n)}`,`paperWidth${tn(String(r))}`,o&&"paperFullWidth",i&&"paperFullScreen"]},q3e,t)})(_),T=n.useRef(),P=p3e(s),A=n.useMemo((()=>({titleId:P})),[P]);return(0,Ut.jsx)(Z3e,(0,ke.A)({className:je(C.root,d),closeAfterTransition:!0,components:{Backdrop:Y3e},componentsProps:{backdrop:(0,ke.A)({transitionDuration:E,as:l},c)},disableEscapeKeyDown:f,onClose:y,open:b,ref:t,onClick:e=>{g&&g(e),T.current&&(T.current=null,v&&v(e),y&&y(e,"backdropClick"))},ownerState:_},j,{children:(0,Ut.jsx)(k,(0,ke.A)({appear:!0,in:b,timeout:E,role:"presentation"},O,{children:(0,Ut.jsx)(J3e,{className:je(C.container),onMouseDown:e=>{T.current=e.target===e.currentTarget},ownerState:_,children:(0,Ut.jsx)(Q3e,(0,ke.A)({as:w,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":P},x,{className:je(C.paper,x.className),ownerState:_,children:(0,Ut.jsx)(K3e.Provider,{value:A,children:u})}))})}))}))})),t6e=e6e;function n6e(e){return n6e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n6e(e)}function r6e(){r6e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==n6e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(n6e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function o6e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var i6e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){o6e(i,r,o,a,s,"next",e)}function s(e){o6e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(r6e().mark((function e(){var t,n,r,o,i,a,s,l;return r6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=be.getState().lessonContent){e.next=3;break}return e.abrupt("return");case 3:if(r=be.getState().launchToken,o="title",!(null===(t=n.settings)||void 0===t||!t.hideTitlePage)&&(o=n.blockOrder[0]),r){e.next=11;break}return ZPe(o),be.setState((function(e){e.blockStates={},e.blocksViewedMap={},e.completed=!1,e.accumulatedTime=0})),e.abrupt("return");case 11:return e.prev=11,zTe({event:"restarted",objectType:"lesson",duration:null,objectId:be.getState().lessonId,accumulatedTime:be.getState().accumulatedTime,timestamp:(new Date).toISOString(),parentObjectId:null}),e.next=15,rh();case 15:return e.next=17,Fs.learn.restartLesson.mutate({token:r});case 17:a=e.sent,be.setState((function(e){e.blocksViewedMap={},e.blockStates=a.blockStates||{},e.completed=a.completed,e.attemptNumber=a.attemptNumber,e.accumulatedTime=a.accumulatedTime,e.startedAt=a.startedAt})),s=!(null===(i=n.settings)||void 0===i||!i.hideTitlePage),l=a.selectedId,s&&!l&&(l=n.blockOrder[0]),l||(l="title"),"completed"===l&&(l=n.blockOrder[n.blockOrder.length-1]),ZPe(l),e.next=32;break;case 27:throw e.prev=27,e.t0=e.catch(11),ZPe(o),be.setState((function(e){e.blocksViewedMap={},e.blockStates={},e.completed=!1,e.accumulatedTime=0})),e.t0;case 32:ch();case 33:case"end":return e.stop()}}),e,null,[[11,27]])})));return function(){return e.apply(this,arguments)}}(),a6e=function(){return be((function(e){var t=be.getState().lessonContent,n=be.getState().blockStates;return t&&n?Tp(n,t):null}))};const s6e=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}));var l6e=function(e){var t=xh();return(0,Ut.jsx)("div",{className:"flex",children:(0,Ut.jsxs)("div",{style:{borderColor:e.completed?t.whiteContrastColor:"rgba(160, 174, 192, 0.6)",color:e.completed?t.whiteContrastColor:"",backgroundColor:e.completed?jE(t.whiteContrastColor,.1):""},className:"flex items-center gap-2 rounded-full border px-0.5 py-0.5 text-sm text-muted-foreground",children:[(0,Ut.jsx)("div",{className:"pl-1.5 leading-none",children:e.completed?ZK("Completed"):ZK("In Progress")}),(0,Ut.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full",children:e.completed?(0,Ut.jsx)(s6e,{className:"h-5 w-5"}):(0,Ut.jsx)("svg",{className:"h-4 w-4",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Ut.jsx)("path",{d:"M6 12C2.6862 12 0 9.3138 0 6C0 2.6862 2.6862 0 6 0C9.3138 0 12 2.6862 12 6C12 9.3138 9.3138 12 6 12ZM3.9138 3.0654C3.58604 3.29915 3.29952 3.58587 3.066 3.9138L8.0868 8.9346C8.41478 8.7009 8.7015 8.41418 8.9352 8.0862L3.9138 3.0654Z",fill:"#868C98"})})})]})})},c6e=function(){var e,t=a6e(),n=t?(null==t?void 0:t.score)*(null==t?void 0:t.numberOfQuestions):0;return e=n===Math.floor(n)?n:n.toFixed(1),(0,Ut.jsx)("div",{className:"flex",children:(0,Ut.jsxs)("div",{className:"full flex rounded-full border px-1 py-1 ".concat(null!=t&&t.passed?"border-green-800 bg-green-100 text-green-900":"border-red-800 bg-red-100 text-red-900"),children:[(0,Ut.jsx)("div",{className:"flex items-center gap-2 rounded-full px-3 py-1.5 text-sm text-white ".concat(null!=t&&t.passed?"bg-green-800":"bg-red-800"),children:(0,Ut.jsx)("div",{className:"leading-none",children:null!=t&&t.passed?ZK("Passed"):ZK("Failed")})}),(0,Ut.jsxs)("div",{className:"flex px-2",children:[e,"/",null==t?void 0:t.numberOfQuestions]})]})})},u6e=function(){var e=a6e(),t=Bs();return(0,Ut.jsxs)("div",{children:[(0,Ut.jsx)("div",{className:"pb-1 text-sm text-muted-foreground",children:ZK("Your Score")}),(0,Ut.jsxs)("div",{className:"flex items-center gap-2 rounded border p-4 py-2",children:[(0,Ut.jsx)("div",{className:"flex-grow rounded-full",children:(0,Ut.jsx)("div",{className:"relative",children:(0,Ut.jsx)("div",{className:"flex h-2 overflow-hidden rounded bg-gray-200 text-xs",children:(0,Ut.jsx)("div",{style:{width:"".concat(100*e.score,"%")},className:vr("flex flex-col justify-center whitespace-nowrap text-center text-white shadow-none transition-all",e.passed?"bg-green-600":"bg-red-600")})})})}),(0,Ut.jsxs)("div",{className:"flex w-10 justify-center",children:[(100*e.score).toFixed(0),"%"]})]}),(0,Ut.jsxs)("div",{className:"pt-1 text-sm text-muted-foreground",children:[t.passingPercentage,"%"," ",ZK("required to pass")]})]})},d6e=function(e){var t,n=e.returnUrl,r=be((function(e){return{lessonContent:e.lessonContent,launchType:e.launchType}})),o=r.lessonContent,i=r.launchType;return n?(0,Ut.jsx)(Fr,{variant:"blend",onClick:function(){return window.location.href=n},size:"sm",children:ZK("Exit")}):(null==o||null===(t=o.settings)||void 0===t?void 0:t.exitButton)&&("SCORM"===i||"static"===i)?(0,Ut.jsx)(Fr,{variant:"blend",onClick:function(){return f6e(i)},size:"sm",children:ZK("Exit")}):null},f6e=function(e){var t;if("SCORM"===e)null===(t=window)||void 0===t||null===(t=t.parent)||void 0===t||t.postMessage({type:"exit"},"*");else if("static"===e){var n,r,o,i,a;if("1.2"===(null===(n=window)||void 0===n?void 0:n.scorm_type))null===(o=window)||void 0===o||null===(o=o.scorm_api)||void 0===o||o.LMSSetValue("cmi.core.exit","logout"),null===(i=window)||void 0===i||null===(i=i.scorm_api)||void 0===i||i.LMSCommit(""),null===(a=window)||void 0===a||null===(a=a.scorm_api)||void 0===a||a.LMSFinish("");else if("2004"===(null===(r=window)||void 0===r?void 0:r.scorm_type)){var s,l,c;null===(s=window)||void 0===s||null===(s=s.scorm_api)||void 0===s||s.SetValue("adl.nav.request","exitAll"),null===(l=window)||void 0===l||null===(l=l.scorm_api)||void 0===l||l.Commit(""),null===(c=window)||void 0===c||null===(c=c.scorm_api)||void 0===c||c.Terminate("")}}};function p6e(e){return p6e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p6e(e)}function h6e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m6e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m6e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m6e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v6e(){v6e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==p6e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(p6e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function g6e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function y6e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g6e(i,r,o,a,s,"next",e)}function s(e){g6e(i,r,o,a,s,"throw",e)}a(void 0)}))}}var b6e,w6e,x6e=function(e){return e.match(/^\S+@\S+\.\S+$/)},S6e=(b6e=y6e(v6e().mark((function e(t,n){var r,o,i,a,s,l;return v6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=be.getState(),i=null===(r=o.course)||void 0===r?void 0:r.courseContent.id,a=o.courseLaunchToken,i&&a){e.next=5;break}throw new Error("Course ID or Launch Token not found");case 5:return e.next=7,Fs.utils.downloadCertificate.mutate({courseId:i,launchToken:a,name:t,email:n});case 7:return s=e.sent,l=s.resultUrl,e.abrupt("return",l);case 10:case"end":return e.stop()}}),e)}))),{downloadCertificate:(w6e=y6e(v6e().mark((function e(t,n){var r,o,i,a,s;return v6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=be.getState(),o=r.lessonId,i=r.launchToken,o&&i){e.next=5;break}throw new Error("Lesson ID or Launch Token not found");case 5:return e.next=7,Fs.utils.downloadCertificate.mutate({lessonId:o,launchToken:i,name:t,email:n});case 7:return a=e.sent,s=a.resultUrl,e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)}))),function(e,t){return w6e.apply(this,arguments)})});function k6e(e){var t=e.open,r=e.onOpenChange,o=e.CertificateDownloadProvider.downloadCertificate,i=h6e((0,n.useState)(""),2),a=i[0],s=i[1],l=h6e((0,n.useState)(""),2),c=l[0],u=l[1],d=h6e((0,n.useState)(!1),2),f=d[0],p=d[1],h=L4().enqueueSnackbar,m=be.getState(),v=function(){var e=y6e(v6e().mark((function e(){var t,n,i,l;return v6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&x6e(c)){e.next=2;break}return e.abrupt("return");case 2:return p(!0),e.prev=3,e.next=6,o(a,c);case 6:n=e.sent,(i=document.createElement("a")).href=n,document.body.appendChild(i),i.click(),Ooe("certificate_downloaded",{name:a,email:c,lessonId:m.lessonId,courseId:null===(t=m.course)||void 0===t?void 0:t.courseContent.id}),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),Ooe("certificate_download_failed",{name:a,email:c,lessonId:m.lessonId,courseId:null===(l=m.course)||void 0===l?void 0:l.courseContent.id}),console.error("Failed to download certificate:",e.t0),h(ZK("Failed to download certificate. Please try again."),{variant:"error"});case 19:return e.prev=19,p(!1),r(!1),s(""),u(""),e.finish(19);case 25:case"end":return e.stop()}}),e,null,[[3,14,19,25]])})));return function(){return e.apply(this,arguments)}}();return(0,Ut.jsx)(MJ,{open:t,onOpenChange:r,children:(0,Ut.jsxs)(DJ,{className:"sm:max-w-[425px]",bodyScroll:!0,onOpenAutoFocus:function(e){return e.preventDefault()},children:[(0,Ut.jsxs)(FJ,{children:[(0,Ut.jsx)(BJ,{children:ZK("Download Certificate")}),(0,Ut.jsx)($J,{children:ZK("Please enter your name and email to download your certificate.")})]}),(0,Ut.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,Ut.jsxs)("div",{className:"grid gap-2",children:[(0,Ut.jsx)(qR,{htmlFor:"name",children:ZK("Name")}),(0,Ut.jsx)(DR,{id:"name",value:a,onChange:function(e){return s(e.target.value)},placeholder:ZK("Enter Name"),required:!0})]}),(0,Ut.jsxs)("div",{className:"grid gap-2",children:[(0,Ut.jsx)(qR,{htmlFor:"email",children:ZK("Email")}),(0,Ut.jsx)(DR,{id:"email",type:"email",value:c,onChange:function(e){return u(e.target.value)},placeholder:ZK("Enter Email"),required:!0})]})]}),(0,Ut.jsx)(zJ,{children:(0,Ut.jsx)(Fr,{type:"submit",onClick:v,disabled:!a||!c||f||!x6e(c),loading:f,variant:"primary",children:ZK("Download Certificate")})})]})})}function E6e(e){return E6e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E6e(e)}function O6e(){O6e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==E6e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(E6e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function j6e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function _6e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j6e(i,r,o,a,s,"next",e)}function s(e){j6e(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C6e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T6e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T6e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T6e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P6e=function(e){var t,r,o=e.open,i=e.onClose,a=e.isPreview,s=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.title})),l=a6e(),c=be((function(e){return e.lessonId})),u=be((function(e){return e.launchToken})),d=be((function(e){return e.launchType})),f=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),p=null===(t=null==f?void 0:f.displayRestart)||void 0===t||t,h=null==f?void 0:f.includeCertificate,m=null!==(r=null==f?void 0:f.completionPresentation)&&void 0!==r?r:"dialog",v=be((function(e){return e.completed})),g=C6e((0,n.useState)(!1),2),y=g[0],b=g[1],w=C6e((0,n.useState)(!1),2),x=w[0],S=w[1],k=xh();return"none"===m?null:(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(t6e,{BackdropProps:{invisible:!0},disableScrollLock:!0,fullWidth:!0,maxWidth:"xs",open:o,onClose:i,children:(0,Ut.jsxs)("div",{style:{borderTopColor:k.whiteContrastColor},className:"border-t-8",children:[(0,Ut.jsxs)("div",{className:"flex flex-col gap-4 p-4 pb-2",children:[(0,Ut.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ut.jsx)(l6e,{completed:v}),(0,Ut.jsx)(c6e,{})]}),(0,Ut.jsx)("div",{className:"text-lg font-bold",children:s})]}),(0,Ut.jsx)("div",{className:"px-4",children:(0,Ut.jsx)(u6e,{})}),(0,Ut.jsxs)("div",{className:"flex flex-col items-stretch gap-2 p-4",children:[(0,Ut.jsx)(Fr,{"data-no-navigate":!0,className:"w-full",variant:"themable",style:{backgroundColor:k.whiteContrastColor,color:"white"},onClick:function(){"SCORM"===d||"static"===d?(f6e(d),setTimeout((function(){i()}),200)):i()},children:ZK("Done")}),(0,Ut.jsxs)("div",{className:"flex gap-2",children:[p&&(0,Ut.jsx)(Fr,{className:"w-full",variant:"ghost",loading:y,onClick:_6e(O6e().mark((function e(){return O6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i6e();case 3:b(!1),i();case 5:case"end":return e.stop()}}),e)}))),children:ZK("Restart Lesson")}),!a&&v&&c&&u&&h&&(0,Ut.jsx)(NV,{delayDuration:200,children:(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)(Fr,{className:"w-full",variant:"ghost",onClick:function(){S(!0),i()},disabled:!(null!=l&&l.passed),children:ZK("Download Certificate")})})}),!(null!=l&&l.passed)&&(0,Ut.jsx)(RV,{side:"top",children:(0,Ut.jsx)("p",{children:ZK("You need to pass the lesson to download the certificate")})})]})}),a&&h&&(0,Ut.jsx)(NV,{delayDuration:200,children:(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)("div",{className:"w-full",children:(0,Ut.jsx)(Fr,{className:"w-full",variant:"ghost",disabled:!0,children:ZK("Download Certificate")})})}),(0,Ut.jsx)(RV,{side:"top",children:(0,Ut.jsx)("p",{children:"Certificate cannot be downloaded in preview mode"})})]})})]})]})]})}),(0,Ut.jsx)(k6e,{open:x,onOpenChange:S,CertificateDownloadProvider:S6e})]})},A6e=function(e){var t=e.open,n=e.onClose,r=Bs(),o=a6e(),i=null==o?void 0:o.passed,a=xh();return(0,Ut.jsx)(t6e,{BackdropProps:{invisible:!0},disableScrollLock:!0,fullWidth:!0,maxWidth:"xs",open:t,onClose:n,children:(0,Ut.jsxs)("div",{style:{borderTopColor:a.whiteContrastColor},className:"border-t-8",children:[(0,Ut.jsxs)("div",{className:"flex flex-col gap-2 p-4",children:[(0,Ut.jsx)("div",{className:"text-sm font-bold",children:ZK("Quiz Results")}),(0,Ut.jsx)(c6e,{}),(0,Ut.jsx)(u6e,{})]}),(0,Ut.jsxs)("div",{className:"p-4 pt-0",children:[i&&(0,Ut.jsx)("div",{className:"",children:(0,Ut.jsx)(Fr,{"data-no-navigate":!0,className:"w-full",variant:"themable",style:{backgroundColor:a.whiteContrastColor,color:"white"},onClick:function(){n()},children:ZK("Continue")})}),(0,Ut.jsx)("div",{className:"pt-2",children:(0,Ut.jsx)(Fr,{className:"w-full",variant:i?"ghost":"themable",style:i?{}:{backgroundColor:a.whiteContrastColor,color:"white"},onClick:function(){!function(){var e,t=be.getState().lessonContent;if(t){var n=be.getState().blockStates,r=zs(t.settings);if(r&&r.scoredSectionId){var o=Io(t,r.scoredSectionId),i=n[r.scoredSectionId],a=null!==(e=null==i?void 0:i.attemptIndex)&&void 0!==e?e:0;uh(r.scoredSectionId,{attemptIndex:a+1}),o.forEach((function(e){var r,o=n[e],i=null!==(r=null==o?void 0:o.attemptIndex)&&void 0!==r?r:0,a=t.blocks[e];"tiledLayout"===a.type&&a.layout.rows.flatMap((function(e){return e.tiles.map((function(e){return e.tileId}))})).forEach((function(e){var t,r=n[e],o=null!==(t=null==r?void 0:r.attemptIndex)&&void 0!==t?t:0;uh(e,{attemptIndex:o+1})})),uh(e,{attemptIndex:i+1})}))}}}(),ZPe(r.scoredSectionId),n()},children:ZK("Retry Quiz")})})]})]})})},N6e=function(e){var t=be.getState().lessonContent,n=zs(t.settings);if("section"!==n.scoredContent||!n.scoredSectionId)return!1;var r=_o(t,e),o=_o(t,n.scoredSectionId);if(r!==o)return!1;var i=t.blockOrder.indexOf(e),a=t.blockOrder[i+1];return _o(t,a)!==o},M6e=function(){return be((function(e){var t;return e.selectedBlockId||(null===(t=e.lessonContent)||void 0===t?void 0:t.blockOrder[0])}))},I6e=function(e,t){var n=!0;return!0===(null==e?void 0:e.settings.hideTitlePage)&&(n=!1),n?t||"title":e?t||e.blockOrder[0]:"title"},R6e=function(e){var t=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),r=(null==t?void 0:t.enhancedScormIntegration)||!1;(0,n.useEffect)((function(){if(r&&!e){var t=function(e){if(e.origin!==window.location.origin){var t=e.data;if("context"===t.type){console.log("Received context",t.context),rh(t.context);var n=be.getState().launchToken;if(!n)throw new Error("No token found when trying to update learner name");Fs.learn.updateLearnerInformation.mutate({token:n,name:t.context.learner_name})}}};return window.addEventListener("message",t),window.parent.postMessage({type:"getContext"},"*"),function(){window.removeEventListener("message",t)}}}),[])};function L6e(e){return L6e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L6e(e)}var D6e=["currentScrollDistance","furthestScrollDistance","bottomScrollDistance"];function F6e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z6e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F6e(Object(n),!0).forEach((function(t){B6e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F6e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B6e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=L6e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=L6e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L6e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $6e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U6e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U6e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U6e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V6e(e,t){var r=$6e((0,n.useState)(0),2),o=r[0],i=r[1],a=(0,n.useRef)(!1),s="slide"===t?".slide-container":".swiper-container";return(0,n.useEffect)((function(){var t=function(){var t=document.querySelector(s);if(t){var n=t,r=n.scrollTop,o=n.scrollHeight,l=window.innerHeight,c=r+n.clientHeight,u=o,d=Math.abs(u-c),f=d<150?100:c/u*100;i(c);var p=be.getState().blockStates[e]||{},h=p.furthestScrollDistance||0,m=o>l;if(!m&&!a.current)return a.current=!0,void uh(e,{hasReachedBottom:!0});var v=!m||d<150||f>=90;if(p.hasReachedBottom||v){p.currentScrollDistance,p.furthestScrollDistance,p.bottomScrollDistance;var g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(p,D6e);uh(e,z6e(z6e({},g),{},{hasReachedBottom:!0}))}else m&&uh(e,z6e(z6e({},p),{},{currentScrollDistance:c,furthestScrollDistance:Math.max(c,h),bottomScrollDistance:u,hasReachedBottom:!1}))}},n=function(){var e=document.querySelector(s);e&&(e.addEventListener("scroll",t),setTimeout(t,100))},r=function(){var e=document.querySelector(s);e&&e.removeEventListener("scroll",t)};a.current=!1;var o=new MutationObserver((function(){r(),n()}));return o.observe(document.body,{childList:!0,subtree:!0}),n(),function(){r(),o.disconnect()}}),[e,t]),o}function H6e(e){return H6e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H6e(e)}function W6e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q6e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W6e(Object(n),!0).forEach((function(t){G6e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W6e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G6e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=H6e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H6e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H6e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K6e(){K6e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==H6e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(H6e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X6e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var Y6e=[],Z6e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X6e(i,r,o,a,s,"next",e)}function s(e){X6e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(K6e().mark((function e(){var t,n,r,o;return K6e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=Y6e.splice(0,Y6e.length)).length){e.next=3;break}return e.abrupt("return");case 3:if(n=be.getState().courseLaunchToken,r=be.getState().courseAttempt,n&&r){e.next=7;break}return e.abrupt("return");case 7:return o={token:n,logs:t,attemptNumber:r.attemptNumber},e.next=10,fetch("/api/learning-analytics/engagement-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();"undefined"!=typeof window&&window.addEventListener("beforeunload",(function(){Z6e()}));var J6e=Do()(Z6e,2e3);const Q6e=function(e){var t,n=be.getState().courseLaunchToken,r=null===(t=be.getState().courseAttempt)||void 0===t?void 0:t.accumulatedTime;console.log("course event",r),n&&(Y6e.push(q6e(q6e({},e),{},{courseAccumulatedTime:r||null})),J6e())};function e7e(e){return e7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e7e(e)}function t7e(){t7e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==e7e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(e7e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function n7e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function r7e(){return o7e.apply(this,arguments)}function o7e(){return o7e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){n7e(i,r,o,a,s,"next",e)}function s(e){n7e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(t7e().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d,f,p,h,m,v;return t7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=be.getState().launchType,o=be.getState().lessonContents,i=null===(t=be.getState().courseAttempt)||void 0===t?void 0:t.lessonAttempts,!(null===(n=be.getState().courseAttempt)||void 0===n?void 0:n.completed)){e.next=6;break}return e.abrupt("return");case 6:if(!o||!i){e.next=14;break}return s=Pp(o,i),l=s.score,"preview"!==r&&"author"!==r&&Ooe("course_completed",{courseId:null===(c=be.getState().course)||void 0===c?void 0:c.courseContent.id,launchType:r}),"SCORM"!==r&&"static"!==r||(d=Pp(o,i),f=d.score,p=d.numberOfQuestions,h=null===(u=be.getState().course)||void 0===u?void 0:u.courseContent,m=null==h?void 0:h.settings.passingPercentage,v=100*f,p5e(f,!(p>0)||v>=(m||0))),Q6e({event:"completed",objectType:"course",parentObjectId:null,objectId:null===(a=be.getState().course)||void 0===a?void 0:a.courseContent.id,accumulatedTime:be.getState().courseAttempt.accumulatedTime,timestamp:(new Date).toISOString(),duration:null,result:{score:l||0}}),be.setState((function(e){e.courseAttempt.completed=!0})),e.next=14,Fs.learn.updateCourseProgress.mutate({completed:!0,lessonAttempts:i,score:l||0,attemptNumber:be.getState().courseAttempt.attemptNumber,accumulatedTime:be.getState().courseAttempt.accumulatedTime,startedAt:be.getState().courseAttempt.startedAt,selectedLessonId:be.getState().lessonId,token:be.getState().courseLaunchToken});case 14:case"end":return e.stop()}}),e)}))),o7e.apply(this,arguments)}function i7e(){var e=be.getState().lessonContent,t=be.getState().blockStates,n=e.blocks,r=e.blockOrder;return Object.keys(n).filter((function(e){return"tiledLayout"===n[e].type})).filter((function(e){return r.includes(e)})).every((function(n){return zp({lesson:e,blockStates:t,blockId:n})}))}function a7e(){return function(){var e,t,n=be.getState().lessonContents,r=null===(e=be.getState().courseAttempt)||void 0===e?void 0:e.lessonAttempts,o=null===(t=be.getState().course)||void 0===t?void 0:t.courseContent.settings;if(!n||!r)return!1;var i=!1;n.forEach((function(e){var t=r[e.id];if(null!=t&&t.blockStates&&!t.completed){var n=(null==o?void 0:o.completionCriteria)||"assessmentAndView",a=Ro(e).map((function(r){return Gp(r,e,t.blockStates,n)})).filter((function(e){return e.blockIsAssessment}));(!(a.length>0)||a.every((function(e){return e.progress>=100})))&&be.setState((function(t){var n;null!==(n=t.courseAttempt)&&void 0!==n&&n.lessonAttempts[e.id]&&(t.courseAttempt.lessonAttempts[e.id].completed=!0,i=!0)}))}}))}(),t=be.getState().lessonContents,n=null===(e=be.getState().courseAttempt)||void 0===e?void 0:e.lessonAttempts,null==t?void 0:t.every((function(e){var t=null==n?void 0:n[e.id];return null==t?void 0:t.completed}));var e,t,n}function s7e(e){return s7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s7e(e)}var l7e=["className"],c7e=["side","className","children"],u7e=["className"],d7e=["className"];function f7e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p7e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f7e(Object(n),!0).forEach((function(t){h7e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f7e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h7e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s7e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s7e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s7e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m7e(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var v7e=fJ,g7e=pJ,y7e=hJ,b7e=n.forwardRef((function(e,t){var n=e.className,r=m7e(e,l7e);return(0,Ut.jsx)(mJ,p7e(p7e({className:vr("fixed inset-0 z-50 bg-black/50  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},r),{},{ref:t}))}));b7e.displayName=mJ.displayName;var w7e=Pn("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x7e=n.forwardRef((function(e,t){var n=e.side,r=void 0===n?"right":n,o=e.className,i=e.children,a=m7e(e,c7e);return(0,Ut.jsxs)(y7e,{children:[(0,Ut.jsx)(b7e,{}),(0,Ut.jsxs)(vJ,p7e(p7e({ref:t,className:vr(w7e({side:r}),o)},a),{},{children:[i,(0,Ut.jsxs)(bJ,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,Ut.jsx)(wJ,{className:"h-4 w-4"}),(0,Ut.jsx)("span",{className:"sr-only",children:"Close"})]})]}))]})}));x7e.displayName=vJ.displayName;var S7e=n.forwardRef((function(e,t){var n=e.className,r=m7e(e,u7e);return(0,Ut.jsx)(gJ,p7e({ref:t,className:vr("text-lg font-semibold text-foreground",n)},r))}));S7e.displayName=gJ.displayName;var k7e=n.forwardRef((function(e,t){var n=e.className,r=m7e(e,d7e);return(0,Ut.jsx)(yJ,p7e({ref:t,className:vr("text-sm text-muted-foreground",n)},r))}));k7e.displayName=yJ.displayName;
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const E7e=Gw("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var O7e={viewingMode:"horizontal",reportingMode:"pass/incomplete",passingPercentage:0,scoredContent:"all",assessmentRetries:0,hideTitlePage:!0,scoredSectionId:null,showPoweredByMindsmith:!1,includeCertificate:!1,logo:null,logoStyle:"none",narrationAutoplay:!1,learnerEntranceSurvey:!1,learnerEntranceSurveyEmail:!1,logoAspectRatio:null,enhancedScormIntegration:!1,displayRestart:!0,entranceAnimations:!0,navigationFreedom:"restricted",completionCriteria:"assessmentAndView",previewDescription:null,exitButton:!1,requireInteractives:!1,courseDisplayMode:"list",completionPresentation:"dialog"};function j7e(e){return j7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j7e(e)}function _7e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C7e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j7e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j7e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j7e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7e(e){var t;be.setState((function(t){var n,r=null===(n=t.lessonContents)||void 0===n?void 0:n.find((function(t){return t.id===e}));r&&t.course&&(t.lessonId=e,t.lessonContent=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_7e(Object(n),!0).forEach((function(t){C7e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_7e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r),t.loading=!1)}));var n=be.getState().lessonContent,r=null==n||null===(t=n.blockOrder)||void 0===t?void 0:t[0];n?r&&ZPe(r):be.setState((function(e){e.error="LESSON_NOT_FOUND"}))}function P7e(e){return P7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P7e(e)}function A7e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N7e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=P7e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P7e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P7e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7e(e){var t;be.setState((function(t){var n,r,o=null===(n=t.lessonContents)||void 0===n?void 0:n.find((function(t){return t.id===e}));if(o&&t.course){t.lessonId=e,t.lessonContent=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A7e(Object(n),!0).forEach((function(t){N7e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A7e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o),t.launchToken=t.lessonTokensMap[e];var i=null===(r=t.courseAttempt)||void 0===r?void 0:r.lessonAttempts[e];i&&(t.blockStates=i.blockStates||{},t.completed=i.completed,t.score=i.score,t.attemptNumber=i.attemptNumber,t.accumulatedTime=i.accumulatedTime,t.startedAt=i.startedAt,t.loading=!1)}}));var n,r=null===(t=be.getState().courseAttempt)||void 0===t||null===(t=t.lessonAttempts[e])||void 0===t?void 0:t.selectedBlockId;("completed"===r&&(r=null),r)||(r=null===(n=be.getState().lessonContents)||void 0===n||null===(n=n.find((function(t){return t.id===e})))||void 0===n?void 0:n.blockOrder[0]);ZPe(r)}function I7e(e){return I7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I7e(e)}function R7e(){R7e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==I7e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(I7e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function L7e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D7e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L7e(Object(n),!0).forEach((function(t){F7e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L7e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F7e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=I7e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I7e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I7e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z7e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var B7e,$7e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){z7e(i,r,o,a,s,"next",e)}function s(e){z7e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(R7e().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w;return R7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.courseId,a=t.language,s=t.isPreview,l=null===(n=be.getState().course)||void 0===n?void 0:n.courseContent.id,c=null===(r=be.getState().course)||void 0===r?void 0:r.courseContent.language,u=null===(o=be.getState().course)||void 0===o?void 0:o.mainLanguage,d=a||u,f=be.getState().courseLaunchToken,l===i){e.next=8;break}throw new Error("reloadCourseLanguage: currentCourseId !== courseId");case 8:if(p=!0,d&&c&&(p=d===c),!p){e.next=12;break}return e.abrupt("return");case 12:return be.setState((function(e){e.loading=!0,e.error=null})),e.prev=13,e.next=16,Fs.learn.reloadCourseLanguage.query({courseId:i,language:a,courseToken:f});case 16:h=e.sent,m=h.mainLanguage,v=h.course,g=h.supportedLanguages,y=h.lessonContents,b=h.staticLearnerStringsObject,be.setState((function(e){e.course={courseContent:v,mainLanguage:m,supportedLanguages:g,selectedCourseItemId:null},e.lessonContents=y.map((function(e){return D7e(D7e({},e),{},{settings:v.settings||O7e})})),e.staticLearnerStringsObject=b,e.loading=!1})),(w=be.getState().lessonId)&&(s?T7e(w):M7e(w)),e.next=27;break;case 23:throw e.prev=23,e.t0=e.catch(13),be.setState((function(t){var n;t.loading=!1,t.error=e.t0.message||(null===(n=e.t0.response)||void 0===n?void 0:n.message)})),e.t0;case 27:case"end":return e.stop()}}),e,null,[[13,23]])})));return function(t){return e.apply(this,arguments)}}();function U7e(e){return U7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U7e(e)}function V7e(){V7e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==U7e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(U7e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function H7e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function W7e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H7e(i,r,o,a,s,"next",e)}function s(e){H7e(i,r,o,a,s,"throw",e)}a(void 0)}))}}var q7e=function(){return B7e||(B7e=sd())},G7e=function(){var e=sessionStorage.getItem("realtimeClientId");if(e)return e;var t=sd();return sessionStorage.setItem("realtimeClientId",t),t},K7e=function(e){be.setState((function(t){t.realtimeConnection&&(t.realtimeConnection.lessonSession=e.data)}))},X7e=function(){var e=W7e(V7e().mark((function e(t,n,r){var o;return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fs.realtime.getConnectionToken.query({lessonId:t,clientId:n,languageVersion:r||null});case 2:return o=e.sent,e.abrupt("return",o.token);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Y7e=function(){var e=W7e(V7e().mark((function e(){var t,n;return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=null===(t=be.getState().realtimeConnection)||void 0===t?void 0:t.ws)&&n.close(),be.setState((function(e){e.realtimeConnection=null}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z7e=function(){var e=W7e(V7e().mark((function e(t,n,r,o){var i,a,s,l;return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o===B7e){e.next=3;break}return console.log("Reconnection attempt cancelled: localConnectionId mismatch"),e.abrupt("return");case 3:i=[5e3,1e4,2e4].map((function(e){return e+(Math.floor(4001*Math.random())-2e3)})),a=V7e().mark((function e(o){var a,s,l;return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,i[o])}));case 2:if(be.getState().lessonId===t){e.next=5;break}return e.abrupt("return",{v:void 0});case 5:if("connected"!==(s=null===(a=be.getState().realtimeConnection)||void 0===a?void 0:a.status)&&"connecting"!==s){e.next=8;break}return e.abrupt("return",{v:void 0});case 8:return e.prev=8,e.next=11,J7e({lessonId:t,profile:n,reauthorize:!0,reconnect:o+1,languageVersion:r});case 11:return e.next=13,new Promise((function(e){return setTimeout(e,3e3)}));case 13:if("connected"!==(null===(l=be.getState().realtimeConnection)||void 0===l?void 0:l.status)){e.next=18;break}return e.abrupt("return",{v:void 0});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),o===i.length-1&&be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection.status="error",e.realtimeConnection.error="Failed to reconnect after multiple attempts")}));case 23:case"end":return e.stop()}}),e,null,[[8,20]])})),l=0;case 7:if(!(l<i.length)){e.next=15;break}return e.delegateYield(a(l),"t0",9);case 9:if(!(s=e.t0)){e.next=12;break}return e.abrupt("return",s.v);case 12:l++,e.next=7;break;case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),J7e=function(){var e=W7e(V7e().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y;return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.lessonId,s=t.profile,l=t.reauthorize,c=void 0!==l&&l,u=t.reconnect,d=void 0===u?0:u,f=t.languageVersion,!Eoe.getFeatureFlag("realtime-v2")){e.next=5;break}e.next=6;break;case 5:return e.abrupt("return");case 6:if(p=be.getState(),"connecting"!==(null===(n=p.realtimeConnection)||void 0===n?void 0:n.status)||(null===(r=p.realtimeConnection)||void 0===r?void 0:r.lessonId)!==a){e.next=9;break}return e.abrupt("return");case 9:if("connected"!==(null===(o=p.realtimeConnection)||void 0===o?void 0:o.status)||c){e.next=11;break}return e.abrupt("return");case 11:return(h=null===(i=be.getState().realtimeConnection)||void 0===i?void 0:i.ws)&&(h.onclose=function(){},h.close()),m=G7e(),be.setState({realtimeConnection:{lessonId:a,status:"connecting",error:null,connectionAttempts:d,ws:null,clientId:m,token:null,lessonSession:null,languageVersion:f}}),v=null,e.prev=16,e.next=19,X7e(a,m,f);case 19:v=e.sent,e.next=27;break;case 22:return e.prev=22,e.t0=e.catch(16),console.log("Error getting token",e.t0),be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection.status="error",e.realtimeConnection.error="Error getting token")})),e.abrupt("return");case 27:be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection.token=v,e.realtimeConnection.status="connecting")})),g=new WebSocket("".concat({}.NEXT_PUBLIC_REALTIME_ENDPOINT,"?token=").concat(v)),B7e=void 0,y=q7e(),g.onopen=function(){be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection.ws=g,e.realtimeConnection.status="connected",e.realtimeConnection.clientId=m,e.realtimeConnection.error=null,e.realtimeConnection.lessonSession=null,e.realtimeConnection.connectionAttempts=0)}));var e=be.getState().selectedTileId,t=be.getState().selectedBlockId,n={type:"memberEnterLesson",clientId:m,lessonId:a,data:{position:null,presence:{selectedBlockId:t,selectedTileId:e},clientId:m,profile:s},languageVersion:f};g.send(JSON.stringify(n))},g.onmessage=function(e){if(q7e()===y){var t=JSON.parse(e.data);if("cursorPositionUpdate"!==t.type&&"transaction"!==t.type&&"memberLeaveLesson"!==t.type&&"presenceUpdate"!==t.type&&"memberEnterLesson"!==t.type)K7e(t);else{var n=t;if(t.clientId===m)return;if("transaction"===t.type){var r=t.data;return void S8(r)}be.setState((function(e){var t,r=null===(t=e.realtimeConnection)||void 0===t?void 0:t.lessonSession;r&&E8(n,r)}))}}else console.log("Message received from different local connection. Skipping.")},g.onclose=W7e(V7e().mark((function e(){return V7e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection=null)})),Z7e(a,s,f,y);case 2:case"end":return e.stop()}}),e)}))),g.onerror=function(e){console.log("WebSocket error",e),be.setState((function(e){e.realtimeConnection&&(e.realtimeConnection.status="error",e.realtimeConnection.error="WebSocket error")}))};case 35:case"end":return e.stop()}}),e,null,[[16,22]])})));return function(t){return e.apply(this,arguments)}}();function Q7e(e){return Q7e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q7e(e)}function e8e(){e8e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Q7e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Q7e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function t8e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}var n8e=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){t8e(i,r,o,a,s,"next",e)}function s(e){t8e(i,r,o,a,s,"throw",e)}a(void 0)}))}}(e8e().mark((function e(t){var n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S,k,E,O;return e8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.lessonId,o=t.language,i=t.bypassCache,a=t.disableRealtime,s=t.profile,l=be.getState().lessonId,c=null===(n=be.getState().lessonContent)||void 0===n?void 0:n.language,u=be.getState().mainLessonLanguage,d=o||u,f=be.getState().launchToken,l===r){e.next=8;break}throw new Error("reloadLessonLanguage: currentLessonId !== lessonId");case 8:if(p=!0,d&&c&&(p=d===c),!p||i){e.next=12;break}return e.abrupt("return");case 12:return s&&Y7e(),be.setState((function(e){e.loading=!0,e.lessonId=r,e.error=null})),e.prev=14,m=Fs.learn.reloadLessonLanguage.query({lessonId:r,language:o,token:f,snapshotId:null}),e.next=18,m;case 18:if(v=e.sent,g=v.mainLanguage,y=v.lesson,b=v.supportedLanguages,w=v.staticLearnerStringsObject,(x=be.getState().selectedBlockId)&&!y.blocks[x]&&(k=!(null===(S=y.settings)||void 0===S||!S.hideTitlePage),E="title",k&&(E=y.blockOrder[0]),be.setState({selectedBlockId:E})),a||!s){e.next=25;break}return e.next=25,J7e({lessonId:r,profile:s,languageVersion:o||null,reauthorize:!0});case 25:if(be.setState((function(e){e.lessonContent=y,e.loading=!1,e.supportedLanguages=b,e.mainLessonLanguage=g,e.prevLessonContentForStack=y,e.undoStack=[],e.staticLearnerStringsObject=w})),!(O=null===(h=be.getState().course)||void 0===h?void 0:h.courseContent.id)){e.next=30;break}return e.next=30,$7e({courseId:O,language:o});case 30:e.next=36;break;case 32:throw e.prev=32,e.t0=e.catch(14),be.setState((function(t){var n;t.loading=!1,t.error=e.t0.message||(null===(n=e.t0.response)||void 0===n?void 0:n.message)})),e.t0;case 36:case"end":return e.stop()}}),e,null,[[14,32]])})));return function(t){return e.apply(this,arguments)}}();function r8e(e){return r8e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r8e(e)}function o8e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i8e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o8e(Object(n),!0).forEach((function(t){a8e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o8e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a8e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=r8e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=r8e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r8e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s8e(){s8e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==r8e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(r8e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function l8e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function c8e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){l8e(i,r,o,a,s,"next",e)}function s(e){l8e(i,r,o,a,s,"throw",e)}a(void 0)}))}}var u8e,d8e,f8e,p8e,h8e={getEntityId:function(){return be.getState().lessonId||""},getCurrentLanguage:function(){var e;return(null===(e=be.getState().lessonContent)||void 0===e?void 0:e.language)||"EN"},getSupportedLanguages:function(){return be.getState().supportedLanguages},getMainLanguage:function(){return be.getState().mainLessonLanguage},reloadLanguage:(u8e=c8e(s8e().mark((function e(t,n){return s8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n8e({lessonId:t,language:n});case 2:case"end":return e.stop()}}),e)}))),function(e,t){return u8e.apply(this,arguments)}),useAugmentedTheme:function(){return xh()}},m8e=i8e(i8e({},h8e),{},{reloadLanguage:(d8e=c8e(s8e().mark((function e(t,n){var r,o,i,a;return s8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=be.getState().mainLessonLanguage,n!==o){e.next=5;break}r=lessonData,e.next=17;break;case 5:if(r=window["lessonData-".concat(n)]){e.next=17;break}return e.prev=7,e.next=10,v8e(n,"lesson");case 10:r=window["lessonData-".concat(n)],e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),console.error("Failed to load language data for ".concat(n,":"),e.t0),e.abrupt("return");case 17:if(r)try{i=atob(r),a=JSON.parse(i),be.setState({lessonContent:a,loading:!1})}catch(e){}case 18:case"end":return e.stop()}}),e,null,[[7,13]])}))),function(e,t){return d8e.apply(this,arguments)})});i8e(i8e({},{getEntityId:function(){var e;return(null===(e=be.getState().course)||void 0===e?void 0:e.courseContent.id)||""},getCurrentLanguage:function(){var e;return(null===(e=be.getState().course)||void 0===e?void 0:e.courseContent.language)||"EN"},getSupportedLanguages:function(){var e;return(null===(e=be.getState().course)||void 0===e?void 0:e.supportedLanguages)||[]},getMainLanguage:function(){var e;return(null===(e=be.getState().course)||void 0===e?void 0:e.mainLanguage)||null},reloadLanguage:(f8e=c8e(s8e().mark((function e(t,n,r){return s8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$7e({courseId:t,language:n,isPreview:r});case 2:case"end":return e.stop()}}),e)}))),function(e,t,n){return f8e.apply(this,arguments)}),useAugmentedTheme:function(){return wh()}}),{},{reloadLanguage:(p8e=c8e(s8e().mark((function e(t,n){var r,o,i,a,s,l,c;return s8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=be.getState().course)||void 0===r?void 0:r.mainLanguage,n!==i){e.next=5;break}o=courseData,e.next=17;break;case 5:if(o=window["courseData-".concat(n)]){e.next=17;break}return e.prev=7,e.next=10,v8e(n,"course");case 10:o=window["courseData-".concat(n)],e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(7),console.error("Failed to load language data for ".concat(n,":"),e.t0),e.abrupt("return");case 17:if(o)try{a=atob(o),s=JSON.parse(a),l=be.getState().course,c=be.getState().lessonId,be.setState((function(e){if(e.course={courseContent:s.courseContent,selectedCourseItemId:(null==l?void 0:l.selectedCourseItemId)||null,mainLanguage:(null==l?void 0:l.mainLanguage)||n,supportedLanguages:(null==l?void 0:l.supportedLanguages)||[n]},e.lessonContents=s.lessonContents,e.loading=!1,c){var t,r=null===(t=s.lessonContents)||void 0===t?void 0:t.find((function(e){return e.id===c}));r&&(e.lessonContent=i8e({},r))}}))}catch(e){console.error("Failed to parse course data:",e)}case 18:case"end":return e.stop()}}),e,null,[[7,13]])}))),function(e,t){return p8e.apply(this,arguments)})});function v8e(e,t){return new Promise((function(n,r){var o="".concat(t,"-data-").concat(e,".js");if(document.querySelector('script[src="'.concat(o,'"]')))n();else{var i=document.createElement("script");i.src=o,i.async=!1,i.onload=function(){return n()},i.onerror=function(){return r(new Error("Failed to load ".concat(o)))},document.head.appendChild(i)}}))}function g8e(e){var t=e.className,n=e.fill,r=e.stroke;return(0,Ut.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:vr("lucide lucide-circle-check",t),children:[(0,Ut.jsx)("circle",{cx:"12",cy:"12",r:"11.5",fill:n||"currentColor",stroke:"none"}),(0,Ut.jsx)("path",{d:"M7.5 12.5L10.5 15.5L16.5 9.5",stroke:r||"white",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]})}function y8e(e){var t=e.className,n=e.filled,r=e.isDarkTheme;return n?(0,Ut.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:[(0,Ut.jsx)("path",{d:"M0.75 3C0.75 1.75736 1.75736 0.75 3 0.75H13C14.2426 0.75 15.25 1.75736 15.25 3V13C15.25 14.2426 14.2426 15.25 13 15.25H3C1.75736 15.25 0.75 14.2426 0.75 13V8V3Z",fill:r?"white":"black",stroke:r?"white":"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ut.jsx)("path",{d:"M4.26666 4.70589H11.7333M4.26666 8H11.7333M4.26666 11.2941H11.7333",stroke:r?"black":"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}):(0,Ut.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",className:t,children:[(0,Ut.jsx)("path",{d:"M0.75 3C0.75 1.75736 1.75736 0.75 3 0.75H13C14.2426 0.75 15.25 1.75736 15.25 3V13C15.25 14.2426 14.2426 15.25 13 15.25H3C1.75736 15.25 0.75 14.2426 0.75 13V8V3Z",stroke:r?"white":"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Ut.jsx)("path",{d:"M4.26666 4.70589H11.7333M4.26666 8H11.7333M4.26666 11.2941H11.7333",stroke:r?"white":"black",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function b8e(e){return"string"==typeof e?e:w8e(e.content).trim()}function w8e(e){return e.map((function(e){if("paragraph"===e.type||"display"===e.type)return"".concat(S8e(e.content));if("heading"===e.type){var t=S8e(e.content),n=t.trim(),r=n.charAt(n.length-1);return[".","!","?"].includes(r)?t:n.replace(/\n$/,"")+".\n"}return"bulletList"===e.type||"orderedList"===e.type?"".concat(x8e(e)):void 0})).join("")}function x8e(e){return e.content.map((function(e){return"".concat(w8e(e.content))})).join("")}function S8e(e){return e?(null==e?void 0:e.map((function(e){return"text"===e.type?"".concat(e.text):"katex-inline"===e.type||"hard_break"===e.type?"":void 0})).join(""))+"\n":""}var k8e=function(e){return"string"==typeof e?e:null!=e&&e.blocks?e.blocks.reduce((function(e,t){return"".concat(e," ").concat(t.text)}),"").trim():""};function E8e(e){return E8e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E8e(e)}function O8e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j8e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O8e(Object(n),!0).forEach((function(t){_8e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O8e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _8e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=E8e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E8e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E8e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C8e={text:function(e){var t="";return e.data.hideHeader||(t="".concat(e.data.text)),e.data.hideText||(t="".concat(t," ").concat(k8e(e.data.subtext))),t},divider:function(e){return e.data.title},codeTile:function(e){return"".concat(e.data.code)},question:function(e){var t=j8e({},e).data.question;return"".concat(k8e(t))},link:function(e){var t=j8e({},e);return"".concat(t.data.items.reduce((function(e,t){return"".concat(e," ").concat(t.description,". ").concat(t.title,".")}),""))},flashcards:function(e){var t=j8e({},e),n=t.data.title;return"".concat(n,".\n").concat(t.data.items.reduce((function(e,t){return"".concat(e).concat(t.front,". \n").concat(t.back,".\n")}),""))},accordion:function(e){var t=j8e({},e),n=t.data.title;return"".concat(n,".\n    \n    ").concat(t.data.items.reduce((function(e,t){return"".concat(e).concat(t.header,"\n").concat(t.content)}),"").trim())},shortAnswer:function(e){var t=j8e({},e);return"".concat(k8e(t.data.question))},video:function(e){return""},embed:function(e){var t=j8e({},e);return"".concat(t.data.description)},matching:function(e){var t=j8e({},e);return"".concat(t.data.title)},sorting:function(e){var t=j8e({},e);return"".concat(t.data.title)},hotButton:function(e){return e.data.title},tiledLayout:function(e,t){return e.layout.rows.map((function(e){return e.tiles.map((function(e){var n=null==t?void 0:t[e.tileId];if(n)return C8e[n.type](n,t)}))})).flat().filter((function(e){return""!==e})).join("\n")},accordionTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(t.header,"\n").concat(b8e(t.content),"\n")}),"").trim())},buttonsTile:function(e){return""},embedTile:function(e){return""},flashcardsTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(b8e(t.front),". \n").concat(b8e(t.back),".\n")}),""))},hotButtonTile:function(e){return""},imageTile:function(e){return""},matchingTile:function(e){return"".concat(b8e(e.data.title))},questionTile:function(e){return"".concat(b8e(e.data.question))},shortAnswerTile:function(e){return"".concat(e.data.question?b8e(e.data.question):"")},sortingTile:function(e){return""},textTile:function(e){return"".concat(b8e(e.data.text))},noteTile:function(e){return"".concat(b8e(e.data.content))},videoTile:function(e){return""},sectionCalloutTile:function(e){return""},listTile:function(e){return"".concat(e.data.items.reduce((function(e,t){var n=t.sequenceLabel?"".concat(t.sequenceLabel," "):"";return"".concat(e).concat(n).concat(b8e(t.text),"\n")}),"").trim())},experienceTile:function(e){return""},textNode:function(e){var t=b8e(e.data.text);return"".concat(t)},dialogueNode:function(e){var t=b8e(e.data.text);return"".concat(t)},sceneNode:function(e){return""},modalNode:function(e){return""},dividerTile:function(e){return""},tabsTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(t.label,".\n").concat(b8e(t.content),"\n")}),"").trim())},carouselTile:function(){return""},processTile:function(e){var t="";return e.data.hasIntro&&(t+="".concat(b8e(e.data.intro.content),". ")),t+=e.data.elements.reduce((function(e,t){return"".concat(e).concat(b8e(t.content),". ")}),"").trim(),e.data.hasOutro&&(t+=" ".concat(b8e(e.data.outro.content))),t.trim()},timelineTile:function(e){return e.data.events.map((function(e){if(!e)return"";var t=[];return e.date&&t.push(e.date),e.content&&t.push(b8e(e.content)),t.filter(Boolean).join(". ")})).filter(Boolean).join(". ").trim()},audioTile:function(e){return""},quoteTile:function(e){var t=b8e(e.data.quote),n=b8e(e.data.attribution);return"".concat(t," ").concat(n?"by ".concat(n):"")},editableVideoTile:function(e){return""},tableTile:function(e){return e.data.table.cells.map((function(e){return e.map((function(e){return b8e(e.content)})).join(". ")})).join("\n")},textElement:function(e){return""},imageElement:function(e){return""},speakerElement:function(e){return""},videoScene:function(e){return""},videoElement:function(e){return""},fileDownloadTile:function(e){var t,n;return null!==(t=e.data.file)&&void 0!==t&&t.displayName?e.data.file.displayName:(null===(n=e.data.file)||void 0===n?void 0:n.fileName)||""},chartTile:function(e){return""},exploreNode:function(e){var t="";return e.data.explores&&(t=e.data.explores.filter((function(e){return"textExplore"===e.type})).map((function(e){return b8e(e.richText)})).join(". ")),t},videoNode:function(e){return""},rankingTile:function(e){return"".concat(b8e(e.data.question))}};j8e(j8e({},C8e),{},{accordionTile:function(e){return e.data.items.reduce((function(e,t){return e[t.id]="".concat(t.header,"\n").concat(b8e(t.content)),e}),{})},flashcardsTile:function(e){return e.data.items.reduce((function(e,t){return e["".concat(t.id,"-front")]=b8e(t.front),e["".concat(t.id,"-back")]=b8e(t.back),e}),{})},listTile:function(e){return e.data.items.reduce((function(e,t){return e[t.id]=b8e(t.text),e}),{})},processTile:function(e){var t={};return e.data.hasIntro&&(t[e.data.intro.id]=b8e(e.data.intro.content)),e.data.elements.forEach((function(e){t[e.id]=b8e(e.content)})),e.data.hasOutro&&(t[e.data.outro.id]=b8e(e.data.outro.content)),t},tabsTile:function(e){return e.data.items.reduce((function(e,t){return e[t.id]=b8e(t.content),e}),{})},hotButtonTile:function(e){return e.data.items.reduce((function(e,t){var n=t.header?"".concat(t.header,"\n"):"";return e[t.id]="".concat(n).concat(b8e(t.text)),e}),{})},dialogueNode:function(e){var t={};return t.text=b8e(e.data.text),e.data.options.forEach((function(e){e.feedback&&(t["".concat(e.id,"-feedback")]=e.feedback)})),t}});function T8e(e){var t=e.progress,n=e.size,r=void 0===n?13:n,o=e.accentColor;return t>=100?(0,Ut.jsx)(g8e,{className:"h-".concat(r/4," w-").concat(r/4),fill:o,stroke:"white"}):(0,Ut.jsxs)("div",{style:{position:"relative",display:"inline-flex"},children:[(0,Ut.jsx)(Ar,{variant:"determinate",value:100,style:{width:"".concat(r,"px"),height:"".concat(r,"px"),color:"lightgray"},thickness:8}),(0,Ut.jsx)(Ar,{variant:"determinate",value:t,style:{width:"".concat(r,"px"),height:"".concat(r,"px"),color:o,position:"absolute",left:0},thickness:8})]})}function P8e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A8e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A8e(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function A8e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var N8e={accordionTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(t.header,"\n").concat(M8e(t.content),"\n")}),"").trim())},buttonsTile:function(e){return""},codeTile:function(e){return"".concat(e.data.code,"\n    ")},embedTile:function(e){return""},flashcardsTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(M8e(t.front),". \n").concat(M8e(t.back),".\n")}),""))},hotButtonTile:function(e){return""},imageTile:function(e){return""},matchingTile:function(e){return"".concat(M8e(e.data.title))},questionTile:function(e){return"".concat(M8e(e.data.question))},shortAnswerTile:function(e){return"".concat(e.data.question?M8e(e.data.question):"")},rankingTile:function(e){return"".concat(M8e(e.data.question))},sortingTile:function(e){return""},textTile:function(e){return"".concat(M8e(e.data.text))},noteTile:function(e){return"".concat(M8e(e.data.content))},videoTile:function(e){return""},sectionCalloutTile:function(e){return""},listTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(t.sequenceLabel," ").concat(M8e(t.text),".\n   ")}),"").trim())},experienceTile:function(e){return""},dividerTile:function(e){return""},tabsTile:function(e){return"".concat(e.data.items.reduce((function(e,t){return"".concat(e).concat(t.label,".\n").concat(M8e(t.content),"\n")}),"").trim())},carouselTile:function(){return""},processTile:function(e){return"".concat(e.data.elements.reduce((function(e,t){return"".concat(e).concat(M8e(t.content),". ")}),"").trim())},timelineTile:function(e){return e.data.events.map((function(e){if(!e)return"";var t=e.date||"",n=e.title?M8e(e.title):"",r=e.description?M8e(e.description):"";return"".concat(t,". ").concat(n,". ").concat(r,".")})).join("").trim()},audioTile:function(e){return""},quoteTile:function(e){var t=M8e(e.data.quote),n=M8e(e.data.attribution);return"".concat(t," ").concat(n?"by ".concat(n):"")},editableVideoTile:function(e){return""},tableTile:function(e){return e.data.table.cells.map((function(e){return e.map((function(e){return M8e(e.content)})).join(". ")})).join("\n")},fileDownloadTile:function(e){return""},chartTile:function(e){return""}};function M8e(e){var t=b8e(e);return t.endsWith(".")?t.slice(0,-1):t}function I8e(e){return I8e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I8e(e)}function R8e(e){return function(e){if(Array.isArray(e))return L8e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L8e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L8e(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L8e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function D8e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F8e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D8e(Object(n),!0).forEach((function(t){z8e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z8e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=I8e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I8e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==I8e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B8e(e){var t=e.blockStates,n=e.lessonContent,r=e.courseMode,o=(bn(),qp(n,t,"PREVIEW"===r,n.settings)),i=o.percentProgressData,a=o.navigablePages,s=(o.completedPages,M6e()),l=xh().isDarkTheme;if(!i)return null;var c=n.blockOrder,u=n.blocks,d=n.theme,f=[],p=!1,h=0,m=ZK("Introduction"),v="PREVIEW"===r;return c.some((function(e){var t;return null===(t=u[e])||void 0===t?void 0:t.sectionDivider}))?(0,Ut.jsx)("div",{className:"flex cursor-default flex-col gap-1 bg-background",children:null==c?void 0:c.map((function(e,o){if(!e||!u[e])return null;var g=u[e],y=o===c.length-1,b=0===o;if("tiledLayout"!==(null==g?void 0:g.type))return null;if(!p&&(p=!0,f.push(F8e(F8e({},g),{},{id:e})),!y))return null;if(y&&!b&&f.push(F8e(F8e({},g),{},{id:e})),g.sectionDivider||y){var w=R8e(f);h=y?o+1:o,f=[F8e(F8e({},g),{},{id:e})];var x=w.some((function(e){return e.id===s})),S=null==w?void 0:w[0].id,k=!a.includes(S),E=m,O=C8e.tiledLayout(g,u);m=O||"Untitled Section";var j=i.filter((function(e){return w.map((function(e){return e.id})).includes(e.blockId)})),_=j.filter((function(e){return e.blockIsAssessment})),C=_.length>0?_.map((function(e){return e.progress})).reduce((function(e,t){return e+t}),0)/_.length:-1,T=w.length<=1;return(0,Ut.jsxs)("div",{className:vr("flex cursor-pointer items-center justify-between rounded-md pl-2 outline-none transition-colors duration-150",T?"min-h-[32px]":"min-h-[50px]",!v&&k&&"cursor-default opacity-50",x&&(l?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),!x&&!k&&(l?"hover:bg-gray-800":"hover:bg-gray-100")),onClick:function(){"PREVIEW"!==r?a.includes(S)&&(ZPe(S),ch()):ZPe(S)},children:[(0,Ut.jsxs)("div",{className:"flex items-center",children:[(0,Ut.jsx)("div",{className:"ml-1 flex w-[24px] items-center",children:(0,Ut.jsx)(y8e,{className:"h-4 w-4",isDarkTheme:l,filled:x})}),(0,Ut.jsxs)("div",{className:"flex w-[160px] flex-col justify-center gap-1",children:[E&&(0,Ut.jsx)("div",{role:"heading","aria-level":2,className:vr("w-[160px] truncate text-xs"),children:E}),(0,Ut.jsx)($8e,{prevBlocksToRender:w,selectedPageId:s,prevIndex:h,courseMode:r,lessonContent:n,blockStates:t})]})]}),"LEARN"===r&&-1!==C&&(0,Ut.jsx)("div",{className:"mr-1 flex w-5 justify-center",children:C>=100?(0,Ut.jsx)(g8e,{className:"h-4 w-4",fill:d.accentColor,stroke:"white"}):(0,Ut.jsxs)("div",{style:{position:"relative",display:"inline-flex"},children:[(0,Ut.jsx)(Ar,{variant:"determinate",value:100,style:{width:"16px",height:"16px",color:"lightgray"},thickness:8,"aria-hidden":"true"}),(0,Ut.jsx)(Ar,{variant:"determinate",value:C,style:{width:"16px",height:"16px",color:d.accentColor,position:"absolute",left:0},thickness:8,"aria-label":ZK("Section progress")})]})})]},e)}return f.push(F8e(F8e({},g),{},{id:e})),null}))}):(0,Ut.jsx)("div",{className:"flex cursor-default flex-col bg-background",children:null==c?void 0:c.map((function(e,t){if(!e||!u[e])return null;var n=u[e];if("tiledLayout"!==(null==n?void 0:n.type))return null;var o=e===s,c=!a.includes(e),f=function(e){var t,n=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.blocks;if(!n)return"";var r,o=P8e(e.layout.rows);try{for(o.s();!(r=o.n()).done;){var i,a=P8e(r.value.tiles);try{for(a.s();!(i=a.n()).done;){var s,l=n[i.value.tileId];if(l){var c=null===(s=N8e[l.type])||void 0===s?void 0:s.call(N8e,l);if(c&&""!==c.trim())return c}}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}return""}(n)||"Untitled Page",p=i.find((function(t){return t.blockId===e})),h=null==p?void 0:p.blockIsAssessment,m=(null==p?void 0:p.progress)||0;return(0,Ut.jsxs)("div",{className:vr("flex min-h-[32px] cursor-pointer items-center justify-between rounded-md pl-2 outline-none transition-colors duration-150",!v&&c&&"cursor-default opacity-50",o&&(l?"bg-gray-800 hover:bg-gray-700":"bg-gray-100 hover:bg-gray-200"),!o&&!c&&(l?"hover:bg-gray-800":"hover:bg-gray-100")),onClick:function(){"PREVIEW"!==r?a.includes(e)&&(ZPe(e),ch()):ZPe(e)},children:[(0,Ut.jsxs)("div",{className:"flex items-center",children:[(0,Ut.jsx)("div",{className:"ml-1 flex w-[24px] items-center",children:(0,Ut.jsx)(y8e,{className:vr("h-4 w-4",l?"text-white":"text-black"),filled:o,isDarkTheme:l})}),(0,Ut.jsx)("div",{className:"flex w-[160px] flex-col justify-center gap-1",children:(0,Ut.jsx)("div",{className:vr("w-[160px] truncate text-xs"),children:f})})]}),"LEARN"===r&&h&&(0,Ut.jsx)("div",{className:"mr-1 flex w-5 justify-center",children:(0,Ut.jsx)(T8e,{progress:m,accentColor:d.accentColor,size:13})})]},e)}))})}function $8e(e){var t,n=L4().enqueueSnackbar,r=qp(e.lessonContent,e.blockStates,"PREVIEW"===e.courseMode,null===(t=e.lessonContent)||void 0===t?void 0:t.settings),o=r.navigablePages,i=r.completedPages,a=xh(),s=a.theme,l=a.isDarkTheme,c=function(t){"PREVIEW"!==e.courseMode?o.includes(t)?(ZPe(t),ch()):n("Please complete the previous pages to unlock this page"):ZPe(t)};return e.prevBlocksToRender.length<=1?null:(0,Ut.jsx)("div",{className:"flex flex-wrap items-center gap-1 text-xs font-bold",children:e.prevBlocksToRender.map((function(t,n){var r=e.prevIndex+n-e.prevBlocksToRender.length+1;return(0,Ut.jsx)("div",{role:"button",tabIndex:o.includes(t.id)?0:-1,className:vr("h-fit cursor-pointer rounded-sm border border-solid border-transparent px-2 py-[2px] outline-none focus:outline-none focus:ring-0 focus-visible:ring-1",l?"focus-visible:ring-gray-200":"focus-visible:ring-black",o.includes(t.id)||"LEARN"!==e.courseMode?"":l?"cursor-default border-white opacity-70":"cursor-default border-gray-200 opacity-50",i.includes(t.id)?l?"bg-gray-800":"bg-gray-100":l?"border-gray-700":"border-gray-200",e.selectedPageId===t.id&&(l?"text-black":"text-white")),style:{backgroundColor:e.selectedPageId===t.id?s.accentColor:""},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||c(t.id)},onClick:function(e){e.stopPropagation(),c(t.id)},"aria-label":"".concat(ZK("Page")," ").concat(r),children:r},n)}))})}var U8e=o(159),V8e=function(e){bn();var t=xh().isDarkTheme,n=null!=document.fullscreenElement,r=(be((function(e){return e.sidebarExpanded})),!0);return e.preview&&(r=!0),document.fullscreenEnabled||(r=!1),(U8e.m0||U8e.HQ)&&(r=!1),n&&(r=!0),(0,Ut.jsx)("div",{className:NSe(t&&"dark"),children:(0,Ut.jsx)("div",{className:"flex items-start gap-2",children:r&&(0,Ut.jsx)(LV,{title:ZK(n?"Exit Fullscreen":"Enter Fullscreen"),side:"right",children:(0,Ut.jsx)(Fr,{variant:"blend",size:"smallIcon",onClick:function(){if("undefined"!=typeof window){var e=window.document.documentElement;document.fullscreenElement?document.exitFullscreen():e.requestFullscreen().catch((function(e){console.error("Error attempting to enable full-screen mode: ".concat(e.message," (").concat(e.name,")"))}))}},"aria-label":ZK(n?"Exit Fullscreen":"Enter Fullscreen"),children:(0,Ut.jsx)(wZ,{className:"h-5 w-5"})})})})})};function H8e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return W8e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W8e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W8e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function q8e(e){var t=L4().enqueueSnackbar,r=H8e((0,n.useState)(""),2),o=r[0],i=r[1],a=H8e((0,n.useState)(""),2),s=a[0],l=a[1];return(0,Ut.jsx)(MJ,{open:e.open,onOpenChange:e.setOpen,children:(0,Ut.jsxs)(DJ,{bodyScroll:!0,children:[(0,Ut.jsx)(BJ,{children:ZK("Report Bug")}),(0,Ut.jsx)(lL,{label:ZK("Bug Description"),multiline:!0,value:o,onChange:function(e){return i(e.target.value)},minRows:2}),(0,Ut.jsx)(sL,{label:ZK("Email (recommended)"),value:s,onChange:function(e){return l(e.target.value)},descriptionText:ZK("This is the only way for us to contact you directly when we fix your bug.")}),(0,Ut.jsx)("div",{className:"flex justify-end",children:(0,Ut.jsx)(Fr,{variant:"contrast",onClick:function(){e.setOpen(!1),Ooe("lesson_issue_reported",{issue:o,email:s,lessonId:be.getState().lessonId,progressData:JSON.stringify(be.getState().blockStates),lessonContent:JSON.stringify(be.getState().lessonContent),learnerData:be.getState().learner,inCourse:!!e.inCourse}),t(ZK("Bug Submitted!"))},disabled:!o,children:ZK("Submit Bug")})})]})})}function G8e(e){return G8e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G8e(e)}function K8e(){K8e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==G8e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(G8e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function X8e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function Y8e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){X8e(i,r,o,a,s,"next",e)}function s(e){X8e(i,r,o,a,s,"throw",e)}a(void 0)}))}}function Z8e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J8e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J8e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J8e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q8e(e){var t,r,o=e.preview,i=e.ViewerLanguageSwitcher,a={session:null,isLoading:!1,error:null},s=Z8e((0,n.useState)(!1),2),l=s[0],c=s[1],u=Z8e((0,n.useState)(!1),2),d=u[0],f=u[1],p=Z8e((0,n.useState)(!1),2),h=p[0],m=p[1],v=Z8e((0,n.useState)(!1),2),g=v[0],y=v[1],b=Z8e((0,n.useState)(!1),2),w=b[0],x=b[1],S=be((function(e){return e.lessonContent})),k=be((function(e){return e.blockStates})),E=be((function(e){return e.sidebarExpanded})),O=xh().isDarkTheme,j=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.theme})),_=bn(),C=(be((function(e){var t;return null===(t=e.courseAttempt)||void 0===t?void 0:t.lessonAttempts})),be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings}))),T=null===(t=null==C?void 0:C.displayRestart)||void 0===t||t,P=Z8e((0,n.useState)(!1),2),A=P[0],N=P[1],M=M6e(),I=be((function(e){var t=e.lessonContent,n=Ro(t),r=M;return[n.findIndex((function(e){return e===r}))+1,n.length]})),R=qp(S,k,o,null==S?void 0:S.settings).percentProgressData.filter((function(e){return e.blockIsAssessment})),L=R.length>0?Math.round(R.map((function(e){return e.progress})).reduce((function(e,t){return e+t}),0)/R.length):-1,D=j.imageUrl,F=null==a||null===(r=a.session)||void 0===r?void 0:r.returnUrl;if((0,n.useEffect)((function(){if(E){x(!0);var e=requestAnimationFrame((function(){setTimeout((function(){y(!0)}),50)}));return function(){return cancelAnimationFrame(e)}}y(!1);var t=setTimeout((function(){x(!1)}),500);return function(){return clearTimeout(t)}}),[E]),!S)return null;var z=(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsxs)("div",{className:vr("flex h-full w-60 flex-col bg-background text-foreground",D?"":_?"rounded-none border-0":"rounded-lg border shadow"),children:[(0,Ut.jsx)("div",{className:"flex items-center justify-between p-2",children:(0,Ut.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,Ut.jsx)(e9e,{setIssueReportDialogOpen:f,setCertificateDialogOpen:m}),i&&(0,Ut.jsx)(i,{provider:h8e}),(0,Ut.jsx)(LV,{title:ZK("Navigation"),children:(0,Ut.jsx)(Fr,{variant:"blend",size:"smallIcon",onClick:function(){_?c(!1):be.setState((function(e){e.sidebarExpanded=!1}))},"aria-label":ZK("Close navigation sidebar"),"aria-expanded":"true",children:(0,Ut.jsx)(E7e,{className:"h-5 w-5"})})})]})}),(0,Ut.jsxs)("div",{className:"flex-1 overflow-y-auto px-2",children:[(0,Ut.jsx)("div",{className:"text-sm font-bold",children:(0,Ut.jsx)("div",{children:S.title||"Untitled Lesson"})}),(0,Ut.jsx)("div",{className:"mt-2",children:!o&&(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(x_e,{className:"h-1 rounded-lg bg-gray-200",variant:"determinate",value:L,sx:{"& .MuiLinearProgress-bar":{backgroundColor:j.accentColor}}}),(0,Ut.jsxs)("div",{className:"text-xs font-bold text-muted-foreground",children:[L,"% ",ZK("complete")]})]})}),(0,Ut.jsx)(zw,{className:"my-4"}),(0,Ut.jsx)(B8e,{lessonContent:S,blockStates:k,courseMode:o?"PREVIEW":"LEARN"})]}),!o&&T&&(0,Ut.jsx)("div",{className:"border-t p-2",children:(0,Ut.jsx)(Fr,{variant:"secondary",className:"w-full",loading:A,"aria-label":ZK("Restart Lesson"),role:"button","aria-busy":A,onClick:Y8e(K8e().mark((function e(){return K8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,i6e();case 4:Ooe("lesson_restarted",{lessonId:S.id});case 5:return e.prev=5,N(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])}))),children:ZK("Restart Lesson")})})]}),(0,Ut.jsx)(q8e,{open:d,setOpen:f}),(0,Ut.jsx)(k6e,{open:h,onOpenChange:m,CertificateDownloadProvider:S6e})]});return _?(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsxs)("div",{className:vr("fixed left-2 top-2 z-[49] flex items-center gap-1",O&&"dark"),children:[(0,Ut.jsxs)(v7e,{open:l,onOpenChange:c,children:[(0,Ut.jsx)(g7e,{asChild:!0,children:(0,Ut.jsx)(Fr,{variant:"blend",size:"smallIcon","aria-label":ZK("Navigation menu"),"aria-expanded":l,children:(0,Ut.jsx)(E7e,{className:"h-5 w-5"})})}),(0,Ut.jsx)(x7e,{side:"left",className:vr("z-[60] w-60 p-0 [&>button]:hidden",O&&"dark"),onOpenAutoFocus:function(e){e.preventDefault()},children:z})]}),(0,Ut.jsx)(V8e,{preview:o}),1===I[0]&&i&&(0,Ut.jsx)(i,{provider:h8e}),(0,Ut.jsx)(d6e,{returnUrl:F})]})}):(0,Ut.jsxs)(Ut.Fragment,{children:[w&&(0,Ut.jsx)("div",{className:vr("fixed left-0 top-0 z-[60] h-full transition-transform duration-500 ease-in-out",g?"translate-x-0":"-translate-x-[248px]",D?"p-0":"py-2 pl-2",O&&"dark"),"aria-hidden":!g,children:z}),!E&&(0,Ut.jsxs)("div",{className:"fixed left-2 top-2 z-[59] flex items-center gap-1",children:[(0,Ut.jsx)(LV,{title:ZK("Navigation"),children:(0,Ut.jsx)(Fr,{variant:"blend",size:"smallIcon",onClick:function(){be.setState((function(e){e.sidebarExpanded=!0}))},"aria-label":ZK("Open navigation sidebar"),"aria-expanded":"false",children:(0,Ut.jsx)(E7e,{className:"h-5 w-5"})})}),(0,Ut.jsx)(V8e,{preview:o}),1===I[0]&&i&&(0,Ut.jsx)(i,{provider:h8e}),(0,Ut.jsx)(d6e,{})]})]})}function e9e(e){var t=L4().enqueueSnackbar,n=be((function(e){return e.completed})),r=be((function(e){return e.launchType})),o=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),i=null==o?void 0:o.includeCertificate,a=be((function(e){return e.lessonId})),s=be((function(e){return e.launchToken})),l=a6e();return(0,Ut.jsxs)(dx,{children:[(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(fx,{asChild:!0,children:(0,Ut.jsx)(Fr,{size:"smallIcon","aria-label":ZK("Options"),"aria-haspopup":"menu","aria-expanded":"false",children:(0,Ut.jsx)(OE,{className:"h-5 w-5"})})})}),(0,Ut.jsx)(RV,{children:(0,Ut.jsx)("p",{children:ZK("Options")})})]}),(0,Ut.jsxs)(yx,{className:"z-[100000]",role:"menu","aria-label":ZK("Options"),children:[n&&"SCORM"===r&&(0,Ut.jsx)(wx,{onClick:Y8e(K8e().mark((function e(){var n,r,o;return K8e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=be.getState().blockStates,r=be.getState().lessonContent,o=Tp(n,r),e.next=5,p5e(o.score,o.passed);case 5:Ooe("scorm_event_resent",{score:o.score,passed:o.passed,lessonId:be.getState().lessonId,progressData:be.getState().blockStates,lessonContent:be.getState().lessonContent,learnerData:be.getState().learner}),t("Completion event sent with score: "+o.score+" and passed: "+(o.passed?"true":"false"));case 7:case"end":return e.stop()}}),e)}))),role:"menuitem","aria-label":ZK("Resend Completion Event"),children:ZK("Resend Completion Event")}),n&&a&&s&&i&&(null==l?void 0:l.passed)&&(0,Ut.jsx)(wx,{onClick:function(){return e.setCertificateDialogOpen(!0)},role:"menuitem","aria-label":ZK("Download Certificate"),children:ZK("Download Certificate")}),"static"!==r&&"website"!==r&&(0,Ut.jsx)(wx,{onClick:function(){return e.setIssueReportDialogOpen(!0)},role:"menuitem","aria-label":ZK("Report Bug"),children:ZK("Report Bug")})]})]})}function t9e(e){var t,n=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),r=(null==n?void 0:n.logoStyle)||"white-background";return(0,Ut.jsx)(n9e,{logoUrl:(null==n?void 0:n.logo)||"",style:r,size:e.size,aspectRatio:null!==(t=null==n?void 0:n.logoAspectRatio)&&void 0!==t?t:1})}function n9e(e){var t=e.logoUrl,n=e.style,r=e.size,o=e.aspectRatio,i="number"==typeof o?"".concat(o,"/1")||0:"auto";return(0,Ut.jsx)("div",{className:NSe("relative w-fit rounded-md","white-background"===n&&"border border-solid border-gray-300 bg-white p-1","rounded"===n&&"overflow-hidden rounded-md"),children:(0,Ut.jsx)("img",{alt:"",style:{objectFit:"contain",aspectRatio:i},className:NSe("block w-auto","large"===r&&"h-14","small"===r&&"h-10"),src:t})})}var r9e=function(e){return(0,Ut.jsxs)("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 39 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Ut.jsx)("path",{d:"M1.84864 37.361C1.53605 37.6797 0.995918 37.4574 0.995918 37.0102V3.08193C0.995918 2.63754 1.5301 2.41398 1.84442 2.72682L36.669 37.3858C36.9833 37.6987 37.5175 37.4751 37.5175 37.0307V2.22015C37.5175 1.77287 36.9774 1.55062 36.6648 1.86928L19.2567 19.6152L1.84864 37.361Z",stroke:e.color,strokeWidth:"2",strokeMiterlimit:"10"}),(0,Ut.jsx)("path",{d:"M1.49388 3.5L18.5672 38.0978C18.75 38.4681 19.2759 38.4685 19.4592 38.0985L28.4287 20L37.3469 2.5",stroke:e.color,strokeWidth:"2",strokeMiterlimit:"10"})]})};function o9e(){var e=Sh();return(0,Ut.jsx)("div",{className:"pointer-events-auto flex h-10 items-center justify-center rounded-md px-2 py-4 text-sm",style:{color:e.bodyColor},children:(0,Ut.jsxs)("div",{className:"flex items-center gap-1.5",children:[ZK("Built with")," ",(0,Ut.jsx)(r9e,{color:e.bodyColor})]})})}function i9e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a9e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a9e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a9e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s9e=function(e){var t=e.onClick,n=e.buttonColor,r=e.buttonText;return(0,Ut.jsx)("div",{className:"pointer-events-auto flex h-10 items-center justify-center rounded-md px-2 py-4 text-sm",style:{backgroundColor:n,color:r},onClick:t,children:(0,Ut.jsxs)("div",{className:"flex items-center gap-1.5",children:[ZK("Built with")," ",(0,Ut.jsx)(r9e,{color:r})]})})},l9e=function(){var e=be((function(e){var t;return null===(t=e.lessonContent)||void 0===t?void 0:t.settings})),t=xh(),r=function(){var e=i9e(n.useState(void 0),2),t=e[0],r=e[1];return n.useEffect((function(){var e=window.matchMedia("(max-width: ".concat(767,"px)")),t=function(){r(window.innerWidth<768)};return e.addEventListener("change",t),r(window.innerWidth<768),function(){return e.removeEventListener("change",t)}}),[]),!!t}();return null!=e&&e.logo?(0,Ut.jsx)("div",{className:"fixed right-0 top-0 z-10 p-2 text-white",children:(0,Ut.jsx)(t9e,{size:"small"})}):null!=e&&e.showPoweredByMindsmith?(0,Ut.jsx)(Ut.Fragment,{children:r?(0,Ut.jsx)("a",{href:"https://www.mindsmith.ai?utm_source=powered_by_badge",target:"_blank",className:"pointer-events-none fixed right-0 top-0 z-20 p-2",onClick:function(){Ooe("powered_by_mindsmith_clicked")},children:(0,Ut.jsx)(o9e,{})}):(0,Ut.jsx)("a",{href:"https://www.mindsmith.ai?utm_source=powered_by_badge",target:"_blank",className:vr("pointer-events-none fixed bottom-0 right-0 z-50 p-2"),onClick:function(){Ooe("powered_by_mindsmith_clicked")},children:(0,Ut.jsx)(s9e,{buttonColor:null==t?void 0:t.buttonColor,buttonText:null==t?void 0:t.buttonText})})}):null};function c9e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u9e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u9e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u9e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d9e(e){var t=e.onViewClick,r=e.isCourseViewer,o=c9e((0,n.useState)(!1),2),i=o[0],a=o[1],s=be((function(e){return e.completed})),l=be((function(e){var t;return null===(t=e.courseAttempt)||void 0===t?void 0:t.completed})),c=r?l:s,u=r?"Course ".concat(ZK("Completed"),"!"):"".concat(ZK("Lesson completed!"));return!c||i?null:(0,Ut.jsx)("div",{className:"pointer-events-auto fixed bottom-16 left-0 right-0 z-[60] flex justify-center",children:(0,Ut.jsx)("div",{className:"mx-auto max-w-md",children:(0,Ut.jsxs)("div",{className:vr("flex items-center gap-4 rounded-lg border bg-background p-2 px-4 text-foreground shadow-lg","dark"),children:[(0,Ut.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ut.jsx)("span",{children:(0,Ut.jsx)(uOe,{className:"h-5 w-5 text-green-400"})}),(0,Ut.jsx)("span",{className:"text-sm font-medium",children:u})]}),(0,Ut.jsxs)("div",{className:"flex items-center gap-2",children:[t&&(0,Ut.jsx)(Fr,{variant:"secondary",size:"xs",className:"h-6 px-2 text-xs",onClick:t,children:ZK("View")}),(0,Ut.jsx)(Fr,{variant:"ghost",size:"xs",className:"h-6 w-6 p-0 hover:bg-foreground/10",onClick:function(){return a(!0)},"aria-label":ZK("Close"),children:(0,Ut.jsx)(UTe,{className:"h-4 w-4"})})]})]})})})}function f9e(e){return f9e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f9e(e)}function p9e(){p9e=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==f9e(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f9e(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function h9e(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function m9e(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h9e(i,r,o,a,s,"next",e)}function s(e){h9e(i,r,o,a,s,"throw",e)}a(void 0)}))}}function v9e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g9e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v9e(Object(n),!0).forEach((function(t){y9e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v9e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y9e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=f9e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f9e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f9e(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w9e(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w9e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w9e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var x9e=function(){var e=document.querySelector(".slide-container");e&&e instanceof HTMLElement&&e.focus()};const S9e=function(e){var t,r,o,i,a,s,l=Br(),c=e.lessonId,u=(0,n.useRef)(!1),d=L4().enqueueSnackbar,f=M6e();R6e(e.preview);var p=b9e((0,n.useState)(f),2),h=p[0],m=p[1],v=b9e((0,n.useState)("forward"),2),g=v[0],y=v[1];V6e(f,"slide"),(0,n.useEffect)((function(){if(f!==h){var e=be.getState().lessonContent,t=Ro(e),n=t.indexOf(h),r=t.indexOf(f);y(r>n?"forward":"backward"),m(f)}}),[f,h]);var b=be.getState().blockStates,w=b9e((0,n.useState)({}),2),x=w[0],S=w[1];(0,n.useEffect)((function(){var t,n,r;if(e.isCourseViewer){var o=null===(t=be.getState().courseAttempt)||void 0===t?void 0:t.lessonAttempts,i=be.getState().lessonContent,a=null==o?void 0:o[null==i?void 0:i.id];e.preview||!i7e()||null!=a&&a.completed||(h5e(),u3e(c),d(ZK("Lesson completed!"),{variant:"default"})),e.preview&&i7e()&&!x[c]&&(S((function(e){return g9e(g9e({},e),{},y9e({},c,!0))})),d(ZK("Lesson completed!"),{variant:"default",preventDuplicate:!0}));var s=null===(n=be.getState().courseAttempt)||void 0===n?void 0:n.completed;null===(r=be.getState().lessonContent)||void 0===r||r.settings.navigationFreedom;a7e()&&!s&&r7e()}else{var l,u=be.getState().completed;null===(l=be.getState().lessonContent)||void 0===l||l.settings.navigationFreedom;i7e()&&!u&&h5e()}}),[b]),(0,n.useEffect)((function(){e.isCourseViewer&&E5e()}),[e.isCourseViewer,c]);var k=Bp(),E=Ohe(),O=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.settings.navigationFreedom,j=!k&&!e.preview&&"open"!==O,_=b9e((0,n.useState)(!1),2),C=_[0],T=_[1],P=b9e((0,n.useState)(!1),2),A=P[0],N=P[1],M=be((function(e){return e.sidebarExpanded})),I=null===(r=be.getState().lessonContent)||void 0===r?void 0:r.settings.learnerEntranceSurvey,R=null===(o=be.getState().lessonContent)||void 0===o?void 0:o.settings.learnerEntranceSurveyEmail,L=be((function(e){return e.launchType})),D=!(!I&&!R||e.preview||e.isCourseViewer||"static"===L||"website"===L),F=b9e((0,n.useState)(D),2),z=F[0],B=F[1],$=null===(i=be.getState().lessonContents)||void 0===i?void 0:i.findIndex((function(e){return e.id===c})),U=null===(a=be.getState().lessonContents)||void 0===a||null===(a=a[$+1])||void 0===a?void 0:a.id,V=null===(s=be.getState().lessonContents)||void 0===s||null===(s=s[$-1])||void 0===s?void 0:s.id,H=(0,n.useCallback)(m9e(p9e().mark((function t(){var n,r,o,i,a,s;return p9e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!j){t.next=10;break}return d(ZK("Complete the current page before moving on."),{content:function(e,t){return(0,Ut.jsx)(Eo,{message:(0,Ut.jsx)("div",{dir:E?"rtl":"ltr",children:t}),style:{display:"flex",justifyContent:E?"flex-end":"flex-start"}},e)}}),be.setState({requiredInteractivePulse:!0}),u.current=!0,t.next=6,new Promise((function(e){return setTimeout(e,400)}));case 6:return u.current=!1,t.abrupt("return");case 10:be.setState({requiredInteractivePulse:!1});case 11:if(!k&&e.preview&&d(l("learnersWillBeRequiredToCompleteThisPageToContinue")),k||e.preview||"open"!==O||d("Lesson is incomplete. Completion will be required to finish the course."),n=be.getState().lessonContent,r=Tp(be.getState().blockStates,n),o=I6e(n,be.getState().selectedBlockId),r.passed||!N6e(o)||e.preview){t.next=19;break}return N(!0),t.abrupt("return");case 19:if(i=Ro(n),a=i.indexOf(o),!(a===i.length-1)){t.next=25;break}return e.isCourseViewer?e.preview?U?e.navigateToLessonPreview&&e.navigateToLessonPreview(U):e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):U?e.navigateToLessonLearn&&e.navigateToLessonLearn(U):(null===(s=be.getState().lessonContent)||void 0===s?void 0:s.settings.navigationFreedom,a7e()?e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):d(ZK("Complete content first"),{variant:"default"})):e.preview?T(!0):"restricted"===O&&(h5e(),T(!0)),t.abrupt("return");case 25:return N6e(o)&&N(!0),be.setState({currentNarrationIndex:0}),setTimeout((function(){document.querySelectorAll("audio").forEach((function(e){e.pause()}))}),0),t.next=30,new Promise((function(e){return setTimeout(e,1)}));case 30:return u.current=!0,t.next=33,C5e();case 33:return t.next=35,new Promise((function(e){return setTimeout(e,100)}));case 35:u.current=!1,x9e();case 37:case"end":return t.stop()}}),t)}))),[k,e.preview,d,c,f]),W=(0,n.useCallback)(m9e(p9e().mark((function t(){var n,r,o,i;return p9e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=be.getState().lessonContent,r=Ro(n),o=r.indexOf(f),i=0===o,V&&i&&e.isCourseViewer&&(e.preview?e.navigateToLessonPreview&&e.navigateToLessonPreview(V):e.navigateToLessonLearn&&e.navigateToLessonLearn(V)),u.current=!0,t.next=8,c5e();case 8:u.current=!1,x9e();case 10:case"end":return t.stop()}}),t)}))),[c,f]),q=(0,n.useRef)(0),G=(0,n.useRef)(Date.now()),K=(0,n.useRef)(0),X=(0,n.useRef)("both"),Y=(0,n.useRef)(0),Z=(0,n.useRef)(!1),J=(0,n.useRef)(!1),Q=(0,n.useRef)(!1);(0,n.useEffect)((function(){var e=function(e){var t=document.querySelector(".slide-container");if(t){var n=t.scrollTop,r=e.touches[0].clientY>Y.current;0===n&&r&&e.preventDefault()}};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]);var ee=bn(),te=xh(),ne=te.theme,re=te.isDarkTheme,oe=te.whiteContrastColor;return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(A5e,{}),z?null:(0,Ut.jsx)(V5e,{onGoForward:H,onGoBackward:W,changing:u}),(0,Ut.jsx)(L5e,{isCourseViewer:e.isCourseViewer}),!e.isCourseViewer&&(0,Ut.jsx)("div",{className:vr("fixed left-0 top-0 z-50 flex items-center gap-2 p-3",re&&"dark"),children:(0,Ut.jsx)(Q8e,{preview:e.preview,ViewerLanguageSwitcher:e.ViewerLanguageSwitcher})}),(0,Ut.jsx)(i3e,{id:h,className:vr("fixed inset-0",ee&&"left-0",{dark:re}),style:{fontFamily:ne.headerFont.name||"inherit"},children:(0,Ut.jsx)(Xr,{onWheel:function(e){if(!document.querySelector(".drag-overlay")){var t=Date.now(),n=t-G.current;if(G.current=t,n>600&&(q.current=0),!u.current){var r=e.deltaY;Math.abs(r)>Math.abs(K.current)&&(Z.current=!1),J.current||(K.current=r,Z.current||(r>100&&(r=100),r<-100&&(r=-100),q.current>0&&r<0&&(q.current=0),q.current<0&&r>0&&(q.current=0),q.current+=r,q.current>700&&(q.current=0,Z.current=!0,J.current=!0,setTimeout((function(){J.current=!1}),600),H()),q.current<-700&&(q.current=0,Z.current=!0,J.current=!0,setTimeout((function(){J.current=!1}),600),W())))}}},className:"dir-".concat(g),children:(0,Ut.jsx)(uo,{classNames:"slide",timeout:{enter:400,exit:400},children:(0,Ut.jsxs)("div",{onTouchStart:function(e){Y.current=e.touches[0].clientY,Q.current=!1;var t=document.querySelector(".slide-container");if(!document.querySelector(".drag-overlay")&&t){var n=t.scrollTop,r=n<20,o=t.scrollHeight-t.clientHeight-n<20;r&&o&&(X.current="both"),r&&!o&&(X.current="up"),!r&&o&&(X.current="down"),r||o||(X.current="none")}},onScroll:function(e){q.current=0},onScrollCapture:function(e){Z.current=!0},onTouchMove:function(e){var t=document.querySelector(".slide-container");if(t&&!(document.querySelectorAll(".slide-container").length>1||document.querySelector(".drag-overlay")||u.current)){var n=e.changedTouches[0].clientY-Y.current,r=t.scrollTop,o=t.scrollHeight-t.clientHeight-r;if(!Q.current){if(n>75&&("both"===X.current||"up"===X.current))return Q.current=!0,void W();if(n<-75&&("both"===X.current||"down"===X.current))return Q.current=!0,void H();o<-30&&!u.current&&(Q.current=!0,H()),r<-30&&!u.current&&(Q.current=!0,W())}}},className:vr("slide-container absolute left-0 top-0 h-full w-full overflow-auto bg-cover object-cover transition-[padding-left] duration-500 ease-in-out focus:outline-none",M?"pl-[248px]":"pl-0",ee&&"pl-0"),tabIndex:-1,id:"main-content",children:[ee&&(0,Ut.jsx)("div",{className:"h-2 select-none opacity-0"}),(0,Ut.jsx)(XSe.Provider,{value:{onGoForward:H,onGoBackward:W},children:(0,Ut.jsx)(r5e,{preview:e.preview,id:h,mode:dh.VIEW})})]})},h)})}),(0,Ut.jsx)(R5e,{backDisabled:!1,nextDisabled:j,onBack:W,onNext:H,isCourseViewer:e.isCourseViewer}),!e.isCourseViewer&&(0,Ut.jsx)(P6e,{onClose:function(){T(!1)},open:C,isPreview:e.preview}),(0,Ut.jsx)(d9e,{isCourseViewer:e.isCourseViewer,onViewClick:function(){e.isCourseViewer?e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):T(!0)}}),(0,Ut.jsx)(A6e,{onClose:function(){N(!1)},open:A}),(0,Ut.jsx)(e3e,{open:z,setOpen:B,preview:e.preview,whiteContrastColor:oe,LearnerEntranceSurveyProvider:Q5e}),!e.preview&&(0,Ut.jsx)(l9e,{})]})};function k9e(e){let t=e.length;for(;--t>=0;)e[t]=0}const E9e=256,O9e=286,j9e=30,_9e=15,C9e=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T9e=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),P9e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),A9e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),N9e=new Array(576);k9e(N9e);const M9e=new Array(60);k9e(M9e);const I9e=new Array(512);k9e(I9e);const R9e=new Array(256);k9e(R9e);const L9e=new Array(29);k9e(L9e);const D9e=new Array(j9e);function F9e(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let z9e,B9e,$9e;function U9e(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}k9e(D9e);const V9e=e=>e<256?I9e[e]:I9e[256+(e>>>7)],H9e=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},W9e=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,H9e(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},q9e=(e,t,n)=>{W9e(e,n[2*t],n[2*t+1])},G9e=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},K9e=(e,t,n)=>{const r=new Array(16);let o,i,a=0;for(o=1;o<=_9e;o++)a=a+n[o-1]<<1,r[o]=a;for(i=0;i<=t;i++){let t=e[2*i+1];0!==t&&(e[2*i]=G9e(r[t]++,t))}},X9e=e=>{let t;for(t=0;t<O9e;t++)e.dyn_ltree[2*t]=0;for(t=0;t<j9e;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},Y9e=e=>{e.bi_valid>8?H9e(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Z9e=(e,t,n,r)=>{const o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},J9e=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Z9e(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Z9e(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},Q9e=(e,t,n)=>{let r,o,i,a,s=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+s++],r+=(255&e.pending_buf[e.sym_buf+s++])<<8,o=e.pending_buf[e.sym_buf+s++],0===r?q9e(e,o,t):(i=R9e[o],q9e(e,i+E9e+1,t),a=C9e[i],0!==a&&(o-=L9e[i],W9e(e,o,a)),r--,i=V9e(r),q9e(e,i,n),a=T9e[i],0!==a&&(r-=D9e[i],W9e(e,r,a)))}while(s<e.sym_next);q9e(e,256,t)},eet=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let a,s,l,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<i;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,o&&(e.static_len-=r[2*l+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)J9e(e,n,a);l=i;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],J9e(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*l]=n[2*a]+n[2*s],e.depth[l]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=l,e.heap[1]=l++,J9e(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,f,p,h,m=0;for(f=0;f<=_9e;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)u=e.heap[c],f=n[2*n[2*u+1]+1]+1,f>l&&(f=l,m++),n[2*u+1]=f,u>r||(e.bl_count[f]++,p=0,u>=s&&(p=a[u-s]),h=n[2*u],e.opt_len+=h*(f+p),i&&(e.static_len+=h*(o[2*u+1]+p)));if(0!==m){do{for(f=l-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--)for(u=e.bl_count[f];0!==u;)d=e.heap[--c],d>r||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),u--)}})(e,t),K9e(n,c,e.bl_count)},tet=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<l&&o===a||(s<c?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))},net=(e,t,n)=>{let r,o,i=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<c)do{q9e(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(q9e(e,o,e.bl_tree),s--),q9e(e,16,e.bl_tree),W9e(e,s-3,2)):s<=10?(q9e(e,17,e.bl_tree),W9e(e,s-3,3)):(q9e(e,18,e.bl_tree),W9e(e,s-11,7));s=0,i=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4)}};let ret=!1;const oet=(e,t,n,r)=>{W9e(e,0+(r?1:0),3),Y9e(e),H9e(e,n),H9e(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var iet=e=>{ret||((()=>{let e,t,n,r,o;const i=new Array(16);for(n=0,r=0;r<28;r++)for(L9e[r]=n,e=0;e<1<<C9e[r];e++)R9e[n++]=r;for(R9e[n-1]=r,o=0,r=0;r<16;r++)for(D9e[r]=o,e=0;e<1<<T9e[r];e++)I9e[o++]=r;for(o>>=7;r<j9e;r++)for(D9e[r]=o<<7,e=0;e<1<<T9e[r]-7;e++)I9e[256+o++]=r;for(t=0;t<=_9e;t++)i[t]=0;for(e=0;e<=143;)N9e[2*e+1]=8,e++,i[8]++;for(;e<=255;)N9e[2*e+1]=9,e++,i[9]++;for(;e<=279;)N9e[2*e+1]=7,e++,i[7]++;for(;e<=287;)N9e[2*e+1]=8,e++,i[8]++;for(K9e(N9e,287,i),e=0;e<j9e;e++)M9e[2*e+1]=5,M9e[2*e]=G9e(e,5);z9e=new F9e(N9e,C9e,257,O9e,_9e),B9e=new F9e(M9e,T9e,0,j9e,_9e),$9e=new F9e(new Array(0),P9e,0,19,7)})(),ret=!0),e.l_desc=new U9e(e.dyn_ltree,z9e),e.d_desc=new U9e(e.dyn_dtree,B9e),e.bl_desc=new U9e(e.bl_tree,$9e),e.bi_buf=0,e.bi_valid=0,X9e(e)},aet=(e,t,n,r)=>{let o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<E9e;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),eet(e,e.l_desc),eet(e,e.d_desc),a=(e=>{let t;for(tet(e,e.dyn_ltree,e.l_desc.max_code),tet(e,e.dyn_dtree,e.d_desc.max_code),eet(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*A9e[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?oet(e,t,n,r):4===e.strategy||i===o?(W9e(e,2+(r?1:0),3),Q9e(e,N9e,M9e)):(W9e(e,4+(r?1:0),3),((e,t,n,r)=>{let o;for(W9e(e,t-257,5),W9e(e,n-1,5),W9e(e,r-4,4),o=0;o<r;o++)W9e(e,e.bl_tree[2*A9e[o]+1],3);net(e,e.dyn_ltree,t-1),net(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Q9e(e,e.dyn_ltree,e.dyn_dtree)),X9e(e),r&&Y9e(e)},set=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R9e[n]+E9e+1)]++,e.dyn_dtree[2*V9e(t)]++),e.sym_next===e.sym_end),cet=e=>{W9e(e,2,3),q9e(e,256,N9e),(e=>{16===e.bi_valid?(H9e(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},uet={_tr_init:iet,_tr_stored_block:oet,_tr_flush_block:aet,_tr_tally:set,_tr_align:cet};var det=(e,t,n,r)=>{let o=65535&e,i=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{o=o+t[r++]|0,i=i+o|0}while(--a);o%=65521,i%=65521}return o|i<<16};const fet=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var pet=(e,t,n,r)=>{const o=fet,i=r+n;e^=-1;for(let n=r;n<i;n++)e=e>>>8^o[255&(e^t[n])];return~e},het={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},met={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:vet,_tr_stored_block:get,_tr_flush_block:yet,_tr_tally:bet,_tr_align:wet}=uet,{Z_NO_FLUSH:xet,Z_PARTIAL_FLUSH:ket,Z_FULL_FLUSH:Eet,Z_FINISH:Oet,Z_BLOCK:jet,Z_OK:_et,Z_STREAM_END:Cet,Z_STREAM_ERROR:Tet,Z_DATA_ERROR:Pet,Z_BUF_ERROR:Aet,Z_DEFAULT_COMPRESSION:Net,Z_FILTERED:Met,Z_HUFFMAN_ONLY:Iet,Z_RLE:Ret,Z_FIXED:Let,Z_DEFAULT_STRATEGY:Det,Z_UNKNOWN:Fet,Z_DEFLATED:zet}=met,Bet=258,$et=262,Uet=42,Vet=113,Het=666,Wet=(e,t)=>(e.msg=het[t],t),qet=e=>2*e-(e>4?9:0),Get=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ket=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=o?n-o:0}while(--t);t=o,r=t;do{n=e.prev[--r],e.prev[r]=n>=o?n-o:0}while(--t)};let Xet=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Yet=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Zet=(e,t)=>{yet(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Yet(e.strm)},Jet=(e,t)=>{e.pending_buf[e.pending++]=t},Qet=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ett=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),1===e.state.wrap?e.adler=det(e.adler,t,o,n):2===e.state.wrap&&(e.adler=pet(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},ttt=(e,t)=>{let n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match;const l=e.strstart>e.w_size-$et?e.strstart-(e.w_size-$et):0,c=e.window,u=e.w_mask,d=e.prev,f=e.strstart+Bet;let p=c[i+a-1],h=c[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===h&&c[n+a-1]===p&&c[n]===c[i]&&c[++n]===c[i+1]){i+=2,n++;do{}while(c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&c[++i]===c[++n]&&i<f);if(r=Bet-(f-i),i=f-Bet,r>a){if(e.match_start=t,a=r,r>=s)break;p=c[i+a-1],h=c[i+a]}}}while((t=d[t&u])>l&&0!=--o);return a<=e.lookahead?a:e.lookahead},ntt=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-$et)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ket(e),r+=t),0===e.strm.avail_in)break;if(n=ett(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=Xet(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=Xet(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<$et&&0!==e.strm.avail_in)},rtt=(e,t)=>{let n,r,o,i=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,s=e.strm.avail_in;do{if(n=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o)break;if(o=e.strm.avail_out-o,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>o&&(n=o),n<i&&(0===n&&t!==Oet||t===xet||n!==r+e.strm.avail_in))break;a=t===Oet&&n===r+e.strm.avail_in?1:0,get(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Yet(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(ett(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return s-=e.strm.avail_in,s&&(s>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=s&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-s,e.strm.next_in),e.strstart),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==xet&&t!==Oet&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(ett(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,i=o>e.w_size?e.w_size:o,r=e.strstart-e.block_start,(r>=i||(r||t===Oet)&&t!==xet&&0===e.strm.avail_in&&r<=o)&&(n=r>o?o:r,a=t===Oet&&0===e.strm.avail_in&&n===r?1:0,get(e,e.block_start,n,a),e.block_start+=n,Yet(e.strm)),a?3:1)},ott=(e,t)=>{let n,r;for(;;){if(e.lookahead<$et){if(ntt(e),e.lookahead<$et&&t===xet)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xet(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-$et&&(e.match_length=ttt(e,n)),e.match_length>=3)if(r=bet(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Xet(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Xet(e,e.ins_h,e.window[e.strstart+1]);else r=bet(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Zet(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Oet?(Zet(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zet(e,!1),0===e.strm.avail_out)?1:2},itt=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<$et){if(ntt(e),e.lookahead<$et&&t===xet)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Xet(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-$et&&(e.match_length=ttt(e,n),e.match_length<=5&&(e.strategy===Met||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-3,r=bet(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=Xet(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Zet(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=bet(e,0,e.window[e.strstart-1]),r&&Zet(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=bet(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Oet?(Zet(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zet(e,!1),0===e.strm.avail_out)?1:2};function att(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const stt=[new att(0,0,0,0,rtt),new att(4,4,8,4,ott),new att(4,5,16,8,ott),new att(4,6,32,32,ott),new att(4,4,16,16,itt),new att(8,16,32,32,itt),new att(8,16,128,128,itt),new att(8,32,128,256,itt),new att(32,128,258,1024,itt),new att(32,258,258,4096,itt)];function ltt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zet,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Get(this.dyn_ltree),Get(this.dyn_dtree),Get(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Get(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Get(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ctt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Uet&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==Vet&&t.status!==Het?1:0},utt=e=>{if(ctt(e))return Wet(e,Tet);e.total_in=e.total_out=0,e.data_type=Fet;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Uet:Vet,e.adler=2===t.wrap?0:1,t.last_flush=-2,vet(t),_et},dtt=e=>{const t=utt(e);return t===_et&&(e=>{e.window_size=2*e.w_size,Get(e.head),e.max_lazy_match=stt[e.level].max_lazy,e.good_match=stt[e.level].good_length,e.nice_match=stt[e.level].nice_length,e.max_chain_length=stt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},ftt=(e,t,n,r,o,i)=>{if(!e)return Tet;let a=1;if(t===Net&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),o<1||o>9||n!==zet||r<8||r>15||t<0||t>9||i<0||i>Let||8===r&&1!==a)return Wet(e,Tet);8===r&&(r=9);const s=new ltt;return e.state=s,s.strm=e,s.status=Uet,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=3*(s.lit_bufsize-1),s.level=t,s.strategy=i,s.method=n,dtt(e)};var ptt=(e,t)=>ctt(e)||2!==e.state.wrap?Tet:(e.state.gzhead=t,_et),htt=(e,t)=>{if(ctt(e)||t>jet||t<0)return e?Wet(e,Tet):Tet;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===Het&&t!==Oet)return Wet(e,0===e.avail_out?Aet:Tet);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Yet(e),0===e.avail_out)return n.last_flush=-1,_et}else if(0===e.avail_in&&qet(t)<=qet(r)&&t!==Oet)return Wet(e,Aet);if(n.status===Het&&0!==e.avail_in)return Wet(e,Aet);if(n.status===Uet&&0===n.wrap&&(n.status=Vet),n.status===Uet){let t=zet+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=Iet||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Qet(n,t),0!==n.strstart&&(Qet(n,e.adler>>>16),Qet(n,65535&e.adler)),e.adler=1,n.status=Vet,Yet(e),0!==n.pending)return n.last_flush=-1,_et}if(57===n.status)if(e.adler=0,Jet(n,31),Jet(n,139),Jet(n,8),n.gzhead)Jet(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Jet(n,255&n.gzhead.time),Jet(n,n.gzhead.time>>8&255),Jet(n,n.gzhead.time>>16&255),Jet(n,n.gzhead.time>>24&255),Jet(n,9===n.level?2:n.strategy>=Iet||n.level<2?4:0),Jet(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Jet(n,255&n.gzhead.extra.length),Jet(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=pet(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Jet(n,0),Jet(n,0),Jet(n,0),Jet(n,0),Jet(n,0),Jet(n,9===n.level?2:n.strategy>=Iet||n.level<2?4:0),Jet(n,3),n.status=Vet,Yet(e),0!==n.pending)return n.last_flush=-1,_et;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=pet(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=o,Yet(e),0!==n.pending)return n.last_flush=-1,_et;t=0,r-=o}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=pet(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=pet(e.adler,n.pending_buf,n.pending-r,r)),Yet(e),0!==n.pending)return n.last_flush=-1,_et;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Jet(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=pet(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=pet(e.adler,n.pending_buf,n.pending-r,r)),Yet(e),0!==n.pending)return n.last_flush=-1,_et;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Jet(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=pet(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Yet(e),0!==n.pending))return n.last_flush=-1,_et;Jet(n,255&e.adler),Jet(n,e.adler>>8&255),e.adler=0}if(n.status=Vet,Yet(e),0!==n.pending)return n.last_flush=-1,_et}if(0!==e.avail_in||0!==n.lookahead||t!==xet&&n.status!==Het){let r=0===n.level?rtt(n,t):n.strategy===Iet?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(ntt(e),0===e.lookahead)){if(t===xet)return 1;break}if(e.match_length=0,n=bet(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Zet(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Oet?(Zet(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zet(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===Ret?((e,t)=>{let n,r,o,i;const a=e.window;for(;;){if(e.lookahead<=Bet){if(ntt(e),e.lookahead<=Bet&&t===xet)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(o=e.strstart-1,r=a[o],r===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+Bet;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=Bet-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=bet(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=bet(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Zet(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Oet?(Zet(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Zet(e,!1),0===e.strm.avail_out)?1:2})(n,t):stt[n.level].func(n,t);if(3!==r&&4!==r||(n.status=Het),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),_et;if(2===r&&(t===ket?wet(n):t!==jet&&(get(n,0,0,!1),t===Eet&&(Get(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Yet(e),0===e.avail_out))return n.last_flush=-1,_et}return t!==Oet?_et:n.wrap<=0?Cet:(2===n.wrap?(Jet(n,255&e.adler),Jet(n,e.adler>>8&255),Jet(n,e.adler>>16&255),Jet(n,e.adler>>24&255),Jet(n,255&e.total_in),Jet(n,e.total_in>>8&255),Jet(n,e.total_in>>16&255),Jet(n,e.total_in>>24&255)):(Qet(n,e.adler>>>16),Qet(n,65535&e.adler)),Yet(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?_et:Cet)},mtt=(e,t)=>{let n=t.length;if(ctt(e))return Tet;const r=e.state,o=r.wrap;if(2===o||1===o&&r.status!==Uet||r.lookahead)return Tet;if(1===o&&(e.adler=det(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===o&&(Get(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const i=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ntt(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Xet(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,ntt(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=i,r.wrap=o,_et},vtt={deflateInit:(e,t)=>ftt(e,t,zet,15,8,Det),deflateInit2:ftt,deflateReset:dtt,deflateResetKeep:utt,deflateSetHeader:ptt,deflate:htt,deflateEnd:e=>{if(ctt(e))return Tet;const t=e.state.status;return e.state=null,t===Vet?Wet(e,Pet):_et},deflateSetDictionary:mtt,deflateInfo:"pako deflate (from Nodeca project)"};const gtt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var ytt=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)gtt(n,t)&&(e[t]=n[t])}}return e},btt=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,o=e.length;t<o;t++){let o=e[t];n.set(o,r),r+=o.length}return n};let wtt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){wtt=!1}const xtt=new Uint8Array(256);for(let e=0;e<256;e++)xtt[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xtt[254]=xtt[254]=1;var Stt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,o,i,a=e.length,s=0;for(o=0;o<a;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),i=0,o=0;i<s;o++)n=e.charCodeAt(o),55296==(64512&n)&&o+1<a&&(r=e.charCodeAt(o+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|63&n):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|63&n):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|63&n);return t},ktt=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,o;const i=new Array(2*n);for(o=0,r=0;r<n;){let t=e[r++];if(t<128){i[o++]=t;continue}let a=xtt[t];if(a>4)i[o++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?i[o++]=65533:t<65536?i[o++]=t:(t-=65536,i[o++]=55296|t>>10&1023,i[o++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&wtt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(i,o)},Ett=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+xtt[e[n]]>t?n:t};var Ott=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const jtt=Object.prototype.toString,{Z_NO_FLUSH:_tt,Z_SYNC_FLUSH:Ctt,Z_FULL_FLUSH:Ttt,Z_FINISH:Ptt,Z_OK:Att,Z_STREAM_END:Ntt,Z_DEFAULT_COMPRESSION:Mtt,Z_DEFAULT_STRATEGY:Itt,Z_DEFLATED:Rtt}=met;function Ltt(e){this.options=ytt({level:Mtt,method:Rtt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Itt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ott,this.strm.avail_out=0;let n=vtt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Att)throw new Error(het[n]);if(t.header&&vtt.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Stt(t.dictionary):"[object ArrayBuffer]"===jtt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=vtt.deflateSetDictionary(this.strm,e),n!==Att)throw new Error(het[n]);this._dict_set=!0}}function Dtt(e,t){const n=new Ltt(t);if(n.push(e,!0),n.err)throw n.msg||het[n.err];return n.result}Ltt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(i=t===~~t?t:!0===t?Ptt:_tt,"string"==typeof e?n.input=Stt(e):"[object ArrayBuffer]"===jtt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Ctt||i===Ttt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(o=vtt.deflate(n,i),o===Ntt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=vtt.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Att;if(0!==n.avail_out){if(i>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},Ltt.prototype.onData=function(e){this.chunks.push(e)},Ltt.prototype.onEnd=function(e){e===Att&&(this.result=btt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ftt=function(e,t){return(t=t||{}).raw=!0,Dtt(e,t)},ztt=function(e,t){return(t=t||{}).gzip=!0,Dtt(e,t)},Btt={Deflate:Ltt,deflate:Dtt,deflateRaw:Ftt,gzip:ztt,constants:met};const $tt=16209;var Utt=function(e,t){let n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S,k,E,O;const j=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),o=e.next_out,O=e.output,i=o-(t-e.avail_out),a=o+(e.avail_out-257),s=j.dmax,l=j.wsize,c=j.whave,u=j.wnext,d=j.window,f=j.hold,p=j.bits,h=j.lencode,m=j.distcode,v=(1<<j.lenbits)-1,g=(1<<j.distbits)-1;e:do{p<15&&(f+=E[n++]<<p,p+=8,f+=E[n++]<<p,p+=8),y=h[f&v];t:for(;;){if(b=y>>>24,f>>>=b,p-=b,b=y>>>16&255,0===b)O[o++]=65535&y;else{if(!(16&b)){if(64&b){if(32&b){j.mode=16191;break e}e.msg="invalid literal/length code",j.mode=$tt;break e}y=h[(65535&y)+(f&(1<<b)-1)];continue t}for(w=65535&y,b&=15,b&&(p<b&&(f+=E[n++]<<p,p+=8),w+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=E[n++]<<p,p+=8,f+=E[n++]<<p,p+=8),y=m[f&g];;){if(b=y>>>24,f>>>=b,p-=b,b=y>>>16&255,16&b){if(x=65535&y,b&=15,p<b&&(f+=E[n++]<<p,p+=8,p<b&&(f+=E[n++]<<p,p+=8)),x+=f&(1<<b)-1,x>s){e.msg="invalid distance too far back",j.mode=$tt;break e}if(f>>>=b,p-=b,b=o-i,x>b){if(b=x-b,b>c&&j.sane){e.msg="invalid distance too far back",j.mode=$tt;break e}if(S=0,k=d,0===u){if(S+=l-b,b<w){w-=b;do{O[o++]=d[S++]}while(--b);S=o-x,k=O}}else if(u<b){if(S+=l+u-b,b-=u,b<w){w-=b;do{O[o++]=d[S++]}while(--b);if(S=0,u<w){b=u,w-=b;do{O[o++]=d[S++]}while(--b);S=o-x,k=O}}}else if(S+=u-b,b<w){w-=b;do{O[o++]=d[S++]}while(--b);S=o-x,k=O}for(;w>2;)O[o++]=k[S++],O[o++]=k[S++],O[o++]=k[S++],w-=3;w&&(O[o++]=k[S++],w>1&&(O[o++]=k[S++]))}else{S=o-x;do{O[o++]=O[S++],O[o++]=O[S++],O[o++]=O[S++],w-=3}while(w>2);w&&(O[o++]=O[S++],w>1&&(O[o++]=O[S++]))}break}if(64&b){e.msg="invalid distance code",j.mode=$tt;break e}y=m[(65535&y)+(f&(1<<b)-1)]}}break}}while(n<r&&o<a);w=p>>3,n-=w,p-=w<<3,f&=(1<<p)-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<a?a-o+257:257-(o-a),j.hold=f,j.bits=p};const Vtt=15,Htt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wtt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),qtt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Gtt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ktt=(e,t,n,r,o,i,a,s)=>{const l=s.bits;let c,u,d,f,p,h,m=0,v=0,g=0,y=0,b=0,w=0,x=0,S=0,k=0,E=0,O=null;const j=new Uint16Array(16),_=new Uint16Array(16);let C,T,P,A=null;for(m=0;m<=Vtt;m++)j[m]=0;for(v=0;v<r;v++)j[t[n+v]]++;for(b=l,y=Vtt;y>=1&&0===j[y];y--);if(b>y&&(b=y),0===y)return o[i++]=20971520,o[i++]=20971520,s.bits=1,0;for(g=1;g<y&&0===j[g];g++);for(b<g&&(b=g),S=1,m=1;m<=Vtt;m++)if(S<<=1,S-=j[m],S<0)return-1;if(S>0&&(0===e||1!==y))return-1;for(_[1]=0,m=1;m<Vtt;m++)_[m+1]=_[m]+j[m];for(v=0;v<r;v++)0!==t[n+v]&&(a[_[t[n+v]]++]=v);if(0===e?(O=A=a,h=20):1===e?(O=Htt,A=Wtt,h=257):(O=qtt,A=Gtt,h=0),E=0,v=0,m=g,p=i,w=b,x=0,d=-1,k=1<<b,f=k-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){C=m-x,a[v]+1<h?(T=0,P=a[v]):a[v]>=h?(T=A[a[v]-h],P=O[a[v]-h]):(T=96,P=0),c=1<<m-x,u=1<<w,g=u;do{u-=c,o[p+(E>>x)+u]=C<<24|T<<16|P}while(0!==u);for(c=1<<m-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,v++,0==--j[m]){if(m===y)break;m=t[n+a[v]]}if(m>b&&(E&f)!==d){for(0===x&&(x=b),p+=g,w=m-x,S=1<<w;w+x<y&&(S-=j[w+x],!(S<=0));)w++,S<<=1;if(k+=1<<w,1===e&&k>852||2===e&&k>592)return 1;d=E&f,o[d]=b<<24|w<<16|p-i}}return 0!==E&&(o[p+E]=m-x<<24|64<<16),s.bits=b,0};const{Z_FINISH:Xtt,Z_BLOCK:Ytt,Z_TREES:Ztt,Z_OK:Jtt,Z_STREAM_END:Qtt,Z_NEED_DICT:ent,Z_STREAM_ERROR:tnt,Z_DATA_ERROR:nnt,Z_MEM_ERROR:rnt,Z_BUF_ERROR:ont,Z_DEFLATED:int}=met,ant=16180,snt=16190,lnt=16191,cnt=16192,unt=16194,dnt=16199,fnt=16200,pnt=16206,hnt=16209,mnt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function vnt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gnt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ant||t.mode>16211?1:0},ynt=e=>{if(gnt(e))return tnt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=ant,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Jtt},bnt=e=>{if(gnt(e))return tnt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,ynt(e)},wnt=(e,t)=>{let n;if(gnt(e))return tnt;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?tnt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,bnt(e))},xnt=(e,t)=>{if(!e)return tnt;const n=new vnt;e.state=n,n.strm=e,n.window=null,n.mode=ant;const r=wnt(e,t);return r!==Jtt&&(e.state=null),r};let Snt,knt,Ent=!0;const Ont=e=>{if(Ent){Snt=new Int32Array(512),knt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ktt(1,e.lens,0,288,Snt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ktt(2,e.lens,0,32,knt,0,e.work,{bits:5}),Ent=!1}e.lencode=Snt,e.lenbits=9,e.distcode=knt,e.distbits=5},jnt=(e,t,n,r)=>{let o;const i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),(r-=o)?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};var _nt=(e,t)=>{let n,r,o,i,a,s,l,c,u,d,f,p,h,m,v,g,y,b,w,x,S,k,E=0;const O=new Uint8Array(4);let j,_;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gnt(e)||!e.output||!e.input&&0!==e.avail_in)return tnt;n=e.state,n.mode===lnt&&(n.mode=cnt),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,d=s,f=l,k=Jtt;e:for(;;)switch(n.mode){case ant:if(0===n.wrap){n.mode=cnt;break}for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,O[0]=255&c,O[1]=c>>>8&255,n.check=pet(n.check,O,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=hnt;break}if((15&c)!==int){e.msg="unknown compression method",n.mode=hnt;break}if(c>>>=4,u-=4,S=8+(15&c),0===n.wbits&&(n.wbits=S),S>15||S>n.wbits){e.msg="invalid window size",n.mode=hnt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:lnt,c=0,u=0;break;case 16181:for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==int){e.msg="unknown compression method",n.mode=hnt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=hnt;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(O[0]=255&c,O[1]=c>>>8&255,n.check=pet(n.check,O,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(O[0]=255&c,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,n.check=pet(n.check,O,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(O[0]=255&c,O[1]=c>>>8&255,n.check=pet(n.check,O,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(O[0]=255&c,O[1]=c>>>8&255,n.check=pet(n.check,O,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(S=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+p),S)),512&n.flags&&4&n.wrap&&(n.check=pet(n.check,r,p,i)),s-=p,i+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===s)break e;p=0;do{S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.name+=String.fromCharCode(S))}while(S&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=pet(n.check,r,p,i)),s-=p,i+=p,S)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===s)break e;p=0;do{S=r[i+p++],n.head&&S&&n.length<65536&&(n.head.comment+=String.fromCharCode(S))}while(S&&p<s);if(512&n.flags&&4&n.wrap&&(n.check=pet(n.check,r,p,i)),s-=p,i+=p,S)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=hnt;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=lnt;break;case 16189:for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}e.adler=n.check=mnt(c),c=0,u=0,n.mode=snt;case snt:if(0===n.havedict)return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,ent;e.adler=n.check=1,n.mode=lnt;case lnt:if(t===Ytt||t===Ztt)break e;case cnt:if(n.last){c>>>=7&u,u-=7&u,n.mode=pnt;break}for(;u<3;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(Ont(n),n.mode=dnt,t===Ztt){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=hnt}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=hnt;break}if(n.length=65535&c,c=0,u=0,n.mode=unt,t===Ztt)break e;case unt:n.mode=16195;case 16195:if(p=n.length,p){if(p>s&&(p=s),p>l&&(p=l),0===p)break e;o.set(r.subarray(i,i+p),a),s-=p,i+=p,l-=p,a+=p,n.length-=p;break}n.mode=lnt;break;case 16196:for(;u<14;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=hnt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.lens[C[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[C[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,j={bits:n.lenbits},k=Ktt(0,n.lens,0,19,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid code lengths set",n.mode=hnt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,g=E>>>16&255,y=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(y<16)c>>>=v,u-=v,n.lens[n.have++]=y;else{if(16===y){for(_=v+2;u<_;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(c>>>=v,u-=v,0===n.have){e.msg="invalid bit length repeat",n.mode=hnt;break}S=n.lens[n.have-1],p=3+(3&c),c>>>=2,u-=2}else if(17===y){for(_=v+3;u<_;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=v,u-=v,S=0,p=3+(7&c),c>>>=3,u-=3}else{for(_=v+7;u<_;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=v,u-=v,S=0,p=11+(127&c),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=hnt;break}for(;p--;)n.lens[n.have++]=S}}if(n.mode===hnt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=hnt;break}if(n.lenbits=9,j={bits:n.lenbits},k=Ktt(1,n.lens,0,n.nlen,n.lencode,0,n.work,j),n.lenbits=j.bits,k){e.msg="invalid literal/lengths set",n.mode=hnt;break}if(n.distbits=6,n.distcode=n.distdyn,j={bits:n.distbits},k=Ktt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,j),n.distbits=j.bits,k){e.msg="invalid distances set",n.mode=hnt;break}if(n.mode=dnt,t===Ztt)break e;case dnt:n.mode=fnt;case fnt:if(s>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,Utt(e,f),a=e.next_out,o=e.output,l=e.avail_out,i=e.next_in,r=e.input,s=e.avail_in,c=n.hold,u=n.bits,n.mode===lnt&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],v=E>>>24,g=E>>>16&255,y=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(g&&!(240&g)){for(b=v,w=g,x=y;E=n.lencode[x+((c&(1<<b+w)-1)>>b)],v=E>>>24,g=E>>>16&255,y=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,n.length=y,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=lnt;break}if(64&g){e.msg="invalid literal/length code",n.mode=hnt;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(_=n.extra;u<_;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[c&(1<<n.distbits)-1],v=E>>>24,g=E>>>16&255,y=65535&E,!(v<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(!(240&g)){for(b=v,w=g,x=y;E=n.distcode[x+((c&(1<<b+w)-1)>>b)],v=E>>>24,g=E>>>16&255,y=65535&E,!(b+v<=u);){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}c>>>=b,u-=b,n.back+=b}if(c>>>=v,u-=v,n.back+=v,64&g){e.msg="invalid distance code",n.mode=hnt;break}n.offset=y,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(_=n.extra;u<_;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=hnt;break}n.mode=16204;case 16204:if(0===l)break e;if(p=f-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=hnt;break}p>n.wnext?(p-=n.wnext,h=n.wsize-p):h=n.wnext-p,p>n.length&&(p=n.length),m=n.window}else m=o,h=a-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{o[a++]=m[h++]}while(--p);0===n.length&&(n.mode=fnt);break;case 16205:if(0===l)break e;o[a++]=n.length,l--,n.mode=fnt;break;case pnt:if(n.wrap){for(;u<32;){if(0===s)break e;s--,c|=r[i++]<<u,u+=8}if(f-=l,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?pet(n.check,o,f,a-f):det(n.check,o,f,a-f)),f=l,4&n.wrap&&(n.flags?c:mnt(c))!==n.check){e.msg="incorrect data check",n.mode=hnt;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break e;s--,c+=r[i++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=hnt;break}c=0,u=0}n.mode=16208;case 16208:k=Qtt;break e;case hnt:k=nnt;break e;case 16210:return rnt;default:return tnt}return e.next_out=a,e.avail_out=l,e.next_in=i,e.avail_in=s,n.hold=c,n.bits=u,(n.wsize||f!==e.avail_out&&n.mode<hnt&&(n.mode<pnt||t!==Xtt))&&jnt(e,e.output,e.next_out,f-e.avail_out),d-=e.avail_in,f-=e.avail_out,e.total_in+=d,e.total_out+=f,n.total+=f,4&n.wrap&&f&&(e.adler=n.check=n.flags?pet(n.check,o,f,e.next_out-f):det(n.check,o,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===lnt?128:0)+(n.mode===dnt||n.mode===unt?256:0),(0===d&&0===f||t===Xtt)&&k===Jtt&&(k=ont),k},Cnt=(e,t)=>{if(gnt(e))return tnt;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,Jtt):tnt},Tnt={inflateReset:bnt,inflateReset2:wnt,inflateResetKeep:ynt,inflateInit:e=>xnt(e,15),inflateInit2:xnt,inflate:_nt,inflateEnd:e=>{if(gnt(e))return tnt;let t=e.state;return t.window&&(t.window=null),e.state=null,Jtt},inflateGetHeader:Cnt,inflateSetDictionary:(e,t)=>{const n=t.length;let r,o,i;return gnt(e)?tnt:(r=e.state,0!==r.wrap&&r.mode!==snt?tnt:r.mode===snt&&(o=1,o=det(o,t,n,0),o!==r.check)?nnt:(i=jnt(e,t,n,n),i?(r.mode=16210,rnt):(r.havedict=1,Jtt)))},inflateInfo:"pako inflate (from Nodeca project)"};var Pnt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ant=Object.prototype.toString,{Z_NO_FLUSH:Nnt,Z_FINISH:Mnt,Z_OK:Int,Z_STREAM_END:Rnt,Z_NEED_DICT:Lnt,Z_STREAM_ERROR:Dnt,Z_DATA_ERROR:Fnt,Z_MEM_ERROR:znt}=met;function Bnt(e){this.options=ytt({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ott,this.strm.avail_out=0;let n=Tnt.inflateInit2(this.strm,t.windowBits);if(n!==Int)throw new Error(het[n]);if(this.header=new Pnt,Tnt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Stt(t.dictionary):"[object ArrayBuffer]"===Ant.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Tnt.inflateSetDictionary(this.strm,t.dictionary),n!==Int)))throw new Error(het[n])}function $nt(e,t){const n=new Bnt(t);if(n.push(e),n.err)throw n.msg||het[n.err];return n.result}Bnt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Mnt:Nnt,"[object ArrayBuffer]"===Ant.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=Tnt.inflate(n,a),i===Lnt&&o&&(i=Tnt.inflateSetDictionary(n,o),i===Int?i=Tnt.inflate(n,a):i===Fnt&&(i=Lnt));n.avail_in>0&&i===Rnt&&n.state.wrap>0&&0!==e[n.next_in];)Tnt.inflateReset(n),i=Tnt.inflate(n,a);switch(i){case Dnt:case Fnt:case Lnt:case znt:return this.onEnd(i),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||i===Rnt))if("string"===this.options.to){let e=Ett(n.output,n.next_out),t=n.next_out-e,o=ktt(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(o)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(i!==Int||0!==s){if(i===Rnt)return i=Tnt.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Bnt.prototype.onData=function(e){this.chunks.push(e)},Bnt.prototype.onEnd=function(e){e===Int&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=btt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Unt=function(e,t){return(t=t||{}).raw=!0,$nt(e,t)},Vnt={Inflate:Bnt,inflate:$nt,inflateRaw:Unt,ungzip:$nt,constants:met};const{Deflate:Hnt,deflate:Wnt,deflateRaw:qnt,gzip:Gnt}=Btt,{Inflate:Knt,inflate:Xnt,inflateRaw:Ynt,ungzip:Znt}=Vnt;var Jnt={Deflate:Hnt,deflate:Wnt,deflateRaw:qnt,gzip:Gnt,Inflate:Knt,inflate:Xnt,inflateRaw:Ynt,ungzip:Znt,constants:met};function Qnt(e){return Qnt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qnt(e)}function ert(){ert=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Qnt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Qnt(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function trt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nrt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){trt(i,r,o,a,s,"next",e)}function s(e){trt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var rrt=function(){var e=nrt(ert().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d;return ert().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=lessonData,n=decodeURIComponent(escape(atob(t))),r=JSON.parse(n),o=staticLearnerStrings,i=decodeURIComponent(escape(atob(o))),a=JSON.parse(i),s=window.languages||{mainLanguage:"EN",supportedLanguages:["EN"]},l=irt(),c=l.blockStates,u=l.selectedBlockId,d=u&&r.blockOrder.includes(u)?u:r.blockOrder[0],be.setState({lessonContent:r,launchType:"static",lessonId:r.id,blockStates:c||{},loading:!1,selectedBlockId:d,supportedLanguages:s.supportedLanguages,mainLessonLanguage:s.mainLanguage,staticLearnerStringsObject:a});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ort=function(){var e=nrt(ert().mark((function e(){var t,n,r,o,i,a,s,l,c,u,d;return ert().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=lessonData,n=decodeURIComponent(escape(atob(t))),r=JSON.parse(n),o=staticLearnerStrings,i=decodeURIComponent(escape(atob(o))),a=JSON.parse(i),s=window.languages||{mainLanguage:"EN",supportedLanguages:["EN"]},l=function(){var e=localStorage.getItem("lesson-progress");if(!e)return{};var t=JSON.parse(e),n=new Uint8Array(t),r=Jnt.inflate(n,{to:"string"});return JSON.parse(r)}(),c=l.blockStates,u=l.selectedBlockId,d=u&&r.blockOrder.includes(u)?u:r.blockOrder[0],be.setState({lessonContent:r,launchType:"website",lessonId:r.id,blockStates:c||{},loading:!1,selectedBlockId:d,supportedLanguages:s.supportedLanguages,mainLessonLanguage:s.mainLanguage,staticLearnerStringsObject:a});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),irt=function(){var e,t,n,r,o,i;"1.2"===(null===(e=window)||void 0===e?void 0:e.scorm_type)&&(n=null===(r=window)||void 0===r?void 0:r.scorm_api.LMSGetValue("cmi.suspend_data"));"2004"===(null===(t=window)||void 0===t?void 0:t.scorm_type)&&(n=null===(o=window)||void 0===o?void 0:o.scorm_api.GetValue("cmi.suspend_data"));if(!n){var a,s,l,c,u;if("1.2"===(null===(a=window)||void 0===a?void 0:a.scorm_type))null===(l=window)||void 0===l||l.scorm_api.LMSSetValue("cmi.core.lesson_status","incomplete");if("2004"===(null===(s=window)||void 0===s?void 0:s.scorm_type))null===(c=window)||void 0===c||c.scorm_api.SetValue("cmi.completion_status","incomplete"),null===(u=window)||void 0===u||u.scorm_api.SetValue("cmi.success_status","unknown");return{}}try{i=JSON.parse(n)}catch(e){i=n.split(",").map(Number)}var d=new Uint8Array(i),f=Jnt.inflate(d,{to:"string"});return JSON.parse(f)};function art(e){return art="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},art(e)}function srt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lrt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lrt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lrt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function crt(){crt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==art(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(art(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function urt(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function drt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){urt(i,r,o,a,s,"next",e)}function s(e){urt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var frt=function(){var e=drt(crt().mark((function e(t,n){var r,o,i,a,s;return crt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=be.getState().lessonContent,o=Wp({lessonContent:r,selectedBlockId:be.getState().selectedBlockId,blockStates:be.getState().blockStates,clipAtCompleted:!n}),!(i=document.querySelector(".swiper-container"))){e.next=9;break}if(-1!==(a=o.indexOf(t))){e.next=7;break}throw new Error("scrollToIndex not found");case 7:s=a*window.innerWidth,i.scrollTo({left:s});case 9:return e.next=11,new Promise((function(e){return setTimeout(e,250)}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function prt(e){var t,r,o,i,a,s,l=e.lessonId,c=be((function(e){return e.attemptNumber})),u=M6e();V6e(u,"swiper"),R6e(e.preview);var d,f=null===(t=be.getState().lessonContent)||void 0===t?void 0:t.settings.navigationFreedom,p=(0,n.useRef)(u),h=(0,n.useRef)(!0),m=be((function(e){return Ro(e.lessonContent)})),v=Bs(),g=(d=e.preview,be((function(e){var t=e.lessonContent,n=e.blockStates;return Wp({lessonContent:t,selectedBlockId:e.selectedBlockId,blockStates:n,clipAtCompleted:!d})}))),y=function(){var t=drt(crt().mark((function t(n){return crt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.current=!1,t.next=3,frt(n,e.preview);case 3:h.current=!0;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,n.useEffect)((function(){u!==p.current&&(p.current=u,y(u))}),[u]),(0,n.useEffect)((function(){y(u)}),[]);var b=be.getState().blockStates;(0,n.useEffect)((function(){var t,n;if(e.isCourseViewer){var r=null===(t=be.getState().courseAttempt)||void 0===t?void 0:t.lessonAttempts,o=null==r?void 0:r[l];e.preview||!i7e()||null!=o&&o.completed||(h5e(),u3e(l),L(ZK("Lesson completed!"),{variant:"default"}));var i=null===(n=be.getState().courseAttempt)||void 0===n?void 0:n.completed;a7e()&&!i&&r7e()}else{var a,s=be.getState().completed;null===(a=be.getState().lessonContent)||void 0===a||a.settings.navigationFreedom;i7e()&&!s&&h5e()}}),[b]),(0,n.useEffect)((function(){e.isCourseViewer&&E5e()}),[e.isCourseViewer,l]);var w=srt((0,n.useState)(!1),2),x=w[0],S=w[1],k=srt((0,n.useState)(!1),2),E=k[0],O=k[1],j=null===(r=be.getState().lessonContent)||void 0===r?void 0:r.settings.learnerEntranceSurvey,_=null===(o=be.getState().lessonContent)||void 0===o?void 0:o.settings.learnerEntranceSurveyEmail,C=be((function(e){return e.launchType})),T=!(!j&&!_||e.preview||e.isCourseViewer||"static"===C||"website"===C),P=srt((0,n.useState)(T),2),A=P[0],N=P[1],M=null===(i=be.getState().lessonContents)||void 0===i?void 0:i.findIndex((function(e){return e.id===l})),I=null===(a=be.getState().lessonContents)||void 0===a||null===(a=a[M+1])||void 0===a?void 0:a.id,R=(null===(s=be.getState().lessonContents)||void 0===s||null===(s=s[M-1])||void 0===s||s.id,Bp()),L=L4().enqueueSnackbar;(0,n.useEffect)((function(){var e,t=be.getState().lessonContent;0===Ro(t).indexOf(u)&&(null!==(e=t.narrationMap)&&void 0!==e&&e[u]||L(ZK("Tap left or right to navigate"),{anchorOrigin:{vertical:"bottom",horizontal:"center"},preventDuplicate:!0}))}),[]);var D=(0,n.useCallback)(drt(crt().mark((function t(){var n,r,o,i;return crt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(R||e.preview){t.next=3;break}return L(ZK("Complete the current page before moving on."),{preventDuplicate:!0}),t.abrupt("return");case 3:if(!R&&e.preview&&L("Learners will be required to complete this page to continue.",{preventDuplicate:!0}),R||e.preview||"open"!==f||L("Lesson is incomplete. Completion will be required to finish the course."),n=be.getState().lessonContent,r=Tp(be.getState().blockStates,n),o=u===m[m.length-1],r.passed||!N6e(u)||e.preview){t.next=11;break}return O(!0),t.abrupt("return");case 11:if(N6e(u)&&!o&&O(!0),!o){t.next=15;break}return e.isCourseViewer?e.preview?I?e.navigateToLessonPreview&&e.navigateToLessonPreview(I):e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):I?e.navigateToLessonLearn&&e.navigateToLessonLearn(I):(null===(i=be.getState().lessonContent)||void 0===i?void 0:i.settings.navigationFreedom,a7e()?e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):L(ZK("Complete content first"),{variant:"default"})):(e.preview||"restricted"===f)&&S(!0),t.abrupt("return");case 15:return be.setState({currentNarrationIndex:0}),setTimeout((function(){document.querySelectorAll("audio").forEach((function(e){e.pause()}))}),0),t.next=19,new Promise((function(e){return setTimeout(e,1)}));case 19:return t.next=21,C5e();case 21:case"end":return t.stop()}}),t)}))),[R,e.preview,m,u,l,L]),F=(0,n.useCallback)(Eh()((function(){return D()}),4e3,{trailing:!1}),[R,e.preview,L,v,m]),z=Sh(),B=xh(),$=(B.isDarkTheme,B.whiteContrastColor);return(0,Ut.jsxs)(Ut.Fragment,{children:[(0,Ut.jsx)(A5e,{}),(0,Ut.jsxs)(XSe.Provider,{value:{onGoForward:D,onGoBackward:c5e},children:[(0,Ut.jsx)(L5e,{}),!e.isCourseViewer&&(0,Ut.jsx)("div",{className:"fixed left-0 top-0 z-[60] p-2 pt-6",children:(0,Ut.jsx)(Q8e,{preview:e.preview,ViewerLanguageSwitcher:e.ViewerLanguageSwitcher})}),(0,Ut.jsx)(i3e,{id:u,className:"fixed bottom-0 left-0 right-0 top-0",style:{fontFamily:z.headerFont.name||"inherit"},children:(0,Ut.jsxs)("div",{onClick:function(e){var t=e.target;if(1===e.detail&&!document.querySelector(".MuiPopover-root")){for(;t;){var n;if(null!==(n=t.dataset)&&void 0!==n&&n.noNavigate||"BUTTON"===t.tagName||"A"===t.tagName||"BUTTON"===t.tagName||"INPUT"===t.tagName||"TEXTAREA"===t.tagName)return;var r=t.parentElement;if(!r)break;t=r}e.clientX<window.innerWidth/2?c5e():D()}},onScroll:function(t){if(h.current){var n=be.getState().launchToken;null===be.getState().startedAt&&n&&E5e();var r=t.target.scrollLeft,o=window.innerWidth,i=Math.round(r/o),a=g[i];if(r-10>g.length*o-o)F();else{var s=m[m.length-1]===a;a&&u!==a&&(ZPe(a),p.current=a,N6e(u)&&function(e,t){var n=be.getState().lessonContent,r=Ro(n),o=r.indexOf(e);return r.indexOf(t)>o}(u,a)&&!s&&(O(!0),e.preview&&L("Learners will be required to pass the quiz to continue.",{preventDuplicate:!0})))}}},className:vr("hide-scroll swiper-container fixed bottom-0 left-0 right-0 top-0 flex w-full snap-x snap-mandatory snap-start overflow-x-auto"),children:[g.map((function(t){return(0,Ut.jsx)("div",{"data-block-id":t,children:(0,Ut.jsx)("div",{className:"h-full w-[100vw] snap-start snap-always overflow-y-scroll",children:(0,Ut.jsx)(r5e,{preview:e.preview,id:t,mode:dh.VIEW})})},t)})),(0,Ut.jsx)("div",{children:(0,Ut.jsx)("div",{className:"end-cap h-full w-[50px]"})})]},c)}),!e.isCourseViewer&&(0,Ut.jsx)(P6e,{onClose:function(){S(!1)},open:x,isPreview:e.preview}),(0,Ut.jsx)(A6e,{onClose:function(){O(!1)},open:E}),(0,Ut.jsx)(e3e,{open:A,setOpen:N,preview:e.preview,whiteContrastColor:$,LearnerEntranceSurveyProvider:Q5e}),!e.preview&&(0,Ut.jsx)(l9e,{}),(0,Ut.jsx)(d9e,{isCourseViewer:e.isCourseViewer,onViewClick:function(){e.isCourseViewer?e.setCourseCompletionDialogOpen&&e.setCourseCompletionDialogOpen(!0):S(!0)}}),(0,Ut.jsx)("div",{className:"fixed bottom-0 left-0 z-10 p-2",children:(0,Ut.jsx)(qpe,{newPositioning:!0})})]})]})}var hrt=.999,mrt=/[\\\/_+.#"@\[\(\{&]/,vrt=/[\\\/_+.#"@\[\(\{&]/g,grt=/[\s-]/,yrt=/[\s-]/g;function brt(e,t,n,r,o,i,a){if(i===t.length)return o===e.length?1:.99;var s=`${o},${i}`;if(void 0!==a[s])return a[s];for(var l,c,u,d,f=r.charAt(i),p=n.indexOf(f,o),h=0;p>=0;)(l=brt(e,t,n,r,p+1,i+1,a))>h&&(p===o?l*=1:mrt.test(e.charAt(p-1))?(l*=.8,(u=e.slice(o,p-1).match(vrt))&&o>0&&(l*=Math.pow(hrt,u.length))):grt.test(e.charAt(p-1))?(l*=.9,(d=e.slice(o,p-1).match(yrt))&&o>0&&(l*=Math.pow(hrt,d.length))):(l*=.17,o>0&&(l*=Math.pow(hrt,p-o))),e.charAt(p)!==t.charAt(i)&&(l*=.9999)),(l<.1&&n.charAt(p-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(p-1)!==r.charAt(i))&&(.1*(c=brt(e,t,n,r,p+1,i+2,a))>l&&(l=.1*c)),l>h&&(h=l),p=n.indexOf(f,p+1);return a[s]=h,h}function wrt(e){return e.toLowerCase().replace(yrt," ")}function xrt(e,t){return brt(e,t,wrt(e),wrt(t),0,0,{})}function Srt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function krt(...e){return t=>e.forEach((e=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(e,t)))}function Ert(...e){return(0,n.useCallback)(krt(...e),e)}function Ort(...e){const t=e[0];if(1===e.length)return t;const r=()=>{const r=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const o=r.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return(0,n.useMemo)((()=>({[`__scope${t.scopeName}`]:o})),[o])}};return r.scopeName=t.scopeName,r}const jrt=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?n.useLayoutEffect:()=>{},_rt=r["useId".toString()]||(()=>{});let Crt=0;function Trt(e){const[t,r]=n.useState(_rt());return jrt((()=>{e||r((e=>null!=e?e:String(Crt++)))}),[e]),e||(t?`radix-${t}`:"")}function Prt(e){const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e})),(0,n.useMemo)((()=>(...e)=>{var n;return null===(n=t.current)||void 0===n?void 0:n.call(t,...e)}),[])}function Art({prop:e,defaultProp:t,onChange:r=()=>{}}){const[o,i]=function({defaultProp:e,onChange:t}){const r=(0,n.useState)(e),[o]=r,i=(0,n.useRef)(o),a=Prt(t);return(0,n.useEffect)((()=>{i.current!==o&&(a(o),i.current=o)}),[o,i,a]),r}({defaultProp:t,onChange:r}),a=void 0!==e,s=a?e:o,l=Prt(r),c=(0,n.useCallback)((t=>{if(a){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else i(t)}),[a,e,i,l]);return[s,c]}const Nrt=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e,i=n.Children.toArray(r),a=i.find(Rrt);if(a){const e=a.props.children,r=i.map((t=>t===a?n.Children.count(e)>1?n.Children.only(null):(0,n.isValidElement)(e)?e.props.children:null:t));return(0,n.createElement)(Mrt,(0,ke.A)({},o,{ref:t}),(0,n.isValidElement)(e)?(0,n.cloneElement)(e,void 0,r):null)}return(0,n.createElement)(Mrt,(0,ke.A)({},o,{ref:t}),r)}));Nrt.displayName="Slot";const Mrt=(0,n.forwardRef)(((e,t)=>{const{children:r,...o}=e;return(0,n.isValidElement)(r)?(0,n.cloneElement)(r,{...Lrt(o,r.props),ref:krt(t,r.ref)}):n.Children.count(r)>1?n.Children.only(null):null}));Mrt.displayName="SlotClone";const Irt=({children:e})=>(0,n.createElement)(n.Fragment,null,e);function Rrt(e){return(0,n.isValidElement)(e)&&e.type===Irt}function Lrt(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?n[r]=(...e)=>{null==i||i(...e),null==o||o(...e)}:"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}const Drt=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const r=(0,n.forwardRef)(((e,r)=>{const{asChild:o,...i}=e,a=o?Nrt:t;return(0,n.useEffect)((()=>{window[Symbol.for("radix-ui")]=!0}),[]),(0,n.createElement)(a,(0,ke.A)({},i,{ref:r}))}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});const Frt="dismissableLayer.update",zrt="dismissableLayer.pointerDownOutside",Brt="dismissableLayer.focusOutside";let $rt;const Urt=(0,n.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vrt=(0,n.forwardRef)(((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:s,onDismiss:l,...c}=e,u=(0,n.useContext)(Urt),[d,f]=(0,n.useState)(null),[,p]=(0,n.useState)({}),h=Ert(t,(e=>f(e))),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,w=y>=g,x=function(e){const t=Prt(e),r=(0,n.useRef)(!1),o=(0,n.useRef)((()=>{}));return(0,n.useEffect)((()=>{const e=e=>{if(e.target&&!r.current){const n={originalEvent:e};function i(){Wrt(zrt,t,n,{discrete:!0})}"touch"===e.pointerType?(document.removeEventListener("click",o.current),o.current=i,document.addEventListener("click",o.current,{once:!0})):i()}r.current=!1},n=window.setTimeout((()=>{document.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(n),document.removeEventListener("pointerdown",e),document.removeEventListener("click",o.current)}}),[t]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));w&&!n&&(null==i||i(e),null==s||s(e),e.defaultPrevented||null==l||l())})),S=function(e){const t=Prt(e),r=(0,n.useRef)(!1);return(0,n.useEffect)((()=>{const e=e=>{if(e.target&&!r.current){Wrt(Brt,t,{originalEvent:e},{discrete:!1})}};return document.addEventListener("focusin",e),()=>document.removeEventListener("focusin",e)}),[t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null==a||a(e),null==s||s(e),e.defaultPrevented||null==l||l())}));return function(e){const t=Prt(e);(0,n.useEffect)((()=>{const e=e=>{"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[t])}((e=>{y===u.layers.size-1&&(null==o||o(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))})),(0,n.useEffect)((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&($rt=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Hrt(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(document.body.style.pointerEvents=$rt)}}),[d,r,u]),(0,n.useEffect)((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Hrt())}),[d,u]),(0,n.useEffect)((()=>{const e=()=>p({});return document.addEventListener(Frt,e),()=>document.removeEventListener(Frt,e)}),[]),(0,n.createElement)(Drt.div,(0,ke.A)({},c,{ref:h,style:{pointerEvents:b?w?"auto":"none":void 0,...e.style},onFocusCapture:Srt(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Srt(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Srt(e.onPointerDownCapture,x.onPointerDownCapture)}))}));function Hrt(){const e=new CustomEvent(Frt);document.dispatchEvent(e)}function Wrt(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?function(e,t){e&&(0,Zr.flushSync)((()=>e.dispatchEvent(t)))}(o,i):o.dispatchEvent(i)}const qrt="focusScope.autoFocusOnMount",Grt="focusScope.autoFocusOnUnmount",Krt={bubbles:!1,cancelable:!0},Xrt=(0,n.forwardRef)(((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...s}=e,[l,c]=(0,n.useState)(null),u=Prt(i),d=Prt(a),f=(0,n.useRef)(null),p=Ert(t,(e=>c(e))),h=(0,n.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,n.useEffect)((()=>{if(o){function e(e){if(h.paused||!l)return;const t=e.target;l.contains(t)?f.current=t:Qrt(f.current,{select:!0})}function t(e){!h.paused&&l&&(l.contains(e.relatedTarget)||Qrt(f.current,{select:!0}))}return document.addEventListener("focusin",e),document.addEventListener("focusout",t),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t)}}}),[o,l,h.paused]),(0,n.useEffect)((()=>{if(l){eot.add(h);const t=document.activeElement;if(!l.contains(t)){const n=new CustomEvent(qrt,Krt);l.addEventListener(qrt,u),l.dispatchEvent(n),n.defaultPrevented||(!function(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qrt(r,{select:t}),document.activeElement!==n)return}((e=Yrt(l),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&Qrt(l))}return()=>{l.removeEventListener(qrt,u),setTimeout((()=>{const e=new CustomEvent(Grt,Krt);l.addEventListener(Grt,d),l.dispatchEvent(e),e.defaultPrevented||Qrt(null!=t?t:document.body,{select:!0}),l.removeEventListener(Grt,d),eot.remove(h)}),0)}}var e}),[l,u,d,h]);const m=(0,n.useCallback)((e=>{if(!r&&!o)return;if(h.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=Yrt(e),n=Zrt(t,e),r=Zrt(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&Qrt(i,{select:!0})):(e.preventDefault(),r&&Qrt(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,h.paused]);return(0,n.createElement)(Drt.div,(0,ke.A)({tabIndex:-1},s,{ref:p,onKeyDown:m}))}));function Yrt(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zrt(e,t){for(const n of e)if(!Jrt(n,{upTo:t}))return n}function Jrt(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Qrt(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}const eot=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=tot(e,t),e.unshift(t)},remove(t){var n;e=tot(e,t),null===(n=e[0])||void 0===n||n.resume()}}}();function tot(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const not=(0,n.forwardRef)(((e,t)=>{var r;const{container:o=(null===globalThis||void 0===globalThis||null===(r=globalThis.document)||void 0===r?void 0:r.body),...i}=e;return o?Zr.createPortal((0,n.createElement)(Drt.div,(0,ke.A)({},i,{ref:t})),o):null}));const rot=e=>{const{present:t,children:r}=e,o=function(e){const[t,r]=(0,n.useState)(),o=(0,n.useRef)({}),i=(0,n.useRef)(e),a=(0,n.useRef)("none"),s=e?"mounted":"unmounted",[l,c]=function(e,t){return(0,n.useReducer)(((e,n)=>{const r=t[e][n];return null!=r?r:e}),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,n.useEffect)((()=>{const e=oot(o.current);a.current="mounted"===l?e:"none"}),[l]),jrt((()=>{const t=o.current,n=i.current;if(n!==e){const r=a.current,o=oot(t);if(e)c("MOUNT");else if("none"===o||"none"===(null==t?void 0:t.display))c("UNMOUNT");else{c(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),jrt((()=>{if(t){const e=e=>{const n=oot(o.current).includes(e.animationName);e.target===t&&n&&(0,Zr.flushSync)((()=>c("ANIMATION_END")))},n=e=>{e.target===t&&(a.current=oot(o.current))};return t.addEventListener("animationstart",n),t.addEventListener("animationcancel",e),t.addEventListener("animationend",e),()=>{t.removeEventListener("animationstart",n),t.removeEventListener("animationcancel",e),t.removeEventListener("animationend",e)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:(0,n.useCallback)((e=>{e&&(o.current=getComputedStyle(e)),r(e)}),[])}}(t),i="function"==typeof r?r({present:o.isPresent}):n.Children.only(r),a=Ert(o.ref,i.ref);return"function"==typeof r||o.isPresent?(0,n.cloneElement)(i,{ref:a}):null};function oot(e){return(null==e?void 0:e.animationName)||"none"}rot.displayName="Presence";let iot=0;function aot(){(0,n.useEffect)((()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(e=n[0])&&void 0!==e?e:sot()),document.body.insertAdjacentElement("beforeend",null!==(t=n[1])&&void 0!==t?t:sot()),iot++,()=>{1===iot&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),iot--}}),[])}function sot(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var lot=Jg(),cot=function(){},uot=n.forwardRef((function(e,t){var r=n.useRef(null),o=n.useState({onScrollCapture:cot,onWheelCapture:cot,onTouchMoveCapture:cot}),i=o[0],a=o[1],s=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,h=e.noIsolation,m=e.inert,v=e.allowPinchZoom,g=e.as,y=void 0===g?"div":g,b=Ug(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=p,x=Xg([r,t]),S=$g($g({},b),i);return n.createElement(n.Fragment,null,d&&n.createElement(w,{sideCar:lot,removeScrollBar:u,shards:f,noIsolation:h,inert:m,setCallbacks:a,allowPinchZoom:!!v,lockRef:r}),s?n.cloneElement(n.Children.only(l),$g($g({},S),{ref:x})):n.createElement(y,$g({},S,{className:c,ref:x}),l))}));uot.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},uot.classNames={fullWidth:Wg,zeroRight:Hg};var dot=!1;if("undefined"!=typeof window)try{var fot=Object.defineProperty({},"passive",{get:function(){return dot=!0,!0}});window.addEventListener("test",fot,fot),window.removeEventListener("test",fot,fot)}catch(Wet){dot=!1}var pot=!!dot&&{passive:!1},hot=function(e,t){var n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),mot(e,n)){var r=vot(e,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},mot=function(e,t){return"v"===e?function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowY&&!(t.overflowY===t.overflowX&&"visible"===t.overflowY)}(t):function(e){var t=window.getComputedStyle(e);return"hidden"!==t.overflowX&&!(t.overflowY===t.overflowX&&"visible"===t.overflowX)}(t)},vot=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},got=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yot=function(e){return[e.deltaX,e.deltaY]},bot=function(e){return e&&"current"in e?e.current:e},wot=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},xot=0,Sot=[];const kot=oy(lot,(function(e){var t=n.useRef([]),r=n.useRef([0,0]),o=n.useRef(),i=n.useState(xot++)[0],a=n.useState((function(){return sy()}))[0],s=n.useRef(e);n.useEffect((function(){s.current=e}),[e]),n.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=Vg([e.lockRef.current],(e.shards||[]).map(bot),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=n.useCallback((function(e,t){if("touches"in e&&2===e.touches.length)return!s.current.allowPinchZoom;var n,i=got(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-i[0],c="deltaY"in e?e.deltaY:a[1]-i[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var f=hot(d,u);if(!f)return!0;if(f?n=d:(n="v"===d?"h":"v",f=hot(d,u)),!f)return!1;if(!o.current&&"changedTouches"in e&&(l||c)&&(o.current=n),!n)return!0;var p=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),a=i*r,s=n.target,l=t.contains(s),c=!1,u=a>0,d=0,f=0;do{var p=vot(e,s),h=p[0],m=p[1]-p[2]-i*h;(h||m)&&mot(e,s)&&(d+=m,f+=h),s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(u&&(o&&0===d||!o&&a>d)||!u&&(o&&0===f||!o&&-a>f))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=n.useCallback((function(e){var n=e;if(Sot.length&&Sot[Sot.length-1]===a){var r="deltaY"in n?yot(n):got(n),o=t.current.filter((function(e){return e.name===n.type&&e.target===n.target&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(o&&o.should)n.preventDefault();else if(!o){var i=(s.current.shards||[]).map(bot).filter(Boolean).filter((function(e){return e.contains(n.target)}));(i.length>0?l(n,i[0]):!s.current.noIsolation)&&n.preventDefault()}}}),[]),u=n.useCallback((function(e,n,r,o){var i={name:e,delta:n,target:r,should:o};t.current.push(i),setTimeout((function(){t.current=t.current.filter((function(e){return e!==i}))}),1)}),[]),d=n.useCallback((function(e){r.current=got(e),o.current=void 0}),[]),f=n.useCallback((function(t){u(t.type,yot(t),t.target,l(t,e.lockRef.current))}),[]),p=n.useCallback((function(t){u(t.type,got(t),t.target,l(t,e.lockRef.current))}),[]);n.useEffect((function(){return Sot.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,pot),document.addEventListener("touchmove",c,pot),document.addEventListener("touchstart",d,pot),function(){Sot=Sot.filter((function(e){return e!==a})),document.removeEventListener("wheel",c,pot),document.removeEventListener("touchmove",c,pot),document.removeEventListener("touchstart",d,pot)}}),[]);var h=e.removeScrollBar,m=e.inert;return n.createElement(n.Fragment,null,m?n.createElement(a,{styles:wot(i)}):null,h?n.createElement(my,{gapMode:"margin"}):null)}));var Eot=n.forwardRef((function(e,t){return n.createElement(uot,$g({},e,{ref:t,sideCar:kot}))}));Eot.classNames=uot.classNames;const Oot=Eot,jot="Dialog",[_ot,Cot]=function(e,t=[]){let r=[];const o=()=>{const t=r.map((e=>(0,n.createContext)(e)));return function(r){const o=(null==r?void 0:r[e])||t;return(0,n.useMemo)((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(t,o){const i=(0,n.createContext)(o),a=r.length;function s(t){const{scope:r,children:o,...s}=t,l=(null==r?void 0:r[e][a])||i,c=(0,n.useMemo)((()=>s),Object.values(s));return(0,n.createElement)(l.Provider,{value:c},o)}return r=[...r,o],s.displayName=t+"Provider",[s,function(r,s){const l=(null==s?void 0:s[e][a])||i,c=(0,n.useContext)(l);if(c)return c;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${t}\``)}]},Ort(o,...t)]}(jot),[Tot,Pot]=_ot(jot),Aot=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:i,onOpenChange:a,modal:s=!0}=e,l=(0,n.useRef)(null),c=(0,n.useRef)(null),[u=!1,d]=Art({prop:o,defaultProp:i,onChange:a});return(0,n.createElement)(Tot,{scope:t,triggerRef:l,contentRef:c,contentId:Trt(),titleId:Trt(),descriptionId:Trt(),open:u,onOpenChange:d,onOpenToggle:(0,n.useCallback)((()=>d((e=>!e))),[d]),modal:s},r)},Not="DialogPortal",[Mot,Iot]=_ot(Not,{forceMount:void 0}),Rot=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:i}=e,a=Pot(Not,t);return(0,n.createElement)(Mot,{scope:t,forceMount:r},n.Children.map(o,(e=>(0,n.createElement)(rot,{present:r||a.open},(0,n.createElement)(not,{asChild:!0,container:i},e)))))},Lot="DialogOverlay",Dot=(0,n.forwardRef)(((e,t)=>{const r=Iot(Lot,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=Pot(Lot,e.__scopeDialog);return a.modal?(0,n.createElement)(rot,{present:o||a.open},(0,n.createElement)(Fot,(0,ke.A)({},i,{ref:t}))):null})),Fot=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,...o}=e,i=Pot(Lot,r);return(0,n.createElement)(Oot,{as:Nrt,allowPinchZoom:!0,shards:[i.contentRef]},(0,n.createElement)(Drt.div,(0,ke.A)({"data-state":Wot(i.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))})),zot="DialogContent",Bot=(0,n.forwardRef)(((e,t)=>{const r=Iot(zot,e.__scopeDialog),{forceMount:o=r.forceMount,...i}=e,a=Pot(zot,e.__scopeDialog);return(0,n.createElement)(rot,{present:o||a.open},a.modal?(0,n.createElement)($ot,(0,ke.A)({},i,{ref:t})):(0,n.createElement)(Uot,(0,ke.A)({},i,{ref:t})))})),$ot=(0,n.forwardRef)(((e,t)=>{const r=Pot(zot,e.__scopeDialog),o=(0,n.useRef)(null),i=Ert(t,r.contentRef,o);return(0,n.useEffect)((()=>{const e=o.current;if(e)return Bg(e)}),[]),(0,n.createElement)(Vot,(0,ke.A)({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Srt(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()})),onPointerDownOutside:Srt(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:Srt(e.onFocusOutside,(e=>e.preventDefault()))}))})),Uot=(0,n.forwardRef)(((e,t)=>{const r=Pot(zot,e.__scopeDialog),o=(0,n.useRef)(!1);return(0,n.createElement)(Vot,(0,ke.A)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;(null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented)||(o.current||null===(i=r.triggerRef.current)||void 0===i||i.focus(),t.preventDefault());o.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(o.current=!0);const a=t.target;(null===(i=r.triggerRef.current)||void 0===i?void 0:i.contains(a))&&t.preventDefault()}}))})),Vot=(0,n.forwardRef)(((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:i,onCloseAutoFocus:a,...s}=e,l=Pot(zot,r),c=Ert(t,(0,n.useRef)(null));return aot(),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(Xrt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,n.createElement)(Vrt,(0,ke.A)({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Wot(l.open)},s,{ref:c,onDismiss:()=>l.onOpenChange(!1)}))),!1)})),Hot="DialogTitle";function Wot(e){return e?"open":"closed"}const qot="DialogTitleWarning",[Got,Kot]=function(e,t){const r=(0,n.createContext)(t);function o(e){const{children:t,...o}=e,i=(0,n.useMemo)((()=>o),Object.values(o));return(0,n.createElement)(r.Provider,{value:i},t)}return o.displayName=e+"Provider",[o,function(o){const i=(0,n.useContext)(r);if(i)return i;if(void 0!==t)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}]}(qot,{contentName:zot,titleName:Hot,docsSlug:"dialog"}),Xot=Aot,Yot=Rot,Zot=Dot,Jot=Bot;var Qot='[cmdk-group=""]',eit='[cmdk-group-items=""]',tit='[cmdk-item=""]',nit=`${tit}:not([aria-disabled="true"])`,rit="cmdk-item-select",oit="data-value",iit=(e,t)=>xrt(e,t),ait=n.createContext(void 0),sit=()=>n.useContext(ait),lit=n.createContext(void 0),cit=()=>n.useContext(lit),uit=n.createContext(void 0),dit=n.forwardRef(((e,t)=>{let r=n.useRef(null),o=Oit((()=>{var t,n,r;return{search:"",value:null!=(r=null!=(n=e.value)?n:null==(t=e.defaultValue)?void 0:t.toLowerCase())?r:"",filtered:{count:0,items:new Map,groups:new Set}}})),i=Oit((()=>new Set)),a=Oit((()=>new Map)),s=Oit((()=>new Map)),l=Oit((()=>new Set)),c=kit(e),{label:u,children:d,value:f,onValueChange:p,filter:h,shouldFilter:m,vimBindings:v=!0,...g}=e,y=n.useId(),b=n.useId(),w=n.useId(),x=Tit();Eit((()=>{if(void 0!==f){let e=f.trim().toLowerCase();o.current.value=e,x(6,C),S.emit()}}),[f]);let S=n.useMemo((()=>({subscribe:e=>(l.current.add(e),()=>l.current.delete(e)),snapshot:()=>o.current,setState:(e,t,n)=>{var r,i,a;if(!Object.is(o.current[e],t)){if(o.current[e]=t,"search"===e)_(),O(),x(1,j);else if("value"===e){if(void 0!==(null==(r=c.current)?void 0:r.value)){let e=null!=t?t:"";return void(null==(a=(i=c.current).onValueChange)||a.call(i,e))}n||x(5,C)}S.emit()}},emit:()=>{l.current.forEach((e=>e()))}})),[]),k=n.useMemo((()=>({value:(e,t)=>{t!==s.current.get(e)&&(s.current.set(e,t),o.current.filtered.items.set(e,E(t)),x(2,(()=>{O(),S.emit()})))},item:(e,t)=>(i.current.add(e),t&&(a.current.has(t)?a.current.get(t).add(e):a.current.set(t,new Set([e]))),x(3,(()=>{_(),O(),o.current.value||j(),S.emit()})),()=>{s.current.delete(e),i.current.delete(e),o.current.filtered.items.delete(e);let t=T();x(4,(()=>{_(),(null==t?void 0:t.getAttribute("id"))===e&&j(),S.emit()}))}),group:e=>(a.current.has(e)||a.current.set(e,new Set),()=>{s.current.delete(e),a.current.delete(e)}),filter:()=>c.current.shouldFilter,label:u||e["aria-label"],commandRef:r,listId:y,inputId:w,labelId:b})),[]);function E(e){var t,n;let r=null!=(n=null==(t=c.current)?void 0:t.filter)?n:iit;return e?r(e,o.current.search):0}function O(){if(!r.current||!o.current.search||!1===c.current.shouldFilter)return;let e=o.current.filtered.items,t=[];o.current.filtered.groups.forEach((n=>{let r=a.current.get(n),o=0;r.forEach((t=>{let n=e.get(t);o=Math.max(n,o)})),t.push([n,o])}));let n=r.current.querySelector('[cmdk-list-sizer=""]');P().sort(((t,n)=>{var r,o;let i=t.getAttribute(oit),a=n.getAttribute(oit);return(null!=(r=e.get(a))?r:0)-(null!=(o=e.get(i))?o:0)})).forEach((e=>{let t=e.closest(eit);t?t.appendChild(e.parentElement===t?e:e.closest(`${eit} > *`)):n.appendChild(e.parentElement===n?e:e.closest(`${eit} > *`))})),t.sort(((e,t)=>t[1]-e[1])).forEach((e=>{let t=r.current.querySelector(`${Qot}[${oit}="${e[0]}"]`);null==t||t.parentElement.appendChild(t)}))}function j(){let e=P().find((e=>!e.ariaDisabled)),t=null==e?void 0:e.getAttribute(oit);S.setState("value",t||void 0)}function _(){if(!o.current.search||!1===c.current.shouldFilter)return void(o.current.filtered.count=i.current.size);o.current.filtered.groups=new Set;let e=0;for(let t of i.current){let n=E(s.current.get(t));o.current.filtered.items.set(t,n),n>0&&e++}for(let[e,t]of a.current)for(let n of t)if(o.current.filtered.items.get(n)>0){o.current.filtered.groups.add(e);break}o.current.filtered.count=e}function C(){var e,t,n;let r=T();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(Qot))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function T(){var e;return null==(e=r.current)?void 0:e.querySelector(`${tit}[aria-selected="true"]`)}function P(){return Array.from(r.current.querySelectorAll(nit))}function A(e){let t=P()[e];t&&S.setState("value",t.getAttribute(oit))}function N(e){var t;let n=T(),r=P(),o=r.findIndex((e=>e===n)),i=r[o+e];null!=(t=c.current)&&t.loop&&(i=o+e<0?r[r.length-1]:o+e===r.length?r[0]:r[o+e]),i&&S.setState("value",i.getAttribute(oit))}function M(e){let t,n=T(),r=null==n?void 0:n.closest(Qot);for(;r&&!t;)r=e>0?xit(r,Qot):Sit(r,Qot),t=null==r?void 0:r.querySelector(nit);t?S.setState("value",t.getAttribute(oit)):N(e)}let I=()=>A(P().length-1),R=e=>{e.preventDefault(),e.metaKey?I():e.altKey?M(1):N(1)},L=e=>{e.preventDefault(),e.metaKey?A(0):e.altKey?M(-1):N(-1)};return n.createElement("div",{ref:jit([r,t]),...g,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=g.onKeyDown)||t.call(g,e),!e.defaultPrevented)switch(e.key){case"n":case"j":v&&e.ctrlKey&&R(e);break;case"ArrowDown":R(e);break;case"p":case"k":v&&e.ctrlKey&&L(e);break;case"ArrowUp":L(e);break;case"Home":e.preventDefault(),A(0);break;case"End":e.preventDefault(),I();break;case"Enter":if(!e.nativeEvent.isComposing){e.preventDefault();let t=T();if(t){let e=new Event(rit);t.dispatchEvent(e)}}}}},n.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:Pit},u),n.createElement(lit.Provider,{value:S},n.createElement(ait.Provider,{value:k},d)))})),fit=n.forwardRef(((e,t)=>{var r,o;let i=n.useId(),a=n.useRef(null),s=n.useContext(uit),l=sit(),c=kit(e),u=null!=(o=null==(r=c.current)?void 0:r.forceMount)?o:null==s?void 0:s.forceMount;Eit((()=>l.item(i,null==s?void 0:s.id)),[]);let d=Cit(i,a,[e.value,e.children,a]),f=cit(),p=_it((e=>e.value&&e.value===d.current)),h=_it((e=>!(!u&&!1!==l.filter())||(!e.search||e.filtered.items.get(i)>0)));function m(){var e,t;v(),null==(t=(e=c.current).onSelect)||t.call(e,d.current)}function v(){f.setState("value",d.current,!0)}if(n.useEffect((()=>{let t=a.current;if(t&&!e.disabled)return t.addEventListener(rit,m),()=>t.removeEventListener(rit,m)}),[h,e.onSelect,e.disabled]),!h)return null;let{disabled:g,value:y,onSelect:b,forceMount:w,...x}=e;return n.createElement("div",{ref:jit([a,t]),...x,id:i,"cmdk-item":"",role:"option","aria-disabled":g||void 0,"aria-selected":p||void 0,"data-disabled":g||void 0,"data-selected":p||void 0,onPointerMove:g?void 0:v,onClick:g?void 0:m},e.children)})),pit=n.forwardRef(((e,t)=>{let{heading:r,children:o,forceMount:i,...a}=e,s=n.useId(),l=n.useRef(null),c=n.useRef(null),u=n.useId(),d=sit(),f=_it((e=>!(!i&&!1!==d.filter())||(!e.search||e.filtered.groups.has(s))));Eit((()=>d.group(s)),[]),Cit(s,l,[e.value,e.heading,c]);let p=n.useMemo((()=>({id:s,forceMount:i})),[i]),h=n.createElement(uit.Provider,{value:p},o);return n.createElement("div",{ref:jit([l,t]),...a,"cmdk-group":"",role:"presentation",hidden:!f||void 0},r&&n.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),n.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},h))})),hit=n.forwardRef(((e,t)=>{let{alwaysRender:r,...o}=e,i=n.useRef(null),a=_it((e=>!e.search));return r||a?n.createElement("div",{ref:jit([i,t]),...o,"cmdk-separator":"",role:"separator"}):null})),mit=n.forwardRef(((e,t)=>{let{onValueChange:r,...o}=e,i=null!=e.value,a=cit(),s=_it((e=>e.search)),l=_it((e=>e.value)),c=sit(),u=n.useMemo((()=>{var e;let t=null==(e=c.commandRef.current)?void 0:e.querySelector(`${tit}[${oit}="${l}"]`);return null==t?void 0:t.getAttribute("id")}),[l,c.commandRef]);return n.useEffect((()=>{null!=e.value&&a.setState("search",e.value)}),[e.value]),n.createElement("input",{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:i?e.value:s,onChange:e=>{i||a.setState("search",e.target.value),null==r||r(e.target.value)}})})),vit=n.forwardRef(((e,t)=>{let{children:r,...o}=e,i=n.useRef(null),a=n.useRef(null),s=sit();return n.useEffect((()=>{if(a.current&&i.current){let e,t=a.current,n=i.current,r=new ResizeObserver((()=>{e=requestAnimationFrame((()=>{let e=t.offsetHeight;n.style.setProperty("--cmdk-list-height",e.toFixed(1)+"px")}))}));return r.observe(t),()=>{cancelAnimationFrame(e),r.unobserve(t)}}}),[]),n.createElement("div",{ref:jit([i,t]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},n.createElement("div",{ref:a,"cmdk-list-sizer":""},r))})),git=n.forwardRef(((e,t)=>{let{open:r,onOpenChange:o,overlayClassName:i,contentClassName:a,container:s,...l}=e;return n.createElement(Xot,{open:r,onOpenChange:o},n.createElement(Yot,{container:s},n.createElement(Zot,{"cmdk-overlay":"",className:i}),n.createElement(Jot,{"aria-label":e.label,"cmdk-dialog":"",className:a},n.createElement(dit,{ref:t,...l}))))})),yit=n.forwardRef(((e,t)=>{let r=n.useRef(!0),o=_it((e=>0===e.filtered.count));return n.useEffect((()=>{r.current=!1}),[]),r.current||!o?null:n.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})})),bit=n.forwardRef(((e,t)=>{let{progress:r,children:o,...i}=e;return n.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},n.createElement("div",{"aria-hidden":!0},o))})),wit=Object.assign(dit,{List:vit,Item:fit,Input:mit,Group:pit,Separator:hit,Dialog:git,Empty:yit,Loading:bit});function xit(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Sit(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function kit(e){let t=n.useRef(e);return Eit((()=>{t.current=e})),t}var Eit="undefined"==typeof window?n.useEffect:n.useLayoutEffect;function Oit(e){let t=n.useRef();return void 0===t.current&&(t.current=e()),t}function jit(e){return t=>{e.forEach((e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)}))}}function _it(e){let t=cit(),r=()=>e(t.snapshot());return n.useSyncExternalStore(t.subscribe,r,r)}function Cit(e,t,r){let o=n.useRef(),i=sit();return Eit((()=>{var n;let a=(()=>{var e;for(let t of r){if("string"==typeof t)return t.trim().toLowerCase();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim().toLowerCase():o.current}})();i.value(e,a),null==(n=t.current)||n.setAttribute(oit,a),o.current=a})),o}var Tit=()=>{let[e,t]=n.useState(),r=Oit((()=>new Map));return Eit((()=>{r.current.forEach((e=>e())),r.current=new Map}),[e]),(e,n)=>{r.current.set(e,n),t({})}},Pit={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};
/**
 * @license lucide-react v0.451.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
const Ait=Gw("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function Nit(e){return Nit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nit(e)}var Mit=["className"],Iit=["className"],Rit=["className"],Lit=["className"],Dit=["className"],Fit=["className"];function zit(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bit(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zit(Object(n),!0).forEach((function(t){$it(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zit(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $it(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Nit(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nit(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Nit(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uit(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Vit=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Mit);return(0,Ut.jsx)(wit,Bit({ref:t,className:vr("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n)},r))}));Vit.displayName=wit.displayName;var Hit=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Iit);return(0,Ut.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,Ut.jsx)(Ait,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,Ut.jsx)(wit.Input,Bit({ref:t,className:vr("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n)},r))]})}));Hit.displayName=wit.Input.displayName;var Wit=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Rit);return(0,Ut.jsx)(wit.List,Bit({ref:t,className:vr("max-h-[300px] overflow-y-auto overflow-x-hidden",n)},r))}));Wit.displayName=wit.List.displayName,n.forwardRef((function(e,t){return(0,Ut.jsx)(wit.Empty,Bit({ref:t,className:"py-6 text-center text-sm"},e))})).displayName=wit.Empty.displayName;var qit=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Lit);return(0,Ut.jsx)(wit.Group,Bit({ref:t,className:vr("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n)},r))}));qit.displayName=wit.Group.displayName;var Git=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Dit);return(0,Ut.jsx)(wit.Separator,Bit({ref:t,className:vr("-mx-1 h-px bg-border",n)},r))}));Git.displayName=wit.Separator.displayName;var Kit=n.forwardRef((function(e,t){var n=e.className,r=Uit(e,Fit);return(0,Ut.jsx)(wit.Item,Bit({ref:t,className:vr("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",n)},r))}));Kit.displayName=wit.Item.displayName;const Xit=n.forwardRef((function({title:e,titleId:t,...r},o){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}));var Yit=function(e){var t=khe[e];return null!=t?t:e};function Zit(e){return Zit="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zit(e)}var Jit=["lang"];function Qit(){Qit=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:j(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",v={};function g(){}function y(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,S=x&&x(x(A([])));S&&S!==n&&r.call(S,a)&&(w=S);var k=b.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,s){var l=d(e[o],e,i);if("throw"!==l.type){var c=l.arg,u=c.value;return u&&"object"==Zit(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function j(t,n,r){var o=f;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var l=_(s,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=d(t,n,r);if("normal"===c.type){if(o=r.done?m:p,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function _(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,_(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Zit(t)+" is not iterable")}return y.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),c(k,l,"Generator"),c(k,a,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:A(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function eat(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function tat(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function nat(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,s=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return rat(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rat(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rat(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function oat(e){var t=e.provider,r=void 0===t?h8e:t,o=nat((0,n.useState)(!1),2),i=o[0],a=o[1],s=nat((0,n.useState)(""),2),l=s[0],c=s[1],u=r.getEntityId(),d=r.getCurrentLanguage(),f=r.getSupportedLanguages(),p=r.getMainLanguage(),h=r.useAugmentedTheme(),m=h.buttonColor,v=h.buttonText,g={push:function(e){console.log("[Mock Router] Navigate to:",e),"undefined"!=typeof window&&(window.location.hash=e)},replace:function(e){console.log("[Mock Router] Replace with:",e),"undefined"!=typeof window&&window.location.replace(window.location.pathname+window.location.search+"#"+e)},back:function(){console.log("[Mock Router] Go back"),"undefined"!=typeof window&&window.history.length>1&&window.history.back()},reload:function(){console.log("[Mock Router] Reload"),"undefined"!=typeof window&&window.location.reload()},pathname:"/",query:{},asPath:"/",route:"/",isReady:!0,events:{on:function(){},off:function(){},emit:function(){}}},y=g.asPath.includes("preview"),b=f.map((function(e){return{value:e,label:Yit(e)}})),w=b.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),x=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tat(i,r,o,a,s,"next",e)}function s(e){tat(i,r,o,a,s,"throw",e)}a(void 0)}))}}(Qit().mark((function e(t){var n,o,i;return Qit().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p===t&&void 0,n=be.getState().launchType,"static"===n||"website"===n||(o=g.query||{},o.lang,i=eat(o,Jit),p!==t&&(i.lang=t),g.replace({pathname:g.pathname,query:i},void 0,{shallow:!0})),e.next=7,r.reloadLanguage(u,t,y);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 1===w.length?null:(0,Ut.jsxs)(dF,{open:i,onOpenChange:a,children:[(0,Ut.jsxs)(MV,{children:[(0,Ut.jsx)(IV,{asChild:!0,children:(0,Ut.jsx)(fF,{asChild:!0,children:(0,Ut.jsxs)(Fr,{variant:"blend",className:"h-9","aria-label":ZK("Change Language"),children:[(0,Ut.jsx)(Xit,{className:"h-5 w-5"}),(0,Ut.jsx)(e8,{style:{backgroundColor:m,color:v},children:d})]})})}),(0,Ut.jsx)(RV,{children:(0,Ut.jsx)("p",{children:ZK("Change Language")})})]}),(0,Ut.jsx)(pF,{className:"w-[200px] p-0",children:(0,Ut.jsx)(Vit,{children:(0,Ut.jsx)(qit,{children:w.map((function(e){return(0,Ut.jsxs)(Kit,{onSelect:function(t){c(t===l?"":t),a(!1),x(e.value)},children:[(0,Ut.jsx)($Te,{className:vr("mr-2 h-4 w-4",d===e.value?"opacity-100":"opacity-0")}),e.label]},e.value)}))})})})]})}function iat(){var e,t=be((function(e){return e.lessonContent})),r=be((function(e){return e.loading})),o=be((function(e){return e.lessonId})),i=bn()&&U8e.Fr&&"horizontal"===(null==t?void 0:t.settings.viewingMode),a=null===(e=window)||void 0===e?void 0:e.scorm_type;return(0,n.useEffect)((function(){a?rrt():ort()}),[]),!t||r?(0,Ut.jsx)(Ut.Fragment,{children:(0,Ut.jsx)(zr,{})}):(0,Ut.jsx)(Ut.Fragment,{children:i?(0,Ut.jsx)(prt,{lessonId:o,preview:!1,ViewerLanguageSwitcher:function(){return(0,Ut.jsx)(oat,{provider:m8e})}}):(0,Ut.jsx)(S9e,{lessonId:o,preview:!1,ViewerLanguageSwitcher:function(){return(0,Ut.jsx)(oat,{provider:m8e})}})})}var aat="#171717";const sat=St({palette:{primary:{main:aat,light:"#eee6ff",dark:"#3d005b"}},typography:{fontFamily:"Open Sans",button:{textTransform:"none"}},components:{MuiButton:{defaultProps:{disableElevation:!0,disableRipple:!0}}},zIndex:{snackbar:2e3}});var lat=o(8750);const cat=n.createContext(null);function uat(){return n.useContext(cat)}const dat="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const fat=function(e){const{children:t,theme:r}=e,o=uat(),i=n.useMemo((()=>{const e=null===o?r:function(e,t){if("function"==typeof t)return t(e);return(0,ke.A)({},e,t)}(o,r);return null!=e&&(e[dat]=null!==o),e}),[r,o]);return(0,Ut.jsx)(cat.Provider,{value:i,children:t})},pat={};function hat(e,t,r,o=!1){return n.useMemo((()=>{const n=e&&t[e]||t;if("function"==typeof r){const i=r(n),a=e?(0,ke.A)({},t,{[e]:i}):i;return o?()=>a:a}return e?(0,ke.A)({},t,{[e]:r}):(0,ke.A)({},t,r)}),[e,t,r,o])}const mat=function(e){const{children:t,theme:n,themeId:r}=e,o=At(pat),i=uat()||pat,a=hat(r,o,n),s=hat(r,i,n,!0),l="rtl"===a.direction;return(0,Ut.jsx)(fat,{theme:s,children:(0,Ut.jsx)(Pt.T.Provider,{value:a,children:(0,Ut.jsx)(n_e,{value:l,children:t})})})},vat=["theme"];function gat(e){let{theme:t}=e,n=(0,Se.A)(e,vat);const r=t[Et];return(0,Ut.jsx)(mat,(0,ke.A)({},n,{themeId:r?Et:void 0,theme:r||t}))}var yat=o(9940);const bat=function({styles:e,themeId:t,defaultTheme:n={}}){const r=Mt(n),o="function"==typeof e?e(t&&r[t]||r):e;return(0,Ut.jsx)(yat.A,{styles:o})};const wat=function(e){return(0,Ut.jsx)(bat,(0,ke.A)({},e,{defaultTheme:kt,themeId:Et}))},xat=(e,t)=>(0,ke.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Sat=e=>(0,ke.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const kat=function(e){const t=It({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=t;return(0,Ut.jsxs)(n.Fragment,{children:[(0,Ut.jsx)(wat,{styles:e=>((e,t=!1)=>{var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((([t,n])=>{var o;r[e.getColorSchemeSelector(t).replace(/\s*&/,"")]={colorScheme:null==(o=n.palette)?void 0:o.mode}}));let o=(0,ke.A)({html:xat(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,ke.A)({margin:0},Sat(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const i=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(o=[o,i]),o})(e,o)}),r]})};(0,i.H)(document.getElementById("root")).render((0,Ut.jsx)(n.StrictMode,{children:(0,Ut.jsx)(NV,{children:(0,Ut.jsx)(lat.A,{injectFirst:!0,children:(0,Ut.jsxs)(gat,{theme:sat,children:[(0,Ut.jsx)(kat,{}),(0,Ut.jsx)(R4,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,maxSnack:3,children:(0,Ut.jsx)(iat,{})})]})})})}))})()})();